var XQ=Object.defineProperty;var cI=t=>{throw TypeError(t)};var QQ=(t,e,n)=>e in t?XQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var De=(t,e,n)=>QQ(t,typeof e!="symbol"?e+"":e,n),A_=(t,e,n)=>e.has(t)||cI("Cannot "+n);var Z=(t,e,n)=>(A_(t,e,"read from private field"),n?n.call(t):e.get(t)),rt=(t,e,n)=>e.has(t)?cI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Pe=(t,e,n,r)=>(A_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),fr=(t,e,n)=>(A_(t,e,"access private method"),n);var F0=(t,e,n,r)=>({set _(i){Pe(t,e,i,n)},get _(){return Z(t,e,r)}});function ZQ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function la(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pF={exports:{}},Zb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JQ=Symbol.for("react.transitional.element"),eZ=Symbol.for("react.fragment");function gF(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:JQ,type:t,key:r,ref:e!==void 0?e:null,props:n}}Zb.Fragment=eZ;Zb.jsx=gF;Zb.jsxs=gF;pF.exports=Zb;var c=pF.exports,yF={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2=Symbol.for("react.transitional.element"),tZ=Symbol.for("react.portal"),nZ=Symbol.for("react.fragment"),rZ=Symbol.for("react.strict_mode"),iZ=Symbol.for("react.profiler"),sZ=Symbol.for("react.consumer"),aZ=Symbol.for("react.context"),oZ=Symbol.for("react.forward_ref"),lZ=Symbol.for("react.suspense"),cZ=Symbol.for("react.memo"),vF=Symbol.for("react.lazy"),uI=Symbol.iterator;function uZ(t){return t===null||typeof t!="object"?null:(t=uI&&t[uI]||t["@@iterator"],typeof t=="function"?t:null)}var xF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bF=Object.assign,wF={};function Nh(t,e,n){this.props=t,this.context=e,this.refs=wF,this.updater=n||xF}Nh.prototype.isReactComponent={};Nh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _F(){}_F.prototype=Nh.prototype;function i2(t,e,n){this.props=t,this.context=e,this.refs=wF,this.updater=n||xF}var s2=i2.prototype=new _F;s2.constructor=i2;bF(s2,Nh.prototype);s2.isPureReactComponent=!0;var dI=Array.isArray,Kt={H:null,A:null,T:null,S:null,V:null},SF=Object.prototype.hasOwnProperty;function a2(t,e,n,r,i,s){return n=s.ref,{$$typeof:r2,type:t,key:e,ref:n!==void 0?n:null,props:s}}function dZ(t,e){return a2(t.type,e,void 0,void 0,void 0,t.props)}function o2(t){return typeof t=="object"&&t!==null&&t.$$typeof===r2}function hZ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hI=/\/+/g;function j_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hZ(""+t.key):e.toString(36)}function fI(){}function fZ(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(fI,fI):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Hu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case r2:case tZ:a=!0;break;case vF:return a=t._init,Hu(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+j_(t,0):r,dI(i)?(n="",a!=null&&(n=a.replace(hI,"$&/")+"/"),Hu(i,e,n,"",function(u){return u})):i!=null&&(o2(i)&&(i=dZ(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(hI,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(dI(t))for(var l=0;l<t.length;l++)r=t[l],s=o+j_(r,l),a+=Hu(r,e,n,s,i);else if(l=uZ(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,s=o+j_(r,l++),a+=Hu(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Hu(fZ(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function B0(t,e,n){if(t==null)return t;var r=[],i=0;return Hu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mZ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mI=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pZ(){}Fe.Children={map:B0,forEach:function(t,e,n){B0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return B0(t,function(){e++}),e},toArray:function(t){return B0(t,function(e){return e})||[]},only:function(t){if(!o2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Nh;Fe.Fragment=nZ;Fe.Profiler=iZ;Fe.PureComponent=i2;Fe.StrictMode=rZ;Fe.Suspense=lZ;Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Kt;Fe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Kt.H.useMemoCache(t)}};Fe.cache=function(t){return function(){return t.apply(null,arguments)}};Fe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=bF({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!SF.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}return a2(t.type,i,void 0,void 0,s,r)};Fe.createContext=function(t){return t={$$typeof:aZ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:sZ,_context:t},t};Fe.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)SF.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return a2(t,s,void 0,void 0,null,i)};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:oZ,render:t}};Fe.isValidElement=o2;Fe.lazy=function(t){return{$$typeof:vF,_payload:{_status:-1,_result:t},_init:mZ}};Fe.memo=function(t,e){return{$$typeof:cZ,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=Kt.T,n={};Kt.T=n;try{var r=t(),i=Kt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(pZ,mI)}catch(s){mI(s)}finally{Kt.T=e}};Fe.unstable_useCacheRefresh=function(){return Kt.H.useCacheRefresh()};Fe.use=function(t){return Kt.H.use(t)};Fe.useActionState=function(t,e,n){return Kt.H.useActionState(t,e,n)};Fe.useCallback=function(t,e){return Kt.H.useCallback(t,e)};Fe.useContext=function(t){return Kt.H.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t,e){return Kt.H.useDeferredValue(t,e)};Fe.useEffect=function(t,e,n){var r=Kt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};Fe.useId=function(){return Kt.H.useId()};Fe.useImperativeHandle=function(t,e,n){return Kt.H.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Kt.H.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Kt.H.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Kt.H.useMemo(t,e)};Fe.useOptimistic=function(t,e){return Kt.H.useOptimistic(t,e)};Fe.useReducer=function(t,e,n){return Kt.H.useReducer(t,e,n)};Fe.useRef=function(t){return Kt.H.useRef(t)};Fe.useState=function(t){return Kt.H.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Kt.H.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Kt.H.useTransition()};Fe.version="19.1.1";yF.exports=Fe;var x=yF.exports;const ag=la(x),gZ=ZQ({__proto__:null,default:ag},[x]);var EF={exports:{}},Jb={},kF={exports:{}},AF={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var D=V.length;V.push(B);e:for(;0<D;){var U=D-1>>>1,H=V[U];if(0<i(H,B))V[U]=B,V[D]=H,D=U;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],D=V.pop();if(D!==B){V[0]=D;e:for(var U=0,H=V.length,X=H>>>1;U<X;){var z=2*(U+1)-1,Q=V[z],re=z+1,ue=V[re];if(0>i(Q,D))re<H&&0>i(ue,Q)?(V[U]=ue,V[re]=D,U=re):(V[U]=Q,V[z]=D,U=z);else if(re<H&&0>i(ue,D))V[U]=ue,V[re]=D,U=re;else break e}}return B}function i(V,B){var D=V.sortIndex-B.sortIndex;return D!==0?D:V.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,m=!1,p=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function j(V){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=V)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function E(V){if(y=!1,j(V),!p)if(n(l)!==null)p=!0,I||(I=!0,A());else{var B=n(u);B!==null&&M(E,B.startTime-V)}}var I=!1,k=-1,S=5,P=-1;function O(){return v?!0:!(t.unstable_now()-P<S)}function N(){if(v=!1,I){var V=t.unstable_now();P=V;var B=!0;try{e:{p=!1,y&&(y=!1,w(k),k=-1),m=!0;var D=f;try{t:{for(j(V),h=n(l);h!==null&&!(h.expirationTime>V&&O());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var H=U(h.expirationTime<=V);if(V=t.unstable_now(),typeof H=="function"){h.callback=H,j(V),B=!0;break t}h===n(l)&&r(l),j(V)}else r(l);h=n(l)}if(h!==null)B=!0;else{var X=n(u);X!==null&&M(E,X.startTime-V),B=!1}}break e}finally{h=null,f=D,m=!1}B=void 0}}finally{B?A():I=!1}}}var A;if(typeof _=="function")A=function(){_(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,F=C.port2;C.port1.onmessage=N,A=function(){F.postMessage(null)}}else A=function(){b(N,0)};function M(V,B){k=b(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var D=f;f=B;try{return V()}finally{f=D}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var D=f;f=V;try{return B()}finally{f=D}},t.unstable_scheduleCallback=function(V,B,D){var U=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=D+H,V={id:d++,callback:B,priorityLevel:V,startTime:D,expirationTime:H,sortIndex:-1},D>U?(V.sortIndex=D,e(u,V),n(l)===null&&V===n(u)&&(y?(w(k),k=-1):y=!0,M(E,D-U))):(V.sortIndex=H,e(l,V),p||m||(p=!0,I||(I=!0,A()))),V},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(V){var B=f;return function(){var D=f;f=B;try{return V.apply(this,arguments)}finally{f=D}}}})(AF);kF.exports=AF;var yZ=kF.exports,jF={exports:{}},Vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vZ=x;function TF(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wo(){}var Mr={d:{f:wo,r:function(){throw Error(TF(522))},D:wo,C:wo,L:wo,m:wo,X:wo,S:wo,M:wo},p:0,findDOMNode:null},xZ=Symbol.for("react.portal");function bZ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xZ,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var vm=vZ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ew(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Mr;Vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(TF(299));return bZ(t,e,null,n)};Vr.flushSync=function(t){var e=vm.T,n=Mr.p;try{if(vm.T=null,Mr.p=2,t)return t()}finally{vm.T=e,Mr.p=n,Mr.d.f()}};Vr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Mr.d.C(t,e))};Vr.prefetchDNS=function(t){typeof t=="string"&&Mr.d.D(t)};Vr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=ew(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Mr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Mr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Vr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ew(e.as,e.crossOrigin);Mr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Mr.d.M(t)};Vr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=ew(n,e.crossOrigin);Mr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Vr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ew(e.as,e.crossOrigin);Mr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Mr.d.m(t)};Vr.requestFormReset=function(t){Mr.d.r(t)};Vr.unstable_batchedUpdates=function(t,e){return t(e)};Vr.useFormState=function(t,e,n){return vm.H.useFormState(t,e,n)};Vr.useFormStatus=function(){return vm.H.useHostTransitionStatus()};Vr.version="19.1.1";function NF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NF)}catch(t){console.error(t)}}NF(),jF.exports=Vr;var CF=jF.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln=yZ,PF=x,wZ=CF;function ie(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function OF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function og(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pI(t){if(og(t)!==t)throw Error(ie(188))}function _Z(t){var e=t.alternate;if(!e){if(e=og(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pI(i),t;if(s===r)return pI(i),e;s=s.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function RF(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=RF(t),e!==null)return e;t=t.sibling}return null}var $t=Object.assign,SZ=Symbol.for("react.element"),U0=Symbol.for("react.transitional.element"),tm=Symbol.for("react.portal"),Ju=Symbol.for("react.fragment"),MF=Symbol.for("react.strict_mode"),VE=Symbol.for("react.profiler"),EZ=Symbol.for("react.provider"),DF=Symbol.for("react.consumer"),ja=Symbol.for("react.context"),l2=Symbol.for("react.forward_ref"),FE=Symbol.for("react.suspense"),BE=Symbol.for("react.suspense_list"),c2=Symbol.for("react.memo"),Po=Symbol.for("react.lazy"),UE=Symbol.for("react.activity"),kZ=Symbol.for("react.memo_cache_sentinel"),gI=Symbol.iterator;function Ef(t){return t===null||typeof t!="object"?null:(t=gI&&t[gI]||t["@@iterator"],typeof t=="function"?t:null)}var AZ=Symbol.for("react.client.reference");function zE(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===AZ?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ju:return"Fragment";case VE:return"Profiler";case MF:return"StrictMode";case FE:return"Suspense";case BE:return"SuspenseList";case UE:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tm:return"Portal";case ja:return(t.displayName||"Context")+".Provider";case DF:return(t._context.displayName||"Context")+".Consumer";case l2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c2:return e=t.displayName||null,e!==null?e:zE(t.type)||"Memo";case Po:e=t._payload,t=t._init;try{return zE(t(e))}catch{}}return null}var nm=Array.isArray,Ne=PF.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt=wZ.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mc={pending:!1,data:null,method:null,action:null},$E=[],ed=-1;function ca(t){return{current:t}}function Yn(t){0>ed||(t.current=$E[ed],$E[ed]=null,ed--)}function Gt(t,e){ed++,$E[ed]=t.current,t.current=e}var Hs=ca(null),rp=ca(null),il=ca(null),Dv=ca(null);function Lv(t,e){switch(Gt(il,e),Gt(rp,t),Gt(Hs,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?wR(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=wR(e),t=J7(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Yn(Hs),Gt(Hs,t)}function Wd(){Yn(Hs),Yn(rp),Yn(il)}function HE(t){t.memoizedState!==null&&Gt(Dv,t);var e=Hs.current,n=J7(e,t.type);e!==n&&(Gt(rp,t),Gt(Hs,n))}function Vv(t){rp.current===t&&(Yn(Hs),Yn(rp)),Dv.current===t&&(Yn(Dv),fp._currentValue=Mc)}var qE=Object.prototype.hasOwnProperty,u2=Ln.unstable_scheduleCallback,T_=Ln.unstable_cancelCallback,jZ=Ln.unstable_shouldYield,TZ=Ln.unstable_requestPaint,qs=Ln.unstable_now,NZ=Ln.unstable_getCurrentPriorityLevel,LF=Ln.unstable_ImmediatePriority,VF=Ln.unstable_UserBlockingPriority,Fv=Ln.unstable_NormalPriority,CZ=Ln.unstable_LowPriority,FF=Ln.unstable_IdlePriority,PZ=Ln.log,OZ=Ln.unstable_setDisableYieldValue,lg=null,gi=null;function Qo(t){if(typeof PZ=="function"&&OZ(t),gi&&typeof gi.setStrictMode=="function")try{gi.setStrictMode(lg,t)}catch{}}var yi=Math.clz32?Math.clz32:MZ,IZ=Math.log,RZ=Math.LN2;function MZ(t){return t>>>=0,t===0?32:31-(IZ(t)/RZ|0)|0}var z0=256,$0=4194304;function ac(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tw(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=ac(r):(a&=o,a!==0?i=ac(a):n||(n=o&~t,n!==0&&(i=ac(n))))):(o=r&~s,o!==0?i=ac(o):a!==0?i=ac(a):n||(n=r&~t,n!==0&&(i=ac(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function cg(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function DZ(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BF(){var t=z0;return z0<<=1,!(z0&4194048)&&(z0=256),t}function UF(){var t=$0;return $0<<=1,!($0&62914560)&&($0=4194304),t}function N_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ug(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function LZ(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-yi(n),h=1<<d;o[d]=0,l[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}n&=~h}r!==0&&zF(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function zF(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-yi(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function $F(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function d2(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function h2(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function HF(){var t=gt.p;return t!==0?t:(t=window.event,t===void 0?32:c8(t.type))}function VZ(t,e){var n=gt.p;try{return gt.p=t,e()}finally{gt.p=n}}var Ml=Math.random().toString(36).slice(2),wr="__reactFiber$"+Ml,ti="__reactProps$"+Ml,Ch="__reactContainer$"+Ml,WE="__reactEvents$"+Ml,FZ="__reactListeners$"+Ml,BZ="__reactHandles$"+Ml,yI="__reactResources$"+Ml,dg="__reactMarker$"+Ml;function f2(t){delete t[wr],delete t[ti],delete t[WE],delete t[FZ],delete t[BZ]}function td(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ch]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ER(t);t!==null;){if(n=t[wr])return n;t=ER(t)}return e}t=n,n=t.parentNode}return null}function Ph(t){if(t=t[wr]||t[Ch]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function rm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ie(33))}function wd(t){var e=t[yI];return e||(e=t[yI]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Wn(t){t[dg]=!0}var qF=new Set,WF={};function xu(t,e){Kd(t,e),Kd(t+"Capture",e)}function Kd(t,e){for(WF[t]=e,t=0;t<e.length;t++)qF.add(e[t])}var UZ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vI={},xI={};function zZ(t){return qE.call(xI,t)?!0:qE.call(vI,t)?!1:UZ.test(t)?xI[t]=!0:(vI[t]=!0,!1)}function Xy(t,e,n){if(zZ(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function H0(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ma(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var C_,bI;function qu(t){if(C_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);C_=e&&e[1]||"",bI=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+C_+t+bI}var P_=!1;function O_(t,e){if(!t||P_)return"";P_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var d=`
`+l[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{P_=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?qu(n):""}function $Z(t){switch(t.tag){case 26:case 27:case 5:return qu(t.type);case 16:return qu("Lazy");case 13:return qu("Suspense");case 19:return qu("SuspenseList");case 0:case 15:return O_(t.type,!1);case 11:return O_(t.type.render,!1);case 1:return O_(t.type,!0);case 31:return qu("Activity");default:return""}}function wI(t){try{var e="";do e+=$Z(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ri(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HZ(t){var e=KF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bv(t){t._valueTracker||(t._valueTracker=HZ(t))}function GF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qZ=/[\n"\\]/g;function Vi(t){return t.replace(qZ,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function KE(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ri(e)):t.value!==""+Ri(e)&&(t.value=""+Ri(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?GE(t,a,Ri(e)):n!=null?GE(t,a,Ri(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Ri(o):t.removeAttribute("name")}function YF(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Ri(n):"",e=e!=null?""+Ri(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function GE(t,e,n){e==="number"&&Uv(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function _d(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ri(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function XF(t,e,n){if(e!=null&&(e=""+Ri(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ri(n):""}function QF(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(ie(92));if(nm(r)){if(1<r.length)throw Error(ie(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Ri(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Gd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var WZ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _I(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||WZ.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function ZF(t,e,n){if(e!=null&&typeof e!="object")throw Error(ie(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&_I(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&_I(t,s,e[s])}function m2(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KZ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),GZ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qy(t){return GZ.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var YE=null;function p2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nd=null,Sd=null;function SI(t){var e=Ph(t);if(e&&(t=e.stateNode)){var n=t[ti]||null;e:switch(t=e.stateNode,e.type){case"input":if(KE(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Vi(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[ti]||null;if(!i)throw Error(ie(90));KE(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&GF(r)}break e;case"textarea":XF(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&_d(t,!!n.multiple,e,!1)}}}var I_=!1;function JF(t,e,n){if(I_)return t(e,n);I_=!0;try{var r=t(e);return r}finally{if(I_=!1,(nd!==null||Sd!==null)&&(dw(),nd&&(e=nd,t=Sd,Sd=nd=null,SI(e),t)))for(e=0;e<t.length;e++)SI(t[e])}}function ip(t,e){var n=t.stateNode;if(n===null)return null;var r=n[ti]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),XE=!1;if(Wa)try{var kf={};Object.defineProperty(kf,"passive",{get:function(){XE=!0}}),window.addEventListener("test",kf,kf),window.removeEventListener("test",kf,kf)}catch{XE=!1}var Zo=null,g2=null,Zy=null;function e9(){if(Zy)return Zy;var t,e=g2,n=e.length,r,i="value"in Zo?Zo.value:Zo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Zy=i.slice(t,1<r?1-r:void 0)}function Jy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function q0(){return!0}function EI(){return!1}function ri(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?q0:EI,this.isPropagationStopped=EI,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=q0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=q0)},persist:function(){},isPersistent:q0}),e}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nw=ri(bu),hg=$t({},bu,{view:0,detail:0}),YZ=ri(hg),R_,M_,Af,rw=$t({},hg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Af&&(Af&&t.type==="mousemove"?(R_=t.screenX-Af.screenX,M_=t.screenY-Af.screenY):M_=R_=0,Af=t),R_)},movementY:function(t){return"movementY"in t?t.movementY:M_}}),kI=ri(rw),XZ=$t({},rw,{dataTransfer:0}),QZ=ri(XZ),ZZ=$t({},hg,{relatedTarget:0}),D_=ri(ZZ),JZ=$t({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),eJ=ri(JZ),tJ=$t({},bu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nJ=ri(tJ),rJ=$t({},bu,{data:0}),AI=ri(rJ),iJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aJ[t])?!!e[t]:!1}function y2(){return oJ}var lJ=$t({},hg,{key:function(t){if(t.key){var e=iJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y2,charCode:function(t){return t.type==="keypress"?Jy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cJ=ri(lJ),uJ=$t({},rw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jI=ri(uJ),dJ=$t({},hg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y2}),hJ=ri(dJ),fJ=$t({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),mJ=ri(fJ),pJ=$t({},rw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gJ=ri(pJ),yJ=$t({},bu,{newState:0,oldState:0}),vJ=ri(yJ),xJ=[9,13,27,32],v2=Wa&&"CompositionEvent"in window,xm=null;Wa&&"documentMode"in document&&(xm=document.documentMode);var bJ=Wa&&"TextEvent"in window&&!xm,t9=Wa&&(!v2||xm&&8<xm&&11>=xm),TI=" ",NI=!1;function n9(t,e){switch(t){case"keyup":return xJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rd=!1;function wJ(t,e){switch(t){case"compositionend":return r9(e);case"keypress":return e.which!==32?null:(NI=!0,TI);case"textInput":return t=e.data,t===TI&&NI?null:t;default:return null}}function _J(t,e){if(rd)return t==="compositionend"||!v2&&n9(t,e)?(t=e9(),Zy=g2=Zo=null,rd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t9&&e.locale!=="ko"?null:e.data;default:return null}}var SJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SJ[t.type]:e==="textarea"}function i9(t,e,n,r){nd?Sd?Sd.push(r):Sd=[r]:nd=r,e=sx(e,"onChange"),0<e.length&&(n=new nw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bm=null,sp=null;function EJ(t){X7(t,0)}function iw(t){var e=rm(t);if(GF(e))return t}function PI(t,e){if(t==="change")return e}var s9=!1;if(Wa){var L_;if(Wa){var V_="oninput"in document;if(!V_){var OI=document.createElement("div");OI.setAttribute("oninput","return;"),V_=typeof OI.oninput=="function"}L_=V_}else L_=!1;s9=L_&&(!document.documentMode||9<document.documentMode)}function II(){bm&&(bm.detachEvent("onpropertychange",a9),sp=bm=null)}function a9(t){if(t.propertyName==="value"&&iw(sp)){var e=[];i9(e,sp,t,p2(t)),JF(EJ,e)}}function kJ(t,e,n){t==="focusin"?(II(),bm=e,sp=n,bm.attachEvent("onpropertychange",a9)):t==="focusout"&&II()}function AJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iw(sp)}function jJ(t,e){if(t==="click")return iw(e)}function TJ(t,e){if(t==="input"||t==="change")return iw(e)}function NJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _i=typeof Object.is=="function"?Object.is:NJ;function ap(t,e){if(_i(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qE.call(e,i)||!_i(t[i],e[i]))return!1}return!0}function RI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function MI(t,e){var n=RI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RI(n)}}function o9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?o9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function l9(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Uv(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uv(t.document)}return e}function x2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var CJ=Wa&&"documentMode"in document&&11>=document.documentMode,id=null,QE=null,wm=null,ZE=!1;function DI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ZE||id==null||id!==Uv(r)||(r=id,"selectionStart"in r&&x2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wm&&ap(wm,r)||(wm=r,r=sx(QE,"onSelect"),0<r.length&&(e=new nw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=id)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sd={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionrun:Ql("Transition","TransitionRun"),transitionstart:Ql("Transition","TransitionStart"),transitioncancel:Ql("Transition","TransitionCancel"),transitionend:Ql("Transition","TransitionEnd")},F_={},c9={};Wa&&(c9=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function wu(t){if(F_[t])return F_[t];if(!sd[t])return t;var e=sd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in c9)return F_[t]=e[n];return t}var u9=wu("animationend"),d9=wu("animationiteration"),h9=wu("animationstart"),PJ=wu("transitionrun"),OJ=wu("transitionstart"),IJ=wu("transitioncancel"),f9=wu("transitionend"),m9=new Map,JE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");JE.push("scrollEnd");function ws(t,e){m9.set(t,e),xu(e,[t])}var LI=new WeakMap;function Fi(t,e){if(typeof t=="object"&&t!==null){var n=LI.get(t);return n!==void 0?n:(e={value:t,source:e,stack:wI(e)},LI.set(t,e),e)}return{value:t,source:e,stack:wI(e)}}var Ii=[],ad=0,b2=0;function sw(){for(var t=ad,e=b2=ad=0;e<t;){var n=Ii[e];Ii[e++]=null;var r=Ii[e];Ii[e++]=null;var i=Ii[e];Ii[e++]=null;var s=Ii[e];if(Ii[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&p9(n,i,s)}}function aw(t,e,n,r){Ii[ad++]=t,Ii[ad++]=e,Ii[ad++]=n,Ii[ad++]=r,b2|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function w2(t,e,n,r){return aw(t,e,n,r),zv(t)}function Oh(t,e){return aw(t,null,null,e),zv(t)}function p9(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-yi(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function zv(t){if(50<Pm)throw Pm=0,bk=null,Error(ie(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var od={};function RJ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,e,n,r){return new RJ(t,e,n,r)}function _2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Va(t,e){var n=t.alternate;return n===null?(n=fi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function g9(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ev(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")_2(t)&&(a=1);else if(typeof t=="string")a=Dee(t,n,Hs.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case UE:return t=fi(31,n,e,i),t.elementType=UE,t.lanes=s,t;case Ju:return Dc(n.children,i,s,e);case MF:a=8,i|=24;break;case VE:return t=fi(12,n,e,i|2),t.elementType=VE,t.lanes=s,t;case FE:return t=fi(13,n,e,i),t.elementType=FE,t.lanes=s,t;case BE:return t=fi(19,n,e,i),t.elementType=BE,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EZ:case ja:a=10;break e;case DF:a=9;break e;case l2:a=11;break e;case c2:a=14;break e;case Po:a=16,r=null;break e}a=29,n=Error(ie(130,t===null?"null":typeof t,"")),r=null}return e=fi(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Dc(t,e,n,r){return t=fi(7,t,r,e),t.lanes=n,t}function B_(t,e,n){return t=fi(6,t,null,e),t.lanes=n,t}function U_(t,e,n){return e=fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ld=[],cd=0,$v=null,Hv=0,Mi=[],Di=0,Lc=null,Ta=1,Na="";function oc(t,e){ld[cd++]=Hv,ld[cd++]=$v,$v=t,Hv=e}function y9(t,e,n){Mi[Di++]=Ta,Mi[Di++]=Na,Mi[Di++]=Lc,Lc=t;var r=Ta;t=Na;var i=32-yi(r)-1;r&=~(1<<i),n+=1;var s=32-yi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ta=1<<32-yi(e)+i|n<<i|r,Na=s+t}else Ta=1<<s|n<<i|r,Na=t}function S2(t){t.return!==null&&(oc(t,1),y9(t,1,0))}function E2(t){for(;t===$v;)$v=ld[--cd],ld[cd]=null,Hv=ld[--cd],ld[cd]=null;for(;t===Lc;)Lc=Mi[--Di],Mi[Di]=null,Na=Mi[--Di],Mi[Di]=null,Ta=Mi[--Di],Mi[Di]=null}var Rr=null,on=null,pt=!1,Vc=null,Us=!1,ek=Error(ie(519));function Zc(t){var e=Error(ie(418,""));throw op(Fi(e,t)),ek}function VI(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[wr]=t,e[ti]=r,n){case"dialog":qe("cancel",e),qe("close",e);break;case"iframe":case"object":case"embed":qe("load",e);break;case"video":case"audio":for(n=0;n<up.length;n++)qe(up[n],e);break;case"source":qe("error",e);break;case"img":case"image":case"link":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"input":qe("invalid",e),YF(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Bv(e);break;case"select":qe("invalid",e);break;case"textarea":qe("invalid",e),QF(e,r.value,r.defaultValue,r.children),Bv(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||Z7(e.textContent,n)?(r.popover!=null&&(qe("beforetoggle",e),qe("toggle",e)),r.onScroll!=null&&qe("scroll",e),r.onScrollEnd!=null&&qe("scrollend",e),r.onClick!=null&&(e.onclick=mw),e=!0):e=!1,e||Zc(t)}function FI(t){for(Rr=t.return;Rr;)switch(Rr.tag){case 5:case 13:Us=!1;return;case 27:case 3:Us=!0;return;default:Rr=Rr.return}}function jf(t){if(t!==Rr)return!1;if(!pt)return FI(t),pt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ak(t.type,t.memoizedProps)),n=!n),n&&on&&Zc(t),FI(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){on=ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}on=null}}else e===27?(e=on,Dl(t.type)?(t=Nk,Nk=null,on=t):on=e):on=Rr?ms(t.stateNode.nextSibling):null;return!0}function fg(){on=Rr=null,pt=!1}function BI(){var t=Vc;return t!==null&&($r===null?$r=t:$r.push.apply($r,t),Vc=null),t}function op(t){Vc===null?Vc=[t]:Vc.push(t)}var tk=ca(null),_u=null,Ca=null;function Mo(t,e,n){Gt(tk,e._currentValue),e._currentValue=n}function Fa(t){t._currentValue=tk.current,Yn(tk)}function nk(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rk(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),nk(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(ie(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),nk(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function mg(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(ie(387));if(a=a.memoizedProps,a!==null){var o=i.type;_i(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===Dv.current){if(a=i.alternate,a===null)throw Error(ie(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(fp):t=[fp])}i=i.return}t!==null&&rk(e,t,n,r),e.flags|=262144}function qv(t){for(t=t.firstContext;t!==null;){if(!_i(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jc(t){_u=t,Ca=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _r(t){return v9(_u,t)}function W0(t,e){return _u===null&&Jc(t),v9(t,e)}function v9(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ca===null){if(t===null)throw Error(ie(308));Ca=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ca=Ca.next=e;return n}var MJ=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},DJ=Ln.unstable_scheduleCallback,LJ=Ln.unstable_NormalPriority,In={$$typeof:ja,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function k2(){return{controller:new MJ,data:new Map,refCount:0}}function pg(t){t.refCount--,t.refCount===0&&DJ(LJ,function(){t.controller.abort()})}var _m=null,ik=0,Yd=0,Ed=null;function VJ(t,e){if(_m===null){var n=_m=[];ik=0,Yd=G2(),Ed={status:"pending",value:void 0,then:function(r){n.push(r)}}}return ik++,e.then(UI,UI),e}function UI(){if(--ik===0&&_m!==null){Ed!==null&&(Ed.status="fulfilled");var t=_m;_m=null,Yd=0,Ed=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function FJ(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var zI=Ne.S;Ne.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&VJ(t,e),zI!==null&&zI(t,e)};var Fc=ca(null);function A2(){var t=Fc.current;return t!==null?t:Lt.pooledCache}function tv(t,e){e===null?Gt(Fc,Fc.current):Gt(Fc,e.pool)}function x9(){var t=A2();return t===null?null:{parent:In._currentValue,pool:t}}var gg=Error(ie(460)),b9=Error(ie(474)),ow=Error(ie(542)),sk={then:function(){}};function $I(t){return t=t.status,t==="fulfilled"||t==="rejected"}function K0(){}function w9(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(K0,K0),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qI(t),t;default:if(typeof e.status=="string")e.then(K0,K0);else{if(t=Lt,t!==null&&100<t.shellSuspendCounter)throw Error(ie(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qI(t),t}throw Sm=e,gg}}var Sm=null;function HI(){if(Sm===null)throw Error(ie(459));var t=Sm;return Sm=null,t}function qI(t){if(t===gg||t===ow)throw Error(ie(483))}var Oo=!1;function j2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ak(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function al(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,St&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=zv(t),p9(t,null,n),e}return aw(t,r,e,n),zv(t)}function Em(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$F(t,n)}}function z_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ok=!1;function km(){if(ok){var t=Ed;if(t!==null)throw t}}function Am(t,e,n,r){ok=!1;var i=t.updateQueue;Oo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=u=l=null,o=s;do{var f=o.lane&-536870913,m=f!==o.lane;if(m?(at&f)===f:(r&f)===f){f!==0&&f===Yd&&(ok=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=t,y=o;f=e;var v=n;switch(y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(v,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(v,h,f):p,f==null)break e;h=$t({},h,f);break e;case 2:Oo=!0}}f=o.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),bl|=a,t.lanes=a,t.memoizedState=h}}function _9(t,e){if(typeof t!="function")throw Error(ie(191,t));t.call(e)}function S9(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)_9(n[t],e)}var Xd=ca(null),Wv=ca(0);function WI(t,e){t=Ya,Gt(Wv,t),Gt(Xd,e),Ya=t|e.baseLanes}function lk(){Gt(Wv,Ya),Gt(Xd,Xd.current)}function T2(){Ya=Wv.current,Yn(Xd),Yn(Wv)}var vl=0,ze=null,jt=null,Sn=null,Kv=!1,kd=!1,eu=!1,Gv=0,lp=0,Ad=null,BJ=0;function hn(){throw Error(ie(321))}function N2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_i(t[n],e[n]))return!1;return!0}function C2(t,e,n,r,i,s){return vl=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ne.H=t===null||t.memoizedState===null?e7:t7,eu=!1,s=n(r,i),eu=!1,kd&&(s=k9(e,n,r,i)),E9(t),s}function E9(t){Ne.H=Yv;var e=jt!==null&&jt.next!==null;if(vl=0,Sn=jt=ze=null,Kv=!1,lp=0,Ad=null,e)throw Error(ie(300));t===null||Kn||(t=t.dependencies,t!==null&&qv(t)&&(Kn=!0))}function k9(t,e,n,r){ze=t;var i=0;do{if(kd&&(Ad=null),lp=0,kd=!1,25<=i)throw Error(ie(301));if(i+=1,Sn=jt=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Ne.H=KJ,s=e(n,r)}while(kd);return s}function UJ(){var t=Ne.H,e=t.useState()[0];return e=typeof e.then=="function"?yg(e):e,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(ze.flags|=1024),e}function P2(){var t=Gv!==0;return Gv=0,t}function O2(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function I2(t){if(Kv){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Kv=!1}vl=0,Sn=jt=ze=null,kd=!1,lp=Gv=0,Ad=null}function Ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?ze.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function Tn(){if(jt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Sn===null?ze.memoizedState:Sn.next;if(e!==null)Sn=e,jt=t;else{if(t===null)throw ze.alternate===null?Error(ie(467)):Error(ie(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Sn===null?ze.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function R2(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yg(t){var e=lp;return lp+=1,Ad===null&&(Ad=[]),t=w9(Ad,t,e),e=ze,(Sn===null?e.memoizedState:Sn.next)===null&&(e=e.alternate,Ne.H=e===null||e.memoizedState===null?e7:t7),t}function lw(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yg(t);if(t.$$typeof===ja)return _r(t)}throw Error(ie(438,String(t)))}function M2(t){var e=null,n=ze.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ze.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=R2(),ze.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=kZ;return e.index++,n}function Ka(t,e){return typeof e=="function"?e(t):e}function nv(t){var e=Tn();return D2(e,jt,t)}function D2(t,e,n){var r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(at&h)===h:(vl&h)===h){var f=u.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Yd&&(d=!0);else if((vl&f)===f){u=u.next,f===Yd&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=h,a=s):l=l.next=h,ze.lanes|=f,bl|=f;h=u.action,eu&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,ze.lanes|=h,bl|=h;u=u.next}while(u!==null&&u!==e);if(l===null?a=s:l.next=o,!_i(s,t.memoizedState)&&(Kn=!0,d&&(n=Ed,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function $_(t){var e=Tn(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);_i(s,e.memoizedState)||(Kn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function A9(t,e,n){var r=ze,i=Tn(),s=pt;if(s){if(n===void 0)throw Error(ie(407));n=n()}else n=e();var a=!_i((jt||i).memoizedState,n);a&&(i.memoizedState=n,Kn=!0),i=i.queue;var o=N9.bind(null,r,i,t);if(vg(2048,8,o,[t]),i.getSnapshot!==e||a||Sn!==null&&Sn.memoizedState.tag&1){if(r.flags|=2048,Qd(9,cw(),T9.bind(null,r,i,n,e),null),Lt===null)throw Error(ie(349));s||vl&124||j9(r,e,n)}return n}function j9(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e=R2(),ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function T9(t,e,n,r){e.value=n,e.getSnapshot=r,C9(e)&&P9(t)}function N9(t,e,n){return n(function(){C9(e)&&P9(t)})}function C9(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_i(t,n)}catch{return!0}}function P9(t){var e=Oh(t,2);e!==null&&xi(e,t,2)}function ck(t){var e=Ur();if(typeof t=="function"){var n=t;if(t=n(),eu){Qo(!0);try{n()}finally{Qo(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:t},e}function O9(t,e,n,r){return t.baseState=n,D2(t,jt,typeof r=="function"?r:Ka)}function zJ(t,e,n,r,i){if(uw(t))throw Error(ie(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Ne.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,I9(e,s)):(s.next=n.next,e.pending=n.next=s)}}function I9(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=Ne.T,a={};Ne.T=a;try{var o=n(i,r),l=Ne.S;l!==null&&l(a,o),KI(t,e,o)}catch(u){uk(t,e,u)}finally{Ne.T=s}}else try{s=n(i,r),KI(t,e,s)}catch(u){uk(t,e,u)}}function KI(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){GI(t,e,r)},function(r){return uk(t,e,r)}):GI(t,e,n)}function GI(t,e,n){e.status="fulfilled",e.value=n,R9(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,I9(t,n)))}function uk(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,R9(e),e=e.next;while(e!==r)}t.action=null}function R9(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function M9(t,e){return e}function YI(t,e){if(pt){var n=Lt.formState;if(n!==null){e:{var r=ze;if(pt){if(on){t:{for(var i=on,s=Us;i.nodeType!==8;){if(!s){i=null;break t}if(i=ms(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){on=ms(i.nextSibling),r=i.data==="F!";break e}}Zc(r)}r=!1}r&&(e=n[0])}}return n=Ur(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M9,lastRenderedState:e},n.queue=r,n=Q9.bind(null,ze,r),r.dispatch=n,r=ck(!1),s=B2.bind(null,ze,!1,r.queue),r=Ur(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=zJ.bind(null,ze,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function XI(t){var e=Tn();return D9(e,jt,t)}function D9(t,e,n){if(e=D2(t,e,M9)[0],t=nv(Ka)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=yg(e)}catch(a){throw a===gg?ow:a}else r=e;e=Tn();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(ze.flags|=2048,Qd(9,cw(),$J.bind(null,i,n),null)),[r,s,t]}function $J(t,e){t.action=e}function QI(t){var e=Tn(),n=jt;if(n!==null)return D9(e,n,t);Tn(),e=e.memoizedState,n=Tn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Qd(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ze.updateQueue,e===null&&(e=R2(),ze.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function cw(){return{destroy:void 0,resource:void 0}}function L9(){return Tn().memoizedState}function rv(t,e,n,r){var i=Ur();r=r===void 0?null:r,ze.flags|=t,i.memoizedState=Qd(1|e,cw(),n,r)}function vg(t,e,n,r){var i=Tn();r=r===void 0?null:r;var s=i.memoizedState.inst;jt!==null&&r!==null&&N2(r,jt.memoizedState.deps)?i.memoizedState=Qd(e,s,n,r):(ze.flags|=t,i.memoizedState=Qd(1|e,s,n,r))}function ZI(t,e){rv(8390656,8,t,e)}function V9(t,e){vg(2048,8,t,e)}function F9(t,e){return vg(4,2,t,e)}function B9(t,e){return vg(4,4,t,e)}function U9(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z9(t,e,n){n=n!=null?n.concat([t]):null,vg(4,4,U9.bind(null,e,t),n)}function L2(){}function $9(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&N2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function H9(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&N2(e,r[1]))return r[0];if(r=t(),eu){Qo(!0);try{t()}finally{Qo(!1)}}return n.memoizedState=[r,e],r}function V2(t,e,n){return n===void 0||vl&1073741824?t.memoizedState=e:(t.memoizedState=n,t=R7(),ze.lanes|=t,bl|=t,n)}function q9(t,e,n,r){return _i(n,e)?n:Xd.current!==null?(t=V2(t,n,r),_i(t,e)||(Kn=!0),t):vl&42?(t=R7(),ze.lanes|=t,bl|=t,e):(Kn=!0,t.memoizedState=n)}function W9(t,e,n,r,i){var s=gt.p;gt.p=s!==0&&8>s?s:8;var a=Ne.T,o={};Ne.T=o,B2(t,!1,e,n);try{var l=i(),u=Ne.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=FJ(l,r);jm(t,e,d,vi(t))}else jm(t,e,r,vi(t))}catch(h){jm(t,e,{then:function(){},status:"rejected",reason:h},vi())}finally{gt.p=s,Ne.T=a}}function HJ(){}function dk(t,e,n,r){if(t.tag!==5)throw Error(ie(476));var i=K9(t).queue;W9(t,i,e,Mc,n===null?HJ:function(){return G9(t),n(r)})}function K9(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Mc,baseState:Mc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:Mc},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function G9(t){var e=K9(t).next.queue;jm(t,e,{},vi())}function F2(){return _r(fp)}function Y9(){return Tn().memoizedState}function X9(){return Tn().memoizedState}function qJ(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=vi();t=sl(n);var r=al(e,t,n);r!==null&&(xi(r,e,n),Em(r,e,n)),e={cache:k2()},t.payload=e;return}e=e.return}}function WJ(t,e,n){var r=vi();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},uw(t)?Z9(e,n):(n=w2(t,e,n,r),n!==null&&(xi(n,t,r),J9(n,e,r)))}function Q9(t,e,n){var r=vi();jm(t,e,n,r)}function jm(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(uw(t))Z9(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,_i(o,a))return aw(t,e,i,0),Lt===null&&sw(),!1}catch{}finally{}if(n=w2(t,e,i,r),n!==null)return xi(n,t,r),J9(n,e,r),!0}return!1}function B2(t,e,n,r){if(r={lane:2,revertLane:G2(),action:r,hasEagerState:!1,eagerState:null,next:null},uw(t)){if(e)throw Error(ie(479))}else e=w2(t,n,r,2),e!==null&&xi(e,t,2)}function uw(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function Z9(t,e){kd=Kv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function J9(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$F(t,n)}}var Yv={readContext:_r,use:lw,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},e7={readContext:_r,use:lw,useCallback:function(t,e){return Ur().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:ZI,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,rv(4194308,4,U9.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rv(4194308,4,t,e)},useInsertionEffect:function(t,e){rv(4,2,t,e)},useMemo:function(t,e){var n=Ur();e=e===void 0?null:e;var r=t();if(eu){Qo(!0);try{t()}finally{Qo(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ur();if(n!==void 0){var i=n(e);if(eu){Qo(!0);try{n(e)}finally{Qo(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=WJ.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Ur();return t={current:t},e.memoizedState=t},useState:function(t){t=ck(t);var e=t.queue,n=Q9.bind(null,ze,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:L2,useDeferredValue:function(t,e){var n=Ur();return V2(n,t,e)},useTransition:function(){var t=ck(!1);return t=W9.bind(null,ze,t.queue,!0,!1),Ur().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ze,i=Ur();if(pt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Lt===null)throw Error(ie(349));at&124||j9(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ZI(N9.bind(null,r,s,t),[t]),r.flags|=2048,Qd(9,cw(),T9.bind(null,r,s,n,e),null),n},useId:function(){var t=Ur(),e=Lt.identifierPrefix;if(pt){var n=Na,r=Ta;n=(r&~(1<<32-yi(r)-1)).toString(32)+n,e=""+e+"R"+n,n=Gv++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=BJ++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:F2,useFormState:YI,useActionState:YI,useOptimistic:function(t){var e=Ur();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=B2.bind(null,ze,!0,n),n.dispatch=e,[t,e]},useMemoCache:M2,useCacheRefresh:function(){return Ur().memoizedState=qJ.bind(null,ze)}},t7={readContext:_r,use:lw,useCallback:$9,useContext:_r,useEffect:V9,useImperativeHandle:z9,useInsertionEffect:F9,useLayoutEffect:B9,useMemo:H9,useReducer:nv,useRef:L9,useState:function(){return nv(Ka)},useDebugValue:L2,useDeferredValue:function(t,e){var n=Tn();return q9(n,jt.memoizedState,t,e)},useTransition:function(){var t=nv(Ka)[0],e=Tn().memoizedState;return[typeof t=="boolean"?t:yg(t),e]},useSyncExternalStore:A9,useId:Y9,useHostTransitionStatus:F2,useFormState:XI,useActionState:XI,useOptimistic:function(t,e){var n=Tn();return O9(n,jt,t,e)},useMemoCache:M2,useCacheRefresh:X9},KJ={readContext:_r,use:lw,useCallback:$9,useContext:_r,useEffect:V9,useImperativeHandle:z9,useInsertionEffect:F9,useLayoutEffect:B9,useMemo:H9,useReducer:$_,useRef:L9,useState:function(){return $_(Ka)},useDebugValue:L2,useDeferredValue:function(t,e){var n=Tn();return jt===null?V2(n,t,e):q9(n,jt.memoizedState,t,e)},useTransition:function(){var t=$_(Ka)[0],e=Tn().memoizedState;return[typeof t=="boolean"?t:yg(t),e]},useSyncExternalStore:A9,useId:Y9,useHostTransitionStatus:F2,useFormState:QI,useActionState:QI,useOptimistic:function(t,e){var n=Tn();return jt!==null?O9(n,jt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:M2,useCacheRefresh:X9},jd=null,cp=0;function G0(t){var e=cp;return cp+=1,jd===null&&(jd=[]),w9(jd,t,e)}function Tf(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Y0(t,e){throw e.$$typeof===SZ?Error(ie(525)):(t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function JI(t){var e=t._init;return e(t._payload)}function n7(t){function e(b,w){if(t){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(b,w){return b=Va(b,w),b.index=0,b.sibling=null,b}function s(b,w,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=67108866,w):_):(b.flags|=67108866,w)):(b.flags|=1048576,w)}function a(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,w,_,j){return w===null||w.tag!==6?(w=B_(_,b.mode,j),w.return=b,w):(w=i(w,_),w.return=b,w)}function l(b,w,_,j){var E=_.type;return E===Ju?d(b,w,_.props.children,j,_.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Po&&JI(E)===w.type)?(w=i(w,_.props),Tf(w,_),w.return=b,w):(w=ev(_.type,_.key,_.props,null,b.mode,j),Tf(w,_),w.return=b,w)}function u(b,w,_,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=U_(_,b.mode,j),w.return=b,w):(w=i(w,_.children||[]),w.return=b,w)}function d(b,w,_,j,E){return w===null||w.tag!==7?(w=Dc(_,b.mode,j,E),w.return=b,w):(w=i(w,_),w.return=b,w)}function h(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=B_(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case U0:return _=ev(w.type,w.key,w.props,null,b.mode,_),Tf(_,w),_.return=b,_;case tm:return w=U_(w,b.mode,_),w.return=b,w;case Po:var j=w._init;return w=j(w._payload),h(b,w,_)}if(nm(w)||Ef(w))return w=Dc(w,b.mode,_,null),w.return=b,w;if(typeof w.then=="function")return h(b,G0(w),_);if(w.$$typeof===ja)return h(b,W0(b,w),_);Y0(b,w)}return null}function f(b,w,_,j){var E=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return E!==null?null:o(b,w,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case U0:return _.key===E?l(b,w,_,j):null;case tm:return _.key===E?u(b,w,_,j):null;case Po:return E=_._init,_=E(_._payload),f(b,w,_,j)}if(nm(_)||Ef(_))return E!==null?null:d(b,w,_,j,null);if(typeof _.then=="function")return f(b,w,G0(_),j);if(_.$$typeof===ja)return f(b,w,W0(b,_),j);Y0(b,_)}return null}function m(b,w,_,j,E){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return b=b.get(_)||null,o(w,b,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case U0:return b=b.get(j.key===null?_:j.key)||null,l(w,b,j,E);case tm:return b=b.get(j.key===null?_:j.key)||null,u(w,b,j,E);case Po:var I=j._init;return j=I(j._payload),m(b,w,_,j,E)}if(nm(j)||Ef(j))return b=b.get(_)||null,d(w,b,j,E,null);if(typeof j.then=="function")return m(b,w,_,G0(j),E);if(j.$$typeof===ja)return m(b,w,_,W0(w,j),E);Y0(w,j)}return null}function p(b,w,_,j){for(var E=null,I=null,k=w,S=w=0,P=null;k!==null&&S<_.length;S++){k.index>S?(P=k,k=null):P=k.sibling;var O=f(b,k,_[S],j);if(O===null){k===null&&(k=P);break}t&&k&&O.alternate===null&&e(b,k),w=s(O,w,S),I===null?E=O:I.sibling=O,I=O,k=P}if(S===_.length)return n(b,k),pt&&oc(b,S),E;if(k===null){for(;S<_.length;S++)k=h(b,_[S],j),k!==null&&(w=s(k,w,S),I===null?E=k:I.sibling=k,I=k);return pt&&oc(b,S),E}for(k=r(k);S<_.length;S++)P=m(k,b,S,_[S],j),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?S:P.key),w=s(P,w,S),I===null?E=P:I.sibling=P,I=P);return t&&k.forEach(function(N){return e(b,N)}),pt&&oc(b,S),E}function y(b,w,_,j){if(_==null)throw Error(ie(151));for(var E=null,I=null,k=w,S=w=0,P=null,O=_.next();k!==null&&!O.done;S++,O=_.next()){k.index>S?(P=k,k=null):P=k.sibling;var N=f(b,k,O.value,j);if(N===null){k===null&&(k=P);break}t&&k&&N.alternate===null&&e(b,k),w=s(N,w,S),I===null?E=N:I.sibling=N,I=N,k=P}if(O.done)return n(b,k),pt&&oc(b,S),E;if(k===null){for(;!O.done;S++,O=_.next())O=h(b,O.value,j),O!==null&&(w=s(O,w,S),I===null?E=O:I.sibling=O,I=O);return pt&&oc(b,S),E}for(k=r(k);!O.done;S++,O=_.next())O=m(k,b,S,O.value,j),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?S:O.key),w=s(O,w,S),I===null?E=O:I.sibling=O,I=O);return t&&k.forEach(function(A){return e(b,A)}),pt&&oc(b,S),E}function v(b,w,_,j){if(typeof _=="object"&&_!==null&&_.type===Ju&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case U0:e:{for(var E=_.key;w!==null;){if(w.key===E){if(E=_.type,E===Ju){if(w.tag===7){n(b,w.sibling),j=i(w,_.props.children),j.return=b,b=j;break e}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Po&&JI(E)===w.type){n(b,w.sibling),j=i(w,_.props),Tf(j,_),j.return=b,b=j;break e}n(b,w);break}else e(b,w);w=w.sibling}_.type===Ju?(j=Dc(_.props.children,b.mode,j,_.key),j.return=b,b=j):(j=ev(_.type,_.key,_.props,null,b.mode,j),Tf(j,_),j.return=b,b=j)}return a(b);case tm:e:{for(E=_.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(b,w.sibling),j=i(w,_.children||[]),j.return=b,b=j;break e}else{n(b,w);break}else e(b,w);w=w.sibling}j=U_(_,b.mode,j),j.return=b,b=j}return a(b);case Po:return E=_._init,_=E(_._payload),v(b,w,_,j)}if(nm(_))return p(b,w,_,j);if(Ef(_)){if(E=Ef(_),typeof E!="function")throw Error(ie(150));return _=E.call(_),y(b,w,_,j)}if(typeof _.then=="function")return v(b,w,G0(_),j);if(_.$$typeof===ja)return v(b,w,W0(b,_),j);Y0(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,w!==null&&w.tag===6?(n(b,w.sibling),j=i(w,_),j.return=b,b=j):(n(b,w),j=B_(_,b.mode,j),j.return=b,b=j),a(b)):n(b,w)}return function(b,w,_,j){try{cp=0;var E=v(b,w,_,j);return jd=null,E}catch(k){if(k===gg||k===ow)throw k;var I=fi(29,k,null,b.mode);return I.lanes=j,I.return=b,I}finally{}}}var Zd=n7(!0),r7=n7(!1),Yi=ca(null),Ws=null;function Do(t){var e=t.alternate;Gt(Rn,Rn.current&1),Gt(Yi,t),Ws===null&&(e===null||Xd.current!==null||e.memoizedState!==null)&&(Ws=t)}function i7(t){if(t.tag===22){if(Gt(Rn,Rn.current),Gt(Yi,t),Ws===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ws=t)}}else Lo()}function Lo(){Gt(Rn,Rn.current),Gt(Yi,Yi.current)}function Pa(t){Yn(Yi),Ws===t&&(Ws=null),Yn(Rn)}var Rn=ca(0);function Xv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Tk(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function H_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hk={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vi(),i=sl(r);i.payload=e,n!=null&&(i.callback=n),e=al(t,i,r),e!==null&&(xi(e,t,r),Em(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vi(),i=sl(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=al(t,i,r),e!==null&&(xi(e,t,r),Em(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vi(),r=sl(n);r.tag=2,e!=null&&(r.callback=e),e=al(t,r,n),e!==null&&(xi(e,t,n),Em(e,t,n))}};function eR(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ap(n,r)||!ap(i,s):!0}function tR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hk.enqueueReplaceState(e,e.state,null)}function tu(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=$t({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Qv=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function s7(t){Qv(t)}function a7(t){console.error(t)}function o7(t){Qv(t)}function Zv(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function nR(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function fk(t,e,n){return n=sl(n),n.tag=3,n.payload={element:null},n.callback=function(){Zv(t,e)},n}function l7(t){return t=sl(t),t.tag=3,t}function c7(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){nR(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){nR(e,n,r),typeof i!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function GJ(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&mg(e,n,i,!0),n=Yi.current,n!==null){switch(n.tag){case 13:return Ws===null?wk():n.alternate===null&&ln===0&&(ln=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===sk?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),tS(t,r,i)),!1;case 22:return n.flags|=65536,r===sk?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),tS(t,r,i)),!1}throw Error(ie(435,n.tag))}return tS(t,r,i),wk(),!1}if(pt)return e=Yi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==ek&&(t=Error(ie(422),{cause:r}),op(Fi(t,n)))):(r!==ek&&(e=Error(ie(423),{cause:r}),op(Fi(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Fi(r,n),i=fk(t.stateNode,r,i),z_(t,i),ln!==4&&(ln=2)),!1;var s=Error(ie(520),{cause:r});if(s=Fi(s,n),Cm===null?Cm=[s]:Cm.push(s),ln!==4&&(ln=2),e===null)return!0;r=Fi(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=fk(n.stateNode,r,t),z_(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ol===null||!ol.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=l7(i),c7(i,t,n,r),z_(n,i),!1}n=n.return}while(n!==null);return!1}var u7=Error(ie(461)),Kn=!1;function nr(t,e,n,r){e.child=t===null?r7(e,null,n,r):Zd(e,t.child,n,r)}function rR(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return Jc(e),r=C2(t,e,n,a,s,i),o=P2(),t!==null&&!Kn?(O2(t,e,i),Ga(t,e,i)):(pt&&o&&S2(e),e.flags|=1,nr(t,e,r,i),e.child)}function iR(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_2(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,d7(t,e,s,r,i)):(t=ev(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!U2(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ap,n(a,r)&&t.ref===e.ref)return Ga(t,e,i)}return e.flags|=1,t=Va(s,r),t.ref=e.ref,t.return=e,e.child=t}function d7(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ap(s,r)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=r=s,U2(t,i))t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,Ga(t,e,i)}return mk(t,e,n,r,i)}function h7(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return sR(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&tv(e,s!==null?s.cachePool:null),s!==null?WI(e,s):lk(),i7(e);else return e.lanes=e.childLanes=536870912,sR(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(tv(e,s.cachePool),WI(e,s),Lo(),e.memoizedState=null):(t!==null&&tv(e,null),lk(),Lo());return nr(t,e,i,n),e.child}function sR(t,e,n,r){var i=A2();return i=i===null?null:{parent:In._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&tv(e,null),lk(),i7(e),t!==null&&mg(t,e,r,!0),null}function iv(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ie(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function mk(t,e,n,r,i){return Jc(e),n=C2(t,e,n,r,void 0,i),r=P2(),t!==null&&!Kn?(O2(t,e,i),Ga(t,e,i)):(pt&&r&&S2(e),e.flags|=1,nr(t,e,n,i),e.child)}function aR(t,e,n,r,i,s){return Jc(e),e.updateQueue=null,n=k9(e,r,n,i),E9(t),r=P2(),t!==null&&!Kn?(O2(t,e,s),Ga(t,e,s)):(pt&&r&&S2(e),e.flags|=1,nr(t,e,n,s),e.child)}function oR(t,e,n,r,i){if(Jc(e),e.stateNode===null){var s=od,a=n.contextType;typeof a=="object"&&a!==null&&(s=_r(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=hk,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},j2(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?_r(a):od,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(H_(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&hk.enqueueReplaceState(s,s.state,null),Am(e,r,s,i),km(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=tu(n,o);s.props=l;var u=s.context,d=n.contextType;a=od,typeof d=="object"&&d!==null&&(a=_r(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&tR(e,s,r,a),Oo=!1;var f=e.memoizedState;s.state=f,Am(e,r,s,i),km(),u=e.memoizedState,o||f!==u||Oo?(typeof h=="function"&&(H_(e,n,h,r),u=e.memoizedState),(l=Oo||eR(e,n,l,r,f,u,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ak(t,e),a=e.memoizedProps,d=tu(n,a),s.props=d,h=e.pendingProps,f=s.context,u=n.contextType,l=od,typeof u=="object"&&u!==null&&(l=_r(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&tR(e,s,r,l),Oo=!1,f=e.memoizedState,s.state=f,Am(e,r,s,i),km();var m=e.memoizedState;a!==h||f!==m||Oo||t!==null&&t.dependencies!==null&&qv(t.dependencies)?(typeof o=="function"&&(H_(e,n,o,r),m=e.memoizedState),(d=Oo||eR(e,n,d,r,f,m,l)||t!==null&&t.dependencies!==null&&qv(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,iv(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Zd(e,t.child,null,i),e.child=Zd(e,null,n,i)):nr(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Ga(t,e,i),t}function lR(t,e,n,r){return fg(),e.flags|=256,nr(t,e,n,r),e.child}var q_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function W_(t){return{baseLanes:t,cachePool:x9()}}function K_(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=zi),t}function f7(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Rn.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(pt){if(i?Do(e):Lo(),pt){var o=on,l;if(l=o){e:{for(l=o,o=Us;l.nodeType!==8;){if(!o){o=null;break e}if(l=ms(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:Lc!==null?{id:Ta,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},l=fi(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,Rr=e,on=null,l=!0):l=!1}l||Zc(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Tk(o)?e.lanes=32:e.lanes=536870912,null;Pa(e)}return o=r.children,r=r.fallback,i?(Lo(),i=e.mode,o=Jv({mode:"hidden",children:o},i),r=Dc(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=W_(n),i.childLanes=K_(t,a,n),e.memoizedState=q_,r):(Do(e),pk(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(Do(e),e.flags&=-257,e=G_(t,e,n)):e.memoizedState!==null?(Lo(),e.child=t.child,e.flags|=128,e=null):(Lo(),i=r.fallback,o=e.mode,r=Jv({mode:"visible",children:r.children},o),i=Dc(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Zd(e,t.child,null,n),r=e.child,r.memoizedState=W_(n),r.childLanes=K_(t,a,n),e.memoizedState=q_,e=i);else if(Do(e),Tk(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(ie(419)),r.stack="",r.digest=a,op({value:r,source:null,stack:null}),e=G_(t,e,n)}else if(Kn||mg(t,e,n,!1),a=(n&t.childLanes)!==0,Kn||a){if(a=Lt,a!==null&&(r=n&-n,r=r&42?1:d2(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,Oh(t,r),xi(a,t,r),u7;o.data==="$?"||wk(),e=G_(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,on=ms(o.nextSibling),Rr=e,pt=!0,Vc=null,Us=!1,t!==null&&(Mi[Di++]=Ta,Mi[Di++]=Na,Mi[Di++]=Lc,Ta=t.id,Na=t.overflow,Lc=e),e=pk(e,r.children),e.flags|=4096);return e}return i?(Lo(),i=r.fallback,o=e.mode,l=t.child,u=l.sibling,r=Va(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?i=Va(u,i):(i=Dc(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=W_(n):(l=o.cachePool,l!==null?(u=In._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=x9(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=K_(t,a,n),e.memoizedState=q_,r):(Do(e),n=t.child,t=n.sibling,n=Va(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function pk(t,e){return e=Jv({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Jv(t,e){return t=fi(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function G_(t,e,n){return Zd(e,t.child,null,n),t=pk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nk(t.return,e,n)}function Y_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function m7(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nr(t,e,r.children,n),r=Rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cR(t,n,e);else if(t.tag===19)cR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Gt(Rn,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Y_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Y_(e,!0,n,null,s);break;case"together":Y_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bl|=e.lanes,!(n&e.childLanes))if(t!==null){if(mg(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Va(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Va(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U2(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&qv(t)))}function YJ(t,e,n){switch(e.tag){case 3:Lv(e,e.stateNode.containerInfo),Mo(e,In,t.memoizedState.cache),fg();break;case 27:case 5:HE(e);break;case 4:Lv(e,e.stateNode.containerInfo);break;case 10:Mo(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Do(e),e.flags|=128,null):n&e.child.childLanes?f7(t,e,n):(Do(e),t=Ga(t,e,n),t!==null?t.sibling:null);Do(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(mg(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return m7(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(Rn,Rn.current),r)break;return null;case 22:case 23:return e.lanes=0,h7(t,e,n);case 24:Mo(e,In,t.memoizedState.cache)}return Ga(t,e,n)}function p7(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Kn=!0;else{if(!U2(t,n)&&!(e.flags&128))return Kn=!1,YJ(t,e,n);Kn=!!(t.flags&131072)}else Kn=!1,pt&&e.flags&1048576&&y9(e,Hv,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")_2(r)?(t=tu(r,t),e.tag=1,e=oR(null,e,r,t,n)):(e.tag=0,e=mk(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===l2){e.tag=11,e=rR(null,e,r,t,n);break e}else if(i===c2){e.tag=14,e=iR(null,e,r,t,n);break e}}throw e=zE(r)||r,Error(ie(306,e,""))}}return e;case 0:return mk(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=tu(r,e.pendingProps),oR(t,e,r,i,n);case 3:e:{if(Lv(e,e.stateNode.containerInfo),t===null)throw Error(ie(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,ak(t,e),Am(e,r,null,n);var a=e.memoizedState;if(r=a.cache,Mo(e,In,r),r!==s.cache&&rk(e,[In],n,!0),km(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=lR(t,e,r,n);break e}else if(r!==i){i=Fi(Error(ie(424)),e),op(i),e=lR(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(on=ms(t.firstChild),Rr=e,pt=!0,Vc=null,Us=!0,n=r7(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fg(),r===i){e=Ga(t,e,n);break e}nr(t,e,r,n)}e=e.child}return e;case 26:return iv(t,e),t===null?(n=AR(e.type,null,e.pendingProps,null))?e.memoizedState=n:pt||(n=e.type,t=e.pendingProps,r=ax(il.current).createElement(n),r[wr]=e,r[ti]=t,or(r,n,t),Wn(r),e.stateNode=r):e.memoizedState=AR(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return HE(e),t===null&&pt&&(r=e.stateNode=t8(e.type,e.pendingProps,il.current),Rr=e,Us=!0,i=on,Dl(e.type)?(Nk=i,on=ms(r.firstChild)):on=i),nr(t,e,e.pendingProps.children,n),iv(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&pt&&((i=r=on)&&(r=See(r,e.type,e.pendingProps,Us),r!==null?(e.stateNode=r,Rr=e,on=ms(r.firstChild),Us=!1,i=!0):i=!1),i||Zc(e)),HE(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,Ak(i,s)?r=null:a!==null&&Ak(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=C2(t,e,UJ,null,null,n),fp._currentValue=i),iv(t,e),nr(t,e,r,n),e.child;case 6:return t===null&&pt&&((t=n=on)&&(n=Eee(n,e.pendingProps,Us),n!==null?(e.stateNode=n,Rr=e,on=null,t=!0):t=!1),t||Zc(e)),null;case 13:return f7(t,e,n);case 4:return Lv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zd(e,null,r,n):nr(t,e,r,n),e.child;case 11:return rR(t,e,e.type,e.pendingProps,n);case 7:return nr(t,e,e.pendingProps,n),e.child;case 8:return nr(t,e,e.pendingProps.children,n),e.child;case 12:return nr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Mo(e,e.type,r.value),nr(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Jc(e),i=_r(i),r=r(i),e.flags|=1,nr(t,e,r,n),e.child;case 14:return iR(t,e,e.type,e.pendingProps,n);case 15:return d7(t,e,e.type,e.pendingProps,n);case 19:return m7(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Jv(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Va(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return h7(t,e,n);case 24:return Jc(e),r=_r(In),t===null?(i=A2(),i===null&&(i=Lt,s=k2(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},j2(e),Mo(e,In,i)):(t.lanes&n&&(ak(t,e),Am(e,null,null,n),km()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Mo(e,In,r)):(r=s.cache,Mo(e,In,r),r!==i.cache&&rk(e,[In],n,!0))),nr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(ie(156,e.tag))}function pa(t){t.flags|=4}function uR(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!i8(e)){if(e=Yi.current,e!==null&&((at&4194048)===at?Ws!==null:(at&62914560)!==at&&!(at&536870912)||e!==Ws))throw Sm=sk,b9;t.flags|=8192}}function X0(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?UF():536870912,t.lanes|=e,Jd|=e)}function Nf(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XJ(t,e,n){var r=e.pendingProps;switch(E2(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Zt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Fa(In),Wd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(jf(e)?pa(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,BI())),Zt(e),null;case 26:return n=e.memoizedState,t===null?(pa(e),n!==null?(Zt(e),uR(e,n)):(Zt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(pa(e),Zt(e),uR(e,n)):(Zt(e),e.flags&=-16777217):(t.memoizedProps!==r&&pa(e),Zt(e),e.flags&=-16777217),null;case 27:Vv(e),n=il.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&pa(e);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return Zt(e),null}t=Hs.current,jf(e)?VI(e):(t=t8(i,r,n),e.stateNode=t,pa(e))}return Zt(e),null;case 5:if(Vv(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&pa(e);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return Zt(e),null}if(t=Hs.current,jf(e))VI(e);else{switch(i=ax(il.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[wr]=e,t[ti]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(or(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&pa(e)}}return Zt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&pa(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(t=il.current,jf(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Rr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[wr]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Z7(t.nodeValue,n)),t||Zc(e)}else t=ax(t).createTextNode(r),t[wr]=e,e.stateNode=t}return Zt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=jf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ie(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[wr]=e}else fg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),i=!1}else i=BI(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Pa(e),e):(Pa(e),null)}if(Pa(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),X0(e,e.updateQueue),Zt(e),null;case 4:return Wd(),t===null&&Y2(e.stateNode.containerInfo),Zt(e),null;case 10:return Fa(e.type),Zt(e),null;case 19:if(Yn(Rn),i=e.memoizedState,i===null)return Zt(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Nf(i,!1);else{if(ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Xv(t),s!==null){for(e.flags|=128,Nf(i,!1),t=s.updateQueue,e.updateQueue=t,X0(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)g9(n,t),n=n.sibling;return Gt(Rn,Rn.current&1|2),e.child}t=t.sibling}i.tail!==null&&qs()>tx&&(e.flags|=128,r=!0,Nf(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xv(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,X0(e,t),Nf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pt)return Zt(e),null}else 2*qs()-i.renderingStartTime>tx&&n!==536870912&&(e.flags|=128,r=!0,Nf(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qs(),e.sibling=null,t=Rn.current,Gt(Rn,r?t&1|2:t&1),e):(Zt(e),null);case 22:case 23:return Pa(e),T2(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),n=e.updateQueue,n!==null&&X0(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Yn(Fc),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Fa(In),Zt(e),null;case 25:return null;case 30:return null}throw Error(ie(156,e.tag))}function QJ(t,e){switch(E2(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fa(In),Wd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Vv(e),null;case 13:if(Pa(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));fg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yn(Rn),null;case 4:return Wd(),null;case 10:return Fa(e.type),null;case 22:case 23:return Pa(e),T2(),t!==null&&Yn(Fc),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Fa(In),null;case 25:return null;default:return null}}function g7(t,e){switch(E2(e),e.tag){case 3:Fa(In),Wd();break;case 26:case 27:case 5:Vv(e);break;case 4:Wd();break;case 13:Pa(e);break;case 19:Yn(Rn);break;case 10:Fa(e.type);break;case 22:case 23:Pa(e),T2(),t!==null&&Yn(Fc);break;case 24:Fa(In)}}function xg(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Nt(e,e.return,o)}}function xl(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,u=o;try{u()}catch(d){Nt(i,l,d)}}}r=r.next}while(r!==s)}}catch(d){Nt(e,e.return,d)}}function y7(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{S9(e,n)}catch(r){Nt(t,t.return,r)}}}function v7(t,e,n){n.props=tu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Nt(t,e,r)}}function Tm(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Nt(t,e,i)}}function zs(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Nt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Nt(t,e,i)}else n.current=null}function x7(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Nt(t,t.return,i)}}function X_(t,e,n){try{var r=t.stateNode;vee(r,t.type,n,e),r[ti]=e}catch(i){Nt(t,t.return,i)}}function b7(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Dl(t.type)||t.tag===4}function Q_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Dl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mw));else if(r!==4&&(r===27&&Dl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(gk(t,e,n),t=t.sibling;t!==null;)gk(t,e,n),t=t.sibling}function ex(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Dl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ex(t,e,n),t=t.sibling;t!==null;)ex(t,e,n),t=t.sibling}function w7(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);or(e,r,n),e[wr]=t,e[ti]=n}catch(s){Nt(t,t.return,s)}}var Ea=!1,pn=!1,Z_=!1,dR=typeof WeakSet=="function"?WeakSet:Set,qn=null;function ZJ(t,e){if(t=t.containerInfo,Ek=ux,t=l9(t),x2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(o=a),f===s&&++d===r&&(l=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kk={focusedElem:t,selectionRange:n},ux=!1,qn=e;qn!==null;)if(e=qn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,qn=t;else for(;qn!==null;){switch(e=qn,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var p=tu(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(p,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){Nt(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)jk(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jk(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ie(163))}if(t=e.sibling,t!==null){t.return=e.return,qn=t;break}qn=e.return}}function _7(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:_o(t,n),r&4&&xg(5,n);break;case 1:if(_o(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Nt(n,n.return,a)}else{var i=tu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Nt(n,n.return,a)}}r&64&&y7(n),r&512&&Tm(n,n.return);break;case 3:if(_o(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{S9(t,e)}catch(a){Nt(n,n.return,a)}}break;case 27:e===null&&r&4&&w7(n);case 26:case 5:_o(t,n),e===null&&r&4&&x7(n),r&512&&Tm(n,n.return);break;case 12:_o(t,n);break;case 13:_o(t,n),r&4&&k7(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=oee.bind(null,n),kee(t,n))));break;case 22:if(r=n.memoizedState!==null||Ea,!r){e=e!==null&&e.memoizedState!==null||pn,i=Ea;var s=pn;Ea=r,(pn=e)&&!s?jo(t,n,(n.subtreeFlags&8772)!==0):_o(t,n),Ea=i,pn=s}break;case 30:break;default:_o(t,n)}}function S7(t){var e=t.alternate;e!==null&&(t.alternate=null,S7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&f2(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qt=null,zr=!1;function ga(t,e,n){for(n=n.child;n!==null;)E7(t,e,n),n=n.sibling}function E7(t,e,n){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(lg,n)}catch{}switch(n.tag){case 26:pn||zs(n,e),ga(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:pn||zs(n,e);var r=qt,i=zr;Dl(n.type)&&(qt=n.stateNode,zr=!1),ga(t,e,n),Om(n.stateNode),qt=r,zr=i;break;case 5:pn||zs(n,e);case 6:if(r=qt,i=zr,qt=null,ga(t,e,n),qt=r,zr=i,qt!==null)if(zr)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(n.stateNode)}catch(s){Nt(n,e,s)}else try{qt.removeChild(n.stateNode)}catch(s){Nt(n,e,s)}break;case 18:qt!==null&&(zr?(t=qt,SR(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),gp(t)):SR(qt,n.stateNode));break;case 4:r=qt,i=zr,qt=n.stateNode.containerInfo,zr=!0,ga(t,e,n),qt=r,zr=i;break;case 0:case 11:case 14:case 15:pn||xl(2,n,e),pn||xl(4,n,e),ga(t,e,n);break;case 1:pn||(zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&v7(n,e,r)),ga(t,e,n);break;case 21:ga(t,e,n);break;case 22:pn=(r=pn)||n.memoizedState!==null,ga(t,e,n),pn=r;break;default:ga(t,e,n)}}function k7(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gp(t)}catch(n){Nt(e,e.return,n)}}function JJ(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new dR),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new dR),e;default:throw Error(ie(435,t.tag))}}function J_(t,e){var n=JJ(t);e.forEach(function(r){var i=lee.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function oi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Dl(o.type)){qt=o.stateNode,zr=!1;break e}break;case 5:qt=o.stateNode,zr=!1;break e;case 3:case 4:qt=o.stateNode.containerInfo,zr=!0;break e}o=o.return}if(qt===null)throw Error(ie(160));E7(s,a,i),qt=null,zr=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)A7(e,t),e=e.sibling}var os=null;function A7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:oi(e,t),li(t),r&4&&(xl(3,t,t.return),xg(3,t),xl(5,t,t.return));break;case 1:oi(e,t),li(t),r&512&&(pn||n===null||zs(n,n.return)),r&64&&Ea&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=os;if(oi(e,t),li(t),r&512&&(pn||n===null||zs(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[dg]||s[wr]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),or(s,r,n),s[wr]=t,Wn(s),r=s;break e;case"link":var a=TR("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),or(s,r,n),i.head.appendChild(s);break;case"meta":if(a=TR("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),or(s,r,n),i.head.appendChild(s);break;default:throw Error(ie(468,r))}s[wr]=t,Wn(s),r=s}t.stateNode=r}else NR(i,t.type,t.stateNode);else t.stateNode=jR(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?NR(i,t.type,t.stateNode):jR(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&X_(t,t.memoizedProps,n.memoizedProps)}break;case 27:oi(e,t),li(t),r&512&&(pn||n===null||zs(n,n.return)),n!==null&&r&4&&X_(t,t.memoizedProps,n.memoizedProps);break;case 5:if(oi(e,t),li(t),r&512&&(pn||n===null||zs(n,n.return)),t.flags&32){i=t.stateNode;try{Gd(i,"")}catch(m){Nt(t,t.return,m)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,X_(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Z_=!0);break;case 6:if(oi(e,t),li(t),r&4){if(t.stateNode===null)throw Error(ie(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){Nt(t,t.return,m)}}break;case 3:if(ov=null,i=os,os=ox(e.containerInfo),oi(e,t),os=i,li(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gp(e.containerInfo)}catch(m){Nt(t,t.return,m)}Z_&&(Z_=!1,j7(t));break;case 4:r=os,os=ox(t.stateNode.containerInfo),oi(e,t),li(t),os=r;break;case 12:oi(e,t),li(t);break;case 13:oi(e,t),li(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(W2=qs()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,J_(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Ea,d=pn;if(Ea=u||i,pn=d||l,oi(e,t),pn=d,Ea=u,li(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Ea||pn||lc(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){Nt(l,l.return,m)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(m){Nt(l,l.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,J_(t,n))));break;case 19:oi(e,t),li(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,J_(t,r)));break;case 30:break;case 21:break;default:oi(e,t),li(t)}}function li(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(b7(r)){n=r;break}r=r.return}if(n==null)throw Error(ie(160));switch(n.tag){case 27:var i=n.stateNode,s=Q_(t);ex(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Gd(a,""),n.flags&=-33);var o=Q_(t);ex(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Q_(t);gk(t,u,l);break;default:throw Error(ie(161))}}catch(d){Nt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j7(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;j7(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function _o(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)_7(t,e.alternate,e),e=e.sibling}function lc(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:xl(4,e,e.return),lc(e);break;case 1:zs(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&v7(e,e.return,n),lc(e);break;case 27:Om(e.stateNode);case 26:case 5:zs(e,e.return),lc(e);break;case 22:e.memoizedState===null&&lc(e);break;case 30:lc(e);break;default:lc(e)}t=t.sibling}}function jo(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:jo(i,s,n),xg(4,s);break;case 1:if(jo(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Nt(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)_9(l[i],o)}catch(u){Nt(r,r.return,u)}}n&&a&64&&y7(s),Tm(s,s.return);break;case 27:w7(s);case 26:case 5:jo(i,s,n),n&&r===null&&a&4&&x7(s),Tm(s,s.return);break;case 12:jo(i,s,n);break;case 13:jo(i,s,n),n&&a&4&&k7(i,s);break;case 22:s.memoizedState===null&&jo(i,s,n),Tm(s,s.return);break;case 30:break;default:jo(i,s,n)}e=e.sibling}}function z2(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&pg(n))}function $2(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&pg(t))}function Cs(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)T7(t,e,n,r),e=e.sibling}function T7(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Cs(t,e,n,r),i&2048&&xg(9,e);break;case 1:Cs(t,e,n,r);break;case 3:Cs(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&pg(t)));break;case 12:if(i&2048){Cs(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Nt(e,e.return,l)}}else Cs(t,e,n,r);break;case 13:Cs(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?Cs(t,e,n,r):Nm(t,e):s._visibility&2?Cs(t,e,n,r):(s._visibility|=2,Wu(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&z2(a,e);break;case 24:Cs(t,e,n,r),i&2048&&$2(e.alternate,e);break;default:Cs(t,e,n,r)}}function Wu(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:Wu(s,a,o,l,i),xg(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Wu(s,a,o,l,i):Nm(s,a):(d._visibility|=2,Wu(s,a,o,l,i)),i&&u&2048&&z2(a.alternate,a);break;case 24:Wu(s,a,o,l,i),i&&u&2048&&$2(a.alternate,a);break;default:Wu(s,a,o,l,i)}e=e.sibling}}function Nm(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Nm(n,r),i&2048&&z2(r.alternate,r);break;case 24:Nm(n,r),i&2048&&$2(r.alternate,r);break;default:Nm(n,r)}e=e.sibling}}var im=8192;function Lu(t){if(t.subtreeFlags&im)for(t=t.child;t!==null;)N7(t),t=t.sibling}function N7(t){switch(t.tag){case 26:Lu(t),t.flags&im&&t.memoizedState!==null&&Vee(os,t.memoizedState,t.memoizedProps);break;case 5:Lu(t);break;case 3:case 4:var e=os;os=ox(t.stateNode.containerInfo),Lu(t),os=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=im,im=16777216,Lu(t),im=e):Lu(t));break;default:Lu(t)}}function C7(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Cf(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];qn=r,O7(r,t)}C7(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P7(t),t=t.sibling}function P7(t){switch(t.tag){case 0:case 11:case 15:Cf(t),t.flags&2048&&xl(9,t,t.return);break;case 3:Cf(t);break;case 12:Cf(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,sv(t)):Cf(t);break;default:Cf(t)}}function sv(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];qn=r,O7(r,t)}C7(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:xl(8,e,e.return),sv(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,sv(e));break;default:sv(e)}t=t.sibling}}function O7(t,e){for(;qn!==null;){var n=qn;switch(n.tag){case 0:case 11:case 15:xl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:pg(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,qn=r;else e:for(n=t;qn!==null;){r=qn;var i=r.sibling,s=r.return;if(S7(r),r===n){qn=null;break e}if(i!==null){i.return=s,qn=i;break e}qn=s}}}var eee={getCacheForType:function(t){var e=_r(In),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},tee=typeof WeakMap=="function"?WeakMap:Map,St=0,Lt=null,We=null,at=0,bt=0,di=null,Jo=!1,Ih=!1,H2=!1,Ya=0,ln=0,bl=0,Bc=0,q2=0,zi=0,Jd=0,Cm=null,$r=null,yk=!1,W2=0,tx=1/0,nx=null,ol=null,sr=0,ll=null,eh=null,Td=0,vk=0,xk=null,I7=null,Pm=0,bk=null;function vi(){if(St&2&&at!==0)return at&-at;if(Ne.T!==null){var t=Yd;return t!==0?t:G2()}return HF()}function R7(){zi===0&&(zi=!(at&536870912)||pt?BF():536870912);var t=Yi.current;return t!==null&&(t.flags|=32),zi}function xi(t,e,n){(t===Lt&&(bt===2||bt===9)||t.cancelPendingCommit!==null)&&(th(t,0),el(t,at,zi,!1)),ug(t,n),(!(St&2)||t!==Lt)&&(t===Lt&&(!(St&2)&&(Bc|=n),ln===4&&el(t,at,zi,!1)),ua(t))}function M7(t,e,n){if(St&6)throw Error(ie(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||cg(t,e),i=r?iee(t,e):eS(t,e,!0),s=r;do{if(i===0){Ih&&!r&&el(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!nee(n)){i=eS(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=Cm;var l=o.current.memoizedState.isDehydrated;if(l&&(th(o,a).flags|=256),a=eS(o,a,!1),a!==2){if(H2&&!l){o.errorRecoveryDisabledLanes|=s,Bc|=s,i=4;break e}s=$r,$r=i,s!==null&&($r===null?$r=s:$r.push.apply($r,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){th(t,0),el(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(ie(345));case 4:if((e&4194048)!==e)break;case 6:el(r,e,zi,!Jo);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(ie(329))}if((e&62914560)===e&&(i=W2+300-qs(),10<i)){if(el(r,e,zi,!Jo),tw(r,0,!0)!==0)break e;r.timeoutHandle=e8(hR.bind(null,r,n,$r,nx,yk,e,zi,Bc,Jd,Jo,s,2,-0,0),i);break e}hR(r,n,$r,nx,yk,e,zi,Bc,Jd,Jo,s,0,-0,0)}}break}while(!0);ua(t)}function hR(t,e,n,r,i,s,a,o,l,u,d,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(hp={stylesheets:null,count:0,unsuspend:Lee},N7(e),h=Fee(),h!==null)){t.cancelPendingCommit=h(mR.bind(null,t,e,s,n,r,i,a,o,l,d,1,f,m)),el(t,s,a,!u);return}mR(t,e,s,n,r,i,a,o,l)}function nee(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_i(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function el(t,e,n,r){e&=~q2,e&=~Bc,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-yi(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&zF(t,n,e)}function dw(){return St&6?!0:(bg(0),!1)}function K2(){if(We!==null){if(bt===0)var t=We.return;else t=We,Ca=_u=null,I2(t),jd=null,cp=0,t=We;for(;t!==null;)g7(t.alternate,t),t=t.return;We=null}}function th(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,bee(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),K2(),Lt=t,We=n=Va(t.current,null),at=e,bt=0,di=null,Jo=!1,Ih=cg(t,e),H2=!1,Jd=zi=q2=Bc=bl=ln=0,$r=Cm=null,yk=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-yi(r),s=1<<i;e|=t[i],r&=~s}return Ya=e,sw(),n}function D7(t,e){ze=null,Ne.H=Yv,e===gg||e===ow?(e=HI(),bt=3):e===b9?(e=HI(),bt=4):bt=e===u7?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,di=e,We===null&&(ln=1,Zv(t,Fi(e,t.current)))}function L7(){var t=Ne.H;return Ne.H=Yv,t===null?Yv:t}function V7(){var t=Ne.A;return Ne.A=eee,t}function wk(){ln=4,Jo||(at&4194048)!==at&&Yi.current!==null||(Ih=!0),!(bl&134217727)&&!(Bc&134217727)||Lt===null||el(Lt,at,zi,!1)}function eS(t,e,n){var r=St;St|=2;var i=L7(),s=V7();(Lt!==t||at!==e)&&(nx=null,th(t,e)),e=!1;var a=ln;e:do try{if(bt!==0&&We!==null){var o=We,l=di;switch(bt){case 8:K2(),a=6;break e;case 3:case 2:case 9:case 6:Yi.current===null&&(e=!0);var u=bt;if(bt=0,di=null,ud(t,o,l,u),n&&Ih){a=0;break e}break;default:u=bt,bt=0,di=null,ud(t,o,l,u)}}ree(),a=ln;break}catch(d){D7(t,d)}while(!0);return e&&t.shellSuspendCounter++,Ca=_u=null,St=r,Ne.H=i,Ne.A=s,We===null&&(Lt=null,at=0,sw()),a}function ree(){for(;We!==null;)F7(We)}function iee(t,e){var n=St;St|=2;var r=L7(),i=V7();Lt!==t||at!==e?(nx=null,tx=qs()+500,th(t,e)):Ih=cg(t,e);e:do try{if(bt!==0&&We!==null){e=We;var s=di;t:switch(bt){case 1:bt=0,di=null,ud(t,e,s,1);break;case 2:case 9:if($I(s)){bt=0,di=null,fR(e);break}e=function(){bt!==2&&bt!==9||Lt!==t||(bt=7),ua(t)},s.then(e,e);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:$I(s)?(bt=0,di=null,fR(e)):(bt=0,di=null,ud(t,e,s,7));break;case 5:var a=null;switch(We.tag){case 26:a=We.memoizedState;case 5:case 27:var o=We;if(!a||i8(a)){bt=0,di=null;var l=o.sibling;if(l!==null)We=l;else{var u=o.return;u!==null?(We=u,hw(u)):We=null}break t}}bt=0,di=null,ud(t,e,s,5);break;case 6:bt=0,di=null,ud(t,e,s,6);break;case 8:K2(),ln=6;break e;default:throw Error(ie(462))}}see();break}catch(d){D7(t,d)}while(!0);return Ca=_u=null,Ne.H=r,Ne.A=i,St=n,We!==null?0:(Lt=null,at=0,sw(),ln)}function see(){for(;We!==null&&!jZ();)F7(We)}function F7(t){var e=p7(t.alternate,t,Ya);t.memoizedProps=t.pendingProps,e===null?hw(t):We=e}function fR(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=aR(n,e,e.pendingProps,e.type,void 0,at);break;case 11:e=aR(n,e,e.pendingProps,e.type.render,e.ref,at);break;case 5:I2(e);default:g7(n,e),e=We=g9(e,Ya),e=p7(n,e,Ya)}t.memoizedProps=t.pendingProps,e===null?hw(t):We=e}function ud(t,e,n,r){Ca=_u=null,I2(e),jd=null,cp=0;var i=e.return;try{if(GJ(t,i,e,n,at)){ln=1,Zv(t,Fi(n,t.current)),We=null;return}}catch(s){if(i!==null)throw We=i,s;ln=1,Zv(t,Fi(n,t.current)),We=null;return}e.flags&32768?(pt||r===1?t=!0:Ih||at&536870912?t=!1:(Jo=t=!0,(r===2||r===9||r===3||r===6)&&(r=Yi.current,r!==null&&r.tag===13&&(r.flags|=16384))),B7(e,t)):hw(e)}function hw(t){var e=t;do{if(e.flags&32768){B7(e,Jo);return}t=e.return;var n=XJ(e.alternate,e,Ya);if(n!==null){We=n;return}if(e=e.sibling,e!==null){We=e;return}We=e=t}while(e!==null);ln===0&&(ln=5)}function B7(t,e){do{var n=QJ(t.alternate,t);if(n!==null){n.flags&=32767,We=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){We=t;return}We=t=n}while(t!==null);ln=6,We=null}function mR(t,e,n,r,i,s,a,o,l){t.cancelPendingCommit=null;do fw();while(sr!==0);if(St&6)throw Error(ie(327));if(e!==null){if(e===t.current)throw Error(ie(177));if(s=e.lanes|e.childLanes,s|=b2,LZ(t,n,s,a,o,l),t===Lt&&(We=Lt=null,at=0),eh=e,ll=t,Td=n,vk=s,xk=i,I7=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,cee(Fv,function(){return q7(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ne.T,Ne.T=null,i=gt.p,gt.p=2,a=St,St|=4;try{ZJ(t,e,n)}finally{St=a,gt.p=i,Ne.T=r}}sr=1,U7(),z7(),$7()}}function U7(){if(sr===1){sr=0;var t=ll,e=eh,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ne.T,Ne.T=null;var r=gt.p;gt.p=2;var i=St;St|=4;try{A7(e,t);var s=kk,a=l9(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&o9(o.ownerDocument.documentElement,o)){if(l!==null&&x2(o)){var u=l.start,d=l.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var h=o.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),p=o.textContent.length,y=Math.min(l.start,p),v=l.end===void 0?y:Math.min(l.end,p);!m.extend&&y>v&&(a=v,v=y,y=a);var b=MI(o,y),w=MI(o,v);if(b&&w&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==w.node||m.focusOffset!==w.offset)){var _=h.createRange();_.setStart(b.node,b.offset),m.removeAllRanges(),y>v?(m.addRange(_),m.extend(w.node,w.offset)):(_.setEnd(w.node,w.offset),m.addRange(_))}}}}for(h=[],m=o;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var j=h[o];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}ux=!!Ek,kk=Ek=null}finally{St=i,gt.p=r,Ne.T=n}}t.current=e,sr=2}}function z7(){if(sr===2){sr=0;var t=ll,e=eh,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ne.T,Ne.T=null;var r=gt.p;gt.p=2;var i=St;St|=4;try{_7(t,e.alternate,e)}finally{St=i,gt.p=r,Ne.T=n}}sr=3}}function $7(){if(sr===4||sr===3){sr=0,TZ();var t=ll,e=eh,n=Td,r=I7;e.subtreeFlags&10256||e.flags&10256?sr=5:(sr=0,eh=ll=null,H7(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(ol=null),h2(n),e=e.stateNode,gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(lg,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ne.T,i=gt.p,gt.p=2,Ne.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{Ne.T=e,gt.p=i}}Td&3&&fw(),ua(t),i=t.pendingLanes,n&4194090&&i&42?t===bk?Pm++:(Pm=0,bk=t):Pm=0,bg(0)}}function H7(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,pg(e)))}function fw(t){return U7(),z7(),$7(),q7()}function q7(){if(sr!==5)return!1;var t=ll,e=vk;vk=0;var n=h2(Td),r=Ne.T,i=gt.p;try{gt.p=32>n?32:n,Ne.T=null,n=xk,xk=null;var s=ll,a=Td;if(sr=0,eh=ll=null,Td=0,St&6)throw Error(ie(331));var o=St;if(St|=4,P7(s.current),T7(s,s.current,a,n),St=o,bg(0,!1),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(lg,s)}catch{}return!0}finally{gt.p=i,Ne.T=r,H7(t,e)}}function pR(t,e,n){e=Fi(n,e),e=fk(t.stateNode,e,2),t=al(t,e,2),t!==null&&(ug(t,2),ua(t))}function Nt(t,e,n){if(t.tag===3)pR(t,t,n);else for(;e!==null;){if(e.tag===3){pR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ol===null||!ol.has(r))){t=Fi(n,t),n=l7(2),r=al(e,n,2),r!==null&&(c7(n,r,e,t),ug(r,2),ua(r));break}}e=e.return}}function tS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tee;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(H2=!0,i.add(n),t=aee.bind(null,t,e,n),e.then(t,t))}function aee(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Lt===t&&(at&n)===n&&(ln===4||ln===3&&(at&62914560)===at&&300>qs()-W2?!(St&2)&&th(t,0):q2|=n,Jd===at&&(Jd=0)),ua(t)}function W7(t,e){e===0&&(e=UF()),t=Oh(t,e),t!==null&&(ug(t,e),ua(t))}function oee(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W7(t,n)}function lee(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(ie(314))}r!==null&&r.delete(e),W7(t,n)}function cee(t,e){return u2(t,e)}var rx=null,Ku=null,_k=!1,ix=!1,nS=!1,Uc=0;function ua(t){t!==Ku&&t.next===null&&(Ku===null?rx=Ku=t:Ku=Ku.next=t),ix=!0,_k||(_k=!0,dee())}function bg(t,e){if(!nS&&ix){nS=!0;do for(var n=!1,r=rx;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-yi(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,gR(r,s))}else s=at,s=tw(r,r===Lt?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||cg(r,s)||(n=!0,gR(r,s));r=r.next}while(n);nS=!1}}function uee(){K7()}function K7(){ix=_k=!1;var t=0;Uc!==0&&(xee()&&(t=Uc),Uc=0);for(var e=qs(),n=null,r=rx;r!==null;){var i=r.next,s=G7(r,e);s===0?(r.next=null,n===null?rx=i:n.next=i,i===null&&(Ku=n)):(n=r,(t!==0||s&3)&&(ix=!0)),r=i}bg(t)}function G7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-yi(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=DZ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=Lt,n=at,n=tw(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(bt===2||bt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&T_(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||cg(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&T_(r),h2(n)){case 2:case 8:n=VF;break;case 32:n=Fv;break;case 268435456:n=FF;break;default:n=Fv}return r=Y7.bind(null,t),n=u2(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&T_(r),t.callbackPriority=2,t.callbackNode=null,2}function Y7(t,e){if(sr!==0&&sr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(fw()&&t.callbackNode!==n)return null;var r=at;return r=tw(t,t===Lt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(M7(t,r,e),G7(t,qs()),t.callbackNode!=null&&t.callbackNode===n?Y7.bind(null,t):null)}function gR(t,e){if(fw())return null;M7(t,e,!0)}function dee(){wee(function(){St&6?u2(LF,uee):K7()})}function G2(){return Uc===0&&(Uc=BF()),Uc}function yR(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qy(""+t)}function vR(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function hee(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=yR((i[ti]||null).action),a=r.submitter;a&&(e=(e=a[ti]||null)?yR(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new nw("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Uc!==0){var l=a?vR(i,a):new FormData(i);dk(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?vR(i,a):new FormData(i),dk(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var rS=0;rS<JE.length;rS++){var iS=JE[rS],fee=iS.toLowerCase(),mee=iS[0].toUpperCase()+iS.slice(1);ws(fee,"on"+mee)}ws(u9,"onAnimationEnd");ws(d9,"onAnimationIteration");ws(h9,"onAnimationStart");ws("dblclick","onDoubleClick");ws("focusin","onFocus");ws("focusout","onBlur");ws(PJ,"onTransitionRun");ws(OJ,"onTransitionStart");ws(IJ,"onTransitionCancel");ws(f9,"onTransitionEnd");Kd("onMouseEnter",["mouseout","mouseover"]);Kd("onMouseLeave",["mouseout","mouseover"]);Kd("onPointerEnter",["pointerout","pointerover"]);Kd("onPointerLeave",["pointerout","pointerover"]);xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pee=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(up));function X7(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(d){Qv(d)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(d){Qv(d)}i.currentTarget=null,s=l}}}}function qe(t,e){var n=e[WE];n===void 0&&(n=e[WE]=new Set);var r=t+"__bubble";n.has(r)||(Q7(e,t,2,!1),n.add(r))}function sS(t,e,n){var r=0;e&&(r|=4),Q7(n,t,r,e)}var Q0="_reactListening"+Math.random().toString(36).slice(2);function Y2(t){if(!t[Q0]){t[Q0]=!0,qF.forEach(function(n){n!=="selectionchange"&&(pee.has(n)||sS(n,!1,t),sS(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Q0]||(e[Q0]=!0,sS("selectionchange",!1,e))}}function Q7(t,e,n,r){switch(c8(e)){case 2:var i=zee;break;case 8:i=$ee;break;default:i=J2}n=i.bind(null,e,n,t),i=void 0,!XE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function aS(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=td(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}JF(function(){var u=s,d=p2(n),h=[];e:{var f=m9.get(t);if(f!==void 0){var m=nw,p=t;switch(t){case"keypress":if(Jy(n)===0)break e;case"keydown":case"keyup":m=cJ;break;case"focusin":p="focus",m=D_;break;case"focusout":p="blur",m=D_;break;case"beforeblur":case"afterblur":m=D_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=kI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hJ;break;case u9:case d9:case h9:m=eJ;break;case f9:m=mJ;break;case"scroll":case"scrollend":m=YZ;break;case"wheel":m=gJ;break;case"copy":case"cut":case"paste":m=nJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=jI;break;case"toggle":case"beforetoggle":m=vJ}var y=(e&4)!==0,v=!y&&(t==="scroll"||t==="scrollend"),b=y?f!==null?f+"Capture":null:f;y=[];for(var w=u,_;w!==null;){var j=w;if(_=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||_===null||b===null||(j=ip(w,b),j!=null&&y.push(dp(w,j,_))),v)break;w=w.return}0<y.length&&(f=new m(f,p,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==YE&&(p=n.relatedTarget||n.fromElement)&&(td(p)||p[Ch]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?td(p):null,p!==null&&(v=og(p),y=p.tag,p!==v||y!==5&&y!==27&&y!==6)&&(p=null)):(m=null,p=u),m!==p)){if(y=kI,j="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=jI,j="onPointerLeave",b="onPointerEnter",w="pointer"),v=m==null?f:rm(m),_=p==null?f:rm(p),f=new y(j,w+"leave",m,n,d),f.target=v,f.relatedTarget=_,j=null,td(d)===u&&(y=new y(b,w+"enter",p,n,d),y.target=_,y.relatedTarget=v,j=y),v=j,m&&p)t:{for(y=m,b=p,w=0,_=y;_;_=Vu(_))w++;for(_=0,j=b;j;j=Vu(j))_++;for(;0<w-_;)y=Vu(y),w--;for(;0<_-w;)b=Vu(b),_--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=Vu(y),b=Vu(b)}y=null}else y=null;m!==null&&xR(h,f,m,y,!1),p!==null&&v!==null&&xR(h,v,p,y,!0)}}e:{if(f=u?rm(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=PI;else if(CI(f))if(s9)E=TJ;else{E=AJ;var I=kJ}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&m2(u.elementType)&&(E=PI):E=jJ;if(E&&(E=E(t,u))){i9(h,E,n,d);break e}I&&I(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&GE(f,"number",f.value)}switch(I=u?rm(u):window,t){case"focusin":(CI(I)||I.contentEditable==="true")&&(id=I,QE=u,wm=null);break;case"focusout":wm=QE=id=null;break;case"mousedown":ZE=!0;break;case"contextmenu":case"mouseup":case"dragend":ZE=!1,DI(h,n,d);break;case"selectionchange":if(CJ)break;case"keydown":case"keyup":DI(h,n,d)}var k;if(v2)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else rd?n9(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(t9&&n.locale!=="ko"&&(rd||S!=="onCompositionStart"?S==="onCompositionEnd"&&rd&&(k=e9()):(Zo=d,g2="value"in Zo?Zo.value:Zo.textContent,rd=!0)),I=sx(u,S),0<I.length&&(S=new AI(S,t,null,n,d),h.push({event:S,listeners:I}),k?S.data=k:(k=r9(n),k!==null&&(S.data=k)))),(k=bJ?wJ(t,n):_J(t,n))&&(S=sx(u,"onBeforeInput"),0<S.length&&(I=new AI("onBeforeInput","beforeinput",null,n,d),h.push({event:I,listeners:S}),I.data=k)),hee(h,t,u,n,d)}X7(h,e)})}function dp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=ip(t,n),i!=null&&r.unshift(dp(t,i,s)),i=ip(t,e),i!=null&&r.push(dp(t,i,s))),t.tag===3)return r;t=t.return}return[]}function Vu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xR(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=ip(n,s),u!=null&&a.unshift(dp(n,u,l))):i||(u=ip(n,s),u!=null&&a.push(dp(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var gee=/\r\n?/g,yee=/\u0000|\uFFFD/g;function bR(t){return(typeof t=="string"?t:""+t).replace(gee,`
`).replace(yee,"")}function Z7(t,e){return e=bR(e),bR(t)===e}function mw(){}function At(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Gd(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Gd(t,""+r);break;case"className":H0(t,"class",r);break;case"tabIndex":H0(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":H0(t,n,r);break;case"style":ZF(t,r,s);break;case"data":if(e!=="object"){H0(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Qy(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&At(t,e,"name",i.name,i,null),At(t,e,"formEncType",i.formEncType,i,null),At(t,e,"formMethod",i.formMethod,i,null),At(t,e,"formTarget",i.formTarget,i,null)):(At(t,e,"encType",i.encType,i,null),At(t,e,"method",i.method,i,null),At(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Qy(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=mw);break;case"onScroll":r!=null&&qe("scroll",t);break;case"onScrollEnd":r!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ie(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ie(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Qy(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Xy(t,"popover",r);break;case"xlinkActuate":ma(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ma(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ma(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ma(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ma(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ma(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ma(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ma(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ma(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Xy(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=KZ.get(n)||n,Xy(t,n,r))}}function Sk(t,e,n,r,i,s){switch(n){case"style":ZF(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ie(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ie(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Gd(t,r):(typeof r=="number"||typeof r=="bigint")&&Gd(t,""+r);break;case"onScroll":r!=null&&qe("scroll",t);break;case"onScrollEnd":r!=null&&qe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=mw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!WF.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[ti]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Xy(t,n,r)}}}function or(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ie(137,e));default:At(t,e,s,a,n,null)}}i&&At(t,e,"srcSet",n.srcSet,n,null),r&&At(t,e,"src",n.src,n,null);return;case"input":qe("invalid",t);var o=s=a=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":a=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(ie(137,e));break;default:At(t,e,r,d,n,null)}}YF(t,s,o,l,u,a,i,!1),Bv(t);return;case"select":qe("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:At(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?_d(t,!!r,e,!1):n!=null&&_d(t,!!r,n,!0);return;case"textarea":qe("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(ie(91));break;default:At(t,e,a,o,n,null)}QF(t,r,i,s),Bv(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:At(t,e,l,r,n,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(r=0;r<up.length;r++)qe(up[r],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ie(137,e));default:At(t,e,u,r,n,null)}return;default:if(m2(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Sk(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&At(t,e,o,r,n,null))}function vee(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=h;default:r.hasOwnProperty(m)||At(t,e,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(ie(137,e));break;default:m!==h&&At(t,e,f,m,r,h)}}KE(t,a,o,l,u,d,s,i);return;case"select":m=a=o=f=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(s)||At(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":f=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&At(t,e,i,s,r,l)}e=o,n=a,r=m,f!=null?_d(t,!!n,f,!1):!!r!=!!n&&(e!=null?_d(t,!!n,e,!0):_d(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:At(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ie(91));break;default:i!==s&&At(t,e,a,i,r,s)}XF(t,f,m);return;case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&f!=null&&!r.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:At(t,e,p,null,r,f)}for(l in r)if(f=r[l],m=n[l],r.hasOwnProperty(l)&&f!==m&&(f!=null||m!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:At(t,e,l,f,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y)&&At(t,e,y,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(ie(137,e));break;default:At(t,e,u,f,r,m)}return;default:if(m2(e)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!==void 0&&!r.hasOwnProperty(v)&&Sk(t,e,v,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||Sk(t,e,d,f,r,m);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b)&&At(t,e,b,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||f==null&&m==null||At(t,e,h,f,r,m)}var Ek=null,kk=null;function ax(t){return t.nodeType===9?t:t.ownerDocument}function wR(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J7(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ak(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oS=null;function xee(){var t=window.event;return t&&t.type==="popstate"?t===oS?!1:(oS=t,!0):(oS=null,!1)}var e8=typeof setTimeout=="function"?setTimeout:void 0,bee=typeof clearTimeout=="function"?clearTimeout:void 0,_R=typeof Promise=="function"?Promise:void 0,wee=typeof queueMicrotask=="function"?queueMicrotask:typeof _R<"u"?function(t){return _R.resolve(null).then(t).catch(_ee)}:e8;function _ee(t){setTimeout(function(){throw t})}function Dl(t){return t==="head"}function SR(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&Om(a.documentElement),n&2&&Om(a.body),n&4)for(n=a.head,Om(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[dg]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),gp(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);gp(e)}function jk(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jk(n),f2(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function See(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[dg])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=ms(t.nextSibling),t===null)break}return null}function Eee(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ms(t.nextSibling),t===null))return null;return t}function Tk(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kee(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Nk=null;function ER(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function t8(t,e,n){switch(e=ax(n),t){case"html":if(t=e.documentElement,!t)throw Error(ie(452));return t;case"head":if(t=e.head,!t)throw Error(ie(453));return t;case"body":if(t=e.body,!t)throw Error(ie(454));return t;default:throw Error(ie(451))}}function Om(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);f2(t)}var Xi=new Map,kR=new Set;function ox(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oo=gt.d;gt.d={f:Aee,r:jee,D:Tee,C:Nee,L:Cee,m:Pee,X:Iee,S:Oee,M:Ree};function Aee(){var t=oo.f(),e=dw();return t||e}function jee(t){var e=Ph(t);e!==null&&e.tag===5&&e.type==="form"?G9(e):oo.r(t)}var Rh=typeof document>"u"?null:document;function n8(t,e,n){var r=Rh;if(r&&typeof e=="string"&&e){var i=Vi(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),kR.has(i)||(kR.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),or(e,"link",t),Wn(e),r.head.appendChild(e)))}}function Tee(t){oo.D(t),n8("dns-prefetch",t,null)}function Nee(t,e){oo.C(t,e),n8("preconnect",t,e)}function Cee(t,e,n){oo.L(t,e,n);var r=Rh;if(r&&t&&e){var i='link[rel="preload"][as="'+Vi(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Vi(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Vi(n.imageSizes)+'"]')):i+='[href="'+Vi(t)+'"]';var s=i;switch(e){case"style":s=nh(t);break;case"script":s=Mh(t)}Xi.has(s)||(t=$t({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Xi.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(wg(s))||e==="script"&&r.querySelector(_g(s))||(e=r.createElement("link"),or(e,"link",t),Wn(e),r.head.appendChild(e)))}}function Pee(t,e){oo.m(t,e);var n=Rh;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Vi(r)+'"][href="'+Vi(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Mh(t)}if(!Xi.has(s)&&(t=$t({rel:"modulepreload",href:t},e),Xi.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_g(s)))return}r=n.createElement("link"),or(r,"link",t),Wn(r),n.head.appendChild(r)}}}function Oee(t,e,n){oo.S(t,e,n);var r=Rh;if(r&&t){var i=wd(r).hoistableStyles,s=nh(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(wg(s)))o.loading=5;else{t=$t({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Xi.get(s))&&X2(t,n);var l=a=r.createElement("link");Wn(l),or(l,"link",t),l._p=new Promise(function(u,d){l.onload=u,l.onerror=d}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,av(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function Iee(t,e){oo.X(t,e);var n=Rh;if(n&&t){var r=wd(n).hoistableScripts,i=Mh(t),s=r.get(i);s||(s=n.querySelector(_g(i)),s||(t=$t({src:t,async:!0},e),(e=Xi.get(i))&&Q2(t,e),s=n.createElement("script"),Wn(s),or(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function Ree(t,e){oo.M(t,e);var n=Rh;if(n&&t){var r=wd(n).hoistableScripts,i=Mh(t),s=r.get(i);s||(s=n.querySelector(_g(i)),s||(t=$t({src:t,async:!0,type:"module"},e),(e=Xi.get(i))&&Q2(t,e),s=n.createElement("script"),Wn(s),or(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function AR(t,e,n,r){var i=(i=il.current)?ox(i):null;if(!i)throw Error(ie(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=nh(n.href),n=wd(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=nh(n.href);var s=wd(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(wg(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Xi.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Xi.set(t,n),s||Mee(i,t,n,a.state))),e&&r===null)throw Error(ie(528,""));return a}if(e&&r!==null)throw Error(ie(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Mh(n),n=wd(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(ie(444,t))}}function nh(t){return'href="'+Vi(t)+'"'}function wg(t){return'link[rel="stylesheet"]['+t+"]"}function r8(t){return $t({},t,{"data-precedence":t.precedence,precedence:null})}function Mee(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),or(e,"link",n),Wn(e),t.head.appendChild(e))}function Mh(t){return'[src="'+Vi(t)+'"]'}function _g(t){return"script[async]"+t}function jR(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Vi(n.href)+'"]');if(r)return e.instance=r,Wn(r),r;var i=$t({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Wn(r),or(r,"style",i),av(r,n.precedence,t),e.instance=r;case"stylesheet":i=nh(n.href);var s=t.querySelector(wg(i));if(s)return e.state.loading|=4,e.instance=s,Wn(s),s;r=r8(n),(i=Xi.get(i))&&X2(r,i),s=(t.ownerDocument||t).createElement("link"),Wn(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),or(s,"link",r),e.state.loading|=4,av(s,n.precedence,t),e.instance=s;case"script":return s=Mh(n.src),(i=t.querySelector(_g(s)))?(e.instance=i,Wn(i),i):(r=n,(i=Xi.get(s))&&(r=$t({},n),Q2(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Wn(i),or(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ie(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,av(r,n.precedence,t));return e.instance}function av(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function X2(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Q2(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ov=null;function TR(t,e,n){if(ov===null){var r=new Map,i=ov=new Map;i.set(n,r)}else i=ov,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[dg]||s[wr]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function NR(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Dee(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function i8(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var hp=null;function Lee(){}function Vee(t,e,n){if(hp===null)throw Error(ie(475));var r=hp;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=nh(n.href),s=t.querySelector(wg(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=lx.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,Wn(s);return}s=t.ownerDocument||t,n=r8(n),(i=Xi.get(i))&&X2(n,i),s=s.createElement("link"),Wn(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),or(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=lx.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function Fee(){if(hp===null)throw Error(ie(475));var t=hp;return t.stylesheets&&t.count===0&&Ck(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Ck(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function lx(){if(this.count--,this.count===0){if(this.stylesheets)Ck(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var cx=null;function Ck(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,cx=new Map,e.forEach(Bee,t),cx=null,lx.call(t))}function Bee(t,e){if(!(e.state.loading&4)){var n=cx.get(t);if(n)var r=n.get(null);else{n=new Map,cx.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=lx.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var fp={$$typeof:ja,Provider:null,Consumer:null,_currentValue:Mc,_currentValue2:Mc,_threadCount:0};function Uee(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=N_(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N_(0),this.hiddenUpdates=N_(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function s8(t,e,n,r,i,s,a,o,l,u,d,h){return t=new Uee(t,e,n,a,o,l,u,h),e=1,s===!0&&(e|=24),s=fi(3,null,null,e),t.current=s,s.stateNode=t,e=k2(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},j2(s),t}function a8(t){return t?(t=od,t):od}function o8(t,e,n,r,i,s){i=a8(i),r.context===null?r.context=i:r.pendingContext=i,r=sl(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=al(t,r,e),n!==null&&(xi(n,t,e),Em(n,t,e))}function CR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Z2(t,e){CR(t,e),(t=t.alternate)&&CR(t,e)}function l8(t){if(t.tag===13){var e=Oh(t,67108864);e!==null&&xi(e,t,67108864),Z2(t,67108864)}}var ux=!0;function zee(t,e,n,r){var i=Ne.T;Ne.T=null;var s=gt.p;try{gt.p=2,J2(t,e,n,r)}finally{gt.p=s,Ne.T=i}}function $ee(t,e,n,r){var i=Ne.T;Ne.T=null;var s=gt.p;try{gt.p=8,J2(t,e,n,r)}finally{gt.p=s,Ne.T=i}}function J2(t,e,n,r){if(ux){var i=Pk(r);if(i===null)aS(t,e,r,dx,n),PR(t,r);else if(qee(i,t,e,n,r))r.stopPropagation();else if(PR(t,r),e&4&&-1<Hee.indexOf(t)){for(;i!==null;){var s=Ph(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=ac(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-yi(a);o.entanglements[1]|=l,a&=~l}ua(s),!(St&6)&&(tx=qs()+500,bg(0))}}break;case 13:o=Oh(s,2),o!==null&&xi(o,s,2),dw(),Z2(s,2)}if(s=Pk(r),s===null&&aS(t,e,r,dx,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else aS(t,e,r,null,n)}}function Pk(t){return t=p2(t),eT(t)}var dx=null;function eT(t){if(dx=null,t=td(t),t!==null){var e=og(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=IF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return dx=t,null}function c8(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(NZ()){case LF:return 2;case VF:return 8;case Fv:case CZ:return 32;case FF:return 268435456;default:return 32}default:return 32}}var Ok=!1,cl=null,ul=null,dl=null,mp=new Map,pp=new Map,Vo=[],Hee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PR(t,e){switch(t){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":mp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pp.delete(e.pointerId)}}function Pf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ph(e),e!==null&&l8(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qee(t,e,n,r,i){switch(e){case"focusin":return cl=Pf(cl,t,e,n,r,i),!0;case"dragenter":return ul=Pf(ul,t,e,n,r,i),!0;case"mouseover":return dl=Pf(dl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return mp.set(s,Pf(mp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pp.set(s,Pf(pp.get(s)||null,t,e,n,r,i)),!0}return!1}function u8(t){var e=td(t.target);if(e!==null){var n=og(e);if(n!==null){if(e=n.tag,e===13){if(e=IF(n),e!==null){t.blockedOn=e,VZ(t.priority,function(){if(n.tag===13){var r=vi();r=d2(r);var i=Oh(n,r);i!==null&&xi(i,n,r),Z2(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pk(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);YE=r,n.target.dispatchEvent(r),YE=null}else return e=Ph(n),e!==null&&l8(e),t.blockedOn=n,!1;e.shift()}return!0}function OR(t,e,n){lv(t)&&n.delete(e)}function Wee(){Ok=!1,cl!==null&&lv(cl)&&(cl=null),ul!==null&&lv(ul)&&(ul=null),dl!==null&&lv(dl)&&(dl=null),mp.forEach(OR),pp.forEach(OR)}function Z0(t,e){t.blockedOn===e&&(t.blockedOn=null,Ok||(Ok=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,Wee)))}var J0=null;function IR(t){J0!==t&&(J0=t,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,function(){J0===t&&(J0=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(eT(r||n)===null)continue;break}var s=Ph(n);s!==null&&(t.splice(e,3),e-=3,dk(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function gp(t){function e(l){return Z0(l,t)}cl!==null&&Z0(cl,t),ul!==null&&Z0(ul,t),dl!==null&&Z0(dl,t),mp.forEach(e),pp.forEach(e);for(var n=0;n<Vo.length;n++){var r=Vo[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Vo.length&&(n=Vo[0],n.blockedOn===null);)u8(n),n.blockedOn===null&&Vo.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[ti]||null;if(typeof s=="function")a||IR(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[ti]||null)o=a.formAction;else if(eT(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),IR(n)}}}function tT(t){this._internalRoot=t}pw.prototype.render=tT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));var n=e.current,r=vi();o8(n,r,t,e,null,null)};pw.prototype.unmount=tT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;o8(t.current,2,null,t,null,null),dw(),e[Ch]=null}};function pw(t){this._internalRoot=t}pw.prototype.unstable_scheduleHydration=function(t){if(t){var e=HF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vo.length&&e!==0&&e<Vo[n].priority;n++);Vo.splice(n,0,t),n===0&&u8(t)}};var RR=PF.version;if(RR!=="19.1.1")throw Error(ie(527,RR,"19.1.1"));gt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=_Z(e),t=t!==null?RF(t):null,t=t===null?null:t.stateNode,t};var Kee={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Ne,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ey.isDisabled&&ey.supportsFiber)try{lg=ey.inject(Kee),gi=ey}catch{}}Jb.createRoot=function(t,e){if(!OF(t))throw Error(ie(299));var n=!1,r="",i=s7,s=a7,a=o7,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=s8(t,1,!1,null,null,n,r,i,s,a,o,null),t[Ch]=e.current,Y2(t),new tT(e)};Jb.hydrateRoot=function(t,e,n){if(!OF(t))throw Error(ie(299));var r=!1,i="",s=s7,a=a7,o=o7,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=s8(t,1,!0,e,n??null,r,i,s,a,o,l,u),e.context=a8(null),n=e.current,r=vi(),r=d2(r),i=sl(r),i.callback=null,al(n,i,r),n=r,e.current.lanes=n,ug(e,n),ua(e),t[Ch]=e.current,Y2(t),new pw(e)};Jb.version="19.1.1";function d8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d8)}catch(t){console.error(t)}}d8(),EF.exports=Jb;var Gee=EF.exports;const Yee=la(Gee);var gw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},qo,n2,aF,Qee=(aF=class{constructor(){rt(this,qo,Xee);rt(this,n2,!1)}setTimeoutProvider(t){Pe(this,qo,t)}setTimeout(t,e){return Z(this,qo).setTimeout(t,e)}clearTimeout(t){Z(this,qo).clearTimeout(t)}setInterval(t,e){return Z(this,qo).setInterval(t,e)}clearInterval(t){Z(this,qo).clearInterval(t)}},qo=new WeakMap,n2=new WeakMap,aF),Ik=new Qee;function Zee(t){setTimeout(t,0)}var yw=typeof window>"u"||"Deno"in globalThis;function is(){}function Jee(t,e){return typeof t=="function"?t(e):t}function ete(t){return typeof t=="number"&&t>=0&&t!==1/0}function tte(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Rk(t,e){return typeof t=="function"?t(e):t}function nte(t,e){return typeof t=="function"?t(e):t}function MR(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==nT(a,e.options))return!1}else if(!vp(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function DR(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(yp(e.options.mutationKey)!==yp(s))return!1}else if(!vp(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function nT(t,e){return((e==null?void 0:e.queryKeyHashFn)||yp)(t)}function yp(t){return JSON.stringify(t,(e,n)=>Mk(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function vp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>vp(t[n],e[n])):!1}var rte=Object.prototype.hasOwnProperty;function h8(t,e){if(t===e)return t;const n=LR(t)&&LR(e);if(!n&&!(Mk(t)&&Mk(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,o=n?new Array(a):{};let l=0;for(let u=0;u<a;u++){const d=n?u:s[u],h=t[d],f=e[d];if(h===f){o[d]=h,(n?u<i:rte.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const m=h8(h,f);o[d]=m,m===h&&l++}return i===a&&l===i?t:o}function LR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Mk(t){if(!VR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!VR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VR(t){return Object.prototype.toString.call(t)==="[object Object]"}function ite(t){return new Promise(e=>{Ik.setTimeout(e,t)})}function ste(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?h8(t,e):e}function ate(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ote(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var rT=Symbol();function f8(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===rT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Nc,Wo,Vd,oF,lte=(oF=class extends gw{constructor(){super();rt(this,Nc);rt(this,Wo);rt(this,Vd);Pe(this,Vd,e=>{if(!yw&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,Wo)||this.setEventListener(Z(this,Vd))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,Wo))==null||e.call(this),Pe(this,Wo,void 0))}setEventListener(e){var n;Pe(this,Vd,e),(n=Z(this,Wo))==null||n.call(this),Pe(this,Wo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Z(this,Nc)!==e&&(Pe(this,Nc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Z(this,Nc)=="boolean"?Z(this,Nc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Nc=new WeakMap,Wo=new WeakMap,Vd=new WeakMap,oF),m8=new lte;function cte(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var ute=Zee;function dte(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=ute;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Pr=dte(),Fd,Ko,Bd,lF,hte=(lF=class extends gw{constructor(){super();rt(this,Fd,!0);rt(this,Ko);rt(this,Bd);Pe(this,Bd,e=>{if(!yw&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,Ko)||this.setEventListener(Z(this,Bd))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,Ko))==null||e.call(this),Pe(this,Ko,void 0))}setEventListener(e){var n;Pe(this,Bd,e),(n=Z(this,Ko))==null||n.call(this),Pe(this,Ko,e(this.setOnline.bind(this)))}setOnline(e){Z(this,Fd)!==e&&(Pe(this,Fd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Z(this,Fd)}},Fd=new WeakMap,Ko=new WeakMap,Bd=new WeakMap,lF),hx=new hte;function fte(t){return Math.min(1e3*2**t,3e4)}function p8(t){return(t??"online")==="online"?hx.isOnline():!0}var Dk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function g8(t){let e=!1,n=0,r;const i=cte(),s=()=>i.status!=="pending",a=y=>{var v;if(!s()){const b=new Dk(y);f(b),(v=t.onCancel)==null||v.call(t,b)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>m8.isFocused()&&(t.networkMode==="always"||hx.isOnline())&&t.canRun(),d=()=>p8(t.networkMode)&&t.canRun(),h=y=>{s()||(r==null||r(),i.resolve(y))},f=y=>{s()||(r==null||r(),i.reject(y))},m=()=>new Promise(y=>{var v;r=b=>{(s()||u())&&y(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var y;r=void 0,s()||(y=t.onContinue)==null||y.call(t)}),p=()=>{if(s())return;let y;const v=n===0?t.initialPromise:void 0;try{y=v??t.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var I;if(s())return;const w=t.retry??(yw?0:3),_=t.retryDelay??fte,j=typeof _=="function"?_(n,b):_,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!E){f(b);return}n++,(I=t.onFail)==null||I.call(t,n,b),ite(j).then(()=>u()?void 0:m()).then(()=>{e?f(b):p()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?p():m().then(p),i)}}var Cc,cF,y8=(cF=class{constructor(){rt(this,Cc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ete(this.gcTime)&&Pe(this,Cc,Ik.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yw?1/0:5*60*1e3))}clearGcTimeout(){Z(this,Cc)&&(Ik.clearTimeout(Z(this,Cc)),Pe(this,Cc,void 0))}},Cc=new WeakMap,cF),Pc,Ud,Oi,Oc,Un,ig,Ic,ss,xa,uF,mte=(uF=class extends y8{constructor(n){super();rt(this,ss);rt(this,Pc);rt(this,Ud);rt(this,Oi);rt(this,Oc);rt(this,Un);rt(this,ig);rt(this,Ic);Pe(this,Ic,!1),Pe(this,ig,n.defaultOptions),this.setOptions(n.options),this.observers=[],Pe(this,Oc,n.client),Pe(this,Oi,Z(this,Oc).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Pe(this,Pc,FR(this.options)),this.state=n.state??Z(this,Pc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Z(this,Un))==null?void 0:n.promise}setOptions(n){if(this.options={...Z(this,ig),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=FR(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Pe(this,Pc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,Oi).remove(this)}setData(n,r){const i=ste(this.state.data,n,this.options);return fr(this,ss,xa).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){fr(this,ss,xa).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=Z(this,Un))==null?void 0:i.promise;return(s=Z(this,Un))==null||s.cancel(n),r?r.then(is).catch(is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,Pc))}isActive(){return this.observers.some(n=>nte(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Rk(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!tte(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Z(this,Un))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Z(this,Un))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Z(this,Oi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Z(this,Un)&&(Z(this,Ic)?Z(this,Un).cancel({revert:!0}):Z(this,Un).cancelRetry()),this.scheduleGc()),Z(this,Oi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fr(this,ss,xa).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,h,f,m,p,y,v,b,w,_,j;if(this.state.fetchStatus!=="idle"&&((u=Z(this,Un))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Z(this,Un))return Z(this,Un).continueRetry(),Z(this,Un).promise}if(n&&this.setOptions(n),!this.options.queryFn){const E=this.observers.find(I=>I.options.queryFn);E&&this.setOptions(E.options)}const i=new AbortController,s=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(Pe(this,Ic,!0),i.signal)})},a=()=>{const E=f8(this.options,r),k=(()=>{const S={client:Z(this,Oc),queryKey:this.queryKey,meta:this.meta};return s(S),S})();return Pe(this,Ic,!1),this.options.persister?this.options.persister(E,k,this):E(k)},l=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Z(this,Oc),state:this.state,fetchFn:a};return s(E),E})();(d=this.options.behavior)==null||d.onFetch(l,this),Pe(this,Ud,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&fr(this,ss,xa).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Pe(this,Un,g8({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:E=>{E instanceof Dk&&E.revert&&this.setState({...Z(this,Ud),fetchStatus:"idle"}),i.abort()},onFail:(E,I)=>{fr(this,ss,xa).call(this,{type:"failed",failureCount:E,error:I})},onPause:()=>{fr(this,ss,xa).call(this,{type:"pause"})},onContinue:()=>{fr(this,ss,xa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const E=await Z(this,Un).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(p=(m=Z(this,Oi).config).onSuccess)==null||p.call(m,E,this),(v=(y=Z(this,Oi).config).onSettled)==null||v.call(y,E,this.state.error,this),E}catch(E){if(E instanceof Dk){if(E.silent)return Z(this,Un).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw fr(this,ss,xa).call(this,{type:"error",error:E}),(w=(b=Z(this,Oi).config).onError)==null||w.call(b,E,this),(j=(_=Z(this,Oi).config).onSettled)==null||j.call(_,this.state.data,E,this),E}finally{this.scheduleGc()}}},Pc=new WeakMap,Ud=new WeakMap,Oi=new WeakMap,Oc=new WeakMap,Un=new WeakMap,ig=new WeakMap,Ic=new WeakMap,ss=new WeakSet,xa=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...pte(i.data,this.options),fetchMeta:n.meta??null};case"success":const s={...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pe(this,Ud,n.manual?s:void 0),s;case"error":const a=n.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Pr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Z(this,Oi).notify({query:this,type:"updated",action:n})})},uF);function pte(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:p8(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function FR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function BR(t){return{onFetch:(e,n)=>{var d,h,f,m,p;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],a=((p=e.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=f8(e.options,e.fetchOptions),w=async(_,j,E)=>{if(y)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:j,direction:E?"backward":"forward",meta:e.options.meta};return v(N),N})(),S=await b(k),{maxPages:P}=e.options,O=E?ote:ate;return{pages:O(_.pages,S,P),pageParams:O(_.pageParams,j,P)}};if(i&&s.length){const _=i==="backward",j=_?gte:UR,E={pages:s,pageParams:a},I=j(r,E);o=await w(E,I,_)}else{const _=t??s.length;do{const j=l===0?a[0]??r.initialPageParam:UR(r,o);if(l>0&&j==null)break;o=await w(o,j),l++}while(l<_)}return o};e.options.persister?e.fetchFn=()=>{var y,v;return(v=(y=e.options).persister)==null?void 0:v.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function UR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function gte(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Vs,Cr,Rc,Fs,To,dF,yte=(dF=class extends y8{constructor(n){super();rt(this,Fs);rt(this,Vs);rt(this,Cr);rt(this,Rc);this.mutationId=n.mutationId,Pe(this,Cr,n.mutationCache),Pe(this,Vs,[]),this.state=n.state||vte(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Z(this,Vs).includes(n)||(Z(this,Vs).push(n),this.clearGcTimeout(),Z(this,Cr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Pe(this,Vs,Z(this,Vs).filter(r=>r!==n)),this.scheduleGc(),Z(this,Cr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Z(this,Vs).length||(this.state.status==="pending"?this.scheduleGc():Z(this,Cr).remove(this))}continue(){var n;return((n=Z(this,Rc))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,o,l,u,d,h,f,m,p,y,v,b,w,_,j,E,I,k,S,P;const r=()=>{fr(this,Fs,To).call(this,{type:"continue"})};Pe(this,Rc,g8({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(O,N)=>{fr(this,Fs,To).call(this,{type:"failed",failureCount:O,error:N})},onPause:()=>{fr(this,Fs,To).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,Cr).canRun(this)}));const i=this.state.status==="pending",s=!Z(this,Rc).canStart();try{if(i)r();else{fr(this,Fs,To).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(a=Z(this,Cr).config).onMutate)==null?void 0:o.call(a,n,this));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));N!==this.state.context&&fr(this,Fs,To).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const O=await Z(this,Rc).start();return await((h=(d=Z(this,Cr).config).onSuccess)==null?void 0:h.call(d,O,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,O,n,this.state.context)),await((y=(p=Z(this,Cr).config).onSettled)==null?void 0:y.call(p,O,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,O,null,n,this.state.context)),fr(this,Fs,To).call(this,{type:"success",data:O}),O}catch(O){try{throw await((_=(w=Z(this,Cr).config).onError)==null?void 0:_.call(w,O,n,this.state.context,this)),await((E=(j=this.options).onError)==null?void 0:E.call(j,O,n,this.state.context)),await((k=(I=Z(this,Cr).config).onSettled)==null?void 0:k.call(I,void 0,O,this.state.variables,this.state.context,this)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,O,n,this.state.context)),O}finally{fr(this,Fs,To).call(this,{type:"error",error:O})}}finally{Z(this,Cr).runNext(this)}}},Vs=new WeakMap,Cr=new WeakMap,Rc=new WeakMap,Fs=new WeakSet,To=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Pr.batch(()=>{Z(this,Vs).forEach(i=>{i.onMutationUpdate(n)}),Z(this,Cr).notify({mutation:this,type:"updated",action:n})})},dF);function vte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sa,as,sg,hF,xte=(hF=class extends gw{constructor(e={}){super();rt(this,Sa);rt(this,as);rt(this,sg);this.config=e,Pe(this,Sa,new Set),Pe(this,as,new Map),Pe(this,sg,0)}build(e,n,r){const i=new yte({mutationCache:this,mutationId:++F0(this,sg)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Z(this,Sa).add(e);const n=ty(e);if(typeof n=="string"){const r=Z(this,as).get(n);r?r.push(e):Z(this,as).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Z(this,Sa).delete(e)){const n=ty(e);if(typeof n=="string"){const r=Z(this,as).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Z(this,as).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ty(e);if(typeof n=="string"){const r=Z(this,as).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=ty(e);if(typeof n=="string"){const i=(r=Z(this,as).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pr.batch(()=>{Z(this,Sa).forEach(e=>{this.notify({type:"removed",mutation:e})}),Z(this,Sa).clear(),Z(this,as).clear()})}getAll(){return Array.from(Z(this,Sa))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>DR(n,r))}findAll(e={}){return this.getAll().filter(n=>DR(e,n))}notify(e){Pr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Pr.batch(()=>Promise.all(e.map(n=>n.continue().catch(is))))}},Sa=new WeakMap,as=new WeakMap,sg=new WeakMap,hF);function ty(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Bs,fF,bte=(fF=class extends gw{constructor(e={}){super();rt(this,Bs);this.config=e,Pe(this,Bs,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??nT(i,n);let a=this.get(s);return a||(a=new mte({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Z(this,Bs).has(e.queryHash)||(Z(this,Bs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Z(this,Bs).get(e.queryHash);n&&(e.destroy(),n===e&&Z(this,Bs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Z(this,Bs).get(e)}getAll(){return[...Z(this,Bs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>MR(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>MR(e,r)):n}notify(e){Pr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Pr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bs=new WeakMap,fF),sn,Go,Yo,zd,$d,Xo,Hd,qd,mF,wte=(mF=class{constructor(t={}){rt(this,sn);rt(this,Go);rt(this,Yo);rt(this,zd);rt(this,$d);rt(this,Xo);rt(this,Hd);rt(this,qd);Pe(this,sn,t.queryCache||new bte),Pe(this,Go,t.mutationCache||new xte),Pe(this,Yo,t.defaultOptions||{}),Pe(this,zd,new Map),Pe(this,$d,new Map),Pe(this,Xo,0)}mount(){F0(this,Xo)._++,Z(this,Xo)===1&&(Pe(this,Hd,m8.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,sn).onFocus())})),Pe(this,qd,hx.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,sn).onOnline())})))}unmount(){var t,e;F0(this,Xo)._--,Z(this,Xo)===0&&((t=Z(this,Hd))==null||t.call(this),Pe(this,Hd,void 0),(e=Z(this,qd))==null||e.call(this),Pe(this,qd,void 0))}isFetching(t){return Z(this,sn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Z(this,Go).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,sn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Z(this,sn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Rk(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Z(this,sn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Z(this,sn).get(r.queryHash),s=i==null?void 0:i.state.data,a=Jee(e,s);if(a!==void 0)return Z(this,sn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Pr.batch(()=>Z(this,sn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,sn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Z(this,sn);Pr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Z(this,sn);return Pr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Pr.batch(()=>Z(this,sn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(is).catch(is)}invalidateQueries(t,e={}){return Pr.batch(()=>(Z(this,sn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Pr.batch(()=>Z(this,sn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(is)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(is)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Z(this,sn).build(this,e);return n.isStaleByTime(Rk(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(is).catch(is)}fetchInfiniteQuery(t){return t.behavior=BR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(is).catch(is)}ensureInfiniteQueryData(t){return t.behavior=BR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return hx.isOnline()?Z(this,Go).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,sn)}getMutationCache(){return Z(this,Go)}getDefaultOptions(){return Z(this,Yo)}setDefaultOptions(t){Pe(this,Yo,t)}setQueryDefaults(t,e){Z(this,zd).set(yp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Z(this,zd).values()],n={};return e.forEach(r=>{vp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Z(this,$d).set(yp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Z(this,$d).values()],n={};return e.forEach(r=>{vp(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Z(this,Yo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=nT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Z(this,Yo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Z(this,sn).clear(),Z(this,Go).clear()}},sn=new WeakMap,Go=new WeakMap,Yo=new WeakMap,zd=new WeakMap,$d=new WeakMap,Xo=new WeakMap,Hd=new WeakMap,qd=new WeakMap,mF),_te=x.createContext(void 0),Ste=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(_te.Provider,{value:t,children:e}));/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zR="popstate";function Ete(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Lk("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xp(i)}return Ate(e,n,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kte(){return Math.random().toString(36).substring(2,10)}function $R(t,e){return{usr:t.state,key:t.key,idx:e}}function Lk(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Dh(e):e,state:n,key:e&&e.key||r||kte()}}function xp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Dh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Ate(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let v=d(),b=v==null?null:v-u;u=v,l&&l({action:o,location:y.location,delta:b})}function f(v,b){o="PUSH";let w=Lk(y.location,v,b);u=d()+1;let _=$R(w,u),j=y.createHref(w);try{a.pushState(_,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(j)}s&&l&&l({action:o,location:y.location,delta:1})}function m(v,b){o="REPLACE";let w=Lk(y.location,v,b);u=d();let _=$R(w,u),j=y.createHref(w);a.replaceState(_,"",j),s&&l&&l({action:o,location:y.location,delta:0})}function p(v){return jte(v)}let y={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zR,h),l=v,()=>{i.removeEventListener(zR,h),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let b=p(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(v){return a.go(v)}};return y}function jte(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:xp(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function v8(t,e,n="/"){return Tte(t,e,n,!1)}function Tte(t,e,n,r){let i=typeof e=="string"?Dh(e):e,s=Xa(i.pathname||"/",n);if(s==null)return null;let a=x8(t);Nte(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Bte(s);o=Vte(a[l],u,r)}return o}function x8(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Xt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=Ba([r,d.relativePath]),f=n.concat(d);a.children&&a.children.length>0&&(Xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),x8(a.children,e,f,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:Dte(h,a.index),routesMeta:f})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of b8(a.path))s(a,o,!0,u)}),e}function b8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=b8(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Nte(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Lte(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Cte=/^:[\w-]+$/,Pte=3,Ote=2,Ite=1,Rte=10,Mte=-2,HR=t=>t==="*";function Dte(t,e){let n=t.split("/"),r=n.length;return n.some(HR)&&(r+=Mte),e&&(r+=Ote),n.filter(i=>!HR(i)).reduce((i,s)=>i+(Cte.test(s)?Pte:s===""?Ite:Rte),r)}function Lte(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Vte(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=fx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=fx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Ba([s,h.pathname]),pathnameBase:Hte(Ba([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Ba([s,h.pathnameBase]))}return a}function fx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Fte(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let p=o[f]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Fte(t,e=!1,n=!0){gs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Bte(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ute(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Dh(t):t;return{pathname:n?n.startsWith("/")?n:zte(n,e):e,search:qte(r),hash:Wte(i)}}function zte(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lS(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $te(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iT(t){let e=$te(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function sT(t,e,n,r=!1){let i;typeof t=="string"?i=Dh(t):(i={...t},Xt(!i.pathname||!i.pathname.includes("?"),lS("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),lS("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),lS("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=Ute(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Ba=t=>t.join("/").replace(/\/\/+/g,"/"),Hte=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qte=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wte=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kte(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var w8=["POST","PUT","PATCH","DELETE"];new Set(w8);var Gte=["GET",...w8];new Set(Gte);var Lh=x.createContext(null);Lh.displayName="DataRouter";var vw=x.createContext(null);vw.displayName="DataRouterState";x.createContext(!1);var _8=x.createContext({isTransitioning:!1});_8.displayName="ViewTransition";var Yte=x.createContext(new Map);Yte.displayName="Fetchers";var Xte=x.createContext(null);Xte.displayName="Await";var _s=x.createContext(null);_s.displayName="Navigation";var Sg=x.createContext(null);Sg.displayName="Location";var es=x.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var aT=x.createContext(null);aT.displayName="RouteError";function Qte(t,{relative:e}={}){Xt(Vh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(_s),{hash:i,pathname:s,search:a}=Eg(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:Ba([n,s])),r.createHref({pathname:o,search:a,hash:i})}function Vh(){return x.useContext(Sg)!=null}function ii(){return Xt(Vh(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Sg).location}var S8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E8(t){x.useContext(_s).static||x.useLayoutEffect(t)}function Fr(){let{isDataRoute:t}=x.useContext(es);return t?hne():Zte()}function Zte(){Xt(Vh(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(Lh),{basename:e,navigator:n}=x.useContext(_s),{matches:r}=x.useContext(es),{pathname:i}=ii(),s=JSON.stringify(iT(r)),a=x.useRef(!1);return E8(()=>{a.current=!0}),x.useCallback((l,u={})=>{if(gs(a.current,S8),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=sT(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ba([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}var Jte=x.createContext(null);function ene(t){let e=x.useContext(es).outlet;return e&&x.createElement(Jte.Provider,{value:t},e)}function xw(){let{matches:t}=x.useContext(es),e=t[t.length-1];return e?e.params:{}}function Eg(t,{relative:e}={}){let{matches:n}=x.useContext(es),{pathname:r}=ii(),i=JSON.stringify(iT(n));return x.useMemo(()=>sT(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function tne(t,e){return k8(t,e)}function k8(t,e,n,r,i){var w;Xt(Vh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(_s),{matches:a}=x.useContext(es),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let _=h&&h.path||"";A8(u,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let f=ii(),m;if(e){let _=typeof e=="string"?Dh(e):e;Xt(d==="/"||((w=_.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=f;let p=m.pathname||"/",y=p;if(d!=="/"){let _=d.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=v8(t,{pathname:y});gs(h||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),gs(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=ane(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Ba([d,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:Ba([d,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,n,r,i);return e&&b?x.createElement(Sg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function nne(){let t=dne(),e=Kte(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,a)}var rne=x.createElement(nne,null),ine=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(es.Provider,{value:this.props.routeContext},x.createElement(aT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sne({routeContext:t,match:e,children:n}){let r=x.useContext(Lh);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(es.Provider,{value:t},n)}function ane(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);Xt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let f,m=!1,p=null,y=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||rne,o&&(l<0&&h===0?(A8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,y=null):l===h&&(m=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),b=()=>{let w;return f?w=p:m?w=y:d.route.Component?w=x.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,x.createElement(sne,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(ine,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:r}):b()},null)}function oT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function one(t){let e=x.useContext(Lh);return Xt(e,oT(t)),e}function lne(t){let e=x.useContext(vw);return Xt(e,oT(t)),e}function cne(t){let e=x.useContext(es);return Xt(e,oT(t)),e}function lT(t){let e=cne(t),n=e.matches[e.matches.length-1];return Xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function une(){return lT("useRouteId")}function dne(){var r;let t=x.useContext(aT),e=lne("useRouteError"),n=lT("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function hne(){let{router:t}=one("useNavigate"),e=lT("useNavigate"),n=x.useRef(!1);return E8(()=>{n.current=!0}),x.useCallback(async(i,s={})=>{gs(n.current,S8),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var qR={};function A8(t,e,n){!e&&!qR[t]&&(qR[t]=!0,gs(!1,n))}x.memo(fne);function fne({routes:t,future:e,state:n,unstable_onError:r}){return k8(t,void 0,n,r,e)}function Oa({to:t,replace:e,state:n,relative:r}){Xt(Vh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(_s);gs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=x.useContext(es),{pathname:a}=ii(),o=Fr(),l=sT(t,iT(s),a,r==="path"),u=JSON.stringify(l);return x.useEffect(()=>{o(JSON.parse(u),{replace:e,state:n,relative:r})},[o,u,r,e,n]),null}function j8(t){return ene(t.context)}function Ie(t){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mne({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Xt(!Vh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=x.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Dh(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=x.useMemo(()=>{let p=Xa(l,a);return p==null?null:{location:{pathname:p,search:u,hash:d,state:h,key:f},navigationType:r}},[a,l,u,d,h,f,r]);return gs(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:x.createElement(_s.Provider,{value:o},x.createElement(Sg.Provider,{children:e,value:m}))}function pne({children:t,location:e}){return tne(Vk(t),e)}function Vk(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Vk(r.props.children,s));return}Xt(r.type===Ie,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Vk(r.props.children,s)),n.push(a)}),n}var cv="get",uv="application/x-www-form-urlencoded";function bw(t){return t!=null&&typeof t.tagName=="string"}function gne(t){return bw(t)&&t.tagName.toLowerCase()==="button"}function yne(t){return bw(t)&&t.tagName.toLowerCase()==="form"}function vne(t){return bw(t)&&t.tagName.toLowerCase()==="input"}function xne(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bne(t,e){return t.button===0&&(!e||e==="_self")&&!xne(t)}var ny=null;function wne(){if(ny===null)try{new FormData(document.createElement("form"),0),ny=!1}catch{ny=!0}return ny}var _ne=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cS(t){return t!=null&&!_ne.has(t)?(gs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uv}"`),null):t}function Sne(t,e){let n,r,i,s,a;if(yne(t)){let o=t.getAttribute("action");r=o?Xa(o,e):null,n=t.getAttribute("method")||cv,i=cS(t.getAttribute("enctype"))||uv,s=new FormData(t)}else if(gne(t)||vne(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Xa(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||cv,i=cS(t.getAttribute("formenctype"))||cS(o.getAttribute("enctype"))||uv,s=new FormData(o,t),!wne()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(bw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cv,r=null,i=uv,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ene(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function kne(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ane(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jne(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await kne(s,n);return a.links?a.links():[]}return[]}));return Pne(r.flat(1).filter(Ane).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function WR(t,e,n,r,i,s){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Tne(t,e,{includeHydrateFallback:n}={}){return Nne(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Nne(t){return[...new Set(t)]}function Cne(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Pne(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Cne(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function T8(){let t=x.useContext(Lh);return cT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function One(){let t=x.useContext(vw);return cT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var uT=x.createContext(void 0);uT.displayName="FrameworkContext";function N8(){let t=x.useContext(uT);return cT(t,"You must render this element inside a <HydratedRouter> element"),t}function Ine(t,e){let n=x.useContext(uT),[r,i]=x.useState(!1),[s,a]=x.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=x.useRef(null);x.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let y=b=>{b.forEach(w=>{a(w.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[t]),x.useEffect(()=>{if(r){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{i(!0)},p=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Of(o,m),onBlur:Of(l,p),onMouseEnter:Of(u,m),onMouseLeave:Of(d,p),onTouchStart:Of(h,m)}]:[!1,f,{}]}function Of(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Rne({page:t,...e}){let{router:n}=T8(),r=x.useMemo(()=>v8(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(Dne,{page:t,matches:r,...e}):null}function Mne(t){let{manifest:e,routeModules:n}=N8(),[r,i]=x.useState([]);return x.useEffect(()=>{let s=!1;return jne(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function Dne({page:t,matches:e,...n}){let r=ii(),{manifest:i,routeModules:s}=N8(),{basename:a}=T8(),{loaderData:o,matches:l}=One(),u=x.useMemo(()=>WR(t,e,l,i,r,"data"),[t,e,l,i,r]),d=x.useMemo(()=>WR(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,y=!1;if(e.forEach(b=>{var _;let w=i.routes[b.route.id];!w||!w.hasLoader||(!u.some(j=>j.route.id===b.route.id)&&b.route.id in o&&((_=s[b.route.id])!=null&&_.shouldRevalidate)||w.hasClientLoader?y=!0:p.add(b.route.id))}),p.size===0)return[];let v=Ene(t,a,"data");return y&&p.size>0&&v.searchParams.set("_routes",e.filter(b=>p.has(b.route.id)).map(b=>b.route.id).join(",")),[v.pathname+v.search]},[a,o,r,i,u,e,t,s]),f=x.useMemo(()=>Tne(d,i),[d,i]),m=Mne(d);return x.createElement(x.Fragment,null,h.map(p=>x.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>x.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),m.map(({key:p,link:y})=>x.createElement("link",{key:p,nonce:n.nonce,...y})))}function Lne(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var C8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C8&&(window.__reactRouterVersion="7.9.1")}catch{}function Vne({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=Ete({window:n,v5Compat:!0}));let i=r.current,[s,a]=x.useState({action:i.action,location:i.location}),o=x.useCallback(l=>{x.startTransition(()=>a(l))},[a]);return x.useLayoutEffect(()=>i.listen(o),[i,o]),x.createElement(mne,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var P8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:p}=x.useContext(_s),y=typeof u=="string"&&P8.test(u),v,b=!1;if(typeof u=="string"&&y&&(v=u,C8))try{let P=new URL(window.location.href),O=u.startsWith("//")?new URL(P.protocol+u):new URL(u),N=Xa(O.pathname,p);O.origin===P.origin&&N!=null?u=N+O.search+O.hash:b=!0}catch{gs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Qte(u,{relative:i}),[_,j,E]=Ine(r,f),I=zne(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function k(P){e&&e(P),P.defaultPrevented||I(P)}let S=x.createElement("a",{...f,...E,href:v||w,onClick:b||s?e:k,ref:Lne(m,j),target:l,"data-discover":!y&&n==="render"?"true":void 0});return _&&!y?x.createElement(x.Fragment,null,S,x.createElement(Rne,{page:w})):S});be.displayName="Link";var Fne=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=Eg(a,{relative:u.relative}),f=ii(),m=x.useContext(vw),{navigator:p,basename:y}=x.useContext(_s),v=m!=null&&Kne(h)&&o===!0,b=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=f.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(w=w.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&y&&(_=Xa(_,y)||_);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let E=w===b||!i&&w.startsWith(b)&&w.charAt(j)==="/",I=_!=null&&(_===b||!i&&_.startsWith(b)&&_.charAt(b.length)==="/"),k={isActive:E,isPending:I,isTransitioning:v},S=E?e:void 0,P;typeof r=="function"?P=r(k):P=[r,E?"active":null,I?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(k):s;return x.createElement(be,{...u,"aria-current":S,className:P,ref:d,style:O,to:a,viewTransition:o},typeof l=="function"?l(k):l)});Fne.displayName="NavLink";var Bne=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=cv,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let p=qne(),y=Wne(o,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&P8.test(o),w=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let j=_.nativeEvent.submitter,E=(j==null?void 0:j.getAttribute("formmethod"))||a;p(j||_.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return x.createElement("form",{ref:m,method:v,action:y,onSubmit:r?l:w,...f,"data-discover":!b&&t==="render"?"true":void 0})});Bne.displayName="Form";function Une(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O8(t){let e=x.useContext(Lh);return Xt(e,Une(t)),e}function zne(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Fr(),l=ii(),u=Eg(t,{relative:s});return x.useCallback(d=>{if(bne(d,e)){d.preventDefault();let h=n!==void 0?n:xp(l)===xp(u);o(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,u,n,r,e,t,i,s,a])}var $ne=0,Hne=()=>`__${String(++$ne)}__`;function qne(){let{router:t}=O8("useSubmit"),{basename:e}=x.useContext(_s),n=une();return x.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:u}=Sne(r,e);if(i.navigate===!1){let d=i.fetcherKey||Hne();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Wne(t,{relative:e}={}){let{basename:n}=x.useContext(_s),r=x.useContext(es);Xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Eg(t||".",{relative:e})},a=ii();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ba([n,s.pathname])),xp(s)}function Kne(t,{relative:e}={}){let n=x.useContext(_8);Xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=O8("useViewTransitionState"),i=Eg(t,{relative:e});if(!n.isTransitioning)return!1;let s=Xa(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Xa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fx(i.pathname,a)!=null||fx(i.pathname,s)!=null}const Gne=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yne=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},R8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|o>>4;let f=(o&15)<<2|u>>6,m=u&63;l||(m=64,a||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||h==null)throw new Xne;const f=s<<2|o>>4;if(r.push(f),u!==64){const m=o<<4&240|u>>2;if(r.push(m),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Xne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qne=function(t){const e=I8(t);return R8.encodeByteArray(e,!0)},mx=function(t){return Qne(t).replace(/\./g,"")},M8=function(t){try{return R8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne=()=>Zne().__FIREBASE_DEFAULTS__,ere=()=>{if(typeof process>"u"||typeof import.meta.env>"u")return;const t=import.meta.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M8(t[1]);return e&&JSON.parse(e)},ww=()=>{try{return Gne()||Jne()||ere()||tre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},D8=t=>{var e,n;return(n=(e=ww())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},nre=t=>{const e=D8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L8=()=>{var t;return(t=ww())==null?void 0:t.config},V8=t=>{var e;return(e=ww())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ire(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mx(JSON.stringify(n)),mx(JSON.stringify(a)),""].join(".")}const Im={};function sre(){const t={prod:[],emulator:[]};for(const e of Object.keys(Im))Im[e]?t.emulator.push(e):t.prod.push(e);return t}function are(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KR=!1;function F8(t,e){if(typeof window>"u"||typeof document>"u"||!Su(window.location.host)||Im[t]===e||Im[t]||KR)return;Im[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=sre().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{KR=!0,a()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=are(r),m=n("text"),p=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),v=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;o(_),d(v,y);const j=u();l(w,b),_.append(w,p,v,j),document.body.appendChild(_)}s?(p.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ore(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function lre(){var e;const t=(e=ww())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cre(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ure(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dre(){const t=Ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hre(){return!lre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fT(){try{return typeof indexedDB=="object"}catch{return!1}}function mT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function B8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fre="FirebaseError";class Ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fre,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?mre(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ss(i,o,r)}}function mre(t,e){return t.replace(pre,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pre=/\{\$([^}]+)}/g;function gre(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function na(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(GR(s)&&GR(a)){if(!na(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function am(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yre(t,e){const n=new vre(t,e);return n.subscribe.bind(n)}class vre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xre(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=uS),i.error===void 0&&(i.error=uS),i.complete===void 0&&(i.complete=uS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xre(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uS(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bre=1e3,wre=2,_re=4*60*60*1e3,Sre=.5;function YR(t,e=bre,n=wre){const r=e*Math.pow(n,t),i=Math.round(Sre*r*(Math.random()-.5)*2);return Math.min(_re,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ere=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rre;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Are(e))try{this.getOrInitializeService({instanceIdentifier:cc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=cc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cc){return this.instances.has(e)}getOptions(e=cc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kre(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cc){return this.component?this.component.multipleInstances?e:cc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kre(t){return t===cc?void 0:t}function Are(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ere(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const Tre={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},Nre=Ge.INFO,Cre={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Pre=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Cre[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _w{constructor(e){this.name=e,this._logLevel=Nre,this._logHandler=Pre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tre[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const Ore=(t,e)=>e.some(n=>t instanceof n);let XR,QR;function Ire(){return XR||(XR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rre(){return QR||(QR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U8=new WeakMap,Fk=new WeakMap,z8=new WeakMap,dS=new WeakMap,pT=new WeakMap;function Mre(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(hl(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&U8.set(n,t)}).catch(()=>{}),pT.set(e,t),e}function Dre(t){if(Fk.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Fk.set(t,e)}let Bk={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fk.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Lre(t){Bk=t(Bk)}function Vre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hS(this),e,...n);return z8.set(r,e.sort?e.sort():[e]),hl(r)}:Rre().includes(t)?function(...e){return t.apply(hS(this),e),hl(U8.get(this))}:function(...e){return hl(t.apply(hS(this),e))}}function Fre(t){return typeof t=="function"?Vre(t):(t instanceof IDBTransaction&&Dre(t),Ore(t,Ire())?new Proxy(t,Bk):t)}function hl(t){if(t instanceof IDBRequest)return Mre(t);if(dS.has(t))return dS.get(t);const e=Fre(t);return e!==t&&(dS.set(t,e),pT.set(e,t)),e}const hS=t=>pT.get(t);function $8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=hl(a);return r&&a.addEventListener("upgradeneeded",l=>{r(hl(a.result),l.oldVersion,l.newVersion,hl(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Bre=["get","getKey","getAll","getAllKeys","count"],Ure=["put","add","delete","clear"],fS=new Map;function ZR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fS.get(e))return fS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ure.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Bre.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return fS.set(e,s),s}Lre(t=>({...t,get:(e,n,r)=>ZR(e,n)||t.get(e,n,r),has:(e,n)=>!!ZR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($re(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $re(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uk="@firebase/app",JR="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new _w("@firebase/app"),Hre="@firebase/app-compat",qre="@firebase/analytics-compat",Wre="@firebase/analytics",Kre="@firebase/app-check-compat",Gre="@firebase/app-check",Yre="@firebase/auth",Xre="@firebase/auth-compat",Qre="@firebase/database",Zre="@firebase/data-connect",Jre="@firebase/database-compat",eie="@firebase/functions",tie="@firebase/functions-compat",nie="@firebase/installations",rie="@firebase/installations-compat",iie="@firebase/messaging",sie="@firebase/messaging-compat",aie="@firebase/performance",oie="@firebase/performance-compat",lie="@firebase/remote-config",cie="@firebase/remote-config-compat",uie="@firebase/storage",die="@firebase/storage-compat",hie="@firebase/firestore",fie="@firebase/ai",mie="@firebase/firestore-compat",pie="firebase",gie="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="[DEFAULT]",yie={[Uk]:"fire-core",[Hre]:"fire-core-compat",[Wre]:"fire-analytics",[qre]:"fire-analytics-compat",[Gre]:"fire-app-check",[Kre]:"fire-app-check-compat",[Yre]:"fire-auth",[Xre]:"fire-auth-compat",[Qre]:"fire-rtdb",[Zre]:"fire-data-connect",[Jre]:"fire-rtdb-compat",[eie]:"fire-fn",[tie]:"fire-fn-compat",[nie]:"fire-iid",[rie]:"fire-iid-compat",[iie]:"fire-fcm",[sie]:"fire-fcm-compat",[aie]:"fire-perf",[oie]:"fire-perf-compat",[lie]:"fire-rc",[cie]:"fire-rc-compat",[uie]:"fire-gcs",[die]:"fire-gcs-compat",[hie]:"fire-fst",[mie]:"fire-fst-compat",[fie]:"fire-vertex","fire-js":"fire-js",[pie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=new Map,vie=new Map,$k=new Map;function eM(t,e){try{t.container.addComponent(e)}catch(n){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ra(t){const e=t.name;if($k.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;$k.set(e,t);for(const n of bp.values())eM(n,t);for(const n of vie.values())eM(n,t);return!0}function Ll(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fl=new Eu("app","Firebase",xie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=gie;function H8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:zk,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw fl.create("bad-app-name",{appName:String(i)});if(n||(n=L8()),!n)throw fl.create("no-options");const s=bp.get(i);if(s){if(na(n,s.options)&&na(r,s.config))return s;throw fl.create("duplicate-app",{appName:i})}const a=new jre(i);for(const l of $k.values())a.addComponent(l);const o=new bie(n,r,a);return bp.set(i,o),o}function Sw(t=zk){const e=bp.get(t);if(!e&&t===zk&&L8())return H8();if(!e)throw fl.create("no-app",{appName:t});return e}function wie(){return Array.from(bp.values())}function Ki(t,e,n){let r=yie[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(a.join(" "));return}ra(new ys(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie="firebase-heartbeat-database",Sie=1,wp="firebase-heartbeat-store";let mS=null;function q8(){return mS||(mS=$8(_ie,Sie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wp)}catch(n){console.warn(n)}}}}).catch(t=>{throw fl.create("idb-open",{originalErrorMessage:t.message})})),mS}async function Eie(t){try{const n=(await q8()).transaction(wp),r=await n.objectStore(wp).get(W8(t));return await n.done,r}catch(e){if(e instanceof Ss)Qa.warn(e.message);else{const n=fl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qa.warn(n.message)}}}async function tM(t,e){try{const r=(await q8()).transaction(wp,"readwrite");await r.objectStore(wp).put(e,W8(t)),await r.done}catch(n){if(n instanceof Ss)Qa.warn(n.message);else{const r=fl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qa.warn(r.message)}}}function W8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie=1024,Aie=30;class jie{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Aie){const a=Cie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nM(),{heartbeatsToSend:r,unsentEntries:i}=Tie(this._heartbeatsCache.heartbeats),s=mx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qa.warn(n),""}}}function nM(){return new Date().toISOString().substring(0,10)}function Tie(t,e=kie){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),rM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Nie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fT()?mT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Eie(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rM(t){return mx(JSON.stringify({version:2,heartbeats:t})).length}function Cie(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pie(t){ra(new ys("platform-logger",e=>new zre(e),"PRIVATE")),ra(new ys("heartbeat",e=>new jie(e),"PRIVATE")),Ki(Uk,JR,t),Ki(Uk,JR,"esm2020"),Ki("fire-js","")}Pie("");var Oie="firebase",Iie="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(Oie,Iie,"app");const K8="@firebase/installations",gT="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=1e4,Y8=`w:${gT}`,X8="FIS_v2",Rie="https://firebaseinstallations.googleapis.com/v1",Mie=60*60*1e3,Die="installations",Lie="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nu=new Eu(Die,Lie,Vie);function Q8(t){return t instanceof Ss&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8({projectId:t}){return`${Rie}/projects/${t}/installations`}function J8(t){return{token:t.token,requestStatus:2,expiresIn:Bie(t.expiresIn),creationTime:Date.now()}}async function eB(t,e){const r=(await e.json()).error;return nu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function tB({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Fie(t,{refreshToken:e}){const n=tB(t);return n.append("Authorization",Uie(e)),n}async function nB(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Bie(t){return Number(t.replace("s","000"))}function Uie(t){return`${X8} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zie({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Z8(t),i=tB(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:X8,appId:t.appId,sdkVersion:Y8},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await nB(()=>fetch(r,o));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:J8(u.authToken)}}else throw await eB("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ie(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hie=/^[cdef][\w-]{21}$/,Hk="";function qie(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Wie(t);return Hie.test(n)?n:Hk}catch{return Hk}}function Wie(t){return $ie(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new Map;function sB(t,e){const n=Ew(t);aB(n,e),Kie(n,e)}function aB(t,e){const n=iB.get(t);if(n)for(const r of n)r(e)}function Kie(t,e){const n=Gie();n&&n.postMessage({key:t,fid:e}),Yie()}let vc=null;function Gie(){return!vc&&"BroadcastChannel"in self&&(vc=new BroadcastChannel("[Firebase] FID Change"),vc.onmessage=t=>{aB(t.data.key,t.data.fid)}),vc}function Yie(){iB.size===0&&vc&&(vc.close(),vc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie="firebase-installations-database",Qie=1,ru="firebase-installations-store";let pS=null;function yT(){return pS||(pS=$8(Xie,Qie,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ru)}}})),pS}async function px(t,e){const n=Ew(t),i=(await yT()).transaction(ru,"readwrite"),s=i.objectStore(ru),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&sB(t,e.fid),e}async function oB(t){const e=Ew(t),r=(await yT()).transaction(ru,"readwrite");await r.objectStore(ru).delete(e),await r.done}async function kw(t,e){const n=Ew(t),i=(await yT()).transaction(ru,"readwrite"),s=i.objectStore(ru),a=await s.get(n),o=e(a);return o===void 0?await s.delete(n):await s.put(o,n),await i.done,o&&(!a||a.fid!==o.fid)&&sB(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(t){let e;const n=await kw(t.appConfig,r=>{const i=Zie(r),s=Jie(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Hk?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Zie(t){const e=t||{fid:qie(),registrationStatus:0};return lB(e)}function Jie(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(nu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ese(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tse(t)}:{installationEntry:e}}async function ese(t,e){try{const n=await zie(t,e);return px(t.appConfig,n)}catch(n){throw Q8(n)&&n.customData.serverCode===409?await oB(t.appConfig):await px(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function tse(t){let e=await iM(t.appConfig);for(;e.registrationStatus===1;)await rB(100),e=await iM(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await vT(t);return r||n}return e}function iM(t){return kw(t,e=>{if(!e)throw nu.create("installation-not-found");return lB(e)})}function lB(t){return nse(t)?{fid:t.fid,registrationStatus:0}:t}function nse(t){return t.registrationStatus===1&&t.registrationTime+G8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rse({appConfig:t,heartbeatServiceProvider:e},n){const r=ise(t,n),i=Fie(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:Y8,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await nB(()=>fetch(r,o));if(l.ok){const u=await l.json();return J8(u)}else throw await eB("Generate Auth Token",l)}function ise(t,{fid:e}){return`${Z8(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(t,e=!1){let n;const r=await kw(t.appConfig,s=>{if(!cB(s))throw nu.create("not-registered");const a=s.authToken;if(!e&&ose(a))return s;if(a.requestStatus===1)return n=sse(t,e),s;{if(!navigator.onLine)throw nu.create("app-offline");const o=cse(s);return n=ase(t,o),o}});return n?await n:r.authToken}async function sse(t,e){let n=await sM(t.appConfig);for(;n.authToken.requestStatus===1;)await rB(100),n=await sM(t.appConfig);const r=n.authToken;return r.requestStatus===0?xT(t,e):r}function sM(t){return kw(t,e=>{if(!cB(e))throw nu.create("not-registered");const n=e.authToken;return use(n)?{...e,authToken:{requestStatus:0}}:e})}async function ase(t,e){try{const n=await rse(t,e),r={...e,authToken:n};return await px(t.appConfig,r),n}catch(n){if(Q8(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await oB(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await px(t.appConfig,r)}throw n}}function cB(t){return t!==void 0&&t.registrationStatus===2}function ose(t){return t.requestStatus===2&&!lse(t)}function lse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Mie}function cse(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function use(t){return t.requestStatus===1&&t.requestTime+G8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dse(t){const e=t,{installationEntry:n,registrationPromise:r}=await vT(e);return r?r.catch(console.error):xT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hse(t,e=!1){const n=t;return await fse(n),(await xT(n,e)).token}async function fse(t){const{registrationPromise:e}=await vT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mse(t){if(!t||!t.options)throw gS("App Configuration");if(!t.name)throw gS("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gS(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function gS(t){return nu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="installations",pse="installations-internal",gse=t=>{const e=t.getProvider("app").getImmediate(),n=mse(e),r=Ll(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yse=t=>{const e=t.getProvider("app").getImmediate(),n=Ll(e,uB).getImmediate();return{getId:()=>dse(n),getToken:i=>hse(n,i)}};function vse(){ra(new ys(uB,gse,"PUBLIC")),ra(new ys(pse,yse,"PRIVATE"))}vse();Ki(K8,gT);Ki(K8,gT,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="analytics",xse="firebase_id",bse="origin",wse=60*1e3,_se="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new _w("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sse={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bi=new Eu("analytics","Analytics",Sse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ese(t){if(!t.startsWith(bT)){const e=bi.create("invalid-gtag-resource",{gtagURL:t});return Xr.warn(e.message),""}return t}function dB(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function kse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Ase(t,e){const n=kse("firebase-js-sdk-policy",{createScriptURL:Ese}),r=document.createElement("script"),i=`${bT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function jse(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Tse(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const l=(await dB(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(o){Xr.error(o)}t("config",i,s)}async function Nse(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await dB(n);for(const l of a){const u=o.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Xr.error(s)}}function Cse(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await Nse(t,e,n,o,l)}else if(s==="config"){const[o,l]=a;await Tse(t,e,n,r,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,u]=a;t("get",o,l,u)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){Xr.error(o)}}return i}function Pse(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Cse(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Ose(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise=30,Rse=1e3;class Mse{constructor(e={},n=Rse){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hB=new Mse;function Dse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Lse(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Dse(n)},i=_se.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let o="";try{const l=await s.json();(a=l.error)!=null&&a.message&&(o=l.error.message)}catch{}throw bi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function Vse(t,e=hB,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw bi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw bi.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Use;return setTimeout(async()=>{o.abort()},wse),fB({appId:r,apiKey:i,measurementId:s},a,o,e)}async function fB(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=hB){var o;const{appId:s,measurementId:a}=t;try{await Fse(r,e)}catch(l){if(a)return Xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await Lse(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!Bse(u)){if(i.deleteThrottleMetadata(s),a)return Xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const d=Number((o=u==null?void 0:u.customData)==null?void 0:o.httpStatus)===503?YR(n,i.intervalMillis,Ise):YR(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,h),Xr.debug(`Calling attemptFetch again in ${d} millis`),fB(t,h,r,i)}}function Fse(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Bse(t){if(!(t instanceof Ss)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Use{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zse(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a={...r,send_to:s};t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $se(){if(fT())try{await mT()}catch(t){return Xr.warn(bi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Xr.warn(bi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Hse(t,e,n,r,i,s,a){const o=Vse(t);o.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Xr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Xr.error(f)),e.push(o);const l=$se().then(f=>{if(f)return r.getId()}),[u,d]=await Promise.all([o,l]);Ose(s)||Ase(s,u.measurementId),i("js",new Date);const h=(a==null?void 0:a.config)??{};return h[bse]="firebase",h.update=!0,d!=null&&(h[xse]=d),i("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qse{constructor(e){this.app=e}_delete(){return delete Rm[this.app.options.appId],Promise.resolve()}}let Rm={},aM=[];const oM={};let yS="dataLayer",Wse="gtag",lM,mB,cM=!1;function Kse(){const t=[];if(hT()&&t.push("This is a browser extension environment."),B8()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bi.create("invalid-analytics-context",{errorInfo:e});Xr.warn(n.message)}}function Gse(t,e,n){Kse();const r=t.options.appId;if(!r)throw bi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bi.create("no-api-key");if(Rm[r]!=null)throw bi.create("already-exists",{id:r});if(!cM){jse(yS);const{wrappedGtag:s,gtagCore:a}=Pse(Rm,aM,oM,yS,Wse);mB=s,lM=a,cM=!0}return Rm[r]=Hse(t,aM,oM,e,lM,yS,n),new qse(t)}function Yse(t=Sw()){t=vn(t);const e=Ll(t,gx);return e.isInitialized()?e.getImmediate():Xse(t)}function Xse(t,e={}){const n=Ll(t,gx);if(n.isInitialized()){const i=n.getImmediate();if(na(e,n.getOptions()))return i;throw bi.create("already-initialized")}return n.initialize({options:e})}async function Qse(){if(hT()||!B8()||!fT())return!1;try{return await mT()}catch{return!1}}function Zse(t,e,n,r){t=vn(t),zse(mB,Rm[t.app.options.appId],e,n,r).catch(i=>Xr.error(i))}const uM="@firebase/analytics",dM="0.10.18";function Jse(){ra(new ys(gx,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Gse(r,i,n)},"PUBLIC")),ra(new ys("analytics-internal",t,"PRIVATE")),Ki(uM,dM),Ki(uM,dM,"esm2020");function t(e){try{const n=e.getProvider(gx).getImmediate();return{logEvent:(r,i,s)=>Zse(n,r,i,s)}}catch(n){throw bi.create("interop-component-reg-failed",{reason:n})}}}Jse();function pB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eae=pB,gB=new Eu("auth","Firebase",pB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new _w("@firebase/auth");function tae(t,...e){yx.logLevel<=Ge.WARN&&yx.warn(`Auth (${Fh}): ${t}`,...e)}function dv(t,...e){yx.logLevel<=Ge.ERROR&&yx.error(`Auth (${Fh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw wT(t,...e)}function Ks(t,...e){return wT(t,...e)}function yB(t,e,n){const r={...eae(),[e]:n};return new Eu("auth","Firebase",r).create(e,{appName:t.name})}function Ua(t){return yB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gB.create(t,...e)}function ke(t,e,...n){if(!t)throw wT(e,...n)}function Ia(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dv(e),new Error(e)}function Za(t,e){t||Ia(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function nae(){return hM()==="http:"||hM()==="https:"}function hM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nae()||hT()||"connection"in navigator)?navigator.onLine:!0}function iae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.shortDelay=e,this.longDelay=n,Za(n>e,"Short delay should be less than long delay!"),this.isMobile=ore()||ure()}get(){return rae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e){Za(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oae=new Ag(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function co(t,e,n,r,i={}){return xB(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=kg({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return cre()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Su(t.emulatorConfig.host)&&(u.credentials="include"),vB.fetch()(await bB(t,t.config.apiHost,n,o),u)})}async function xB(t,e,n){t._canInitEmulator=!1;const r={...sae,...e};try{const i=new cae(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw ry(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ry(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw ry(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw ry(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yB(t,d,u);vs(t,d)}}catch(i){if(i instanceof Ss)throw i;vs(t,"network-request-failed",{message:String(i)})}}async function jg(t,e,n,r,i={}){const s=await co(t,e,n,r,i);return"mfaPendingCredential"in s&&vs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function bB(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?_T(t.config,i):`${t.config.apiScheme}://${i}`;return aae.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function lae(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cae{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ks(this.auth,"network-request-failed")),oae.get())})}}function ry(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ks(t,e,r);return i.customData._tokenResponse=n,i}function fM(t){return t!==void 0&&t.enterprise!==void 0}class uae{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lae(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dae(t,e){return co(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hae(t,e){return co(t,"POST","/v1/accounts:delete",e)}async function vx(t,e){return co(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fae(t,e=!1){const n=vn(t),r=await n.getIdToken(e),i=ST(r);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Mm(vS(i.auth_time)),issuedAtTime:Mm(vS(i.iat)),expirationTime:Mm(vS(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vS(t){return Number(t)*1e3}function ST(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dv("JWT malformed, contained fewer than 3 sections"),null;try{const i=M8(n);return i?JSON.parse(i):(dv("Failed to decode base64 JWT payload"),null)}catch(i){return dv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mM(t){const e=ST(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _p(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ss&&mae(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mm(this.lastLoginAt),this.creationTime=Mm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(t){var h;const e=t.auth,n=await t.getIdToken(),r=await _p(t,vx(e,{idToken:n}));ke(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?wB(i.providerUserInfo):[],a=yae(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Wk(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function gae(t){const e=vn(t);await xx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wB(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vae(t,e){const n=await xB(t,{},async()=>{const r=kg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await bB(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Su(t.emulatorConfig.host)&&(l.credentials="include"),vB.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xae(t,e){return co(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=mM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await vae(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Nd;return r&&(ke(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ke(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nd,this.toJSON())}_performRefresh(){return Ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new pae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wk(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _p(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fae(this,e)}reload(){return gae(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(Ua(this.auth));const e=await this.getIdToken();return await _p(this,hae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:p,stsTokenManager:y}=n;ke(h&&y,e,"internal-error");const v=Nd.fromJSON(this.name,y);ke(typeof h=="string",e,"internal-error"),So(r,e.name),So(i,e.name),ke(typeof f=="boolean",e,"internal-error"),ke(typeof m=="boolean",e,"internal-error"),So(s,e.name),So(a,e.name),So(o,e.name),So(l,e.name),So(u,e.name),So(d,e.name);const b=new ds({uid:h,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:m,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:v,createdAt:u,lastLoginAt:d});return p&&Array.isArray(p)&&(b.providerData=p.map(w=>({...w}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nd;i.updateFromServerResponse(n);const s=new ds({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xx(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wB(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Nd;o.updateFromIdToken(r);const l=new ds({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wk(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Map;function Ra(t){Za(t instanceof Function,"Expected a class definition");let e=pM.get(t);return e?(Za(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_B.type="NONE";const gM=_B;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e,n){return`firebase:${t}:${e}:${n}`}class Cd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hv(this.userKey,i.apiKey,s),this.fullPersistenceKey=hv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vx(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cd(Ra(gM),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ra(gM);const a=hv(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){let h;if(typeof d=="string"){const f=await vx(e,{idToken:d}).catch(()=>{});if(!f)break;h=await ds._fromGetAccountInfoResponse(e,f,d)}else h=ds._fromJSON(e,d);u!==s&&(o=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Cd(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Cd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TB(e))return"Blackberry";if(NB(e))return"Webos";if(EB(e))return"Safari";if((e.includes("chrome/")||kB(e))&&!e.includes("edge/"))return"Chrome";if(jB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SB(t=Ar()){return/firefox\//i.test(t)}function EB(t=Ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kB(t=Ar()){return/crios\//i.test(t)}function AB(t=Ar()){return/iemobile/i.test(t)}function jB(t=Ar()){return/android/i.test(t)}function TB(t=Ar()){return/blackberry/i.test(t)}function NB(t=Ar()){return/webos/i.test(t)}function ET(t=Ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bae(t=Ar()){var e;return ET(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wae(){return dre()&&document.documentMode===10}function CB(t=Ar()){return ET(t)||jB(t)||NB(t)||TB(t)||/windows phone/i.test(t)||AB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t,e=[]){let n;switch(t){case"Browser":n=yM(Ar());break;case"Worker":n=`${yM(Ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sae(t,e={}){return co(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae=6;class kae{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Eae,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vM(this),this.idTokenSubscription=new vM(this),this.beforeStateQueue=new _ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ra(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Cd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vx(this,{idToken:e}),r=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Bi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bi(this.app))return Promise.reject(Ua(this));const n=e?vn(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(Ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bi(this.app)?Promise.reject(Ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Sae(this),n=new kae(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xae(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ra(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await Cd.create(this,[Ra(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&tae(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vl(t){return vn(t)}class vM{constructor(e){this.auth=e,this.observer=null,this.addObserver=yre(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jae(t){Aw=t}function OB(t){return Aw.loadJS(t)}function Tae(){return Aw.recaptchaEnterpriseScript}function Nae(){return Aw.gapiScript}function Cae(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Pae{constructor(){this.enterprise=new Oae}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Oae{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Iae="recaptcha-enterprise",IB="NO_RECAPTCHA";class Rae{constructor(e){this.type=Iae,this.auth=Vl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{dae(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new uae(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;fM(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(IB)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Pae().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&fM(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Tae();l.length!==0&&(l+=o),OB(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function xM(t,e,n,r=!1,i=!1){const s=new Rae(t);let a;if(i)a=IB;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function bx(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await xM(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xM(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mae(t,e){const n=Ll(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(na(s,e??{}))return i;vs(i,"already-initialized")}return n.initialize({options:e})}function Dae(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ra);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Lae(t,e,n){const r=Vl(t);ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=RB(e),{host:a,port:o}=Vae(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ke(na(u,r.config.emulator)&&na(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Su(a)?(dT(`${s}//${a}${l}`),F8("Auth",!0)):Fae()}function RB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Vae(t){const e=RB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bM(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:bM(a)}}}function bM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Fae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ia("not implemented")}_getIdTokenResponse(e){return Ia("not implemented")}_linkToIdToken(e,n){return Ia("not implemented")}_getReauthenticationResolver(e){return Ia("not implemented")}}async function Bae(t,e){return co(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uae(t,e){return jg(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}async function zae(t,e){return co(t,"POST","/v1/accounts:sendOobCode",lo(t,e))}async function $ae(t,e){return zae(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hae(t,e){return jg(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function qae(t,e){return jg(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends kT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bx(e,n,"signInWithPassword",Uae);case"emailLink":return Hae(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bx(e,r,"signUpPassword",Bae);case"emailLink":return qae(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t,e){return jg(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae="http://localhost";class iu extends kT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new iu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Pd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pd(e,n)}buildRequest(){const e={requestUri:Wae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gae(t){const e=sm(am(t)).link,n=e?sm(am(e)).deep_link_id:null,r=sm(am(t)).deep_link_id;return(r?sm(am(r)).link:null)||r||n||e||t}class AT{constructor(e){const n=sm(am(e)),r=n.apiKey??null,i=n.oobCode??null,s=Kae(n.mode??null);ke(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Gae(e);try{return new AT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.providerId=Bh.PROVIDER_ID}static credential(e,n){return Sp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=AT.parseLink(n);return ke(r,"argument-error"),Sp._fromEmailAndCode(e,r.code,r.tenantId)}}Bh.PROVIDER_ID="password";Bh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends MB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Tg{constructor(){super("facebook.com")}static credential(e){return iu._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Tg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return iu._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.GOOGLE_SIGN_IN_METHOD="google.com";Bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Tg{constructor(){super("github.com")}static credential(e){return iu._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Tg{constructor(){super("twitter.com")}static credential(e,n){return iu._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.TWITTER_SIGN_IN_METHOD="twitter.com";zo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yae(t,e){return jg(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ds._fromIdTokenResponse(e,r,i),a=wM(r);return new su({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wM(r);return new su({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends Ss{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wx(e,n,r,i)}}function DB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wx._fromErrorAndOperation(t,s,e,r):s})}async function Xae(t,e,n=!1){const r=await _p(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return su._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qae(t,e,n=!1){const{auth:r}=t;if(Bi(r.app))return Promise.reject(Ua(r));const i="reauthenticate";try{const s=await _p(t,DB(r,i,e,t),n);ke(s.idToken,r,"internal-error");const a=ST(s.idToken);ke(a,r,"internal-error");const{sub:o}=a;return ke(t.uid===o,r,"user-mismatch"),su._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(t,e,n=!1){if(Bi(t.app))return Promise.reject(Ua(t));const r="signIn",i=await DB(t,r,e),s=await su._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Zae(t,e){return LB(Vl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VB(t){const e=Vl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jae(t,e,n){const r=Vl(t);await bx(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$ae)}async function eoe(t,e,n){if(Bi(t.app))return Promise.reject(Ua(t));const r=Vl(t),a=await bx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yae).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&VB(t),l}),o=await su._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function toe(t,e,n){return Bi(t.app)?Promise.reject(Ua(t)):Zae(vn(t),Bh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VB(t),r})}function noe(t,e,n,r){return vn(t).onIdTokenChanged(e,n,r)}function roe(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function ioe(t,e,n,r){return vn(t).onAuthStateChanged(e,n,r)}function soe(t){return vn(t).signOut()}const _x="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_x,"1"),this.storage.removeItem(_x),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aoe=1e3,ooe=10;class BB extends FB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);wae()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ooe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BB.type="LOCAL";const loe=BB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB extends FB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UB.type="SESSION";const zB=UB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function coe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await coe(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=jT("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(){return window}function doe(t){Gs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(){return typeof Gs().WorkerGlobalScope<"u"&&typeof Gs().importScripts=="function"}async function hoe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function foe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function moe(){return $B()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="firebaseLocalStorageDb",poe=1,Sx="firebaseLocalStorage",qB="fbase_key";class Ng{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tw(t,e){return t.transaction([Sx],e?"readwrite":"readonly").objectStore(Sx)}function goe(){const t=indexedDB.deleteDatabase(HB);return new Ng(t).toPromise()}function Kk(){const t=indexedDB.open(HB,poe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sx,{keyPath:qB})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sx)?e(r):(r.close(),await goe(),e(await Kk()))})})}async function _M(t,e,n){const r=Tw(t,!0).put({[qB]:e,value:n});return new Ng(r).toPromise()}async function yoe(t,e){const n=Tw(t,!1).get(e),r=await new Ng(n).toPromise();return r===void 0?null:r.value}function SM(t,e){const n=Tw(t,!0).delete(e);return new Ng(n).toPromise()}const voe=800,xoe=3;class WB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kk(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xoe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $B()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jw._getInstance(moe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await hoe(),!this.activeServiceWorker)return;this.sender=new uoe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||foe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kk();return await _M(e,_x,"1"),await SM(e,_x),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_M(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yoe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Tw(i,!1).getAll();return new Ng(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),voe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WB.type="LOCAL";const boe=WB;new Ag(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function woe(t,e){return e?Ra(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends kT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _oe(t){return LB(t.auth,new TT(t),t.bypassAuthState)}function Soe(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),Qae(n,new TT(t),t.bypassAuthState)}async function Eoe(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),Xae(n,new TT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _oe;case"linkViaPopup":case"linkViaRedirect":return Eoe;case"reauthViaPopup":case"reauthViaRedirect":return Soe;default:vs(this.auth,"internal-error")}}resolve(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const koe=new Ag(2e3,1e4);class dd extends KB{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,dd.currentPopupAction&&dd.currentPopupAction.cancel(),dd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Za(this.filter.length===1,"Popup operations only handle one event");const e=jT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,koe.get())};e()}}dd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe="pendingRedirect",fv=new Map;class joe extends KB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fv.get(this.auth._key());if(!e){try{const r=await Toe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fv.set(this.auth._key(),e)}return this.bypassAuthState||fv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Toe(t,e){const n=Poe(e),r=Coe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Noe(t,e){fv.set(t._key(),e)}function Coe(t){return Ra(t._redirectPersistence)}function Poe(t){return hv(Aoe,t.config.apiKey,t.name)}async function Ooe(t,e,n=!1){if(Bi(t.app))return Promise.reject(Ua(t));const r=Vl(t),i=woe(r,e),a=await new joe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ioe=10*60*1e3;class Roe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Moe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GB(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ks(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ioe&&this.cachedEventUids.clear(),this.cachedEventUids.has(EM(e))}saveEventToCache(e){this.cachedEventUids.add(EM(e)),this.lastProcessedEventTime=Date.now()}}function EM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Moe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Doe(t,e={}){return co(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Voe=/^https?/;async function Foe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Doe(t);for(const n of e)try{if(Boe(n))return}catch{}vs(t,"unauthorized-domain")}function Boe(t){const e=qk(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Voe.test(n))return!1;if(Loe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uoe=new Ag(3e4,6e4);function kM(){const t=Gs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zoe(t){return new Promise((e,n)=>{var i,s,a;function r(){kM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kM(),n(Ks(t,"network-request-failed"))},timeout:Uoe.get()})}if((s=(i=Gs().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Gs().gapi)!=null&&a.load)r();else{const o=Cae("iframefcb");return Gs()[o]=()=>{gapi.load?r():n(Ks(t,"network-request-failed"))},OB(`${Nae()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw mv=null,e})}let mv=null;function $oe(t){return mv=mv||zoe(t),mv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hoe=new Ag(5e3,15e3),qoe="__/auth/iframe",Woe="emulator/auth/iframe",Koe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Goe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yoe(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_T(e,Woe):`https://${t.config.authDomain}/${qoe}`,r={apiKey:e.apiKey,appName:t.name,v:Fh},i=Goe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${kg(r).slice(1)}`}async function Xoe(t){const e=await $oe(t),n=Gs().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:Yoe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Koe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ks(t,"network-request-failed"),o=Gs().setTimeout(()=>{s(a)},Hoe.get());function l(){Gs().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zoe=500,Joe=600,ele="_blank",tle="http://localhost";class AM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nle(t,e,n,r=Zoe,i=Joe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Qoe,width:r.toString(),height:i.toString(),top:s,left:a},u=Ar().toLowerCase();n&&(o=kB(u)?ele:n),SB(u)&&(e=e||tle,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,p])=>`${f}${m}=${p},`,"");if(bae(u)&&o!=="_self")return rle(e||"",o),new AM(null);const h=window.open(e||"",o,d);ke(h,t,"popup-blocked");try{h.focus()}catch{}return new AM(h)}function rle(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ile="__/auth/handler",sle="emulator/auth/handler",ale=encodeURIComponent("fac");async function jM(t,e,n,r,i,s){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fh,eventId:i};if(e instanceof MB){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",gre(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof Tg){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${ale}=${encodeURIComponent(l)}`:"";return`${ole(t)}?${kg(o).slice(1)}${u}`}function ole({config:t}){return t.emulator?_T(t,sle):`https://${t.authDomain}/${ile}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="webStorageSupport";class lle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zB,this._completeRedirectFn=Ooe,this._overrideRedirectResult=Noe}async _openPopup(e,n,r,i){var a;Za((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await jM(e,n,r,qk(),i);return nle(e,s,jT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jM(e,n,r,qk(),i);return doe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Za(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xoe(e),r=new Roe(e);return n.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xS,{type:xS},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[xS];s!==void 0&&n(!!s),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Foe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CB()||EB()||ET()}}const cle=lle;var TM="@firebase/auth",NM="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ule{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hle(t){ra(new ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ke(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PB(t)},u=new Aae(r,i,s,l);return Dae(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ra(new ys("auth-internal",e=>{const n=Vl(e.getProvider("auth").getImmediate());return(r=>new ule(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(TM,NM,dle(t)),Ki(TM,NM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fle=5*60,mle=V8("authIdTokenMaxAge")||fle;let CM=null;const ple=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mle)return;const i=n==null?void 0:n.token;CM!==i&&(CM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PM(t=Sw()){const e=Ll(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Mae(t,{popupRedirectResolver:cle,persistence:[boe,loe,zB]}),r=V8("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=ple(s.toString());roe(n,a,()=>a(n.currentUser)),noe(n,o=>a(o))}}const i=D8("auth");return i&&Lae(n,`http://${i}`),n}function gle(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}jae({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ks("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gle().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hle("Browser");var OM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ml,YB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function P(){}P.prototype=S.prototype,k.D=S.prototype,k.prototype=new P,k.prototype.constructor=k,k.C=function(O,N,A){for(var C=Array(arguments.length-2),F=2;F<arguments.length;F++)C[F-2]=arguments[F];return S.prototype[N].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,S,P){P||(P=0);var O=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)O[N]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(N=0;16>N;++N)O[N]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=k.g[0],P=k.g[1],N=k.g[2];var A=k.g[3],C=S+(A^P&(N^A))+O[0]+3614090360&4294967295;S=P+(C<<7&4294967295|C>>>25),C=A+(N^S&(P^N))+O[1]+3905402710&4294967295,A=S+(C<<12&4294967295|C>>>20),C=N+(P^A&(S^P))+O[2]+606105819&4294967295,N=A+(C<<17&4294967295|C>>>15),C=P+(S^N&(A^S))+O[3]+3250441966&4294967295,P=N+(C<<22&4294967295|C>>>10),C=S+(A^P&(N^A))+O[4]+4118548399&4294967295,S=P+(C<<7&4294967295|C>>>25),C=A+(N^S&(P^N))+O[5]+1200080426&4294967295,A=S+(C<<12&4294967295|C>>>20),C=N+(P^A&(S^P))+O[6]+2821735955&4294967295,N=A+(C<<17&4294967295|C>>>15),C=P+(S^N&(A^S))+O[7]+4249261313&4294967295,P=N+(C<<22&4294967295|C>>>10),C=S+(A^P&(N^A))+O[8]+1770035416&4294967295,S=P+(C<<7&4294967295|C>>>25),C=A+(N^S&(P^N))+O[9]+2336552879&4294967295,A=S+(C<<12&4294967295|C>>>20),C=N+(P^A&(S^P))+O[10]+4294925233&4294967295,N=A+(C<<17&4294967295|C>>>15),C=P+(S^N&(A^S))+O[11]+2304563134&4294967295,P=N+(C<<22&4294967295|C>>>10),C=S+(A^P&(N^A))+O[12]+1804603682&4294967295,S=P+(C<<7&4294967295|C>>>25),C=A+(N^S&(P^N))+O[13]+4254626195&4294967295,A=S+(C<<12&4294967295|C>>>20),C=N+(P^A&(S^P))+O[14]+2792965006&4294967295,N=A+(C<<17&4294967295|C>>>15),C=P+(S^N&(A^S))+O[15]+1236535329&4294967295,P=N+(C<<22&4294967295|C>>>10),C=S+(N^A&(P^N))+O[1]+4129170786&4294967295,S=P+(C<<5&4294967295|C>>>27),C=A+(P^N&(S^P))+O[6]+3225465664&4294967295,A=S+(C<<9&4294967295|C>>>23),C=N+(S^P&(A^S))+O[11]+643717713&4294967295,N=A+(C<<14&4294967295|C>>>18),C=P+(A^S&(N^A))+O[0]+3921069994&4294967295,P=N+(C<<20&4294967295|C>>>12),C=S+(N^A&(P^N))+O[5]+3593408605&4294967295,S=P+(C<<5&4294967295|C>>>27),C=A+(P^N&(S^P))+O[10]+38016083&4294967295,A=S+(C<<9&4294967295|C>>>23),C=N+(S^P&(A^S))+O[15]+3634488961&4294967295,N=A+(C<<14&4294967295|C>>>18),C=P+(A^S&(N^A))+O[4]+3889429448&4294967295,P=N+(C<<20&4294967295|C>>>12),C=S+(N^A&(P^N))+O[9]+568446438&4294967295,S=P+(C<<5&4294967295|C>>>27),C=A+(P^N&(S^P))+O[14]+3275163606&4294967295,A=S+(C<<9&4294967295|C>>>23),C=N+(S^P&(A^S))+O[3]+4107603335&4294967295,N=A+(C<<14&4294967295|C>>>18),C=P+(A^S&(N^A))+O[8]+1163531501&4294967295,P=N+(C<<20&4294967295|C>>>12),C=S+(N^A&(P^N))+O[13]+2850285829&4294967295,S=P+(C<<5&4294967295|C>>>27),C=A+(P^N&(S^P))+O[2]+4243563512&4294967295,A=S+(C<<9&4294967295|C>>>23),C=N+(S^P&(A^S))+O[7]+1735328473&4294967295,N=A+(C<<14&4294967295|C>>>18),C=P+(A^S&(N^A))+O[12]+2368359562&4294967295,P=N+(C<<20&4294967295|C>>>12),C=S+(P^N^A)+O[5]+4294588738&4294967295,S=P+(C<<4&4294967295|C>>>28),C=A+(S^P^N)+O[8]+2272392833&4294967295,A=S+(C<<11&4294967295|C>>>21),C=N+(A^S^P)+O[11]+1839030562&4294967295,N=A+(C<<16&4294967295|C>>>16),C=P+(N^A^S)+O[14]+4259657740&4294967295,P=N+(C<<23&4294967295|C>>>9),C=S+(P^N^A)+O[1]+2763975236&4294967295,S=P+(C<<4&4294967295|C>>>28),C=A+(S^P^N)+O[4]+1272893353&4294967295,A=S+(C<<11&4294967295|C>>>21),C=N+(A^S^P)+O[7]+4139469664&4294967295,N=A+(C<<16&4294967295|C>>>16),C=P+(N^A^S)+O[10]+3200236656&4294967295,P=N+(C<<23&4294967295|C>>>9),C=S+(P^N^A)+O[13]+681279174&4294967295,S=P+(C<<4&4294967295|C>>>28),C=A+(S^P^N)+O[0]+3936430074&4294967295,A=S+(C<<11&4294967295|C>>>21),C=N+(A^S^P)+O[3]+3572445317&4294967295,N=A+(C<<16&4294967295|C>>>16),C=P+(N^A^S)+O[6]+76029189&4294967295,P=N+(C<<23&4294967295|C>>>9),C=S+(P^N^A)+O[9]+3654602809&4294967295,S=P+(C<<4&4294967295|C>>>28),C=A+(S^P^N)+O[12]+3873151461&4294967295,A=S+(C<<11&4294967295|C>>>21),C=N+(A^S^P)+O[15]+530742520&4294967295,N=A+(C<<16&4294967295|C>>>16),C=P+(N^A^S)+O[2]+3299628645&4294967295,P=N+(C<<23&4294967295|C>>>9),C=S+(N^(P|~A))+O[0]+4096336452&4294967295,S=P+(C<<6&4294967295|C>>>26),C=A+(P^(S|~N))+O[7]+1126891415&4294967295,A=S+(C<<10&4294967295|C>>>22),C=N+(S^(A|~P))+O[14]+2878612391&4294967295,N=A+(C<<15&4294967295|C>>>17),C=P+(A^(N|~S))+O[5]+4237533241&4294967295,P=N+(C<<21&4294967295|C>>>11),C=S+(N^(P|~A))+O[12]+1700485571&4294967295,S=P+(C<<6&4294967295|C>>>26),C=A+(P^(S|~N))+O[3]+2399980690&4294967295,A=S+(C<<10&4294967295|C>>>22),C=N+(S^(A|~P))+O[10]+4293915773&4294967295,N=A+(C<<15&4294967295|C>>>17),C=P+(A^(N|~S))+O[1]+2240044497&4294967295,P=N+(C<<21&4294967295|C>>>11),C=S+(N^(P|~A))+O[8]+1873313359&4294967295,S=P+(C<<6&4294967295|C>>>26),C=A+(P^(S|~N))+O[15]+4264355552&4294967295,A=S+(C<<10&4294967295|C>>>22),C=N+(S^(A|~P))+O[6]+2734768916&4294967295,N=A+(C<<15&4294967295|C>>>17),C=P+(A^(N|~S))+O[13]+1309151649&4294967295,P=N+(C<<21&4294967295|C>>>11),C=S+(N^(P|~A))+O[4]+4149444226&4294967295,S=P+(C<<6&4294967295|C>>>26),C=A+(P^(S|~N))+O[11]+3174756917&4294967295,A=S+(C<<10&4294967295|C>>>22),C=N+(S^(A|~P))+O[2]+718787259&4294967295,N=A+(C<<15&4294967295|C>>>17),C=P+(A^(N|~S))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+A&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var P=S-this.blockSize,O=this.B,N=this.h,A=0;A<S;){if(N==0)for(;A<=P;)i(this,k,A),A+=this.blockSize;if(typeof k=="string"){for(;A<S;)if(O[N++]=k.charCodeAt(A++),N==this.blockSize){i(this,O),N=0;break}}else for(;A<S;)if(O[N++]=k[A++],N==this.blockSize){i(this,O),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var P=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=P&255,P/=256;for(this.u(k),k=Array(16),S=P=0;4>S;++S)for(var O=0;32>O;O+=8)k[P++]=this.g[S]>>>O&255;return k};function s(k,S){var P=o;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=S(k)}function a(k,S){this.h=S;for(var P=[],O=!0,N=k.length-1;0<=N;N--){var A=k[N]|0;O&&A==S||(P[N]=A,O=!1)}this.g=P}var o={};function l(k){return-128<=k&&128>k?s(k,function(S){return new a([S|0],0>S?-1:0)}):new a([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return v(u(-k));for(var S=[],P=1,O=0;k>=P;O++)S[O]=k/P|0,P*=4294967296;return new a(S,0)}function d(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return v(d(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),O=h,N=0;N<k.length;N+=8){var A=Math.min(8,k.length-N),C=parseInt(k.substring(N,N+A),S);8>A?(A=u(Math.pow(S,A)),O=O.j(A).add(u(C))):(O=O.j(P),O=O.add(u(C)))}return O}var h=l(0),f=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-v(this).m();for(var k=0,S=1,P=0;P<this.g.length;P++){var O=this.i(P);k+=(0<=O?O:4294967296+O)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(p(this))return"0";if(y(this))return"-"+v(this).toString(k);for(var S=u(Math.pow(k,6)),P=this,O="";;){var N=j(P,S).g;P=b(P,N.j(S));var A=((0<P.g.length?P.g[0]:P.h)>>>0).toString(k);if(P=N,p(P))return A+O;for(;6>A.length;)A="0"+A;O=A+O}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function p(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function y(k){return k.h==-1}t.l=function(k){return k=b(this,k),y(k)?-1:p(k)?0:1};function v(k){for(var S=k.g.length,P=[],O=0;O<S;O++)P[O]=~k.g[O];return new a(P,~k.h).add(f)}t.abs=function(){return y(this)?v(this):this},t.add=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],O=0,N=0;N<=S;N++){var A=O+(this.i(N)&65535)+(k.i(N)&65535),C=(A>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);O=C>>>16,A&=65535,C&=65535,P[N]=C<<16|A}return new a(P,P[P.length-1]&-2147483648?-1:0)};function b(k,S){return k.add(v(S))}t.j=function(k){if(p(this)||p(k))return h;if(y(this))return y(k)?v(this).j(v(k)):v(v(this).j(k));if(y(k))return v(this.j(v(k)));if(0>this.l(m)&&0>k.l(m))return u(this.m()*k.m());for(var S=this.g.length+k.g.length,P=[],O=0;O<2*S;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<k.g.length;N++){var A=this.i(O)>>>16,C=this.i(O)&65535,F=k.i(N)>>>16,M=k.i(N)&65535;P[2*O+2*N]+=C*M,w(P,2*O+2*N),P[2*O+2*N+1]+=A*M,w(P,2*O+2*N+1),P[2*O+2*N+1]+=C*F,w(P,2*O+2*N+1),P[2*O+2*N+2]+=A*F,w(P,2*O+2*N+2)}for(O=0;O<S;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=S;O<2*S;O++)P[O]=0;return new a(P,0)};function w(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function _(k,S){this.g=k,this.h=S}function j(k,S){if(p(S))throw Error("division by zero");if(p(k))return new _(h,h);if(y(k))return S=j(v(k),S),new _(v(S.g),v(S.h));if(y(S))return S=j(k,v(S)),new _(v(S.g),S.h);if(30<k.g.length){if(y(k)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var P=f,O=S;0>=O.l(k);)P=E(P),O=E(O);var N=I(P,1),A=I(O,1);for(O=I(O,2),P=I(P,2);!p(O);){var C=A.add(O);0>=C.l(k)&&(N=N.add(P),A=C),O=I(O,1),P=I(P,1)}return S=b(k,N.j(S)),new _(N,S)}for(N=h;0<=k.l(S);){for(P=Math.max(1,Math.floor(k.m()/S.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),A=u(P),C=A.j(S);y(C)||0<C.l(k);)P-=O,A=u(P),C=A.j(S);p(A)&&(A=f),N=N.add(A),k=b(k,C)}return new _(N,k)}t.A=function(k){return j(this,k).h},t.and=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)&k.i(O);return new a(P,this.h&k.h)},t.or=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)|k.i(O);return new a(P,this.h|k.h)},t.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),P=[],O=0;O<S;O++)P[O]=this.i(O)^k.i(O);return new a(P,this.h^k.h)};function E(k){for(var S=k.g.length+1,P=[],O=0;O<S;O++)P[O]=k.i(O)<<1|k.i(O-1)>>>31;return new a(P,k.h)}function I(k,S){var P=S>>5;S%=32;for(var O=k.g.length-P,N=[],A=0;A<O;A++)N[A]=0<S?k.i(A+P)>>>S|k.i(A+P+1)<<32-S:k.i(A+P);return new a(N,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YB=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,ml=a}).apply(typeof OM<"u"?OM:typeof self<"u"?self:typeof window<"u"?window:{});var iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XB,om,QB,pv,Gk,ZB,JB,eU;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,R){return g==Array.prototype||g==Object.prototype||(g[T]=R.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof iy=="object"&&iy];for(var T=0;T<g.length;++T){var R=g[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var R=r;g=g.split(".");for(var L=0;L<g.length-1;L++){var q=g[L];if(!(q in R))break e;R=R[q]}g=g[g.length-1],L=R[g],T=T(L),T!=L&&T!=null&&e(R,g,{configurable:!0,writable:!0,value:T})}}function s(g,T){g instanceof String&&(g+="");var R=0,L=!1,q={next:function(){if(!L&&R<g.length){var Y=R++;return{value:T(Y,g[Y]),done:!1}}return L=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(g){return g||function(){return s(this,function(T,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(g){var T=typeof g;return T=T!="object"?T:g?Array.isArray(g)?"array":T:"null",T=="array"||T=="object"&&typeof g.length=="number"}function u(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function d(g,T,R){return g.call.apply(g.bind,arguments)}function h(g,T,R){if(!g)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,L),g.apply(T,q)}}return function(){return g.apply(T,arguments)}}function f(g,T,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(g,T){var R=Array.prototype.slice.call(arguments,1);return function(){var L=R.slice();return L.push.apply(L,arguments),g.apply(this,L)}}function p(g,T){function R(){}R.prototype=T.prototype,g.aa=T.prototype,g.prototype=new R,g.prototype.constructor=g,g.Qb=function(L,q,Y){for(var ce=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)ce[Tt-2]=arguments[Tt];return T.prototype[q].apply(L,ce)}}function y(g){const T=g.length;if(0<T){const R=Array(T);for(let L=0;L<T;L++)R[L]=g[L];return R}return[]}function v(g,T){for(let R=1;R<arguments.length;R++){const L=arguments[R];if(l(L)){const q=g.length||0,Y=L.length||0;g.length=q+Y;for(let ce=0;ce<Y;ce++)g[q+ce]=L[ce]}else g.push(L)}}class b{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(g){return/^[\s\xa0]*$/.test(g)}function _(){var g=o.navigator;return g&&(g=g.userAgent)?g:""}function j(g){return j[" "](g),g}j[" "]=function(){};var E=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function I(g,T,R){for(const L in g)T.call(R,g[L],L,g)}function k(g,T){for(const R in g)T.call(void 0,g[R],R,g)}function S(g){const T={};for(const R in g)T[R]=g[R];return T}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,T){let R,L;for(let q=1;q<arguments.length;q++){L=arguments[q];for(R in L)g[R]=L[R];for(let Y=0;Y<P.length;Y++)R=P[Y],Object.prototype.hasOwnProperty.call(L,R)&&(g[R]=L[R])}}function N(g){var T=1;g=g.split(":");const R=[];for(;0<T&&g.length;)R.push(g.shift()),T--;return g.length&&R.push(g.join(":")),R}function A(g){o.setTimeout(()=>{throw g},0)}function C(){var g=U;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class F{constructor(){this.h=this.g=null}add(T,R){const L=M.get();L.set(T,R),this.h?this.h.next=L:this.g=L,this.h=L}}var M=new b(()=>new V,g=>g.reset());class V{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let B,D=!1,U=new F,H=()=>{const g=o.Promise.resolve(void 0);B=()=>{g.then(X)}};var X=()=>{for(var g;g=C();){try{g.h.call(g.g)}catch(R){A(R)}var T=M;T.j(g),100>T.h&&(T.h++,g.next=T.g,T.g=g)}D=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const R=()=>{};o.addEventListener("test",R,T),o.removeEventListener("test",R,T)}catch{}return g}();function ue(g,T){if(Q.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var R=this.type=g.type,L=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget){if(E){e:{try{j(T.nodeName);var q=!0;break e}catch{}q=!1}q||(T=null)}}else R=="mouseover"?T=g.fromElement:R=="mouseout"&&(T=g.toElement);this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ce[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ue.aa.h.call(this)}}p(ue,Q);var Ce={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function se(g,T,R,L,q){this.listener=g,this.proxy=null,this.src=T,this.type=R,this.capture=!!L,this.ha=q,this.key=++Je,this.da=this.fa=!1}function me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function le(g){this.src=g,this.g={},this.h=0}le.prototype.add=function(g,T,R,L,q){var Y=g.toString();g=this.g[Y],g||(g=this.g[Y]=[],this.h++);var ce=kt(g,T,L,q);return-1<ce?(T=g[ce],R||(T.fa=!1)):(T=new se(T,this.src,Y,!!L,q),T.fa=R,g.push(T)),T};function ee(g,T){var R=T.type;if(R in g.g){var L=g.g[R],q=Array.prototype.indexOf.call(L,T,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(L,q,1),Y&&(me(T),g.g[R].length==0&&(delete g.g[R],g.h--))}}function kt(g,T,R,L){for(var q=0;q<g.length;++q){var Y=g[q];if(!Y.da&&Y.listener==T&&Y.capture==!!R&&Y.ha==L)return q}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),te={};function ae(g,T,R,L,q){if(Array.isArray(T)){for(var Y=0;Y<T.length;Y++)ae(g,T[Y],R,L,q);return null}return R=je(R),g&&g[xe]?g.K(T,R,u(L)?!!L.capture:!1,q):$e(g,T,R,!1,L,q)}function $e(g,T,R,L,q,Y){if(!T)throw Error("Invalid event type");var ce=u(q)?!!q.capture:!!q,Tt=Ot(g);if(Tt||(g[Be]=Tt=new le(g)),R=Tt.add(T,R,L,ce,Y),R.proxy)return R;if(L=W(),R.proxy=L,L.src=g,L.listener=R,g.addEventListener)re||(q=ce),q===void 0&&(q=!1),g.addEventListener(T.toString(),L,q);else if(g.attachEvent)g.attachEvent(Ee(T.toString()),L);else if(g.addListener&&g.removeListener)g.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return R}function W(){function g(R){return T.call(g.src,g.listener,R)}const T=Ve;return g}function oe(g,T,R,L,q){if(Array.isArray(T))for(var Y=0;Y<T.length;Y++)oe(g,T[Y],R,L,q);else L=u(L)?!!L.capture:!!L,R=je(R),g&&g[xe]?(g=g.i,T=String(T).toString(),T in g.g&&(Y=g.g[T],R=kt(Y,R,L,q),-1<R&&(me(Y[R]),Array.prototype.splice.call(Y,R,1),Y.length==0&&(delete g.g[T],g.h--)))):g&&(g=Ot(g))&&(T=g.g[T.toString()],g=-1,T&&(g=kt(T,R,L,q)),(R=-1<g?T[g]:null)&&ve(R))}function ve(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[xe])ee(T.i,g);else{var R=g.type,L=g.proxy;T.removeEventListener?T.removeEventListener(R,L,g.capture):T.detachEvent?T.detachEvent(Ee(R),L):T.addListener&&T.removeListener&&T.removeListener(L),(R=Ot(T))?(ee(R,g),R.h==0&&(R.src=null,T[Be]=null)):me(g)}}}function Ee(g){return g in te?te[g]:te[g]="on"+g}function Ve(g,T){if(g.da)g=!0;else{T=new ue(T,this);var R=g.listener,L=g.ha||g.src;g.fa&&ve(g),g=R.call(L,T)}return g}function Ot(g){return g=g[Be],g instanceof le?g:null}var $="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(g){return typeof g=="function"?g:(g[$]||(g[$]=function(T){return g.handleEvent(T)}),g[$])}function et(){z.call(this),this.i=new le(this),this.M=this,this.F=null}p(et,z),et.prototype[xe]=!0,et.prototype.removeEventListener=function(g,T,R,L){oe(this,g,T,R,L)};function Me(g,T){var R,L=g.F;if(L)for(R=[];L;L=L.F)R.push(L);if(g=g.M,L=T.type||T,typeof T=="string")T=new Q(T,g);else if(T instanceof Q)T.target=T.target||g;else{var q=T;T=new Q(L,g),O(T,q)}if(q=!0,R)for(var Y=R.length-1;0<=Y;Y--){var ce=T.g=R[Y];q=Ht(ce,L,!0,T)&&q}if(ce=T.g=g,q=Ht(ce,L,!0,T)&&q,q=Ht(ce,L,!1,T)&&q,R)for(Y=0;Y<R.length;Y++)ce=T.g=R[Y],q=Ht(ce,L,!1,T)&&q}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var g=this.i,T;for(T in g.g){for(var R=g.g[T],L=0;L<R.length;L++)me(R[L]);delete g.g[T],g.h--}}this.F=null},et.prototype.K=function(g,T,R,L){return this.i.add(String(g),T,!1,R,L)},et.prototype.L=function(g,T,R,L){return this.i.add(String(g),T,!0,R,L)};function Ht(g,T,R,L){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();for(var q=!0,Y=0;Y<T.length;++Y){var ce=T[Y];if(ce&&!ce.da&&ce.capture==R){var Tt=ce.listener,Jn=ce.ha||ce.src;ce.fa&&ee(g.i,ce),q=Tt.call(Jn,L)!==!1&&q}}return q&&!L.defaultPrevented}function w0(g,T,R){if(typeof g=="function")R&&(g=f(g,R));else if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:o.setTimeout(g,T||0)}function _0(g){g.g=w0(()=>{g.g=null,g.i&&(g.i=!1,_0(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class c_ extends z{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:_0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wl(g){z.call(this),this.h=g,this.g={}}p(Wl,z);var S0=[];function yO(g){I(g.g,function(T,R){this.g.hasOwnProperty(R)&&ve(T)},g),g.g={}}Wl.prototype.N=function(){Wl.aa.N.call(this),yO(this)},Wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var u_=o.JSON.stringify,kQ=o.JSON.parse,AQ=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function d_(){}d_.prototype.h=null;function vO(g){return g.h||(g.h=g.i())}function xO(){}var hf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function h_(){Q.call(this,"d")}p(h_,Q);function f_(){Q.call(this,"c")}p(f_,Q);var Kl={},bO=null;function E0(){return bO=bO||new et}Kl.La="serverreachability";function wO(g){Q.call(this,Kl.La,g)}p(wO,Q);function ff(g){const T=E0();Me(T,new wO(T))}Kl.STAT_EVENT="statevent";function _O(g,T){Q.call(this,Kl.STAT_EVENT,g),this.stat=T}p(_O,Q);function Tr(g){const T=E0();Me(T,new _O(T,g))}Kl.Ma="timingevent";function SO(g,T){Q.call(this,Kl.Ma,g),this.size=T}p(SO,Q);function mf(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},T)}function pf(){this.g=!0}pf.prototype.xa=function(){this.g=!1};function jQ(g,T,R,L,q,Y){g.info(function(){if(g.g)if(Y)for(var ce="",Tt=Y.split("&"),Jn=0;Jn<Tt.length;Jn++){var ut=Tt[Jn].split("=");if(1<ut.length){var dr=ut[0];ut=ut[1];var hr=dr.split("_");ce=2<=hr.length&&hr[1]=="type"?ce+(dr+"="+ut+"&"):ce+(dr+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+L+") [attempt "+q+"]: "+T+`
`+R+`
`+ce})}function TQ(g,T,R,L,q,Y,ce){g.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+q+"]: "+T+`
`+R+`
`+Y+" "+ce})}function Iu(g,T,R,L){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+CQ(g,R)+(L?" "+L:"")})}function NQ(g,T){g.info(function(){return"TIMEOUT: "+T})}pf.prototype.info=function(){};function CQ(g,T){if(!g.g)return T;if(!T)return null;try{var R=JSON.parse(T);if(R){for(g=0;g<R.length;g++)if(Array.isArray(R[g])){var L=R[g];if(!(2>L.length)){var q=L[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return u_(R)}catch{return T}}var k0={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},EO={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},m_;function A0(){}p(A0,d_),A0.prototype.g=function(){return new XMLHttpRequest},A0.prototype.i=function(){return{}},m_=new A0;function vo(g,T,R,L){this.j=g,this.i=T,this.l=R,this.R=L||1,this.U=new Wl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kO}function kO(){this.i=null,this.g="",this.h=!1}var AO={},p_={};function g_(g,T,R){g.L=1,g.v=C0(ha(T)),g.m=R,g.P=!0,jO(g,null)}function jO(g,T){g.F=Date.now(),j0(g),g.A=ha(g.v);var R=g.A,L=g.R;Array.isArray(L)||(L=[String(L)]),UO(R.i,"t",L),g.C=0,R=g.j.J,g.h=new kO,g.g=sI(g.j,R?T:null,!g.m),0<g.O&&(g.M=new c_(f(g.Y,g,g.g),g.O)),T=g.U,R=g.g,L=g.ca;var q="readystatechange";Array.isArray(q)||(q&&(S0[0]=q.toString()),q=S0);for(var Y=0;Y<q.length;Y++){var ce=ae(R,q[Y],L||T.handleEvent,!1,T.h||T);if(!ce)break;T.g[ce.key]=ce}T=g.H?S(g.H):{},g.m?(g.u||(g.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,T)):(g.u="GET",g.g.ea(g.A,g.u,null,T)),ff(),jQ(g.i,g.u,g.A,g.l,g.R,g.m)}vo.prototype.ca=function(g){g=g.target;const T=this.M;T&&fa(g)==3?T.j():this.Y(g)},vo.prototype.Y=function(g){try{if(g==this.g)e:{const hr=fa(this.g);var T=this.g.Ba();const Du=this.g.Z();if(!(3>hr)&&(hr!=3||this.g&&(this.h.h||this.g.oa()||GO(this.g)))){this.J||hr!=4||T==7||(T==8||0>=Du?ff(3):ff(2)),y_(this);var R=this.g.Z();this.X=R;t:if(TO(this)){var L=GO(this.g);g="";var q=L.length,Y=fa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gl(this),gf(this);var ce="";break t}this.h.i=new o.TextDecoder}for(T=0;T<q;T++)this.h.h=!0,g+=this.h.i.decode(L[T],{stream:!(Y&&T==q-1)});L.length=0,this.h.g+=g,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=R==200,TQ(this.i,this.u,this.A,this.l,this.R,hr,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,Jn=this.g;if((Tt=Jn.g?Jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Tt)){var ut=Tt;break t}}ut=null}if(R=ut)Iu(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,v_(this,R);else{this.o=!1,this.s=3,Tr(12),Gl(this),gf(this);break e}}if(this.P){R=!0;let ns;for(;!this.J&&this.C<ce.length;)if(ns=PQ(this,ce),ns==p_){hr==4&&(this.s=4,Tr(14),R=!1),Iu(this.i,this.l,null,"[Incomplete Response]");break}else if(ns==AO){this.s=4,Tr(15),Iu(this.i,this.l,ce,"[Invalid Chunk]"),R=!1;break}else Iu(this.i,this.l,ns,null),v_(this,ns);if(TO(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hr!=4||ce.length!=0||this.h.h||(this.s=1,Tr(16),R=!1),this.o=this.o&&R,!R)Iu(this.i,this.l,ce,"[Invalid Chunked Response]"),Gl(this),gf(this);else if(0<ce.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),E_(dr),dr.M=!0,Tr(11))}}else Iu(this.i,this.l,ce,null),v_(this,ce);hr==4&&Gl(this),this.o&&!this.J&&(hr==4?tI(this.j,this):(this.o=!1,j0(this)))}else GQ(this.g),R==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Tr(12)):(this.s=0,Tr(13)),Gl(this),gf(this)}}}catch{}finally{}};function TO(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function PQ(g,T){var R=g.C,L=T.indexOf(`
`,R);return L==-1?p_:(R=Number(T.substring(R,L)),isNaN(R)?AO:(L+=1,L+R>T.length?p_:(T=T.slice(L,L+R),g.C=L+R,T)))}vo.prototype.cancel=function(){this.J=!0,Gl(this)};function j0(g){g.S=Date.now()+g.I,NO(g,g.I)}function NO(g,T){if(g.B!=null)throw Error("WatchDog timer not null");g.B=mf(f(g.ba,g),T)}function y_(g){g.B&&(o.clearTimeout(g.B),g.B=null)}vo.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(NQ(this.i,this.A),this.L!=2&&(ff(),Tr(17)),Gl(this),this.s=2,gf(this)):NO(this,this.S-g)};function gf(g){g.j.G==0||g.J||tI(g.j,g)}function Gl(g){y_(g);var T=g.M;T&&typeof T.ma=="function"&&T.ma(),g.M=null,yO(g.U),g.g&&(T=g.g,g.g=null,T.abort(),T.ma())}function v_(g,T){try{var R=g.j;if(R.G!=0&&(R.g==g||x_(R.h,g))){if(!g.K&&x_(R.h,g)&&R.G==3){try{var L=R.Da.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var q=L;if(q[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<g.F)D0(R),R0(R);else break e;S_(R),Tr(18)}}else R.za=q[1],0<R.za-R.T&&37500>q[2]&&R.F&&R.v==0&&!R.C&&(R.C=mf(f(R.Za,R),6e3));if(1>=OO(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Xl(R,11)}else if((g.K||R.g==g)&&D0(R),!w(T))for(q=R.Da.g.parse(T),T=0;T<q.length;T++){let ut=q[T];if(R.T=ut[0],ut=ut[1],R.G==2)if(ut[0]=="c"){R.K=ut[1],R.ia=ut[2];const dr=ut[3];dr!=null&&(R.la=dr,R.j.info("VER="+R.la));const hr=ut[4];hr!=null&&(R.Aa=hr,R.j.info("SVER="+R.Aa));const Du=ut[5];Du!=null&&typeof Du=="number"&&0<Du&&(L=1.5*Du,R.L=L,R.j.info("backChannelRequestTimeoutMs_="+L)),L=R;const ns=g.g;if(ns){const V0=ns.g?ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V0){var Y=L.h;Y.g||V0.indexOf("spdy")==-1&&V0.indexOf("quic")==-1&&V0.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(b_(Y,Y.h),Y.h=null))}if(L.D){const k_=ns.g?ns.g.getResponseHeader("X-HTTP-Session-Id"):null;k_&&(L.ya=k_,Ft(L.I,L.D,k_))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-g.F,R.j.info("Handshake RTT: "+R.R+"ms")),L=R;var ce=g;if(L.qa=iI(L,L.J?L.ia:null,L.W),ce.K){IO(L.h,ce);var Tt=ce,Jn=L.L;Jn&&(Tt.I=Jn),Tt.B&&(y_(Tt),j0(Tt)),L.g=ce}else JO(L);0<R.i.length&&M0(R)}else ut[0]!="stop"&&ut[0]!="close"||Xl(R,7);else R.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Xl(R,7):__(R):ut[0]!="noop"&&R.l&&R.l.ta(ut),R.v=0)}}ff(4)}catch{}}var OQ=class{constructor(g,T){this.g=g,this.map=T}};function CO(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function PO(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function OO(g){return g.h?1:g.g?g.g.size:0}function x_(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function b_(g,T){g.g?g.g.add(T):g.h=T}function IO(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}CO.prototype.cancel=function(){if(this.i=RO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function RO(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const R of g.g.values())T=T.concat(R.D);return T}return y(g.i)}function IQ(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var T=[],R=g.length,L=0;L<R;L++)T.push(g[L]);return T}T=[],R=0;for(L in g)T[R++]=g[L];return T}function RQ(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var T=[];g=g.length;for(var R=0;R<g;R++)T.push(R);return T}T=[],R=0;for(const L in g)T[R++]=L;return T}}}function MO(g,T){if(g.forEach&&typeof g.forEach=="function")g.forEach(T,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,T,void 0);else for(var R=RQ(g),L=IQ(g),q=L.length,Y=0;Y<q;Y++)T.call(void 0,L[Y],R&&R[Y],g)}var DO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MQ(g,T){if(g){g=g.split("&");for(var R=0;R<g.length;R++){var L=g[R].indexOf("="),q=null;if(0<=L){var Y=g[R].substring(0,L);q=g[R].substring(L+1)}else Y=g[R];T(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Yl(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Yl){this.h=g.h,T0(this,g.j),this.o=g.o,this.g=g.g,N0(this,g.s),this.l=g.l;var T=g.i,R=new xf;R.i=T.i,T.g&&(R.g=new Map(T.g),R.h=T.h),LO(this,R),this.m=g.m}else g&&(T=String(g).match(DO))?(this.h=!1,T0(this,T[1]||"",!0),this.o=yf(T[2]||""),this.g=yf(T[3]||"",!0),N0(this,T[4]),this.l=yf(T[5]||"",!0),LO(this,T[6]||"",!0),this.m=yf(T[7]||"")):(this.h=!1,this.i=new xf(null,this.h))}Yl.prototype.toString=function(){var g=[],T=this.j;T&&g.push(vf(T,VO,!0),":");var R=this.g;return(R||T=="file")&&(g.push("//"),(T=this.o)&&g.push(vf(T,VO,!0),"@"),g.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&g.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&g.push("/"),g.push(vf(R,R.charAt(0)=="/"?VQ:LQ,!0))),(R=this.i.toString())&&g.push("?",R),(R=this.m)&&g.push("#",vf(R,BQ)),g.join("")};function ha(g){return new Yl(g)}function T0(g,T,R){g.j=R?yf(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function N0(g,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);g.s=T}else g.s=null}function LO(g,T,R){T instanceof xf?(g.i=T,UQ(g.i,g.h)):(R||(T=vf(T,FQ)),g.i=new xf(T,g.h))}function Ft(g,T,R){g.i.set(T,R)}function C0(g){return Ft(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function yf(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function vf(g,T,R){return typeof g=="string"?(g=encodeURI(g).replace(T,DQ),R&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function DQ(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var VO=/[#\/\?@]/g,LQ=/[#\?:]/g,VQ=/[#\?]/g,FQ=/[#\?@]/g,BQ=/#/g;function xf(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function xo(g){g.g||(g.g=new Map,g.h=0,g.i&&MQ(g.i,function(T,R){g.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=xf.prototype,t.add=function(g,T){xo(this),this.i=null,g=Ru(this,g);var R=this.g.get(g);return R||this.g.set(g,R=[]),R.push(T),this.h+=1,this};function FO(g,T){xo(g),T=Ru(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function BO(g,T){return xo(g),T=Ru(g,T),g.g.has(T)}t.forEach=function(g,T){xo(this),this.g.forEach(function(R,L){R.forEach(function(q){g.call(T,q,L,this)},this)},this)},t.na=function(){xo(this);const g=Array.from(this.g.values()),T=Array.from(this.g.keys()),R=[];for(let L=0;L<T.length;L++){const q=g[L];for(let Y=0;Y<q.length;Y++)R.push(T[L])}return R},t.V=function(g){xo(this);let T=[];if(typeof g=="string")BO(this,g)&&(T=T.concat(this.g.get(Ru(this,g))));else{g=Array.from(this.g.values());for(let R=0;R<g.length;R++)T=T.concat(g[R])}return T},t.set=function(g,T){return xo(this),this.i=null,g=Ru(this,g),BO(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=this.V(g),0<g.length?String(g[0]):T):T};function UO(g,T,R){FO(g,T),0<R.length&&(g.i=null,g.g.set(Ru(g,T),y(R)),g.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(var R=0;R<T.length;R++){var L=T[R];const Y=encodeURIComponent(String(L)),ce=this.V(L);for(L=0;L<ce.length;L++){var q=Y;ce[L]!==""&&(q+="="+encodeURIComponent(String(ce[L]))),g.push(q)}}return this.i=g.join("&")};function Ru(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function UQ(g,T){T&&!g.j&&(xo(g),g.i=null,g.g.forEach(function(R,L){var q=L.toLowerCase();L!=q&&(FO(this,L),UO(this,q,R))},g)),g.j=T}function zQ(g,T){const R=new pf;if(o.Image){const L=new Image;L.onload=m(bo,R,"TestLoadImage: loaded",!0,T,L),L.onerror=m(bo,R,"TestLoadImage: error",!1,T,L),L.onabort=m(bo,R,"TestLoadImage: abort",!1,T,L),L.ontimeout=m(bo,R,"TestLoadImage: timeout",!1,T,L),o.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=g}else T(!1)}function $Q(g,T){const R=new pf,L=new AbortController,q=setTimeout(()=>{L.abort(),bo(R,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:L.signal}).then(Y=>{clearTimeout(q),Y.ok?bo(R,"TestPingServer: ok",!0,T):bo(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(q),bo(R,"TestPingServer: error",!1,T)})}function bo(g,T,R,L,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),L(R)}catch{}}function HQ(){this.g=new AQ}function qQ(g,T,R){const L=R||"";try{MO(g,function(q,Y){let ce=q;u(q)&&(ce=u_(q)),T.push(L+Y+"="+encodeURIComponent(ce))})}catch(q){throw T.push(L+"type="+encodeURIComponent("_badmap")),q}}function P0(g){this.l=g.Ub||null,this.j=g.eb||!1}p(P0,d_),P0.prototype.g=function(){return new O0(this.l,this.j)},P0.prototype.i=function(g){return function(){return g}}({});function O0(g,T){et.call(this),this.D=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(O0,et),t=O0.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=T,this.readyState=1,wf(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(T.body=g),(this.D||o).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bf(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,wf(this)),this.g&&(this.readyState=3,wf(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zO(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function zO(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?bf(this):wf(this),this.readyState==3&&zO(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,bf(this))},t.Qa=function(g){this.g&&(this.response=g,bf(this))},t.ga=function(){this.g&&bf(this)};function bf(g){g.readyState=4,g.l=null,g.j=null,g.v=null,wf(g)}t.setRequestHeader=function(g,T){this.u.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,g.push(R[0]+": "+R[1]),R=T.next();return g.join(`\r
`)};function wf(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(O0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function $O(g){let T="";return I(g,function(R,L){T+=L,T+=":",T+=R,T+=`\r
`}),T}function w_(g,T,R){e:{for(L in R){var L=!1;break e}L=!0}L||(R=$O(R),typeof g=="string"?R!=null&&encodeURIComponent(String(R)):Ft(g,T,R))}function rn(g){et.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(rn,et);var WQ=/^https?$/i,KQ=["POST","PUT"];t=rn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,T,R,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():m_.g(),this.v=this.o?vO(this.o):vO(m_),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(Y){HO(this,Y);return}if(g=R||"",R=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var q in L)R.set(q,L[q]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Y of L.keys())R.set(Y,L.get(Y));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(R.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=o.FormData&&g instanceof o.FormData,!(0<=Array.prototype.indexOf.call(KQ,T,void 0))||L||q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of R)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KO(this),this.u=!0,this.g.send(g),this.u=!1}catch(Y){HO(this,Y)}};function HO(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.m=5,qO(g),I0(g)}function qO(g){g.A||(g.A=!0,Me(g,"complete"),Me(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Me(this,"complete"),Me(this,"abort"),I0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),I0(this,!0)),rn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?WO(this):this.bb())},t.bb=function(){WO(this)};function WO(g){if(g.h&&typeof a<"u"&&(!g.v[1]||fa(g)!=4||g.Z()!=2)){if(g.u&&fa(g)==4)w0(g.Ea,0,g);else if(Me(g,"readystatechange"),fa(g)==4){g.h=!1;try{const ce=g.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var L;if(L=ce===0){var q=String(g.D).match(DO)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),L=!WQ.test(q?q.toLowerCase():"")}R=L}if(R)Me(g,"complete"),Me(g,"success");else{g.m=6;try{var Y=2<fa(g)?g.g.statusText:""}catch{Y=""}g.l=Y+" ["+g.Z()+"]",qO(g)}}finally{I0(g)}}}}function I0(g,T){if(g.g){KO(g);const R=g.g,L=g.v[0]?()=>{}:null;g.g=null,g.v=null,T||Me(g,"ready");try{R.onreadystatechange=L}catch{}}}function KO(g){g.I&&(o.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function fa(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<fa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),kQ(T)}};function GO(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function GQ(g){const T={};g=(g.g&&2<=fa(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<g.length;L++){if(w(g[L]))continue;var R=N(g[L]);const q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const Y=T[q]||[];T[q]=Y,Y.push(R)}k(T,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _f(g,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[g]||T}function YO(g){this.Aa=0,this.i=[],this.j=new pf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_f("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_f("baseRetryDelayMs",5e3,g),this.cb=_f("retryDelaySeedMs",1e4,g),this.Wa=_f("forwardChannelMaxRetries",2,g),this.wa=_f("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new CO(g&&g.concurrentRequestLimit),this.Da=new HQ,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=YO.prototype,t.la=8,t.G=1,t.connect=function(g,T,R,L){Tr(0),this.W=g,this.H=T||{},R&&L!==void 0&&(this.H.OSID=R,this.H.OAID=L),this.F=this.X,this.I=iI(this,null,this.W),M0(this)};function __(g){if(XO(g),g.G==3){var T=g.U++,R=ha(g.I);if(Ft(R,"SID",g.K),Ft(R,"RID",T),Ft(R,"TYPE","terminate"),Sf(g,R),T=new vo(g,g.j,T),T.L=2,T.v=C0(ha(R)),R=!1,o.navigator&&o.navigator.sendBeacon)try{R=o.navigator.sendBeacon(T.v.toString(),"")}catch{}!R&&o.Image&&(new Image().src=T.v,R=!0),R||(T.g=sI(T.j,null),T.g.ea(T.v)),T.F=Date.now(),j0(T)}rI(g)}function R0(g){g.g&&(E_(g),g.g.cancel(),g.g=null)}function XO(g){R0(g),g.u&&(o.clearTimeout(g.u),g.u=null),D0(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&o.clearTimeout(g.s),g.s=null)}function M0(g){if(!PO(g.h)&&!g.s){g.s=!0;var T=g.Ga;B||H(),D||(B(),D=!0),U.add(T,g),g.B=0}}function YQ(g,T){return OO(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=T.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=mf(f(g.Ga,g,T),nI(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const q=new vo(this,this.j,g);let Y=this.o;if(this.S&&(Y?(Y=S(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var L=this.i[R];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,4096<T){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=ZO(this,q,T),R=ha(this.I),Ft(R,"RID",g),Ft(R,"CVER",22),this.D&&Ft(R,"X-HTTP-Session-Id",this.D),Sf(this,R),Y&&(this.O?T="headers="+encodeURIComponent(String($O(Y)))+"&"+T:this.m&&w_(R,this.m,Y)),b_(this.h,q),this.Ua&&Ft(R,"TYPE","init"),this.P?(Ft(R,"$req",T),Ft(R,"SID","null"),q.T=!0,g_(q,R,null)):g_(q,R,T),this.G=2}}else this.G==3&&(g?QO(this,g):this.i.length==0||PO(this.h)||QO(this))};function QO(g,T){var R;T?R=T.l:R=g.U++;const L=ha(g.I);Ft(L,"SID",g.K),Ft(L,"RID",R),Ft(L,"AID",g.T),Sf(g,L),g.m&&g.o&&w_(L,g.m,g.o),R=new vo(g,g.j,R,g.B+1),g.m===null&&(R.H=g.o),T&&(g.i=T.D.concat(g.i)),T=ZO(g,R,1e3),R.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),b_(g.h,R),g_(R,L,T)}function Sf(g,T){g.H&&I(g.H,function(R,L){Ft(T,L,R)}),g.l&&MO({},function(R,L){Ft(T,L,R)})}function ZO(g,T,R){R=Math.min(g.i.length,R);var L=g.l?f(g.l.Na,g.l,g):null;e:{var q=g.i;let Y=-1;for(;;){const ce=["count="+R];Y==-1?0<R?(Y=q[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let Tt=!0;for(let Jn=0;Jn<R;Jn++){let ut=q[Jn].g;const dr=q[Jn].map;if(ut-=Y,0>ut)Y=Math.max(0,q[Jn].g-100),Tt=!1;else try{qQ(dr,ce,"req"+ut+"_")}catch{L&&L(dr)}}if(Tt){L=ce.join("&");break e}}}return g=g.i.splice(0,R),T.D=g,L}function JO(g){if(!g.g&&!g.u){g.Y=1;var T=g.Fa;B||H(),D||(B(),D=!0),U.add(T,g),g.v=0}}function S_(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=mf(f(g.Fa,g),nI(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,eI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=mf(f(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tr(10),R0(this),eI(this))};function E_(g){g.A!=null&&(o.clearTimeout(g.A),g.A=null)}function eI(g){g.g=new vo(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var T=ha(g.qa);Ft(T,"RID","rpc"),Ft(T,"SID",g.K),Ft(T,"AID",g.T),Ft(T,"CI",g.F?"0":"1"),!g.F&&g.ja&&Ft(T,"TO",g.ja),Ft(T,"TYPE","xmlhttp"),Sf(g,T),g.m&&g.o&&w_(T,g.m,g.o),g.L&&(g.g.I=g.L);var R=g.g;g=g.ia,R.L=1,R.v=C0(ha(T)),R.m=null,R.P=!0,jO(R,g)}t.Za=function(){this.C!=null&&(this.C=null,R0(this),S_(this),Tr(19))};function D0(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function tI(g,T){var R=null;if(g.g==T){D0(g),E_(g),g.g=null;var L=2}else if(x_(g.h,T))R=T.D,IO(g.h,T),L=1;else return;if(g.G!=0){if(T.o)if(L==1){R=T.m?T.m.length:0,T=Date.now()-T.F;var q=g.B;L=E0(),Me(L,new SO(L,R)),M0(g)}else JO(g);else if(q=T.s,q==3||q==0&&0<T.X||!(L==1&&YQ(g,T)||L==2&&S_(g)))switch(R&&0<R.length&&(T=g.h,T.i=T.i.concat(R)),q){case 1:Xl(g,5);break;case 4:Xl(g,10);break;case 3:Xl(g,6);break;default:Xl(g,2)}}}function nI(g,T){let R=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(R*=2),R*T}function Xl(g,T){if(g.j.info("Error code "+T),T==2){var R=f(g.fb,g),L=g.Xa;const q=!L;L=new Yl(L||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||T0(L,"https"),C0(L),q?zQ(L.toString(),R):$Q(L.toString(),R)}else Tr(2);g.G=0,g.l&&g.l.sa(T),rI(g),XO(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Tr(2)):(this.j.info("Failed to ping google.com"),Tr(1))};function rI(g){if(g.G=0,g.ka=[],g.l){const T=RO(g.h);(T.length!=0||g.i.length!=0)&&(v(g.ka,T),v(g.ka,g.i),g.h.i.length=0,y(g.i),g.i.length=0),g.l.ra()}}function iI(g,T,R){var L=R instanceof Yl?ha(R):new Yl(R);if(L.g!="")T&&(L.g=T+"."+L.g),N0(L,L.s);else{var q=o.location;L=q.protocol,T=T?T+"."+q.hostname:q.hostname,q=+q.port;var Y=new Yl(null);L&&T0(Y,L),T&&(Y.g=T),q&&N0(Y,q),R&&(Y.l=R),L=Y}return R=g.D,T=g.ya,R&&T&&Ft(L,R,T),Ft(L,"VER",g.la),Sf(g,L),L}function sI(g,T,R){if(T&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Ca&&!g.pa?new rn(new P0({eb:R})):new rn(g.pa),T.Ha(g.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function aI(){}t=aI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function L0(){}L0.prototype.g=function(g,T){return new ai(g,T)};function ai(g,T){et.call(this),this.g=new YO(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(g?g["X-WebChannel-Client-Profile"]=T.va:g={"X-WebChannel-Client-Profile":T.va}),this.g.S=g,(g=T&&T.Sb)&&!w(g)&&(this.g.m=g),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!w(T)&&(this.g.D=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Mu(this)}p(ai,et),ai.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){__(this.g)},ai.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var R={};R.__data__=g,g=R}else this.u&&(R={},R.__data__=u_(g),g=R);T.i.push(new OQ(T.Ya++,g)),T.G==3&&M0(T)},ai.prototype.N=function(){this.g.l=null,delete this.j,__(this.g),delete this.g,ai.aa.N.call(this)};function oI(g){h_.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const R in T){g=R;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}p(oI,h_);function lI(){f_.call(this),this.status=1}p(lI,f_);function Mu(g){this.g=g}p(Mu,aI),Mu.prototype.ua=function(){Me(this.g,"a")},Mu.prototype.ta=function(g){Me(this.g,new oI(g))},Mu.prototype.sa=function(g){Me(this.g,new lI)},Mu.prototype.ra=function(){Me(this.g,"b")},L0.prototype.createWebChannel=L0.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,eU=function(){return new L0},JB=function(){return E0()},ZB=Kl,Gk={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},k0.NO_ERROR=0,k0.TIMEOUT=8,k0.HTTP_ERROR=6,pv=k0,EO.COMPLETE="complete",QB=EO,xO.EventType=hf,hf.OPEN="a",hf.CLOSE="b",hf.ERROR="c",hf.MESSAGE="d",et.prototype.listen=et.prototype.K,om=xO,rn.prototype.listenOnce=rn.prototype.L,rn.prototype.getLastError=rn.prototype.Ka,rn.prototype.getLastErrorCode=rn.prototype.Ba,rn.prototype.getStatus=rn.prototype.Z,rn.prototype.getResponseJson=rn.prototype.Oa,rn.prototype.getResponseText=rn.prototype.oa,rn.prototype.send=rn.prototype.ea,rn.prototype.setWithCredentials=rn.prototype.Ha,XB=rn}).apply(typeof iy<"u"?iy:typeof self<"u"?self:typeof window<"u"?window:{});const IM="@firebase/firestore",RM="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new _w("@firebase/firestore");function Gu(){return au.logLevel}function fe(t,...e){if(au.logLevel<=Ge.DEBUG){const n=e.map(NT);au.debug(`Firestore (${Uh}): ${t}`,...n)}}function Ja(t,...e){if(au.logLevel<=Ge.ERROR){const n=e.map(NT);au.error(`Firestore (${Uh}): ${t}`,...n)}}function rh(t,...e){if(au.logLevel<=Ge.WARN){const n=e.map(NT);au.warn(`Firestore (${Uh}): ${t}`,...n)}}function NT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tU(t,r,n)}function tU(t,e,n){let r=`FIRESTORE (${Uh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ja(r),new Error(r)}function yt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||tU(e,i,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yr.UNAUTHENTICATED))}shutdown(){}}class vle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xle{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new za;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new za,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new za)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string",31837,{l:r}),new nU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new yr(e)}}class ble{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wle{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ble(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _le{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MM(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Sle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Yk(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return bS(i)===bS(s)?Xe(i,s):bS(i)?1:-1}return Xe(t.length,e.length)}const Ele=55296,kle=57343;function bS(t){const e=t.charCodeAt(0);return e>=Ele&&e<=kle}function ih(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="__name__";class Ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ds.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Xe(e.length,n.length)}static compareSegments(e,n){const r=Ds.isNumericId(e),i=Ds.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ds.extractNumericId(e).compare(Ds.extractNumericId(n)):Yk(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ml.fromString(e.substring(4,e.length-2))}}class Rt extends Ds{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const Ale=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Ds{construct(e,n,r){return new ar(e,n,r)}static isValidIdentifier(e){return Ale.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DM}static keyField(){return new ar([DM])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(n)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Rt.fromString(e))}static fromName(e){return new Se(Rt.fromString(e).popFirst(5))}static empty(){return new Se(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jle(t,e,n,r){if(e===!0&&r===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LM(t){if(!Se.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VM(t){if(Se.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iU(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nw(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cg(t,e){if(!iU(t))throw new de(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new de(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=-62135596800,BM=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BM);return new zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FM)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BM}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cg(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:An("string",zt._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new zt(0,0))}static max(){return new Oe(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function Tle(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new wl(i,Se.empty(),e)}function Nle(t){return new wl(t.readTime,t.key,Ep)}class wl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wl(Oe.min(),Se.empty(),Ep)}static max(){return new wl(Oe.max(),Se.empty(),Ep)}}function Cle(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ple="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ole{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==Ple)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new ne((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ile(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $h(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=-1;function Pw(t){return t==null}function Ex(t){return t===0&&1/t==-1/0}function Rle(t){return typeof t=="number"&&Number.isInteger(t)&&!Ex(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="";function Mle(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UM(e)),e=Dle(t.get(n),e);return UM(e)}function Dle(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case sU:n+="";break;default:n+=s}}return n}function UM(t){return t+sU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){this.comparator=e,this.root=n||rr.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sy(this.root,e,this.comparator,!1)}getReverseIterator(){return new sy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sy(this.root,e,this.comparator,!0)}}class sy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rr.RED,this.left=i??rr.EMPTY,this.right=s??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $M(this.data.getIterator())}getIteratorFrom(e){return new $M(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class $M{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new pi([])}unionWith(e){let n=new Dn(ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ih(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new oU("Invalid base64 string: "+s):s}}(e);return new lr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new lr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const Lle=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _l(t){if(yt(!!t,39018),typeof t=="string"){let e=0;const n=Lle.exec(t);if(yt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gn(t.seconds),nanos:gn(t.nanos)}}function gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sl(t){return typeof t=="string"?lr.fromBase64String(t):lr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="server_timestamp",cU="__type__",uU="__previous_value__",dU="__local_write_time__";function OT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cU])==null?void 0:r.stringValue)===lU}function Ow(t){const e=t.mapValue.fields[uU];return OT(e)?Ow(e):e}function kp(t){const e=_l(t.mapValue.fields[dU].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle{constructor(e,n,r,i,s,a,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Ap="(default)";class jp{constructor(e,n){this.projectId=e,this.database=n||Ap}static empty(){return new jp("","")}get isDefaultDatabase(){return this.database===Ap}isEqual(e){return e instanceof jp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="__type__",Fle="__max__",ay={mapValue:{}},fU="__vector__",kx="value";function El(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OT(t)?4:Ule(t)?9007199254740991:Ble(t)?10:11:Ae(28295,{value:t})}function ia(t,e){if(t===e)return!0;const n=El(t);if(n!==El(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kp(t).isEqual(kp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=_l(i.timestampValue),o=_l(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Sl(i.bytesValue).isEqual(Sl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return gn(i.geoPointValue.latitude)===gn(s.geoPointValue.latitude)&&gn(i.geoPointValue.longitude)===gn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return gn(i.integerValue)===gn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=gn(i.doubleValue),o=gn(s.doubleValue);return a===o?Ex(a)===Ex(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return ih(t.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(zM(a)!==zM(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!ia(a[l],o[l])))return!1;return!0}(t,e);default:return Ae(52216,{left:t})}}function Tp(t,e){return(t.values||[]).find(n=>ia(n,e))!==void 0}function sh(t,e){if(t===e)return 0;const n=El(t),r=El(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=gn(s.integerValue||s.doubleValue),l=gn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return HM(t.timestampValue,e.timestampValue);case 4:return HM(kp(t),kp(e));case 5:return Yk(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Sl(s),l=Sl(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Xe(o[u],l[u]);if(d!==0)return d}return Xe(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Xe(gn(s.latitude),gn(a.latitude));return o!==0?o:Xe(gn(s.longitude),gn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qM(t.arrayValue,e.arrayValue);case 10:return function(s,a){var f,m,p,y;const o=s.fields||{},l=a.fields||{},u=(f=o[kx])==null?void 0:f.arrayValue,d=(m=l[kx])==null?void 0:m.arrayValue,h=Xe(((p=u==null?void 0:u.values)==null?void 0:p.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return h!==0?h:qM(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===ay.mapValue&&a===ay.mapValue)return 0;if(s===ay.mapValue)return 1;if(a===ay.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Yk(l[h],d[h]);if(f!==0)return f;const m=sh(o[l[h]],u[d[h]]);if(m!==0)return m}return Xe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function HM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=_l(t),r=_l(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function qM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=sh(n[i],r[i]);if(s)return s}return Xe(n.length,r.length)}function ah(t){return Xk(t)}function Xk(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_l(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xk(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Xk(n.fields[a])}`;return i+"}"}(t.mapValue):Ae(61005,{value:t})}function gv(t){switch(El(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ow(t);return e?16+gv(e):16;case 5:return 2*t.stringValue.length;case 6:return Sl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+gv(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Fl(r.fields,(s,a)=>{i+=s.length+gv(a)}),i}(t.mapValue);default:throw Ae(13486,{value:t})}}function WM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qk(t){return!!t&&"integerValue"in t}function IT(t){return!!t&&"arrayValue"in t}function KM(t){return!!t&&"nullValue"in t}function GM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yv(t){return!!t&&"mapValue"in t}function Ble(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hU])==null?void 0:r.stringValue)===fU}function Dm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dm(t.arrayValue.values[n]);return e}return{...t}}function Ule(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Fle}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dm(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Dm(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());yv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wr(Dm(this.value))}}function mU(t){const e=[];return Fl(t.fields,(n,r)=>{const i=new ar([n]);if(yv(r)){const s=mU(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new vr(e,0,Oe.min(),Oe.min(),Oe.min(),Wr.empty(),0)}static newFoundDocument(e,n,r,i){return new vr(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new vr(e,2,n,Oe.min(),Oe.min(),Wr.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,Oe.min(),Oe.min(),Wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n){this.position=e,this.inclusive=n}}function YM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Se.comparator(Se.fromName(a.referenceValue),n.key):r=sh(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function XM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ia(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n="asc"){this.field=e,this.dir=n}}function zle(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{}class kn extends pU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hle(e,n,r):n==="array-contains"?new Kle(e,r):n==="in"?new Gle(e,r):n==="not-in"?new Yle(e,r):n==="array-contains-any"?new Xle(e,r):new kn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qle(e,r):new Wle(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sh(n,this.value)):n!==null&&El(this.value)===El(n)&&this.matchesComparison(sh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends pU{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xs(e,n)}matches(e){return gU(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gU(t){return t.op==="and"}function yU(t){return $le(t)&&gU(t)}function $le(t){for(const e of t.filters)if(e instanceof xs)return!1;return!0}function Zk(t){if(t instanceof kn)return t.field.canonicalString()+t.op.toString()+ah(t.value);if(yU(t))return t.filters.map(e=>Zk(e)).join(",");{const e=t.filters.map(n=>Zk(n)).join(",");return`${t.op}(${e})`}}function vU(t,e){return t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.field.isEqual(i.field)&&ia(r.value,i.value)}(t,e):t instanceof xs?function(r,i){return i instanceof xs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&vU(a,i.filters[o]),!0):!1}(t,e):void Ae(19439)}function xU(t){return t instanceof kn?function(n){return`${n.field.canonicalString()} ${n.op} ${ah(n.value)}`}(t):t instanceof xs?function(n){return n.op.toString()+" {"+n.getFilters().map(xU).join(" ,")+"}"}(t):"Filter"}class Hle extends kn{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class qle extends kn{constructor(e,n){super(e,"in",n),this.keys=bU("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Wle extends kn{constructor(e,n){super(e,"not-in",n),this.keys=bU("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bU(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class Kle extends kn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return IT(n)&&Tp(n.arrayValue,this.value)}}class Gle extends kn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tp(this.value.arrayValue,n)}}class Yle extends kn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tp(this.value.arrayValue,n)}}class Xle extends kn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!IT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function QM(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Qle(t,e,n,r,i,s,a)}function RT(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zk(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ah(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ah(r)).join(",")),e.Te=n}return e.Te}function MT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zle(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XM(t.startAt,e.startAt)&&XM(t.endAt,e.endAt)}function Jk(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Zle(t,e,n,r,i,s,a,o){return new Pg(t,e,n,r,i,s,a,o)}function Iw(t){return new Pg(t)}function ZM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wU(t){return t.collectionGroup!==null}function Lm(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Dn(ar.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new jx(s,r))}),n.has(ar.keyField().canonicalString())||e.Ie.push(new jx(ar.keyField(),r))}return e.Ie}function Ys(t){const e=Re(t);return e.Ee||(e.Ee=Jle(e,Lm(t))),e.Ee}function Jle(t,e){if(t.limitType==="F")return QM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jx(i.field,s)});const n=t.endAt?new Ax(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ax(t.startAt.position,t.startAt.inclusive):null;return QM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eA(t,e){const n=t.filters.concat([e]);return new Pg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tA(t,e,n){return new Pg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rw(t,e){return MT(Ys(t),Ys(e))&&t.limitType===e.limitType}function _U(t){return`${RT(Ys(t))}|lt:${t.limitType}`}function Yu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xU(i)).join(", ")}]`),Pw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ah(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ah(i)).join(",")),`Target(${r})`}(Ys(t))}; limitType=${t.limitType})`}function Mw(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Lm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=YM(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,Lm(r),i)||r.endAt&&!function(a,o,l){const u=YM(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,Lm(r),i))}(t,e)}function ece(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SU(t){return(e,n)=>{let r=!1;for(const i of Lm(t)){const s=tce(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function tce(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?sh(l,u):Ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nce=new nn(Se.comparator);function eo(){return nce}const EU=new nn(Se.comparator);function lm(...t){let e=EU;for(const n of t)e=e.insert(n.key,n);return e}function kU(t){let e=EU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xc(){return Vm()}function AU(){return Vm()}function Vm(){return new ku(t=>t.toString(),(t,e)=>t.isEqual(e))}const rce=new nn(Se.comparator),ice=new Dn(Se.comparator);function Qe(...t){let e=ice;for(const n of t)e=e.add(n);return e}const sce=new Dn(Xe);function ace(){return sce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ex(e)?"-0":e}}function jU(t){return{integerValue:""+t}}function oce(t,e){return Rle(e)?jU(e):DT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this._=void 0}}function lce(t,e,n){return t instanceof Tx?function(i,s){const a={fields:{[cU]:{stringValue:lU},[dU]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&OT(s)&&(s=Ow(s)),s&&(a.fields[uU]=s),{mapValue:a}}(n,e):t instanceof oh?NU(t,e):t instanceof Np?CU(t,e):function(i,s){const a=TU(i,s),o=JM(a)+JM(i.Ae);return Qk(a)&&Qk(i.Ae)?jU(o):DT(i.serializer,o)}(t,e)}function cce(t,e,n){return t instanceof oh?NU(t,e):t instanceof Np?CU(t,e):n}function TU(t,e){return t instanceof Nx?function(r){return Qk(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tx extends Dw{}class oh extends Dw{constructor(e){super(),this.elements=e}}function NU(t,e){const n=PU(e);for(const r of t.elements)n.some(i=>ia(i,r))||n.push(r);return{arrayValue:{values:n}}}class Np extends Dw{constructor(e){super(),this.elements=e}}function CU(t,e){let n=PU(e);for(const r of t.elements)n=n.filter(i=>!ia(i,r));return{arrayValue:{values:n}}}class Nx extends Dw{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function JM(t){return gn(t.integerValue||t.doubleValue)}function PU(t){return IT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{constructor(e,n){this.field=e,this.transform=n}}function dce(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oh&&i instanceof oh||r instanceof Np&&i instanceof Np?ih(r.elements,i.elements,ia):r instanceof Nx&&i instanceof Nx?ia(r.Ae,i.Ae):r instanceof Tx&&i instanceof Tx}(t.transform,e.transform)}class hce{constructor(e,n){this.version=e,this.transformResults=n}}class Gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lw{}function OU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new LT(t.key,Gi.none()):new Og(t.key,t.data,Gi.none());{const n=t.data,r=Wr.empty();let i=new Dn(ar.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Bl(t.key,r,new pi(i.toArray()),Gi.none())}}function fce(t,e,n){t instanceof Og?function(i,s,a){const o=i.value.clone(),l=tD(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Bl?function(i,s,a){if(!vv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=tD(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(IU(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Fm(t,e,n,r){return t instanceof Og?function(s,a,o,l){if(!vv(s.precondition,a))return o;const u=s.value.clone(),d=nD(s.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bl?function(s,a,o,l){if(!vv(s.precondition,a))return o;const u=nD(s.fieldTransforms,l,a),d=a.data;return d.setAll(IU(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,a,o){return vv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function mce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=TU(r.transform,i||null);s!=null&&(n===null&&(n=Wr.empty()),n.set(r.field,s))}return n||null}function eD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ih(r,i,(s,a)=>dce(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Og extends Lw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bl extends Lw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tD(t,e,n){const r=new Map;yt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,cce(a,o,n[i]))}return r}function nD(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,lce(s,a,e))}return r}class LT extends Lw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pce extends Lw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gce{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AU();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=OU(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&ih(this.mutations,e.mutations,(n,r)=>eD(n,r))&&ih(this.baseMutations,e.baseMutations,(n,r)=>eD(n,r))}}class VT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){yt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return rce}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new VT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yce{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,it;function xce(t){switch(t){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function RU(t){if(t===void 0)return Ja("GRPC error has no .code"),J.UNKNOWN;switch(t){case wn.OK:return J.OK;case wn.CANCELLED:return J.CANCELLED;case wn.UNKNOWN:return J.UNKNOWN;case wn.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case wn.INTERNAL:return J.INTERNAL;case wn.UNAVAILABLE:return J.UNAVAILABLE;case wn.UNAUTHENTICATED:return J.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case wn.NOT_FOUND:return J.NOT_FOUND;case wn.ALREADY_EXISTS:return J.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return J.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case wn.ABORTED:return J.ABORTED;case wn.OUT_OF_RANGE:return J.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return J.UNIMPLEMENTED;case wn.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:t})}}(it=wn||(wn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce=new ml([4294967295,4294967295],0);function rD(t){const e=bce().encode(t),n=new YB;return n.update(e),new Uint8Array(n.digest())}function iD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ml([n,r],0),new ml([i,s],0)]}class FT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cm(`Invalid padding: ${n}`);if(r<0)throw new cm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ml.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ml.fromNumber(r)));return i.compare(wce)===1&&(i=new ml([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rD(e),[r,i]=iD(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new FT(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=rD(e),[r,i]=iD(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ig.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vw(Oe.min(),i,new nn(Xe),eo(),Qe())}}class Ig{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ig(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class MU{constructor(e,n){this.targetId=e,this.Ce=n}}class DU{constructor(e,n,r=lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sD{constructor(){this.ve=0,this.Fe=aD(),this.Me=lr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),r=Qe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae(38017,{changeType:s})}}),new Ig(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=aD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _ce{constructor(e){this.Ge=e,this.ze=new Map,this.je=eo(),this.Je=oy(),this.He=oy(),this.Ye=new nn(Xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Jk(s))if(r===0){const a=new Se(s.path);this.et(n,a,vr.newNoDocument(a,Oe.min()))}else yt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Sl(r).toUint8Array()}catch(l){if(l instanceof oU)return rh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new FT(a,i,s)}catch(l){return rh(l instanceof cm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&Jk(o.target)){const l=new Se(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,vr.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=Qe();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new Vw(e,n,this.Ye,this.je,r);return this.je=eo(),this.Je=oy(),this.He=oy(),this.Ye=new nn(Xe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dn(Xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dn(Xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sD),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oy(){return new nn(Se.comparator)}function aD(){return new nn(Se.comparator)}const Sce={asc:"ASCENDING",desc:"DESCENDING"},Ece={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kce={and:"AND",or:"OR"};class Ace{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nA(t,e){return t.useProto3Json||Pw(e)?e:{value:e}}function Cx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jce(t,e){return Cx(t,e.toTimestamp())}function Xs(t){return yt(!!t,49232),Oe.fromTimestamp(function(n){const r=_l(n);return new zt(r.seconds,r.nanos)}(t))}function BT(t,e){return rA(t,e).canonicalString()}function rA(t,e){const n=function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VU(t){const e=Rt.fromString(t);return yt($U(e),10190,{key:e.toString()}),e}function iA(t,e){return BT(t.databaseId,e.path)}function wS(t,e){const n=VU(e);if(n.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(BU(n))}function FU(t,e){return BT(t.databaseId,e)}function Tce(t){const e=VU(t);return e.length===4?Rt.emptyPath():BU(e)}function sA(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BU(t){return yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oD(t,e,n){return{name:iA(t,e),fields:n.value.mapValue.fields}}function Nce(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(yt(d===void 0||typeof d=="string",58123),lr.fromBase64String(d||"")):(yt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),lr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?J.UNKNOWN:RU(u.code);return new de(d,u.message||"")}(a);n=new DU(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wS(t,r.document.name),s=Xs(r.document.updateTime),a=r.document.createTime?Xs(r.document.createTime):Oe.min(),o=new Wr({mapValue:{fields:r.document.fields}}),l=vr.newFoundDocument(i,s,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new xv(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wS(t,r.document),s=r.readTime?Xs(r.readTime):Oe.min(),a=vr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new xv([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wS(t,r.document),s=r.removedTargetIds||[];n=new xv([],s,i,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new vce(i,s),o=r.targetId;n=new MU(o,a)}}return n}function Cce(t,e){let n;if(e instanceof Og)n={update:oD(t,e.key,e.value)};else if(e instanceof LT)n={delete:iA(t,e.key)};else if(e instanceof Bl)n={update:oD(t,e.key,e.data),updateMask:Fce(e.fieldMask)};else{if(!(e instanceof pce))return Ae(16599,{Vt:e.type});n={verify:iA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Tx)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof oh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Np)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Nx)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Ae(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:jce(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ae(27497)}(t,e.precondition)),n}function Pce(t,e){return t&&t.length>0?(yt(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Xs(i.updateTime):Xs(s);return a.isEqual(Oe.min())&&(a=Xs(s)),new hce(a,i.transformResults||[])}(n,e))):[]}function Oce(t,e){return{documents:[FU(t,e.path)]}}function Ice(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FU(t,i);const s=function(u){if(u.length!==0)return zU(xs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Xu(f.field),direction:Dce(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=nA(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function Rce(t){let e=Tce(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=UU(h);return f instanceof xs&&yU(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(p){return new jx(Qu(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(h){let f;return f=typeof h=="object"?h.value:h,Pw(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Ax(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Ax(m,f)}(n.endAt)),Zle(e,i,a,s,o,"F",l,u)}function Mce(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UU(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qu(n.unaryFilter.field);return kn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qu(n.unaryFilter.field);return kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qu(n.unaryFilter.field);return kn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qu(n.unaryFilter.field);return kn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return kn.create(Qu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xs.create(n.compositeFilter.filters.map(r=>UU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(t):Ae(30097,{filter:t})}function Dce(t){return Sce[t]}function Lce(t){return Ece[t]}function Vce(t){return kce[t]}function Xu(t){return{fieldPath:t.canonicalString()}}function Qu(t){return ar.fromServerFormat(t.fieldPath)}function zU(t){return t instanceof kn?function(n){if(n.op==="=="){if(GM(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NAN"}};if(KM(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GM(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NOT_NAN"}};if(KM(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(n.field),op:Lce(n.op),value:n.value}}}(t):t instanceof xs?function(n){const r=n.getFilters().map(i=>zU(i));return r.length===1?r[0]:{compositeFilter:{op:Vce(n.op),filters:r}}}(t):Ae(54877,{filter:t})}function Fce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $U(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r,i,s=Oe.min(),a=Oe.min(),o=lr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new tl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bce{constructor(e){this.yt=e}}function Uce(t){const e=Rce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zce{constructor(){this.Cn=new $ce}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(wl.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(wl.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class $ce{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dn(Rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HU=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(HU,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lh(0)}static cr(){return new lh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="LruGarbageCollector",qU=1048576;function uD([t,e],[n,r]){const i=Xe(t,n);return i===0?Xe(e,r):i}class Hce{constructor(e){this.Ir=e,this.buffer=new Dn(uD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qce{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(cD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$h(n)?fe(cD,"Ignoring IndexedDB error during garbage collection: ",n):await zh(n)}await this.Vr(3e5)})}}class Wce{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Cw.ce);const r=new Hce(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(lD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lD):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Gu()<=Ge.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Kce(t,e){return new Wce(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gce{constructor(){this.changes=new ku(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yce{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xce{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fm(r.mutation,i,pi.empty(),zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=xc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=lm();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=xc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=eo();const a=Vm(),o=function(){return Vm()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Bl)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Fm(d.mutation,u,d.mutation.getFieldMask(),zt.now())):a.set(u.key,pi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>o.set(u,new Yce(d,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=Vm();let i=new nn((a,o)=>a-o),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||pi.empty();d=o.applyToLocalView(u,d),r.set(l,d);const h=(i.get(o.batchId)||Qe()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,h=AU();d.forEach(f=>{if(!s.has(f)){const m=OU(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ne.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ne.resolve(xc());let o=Ep,l=s;return a.next(u=>ne.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(d)?ne.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Qe())).next(d=>({batchId:o,changes:kU(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let i=lm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=lm();return this.indexManager.getCollectionParents(e,s).next(o=>ne.forEach(o,l=>{const u=function(h,f){return new Pg(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,vr.newInvalidDocument(d)))});let o=lm();return a.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Fm(d.mutation,u,pi.empty(),zt.now()),Mw(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xs(i.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Uce(i.bundledQuery),readTime:Xs(i.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(){this.overlays=new nn(Se.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xc();return ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=xc(),s=n.length+1,a=new Se(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=xc(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=xc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return ne.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new yce(n,r));let s=this.qr.get(n);s===void 0&&(s=Qe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jce{constructor(){this.sessionToken=lr.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.Qr=new Dn($n.$r),this.Ur=new Dn($n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new $n(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new $n(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Se(new Rt([])),r=new $n(n,e),i=new $n(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new Rt([])),r=new $n(n,e),i=new $n(n,e+1);let s=Qe();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new $n(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dn($n.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new gce(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new $n(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ne.resolve(a)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?PT:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),i=new $n(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(Xe);return n.forEach(i=>{const s=new $n(i,0),a=new $n(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Se.isDocumentKey(s)||(s=s.child(""));const a=new $n(new Se(s),0);let o=new Dn(Xe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},a),ne.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){yt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,i=>{const s=new $n(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new $n(n,0),i=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(e){this.ri=e,this.docs=function(){return new nn(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let r=eo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vr.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=eo();const a=n.path,o=new Se(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Cle(Nle(d),r)<=0||(i.has(d.key)||Mw(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ae(9500)}ii(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nue(this)}getSize(e){return ne.resolve(this.size)}}class nue extends Gce{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue{constructor(e){this.persistence=e,this.si=new ku(n=>RT(n),MT),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new UT,this.targetCount=0,this.ai=lh.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new lh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ne.waitFor(s).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n){this.ui={},this.overlays={},this.ci=new Cw(0),this.li=!1,this.li=!0,this.hi=new Jce,this.referenceDelegate=e(this),this.Pi=new rue(this),this.indexManager=new zce,this.remoteDocumentCache=function(i){return new tue(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Bce(n),this.Ii=new Qce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new eue(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new iue(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return ne.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class iue extends Ole{constructor(e){super(),this.currentSequenceNumber=e}}class zT{constructor(e){this.persistence=e,this.Ri=new UT,this.Vi=null}static mi(e){return new zT(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,r=>{const i=Se.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Px{constructor(e,n){this.persistence=e,this.pi=new ku(r=>Mle(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Kce(this,n)}static mi(e,n){return new Px(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ne.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?ne.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,s.removeEntry(a,Oe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gv(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $T(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return hre()?8:Ile(Ar())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new sue;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Gu()<=Ge.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Yu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Gu()<=Ge.DEBUG&&fe("QueryEngine","Query:",Yu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Gu()<=Ge.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Yu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ys(n))):ne.resolve())}ys(e,n){if(ZM(n))return ne.resolve(null);let r=Ys(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tA(n,null,"F"),r=Ys(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Qe(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,o);return this.Cs(n,u,a,l.readTime)?this.ys(e,tA(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return ZM(n)||i.isEqual(Oe.min())?ne.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?ne.resolve(null):(Gu()<=Ge.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yu(n)),this.vs(e,a,n,Tle(i,Ep)).next(o=>o))})}Ds(e,n){let r=new Dn(SU(e));return n.forEach((i,s)=>{Mw(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Gu()<=Ge.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Yu(n)),this.ps.getDocumentsMatchingQuery(e,n,wl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LocalStore",oue=3e8;class lue{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new nn(Xe),this.xs=new ku(s=>RT(s),MT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xce(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function cue(t,e,n,r){return new lue(t,e,n,r)}async function KU(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Qe();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function uue(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const h=u.batch,f=h.keys();let m=ne.resolve();return f.forEach(p=>{m=m.next(()=>d.getEntry(l,p)).next(y=>{const v=u.docVersions.get(p);yt(v!==null,48541),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Qe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GU(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function due(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;o.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(lr.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(y,v,b){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=oue?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,m,d)&&o.push(n.Pi.updateTargetData(s,m))});let l=eo(),u=Qe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(hue(s,a,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(Oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return ne.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function hue(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=eo();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):fe(HT,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function fue(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=PT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mue(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,ne.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new tl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function aA(t,e,n){const r=Re(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!$h(a))throw a;fe(HT,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function dD(t,e,n){const r=Re(t);let i=Oe.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const h=Re(l),f=h.xs.get(d);return f!==void 0?ne.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(r,a,Ys(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Oe.min(),n?s:Qe())).next(o=>(pue(r,ece(e),o),{documents:o,Qs:s})))}function pue(t,e,n){let r=t.Os.get(e)||Oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class hD{constructor(){this.activeTargetIds=ace()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gue{constructor(){this.Mo=new hD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="ConnectivityMonitor";class mD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(fD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(fD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ly=null;function oA(){return ly===null?ly=function(){return 268435456+Math.round(2147483648*Math.random())}():ly++,"0x"+ly.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="RestConnection",vue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xue{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ap?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=oA(),o=this.zo(e,n.toUriEncodedString());fe(_S,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),d=Su(u);return this.Jo(e,o,l,r,d).then(h=>(fe(_S,`Received RPC '${e}' ${a}: `,h),h),h=>{throw rh(_S,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",r),h})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=vue[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class wue extends xue{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=oA();return new Promise((o,l)=>{const u=new XB;u.setWithCredentials(!0),u.listenOnce(QB.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pv.NO_ERROR:const h=u.getResponseJson();fe(mr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case pv.TIMEOUT:fe(mr,`RPC '${e}' ${a} timed out`),l(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case pv.HTTP_ERROR:const f=u.getStatus();if(fe(mr,`RPC '${e}' ${a} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const y=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(w)>=0?w:J.UNKNOWN}(p.status);l(new de(y,p.message))}else l(new de(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new de(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{fe(mr,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(i);fe(mr,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=oA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=eU(),o=JB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");fe(mr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=a.createWebChannel(d,l);this.I_(h);let f=!1,m=!1;const p=new bue({Yo:v=>{m?fe(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(fe(mr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),fe(mr,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Zo:()=>h.close()}),y=(v,b,w)=>{v.listen(b,_=>{try{w(_)}catch(j){setTimeout(()=>{throw j},0)}})};return y(h,om.EventType.OPEN,()=>{m||(fe(mr,`RPC '${e}' stream ${i} transport opened.`),p.o_())}),y(h,om.EventType.CLOSE,()=>{m||(m=!0,fe(mr,`RPC '${e}' stream ${i} transport closed`),p.a_(),this.E_(h))}),y(h,om.EventType.ERROR,v=>{m||(m=!0,rh(mr,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),p.a_(new de(J.UNAVAILABLE,"The operation could not be completed")))}),y(h,om.EventType.MESSAGE,v=>{var b;if(!m){const w=v.data[0];yt(!!w,16349);const _=w,j=(_==null?void 0:_.error)||((b=_[0])==null?void 0:b.error);if(j){fe(mr,`RPC '${e}' stream ${i} received error:`,j);const E=j.status;let I=function(P){const O=wn[P];if(O!==void 0)return RU(O)}(E),k=j.message;I===void 0&&(I=J.INTERNAL,k="Unknown error status: "+E+" with message "+j.message),m=!0,p.a_(new de(I,k)),h.close()}else fe(mr,`RPC '${e}' stream ${i} received:`,w),p.u_(w)}}),y(o,ZB.STAT_EVENT,v=>{v.stat===Gk.PROXY?fe(mr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Gk.NOPROXY&&fe(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function SS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){return new Ace(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="PersistentStream";class XU{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ja(n.toString()),Ja("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new de(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(pD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(pD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _ue extends XU{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Nce(this.serializer,e),r=function(s){if(!("targetChange"in s))return Oe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Oe.min():a.readTime?Xs(a.readTime):Oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sA(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=Jk(l)?{documents:Oce(s,l)}:{query:Ice(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=LU(s,a.resumeToken);const u=nA(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Oe.min())>0){o.readTime=Cx(s,a.snapshotVersion.toTimestamp());const u=nA(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=Mce(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sA(this.serializer),n.removeTarget=e,this.q_(n)}}class Sue extends XU{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Pce(e.writeResults,e.commitTime),r=Xs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Cce(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{}class kue extends Eue{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,rA(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(J.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,rA(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(J.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Aue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ja(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou="RemoteStore";class jue{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Au(this)&&(fe(ou,"Restarting streams for network reachability change."),await async function(l){const u=Re(l);u.Ea.add(4),await Rg(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Bw(u)}(this))})}),this.Ra=new Aue(r,i)}}async function Bw(t){if(Au(t))for(const e of t.da)await e(!0)}async function Rg(t){for(const e of t.da)await e(!1)}function QU(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),GT(n)?KT(n):Hh(n).O_()&&WT(n,e))}function qT(t,e){const n=Re(t),r=Hh(n);n.Ia.delete(e),r.O_()&&ZU(n,e),n.Ia.size===0&&(r.O_()?r.L_():Au(n)&&n.Ra.set("Unknown"))}function WT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hh(t).Y_(e)}function ZU(t,e){t.Va.Ue(e),Hh(t).Z_(e)}function KT(t){t.Va=new _ce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hh(t).start(),t.Ra.ua()}function GT(t){return Au(t)&&!Hh(t).x_()&&t.Ia.size>0}function Au(t){return Re(t).Ea.size===0}function JU(t){t.Va=void 0}async function Tue(t){t.Ra.set("Online")}async function Nue(t){t.Ia.forEach((e,n)=>{WT(t,e)})}async function Cue(t,e){JU(t),GT(t)?(t.Ra.ha(e),KT(t)):t.Ra.set("Unknown")}async function Pue(t,e,n){if(t.Ra.set("Online"),e instanceof DU&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){fe(ou,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ox(t,r)}else if(e instanceof xv?t.Va.Ze(e):e instanceof MU?t.Va.st(e):t.Va.tt(e),!n.isEqual(Oe.min()))try{const r=await GU(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(lr.EMPTY_BYTE_STRING,d.snapshotVersion)),ZU(s,l);const h=new tl(d.target,l,u,d.sequenceNumber);WT(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){fe(ou,"Failed to raise snapshot:",r),await Ox(t,r)}}async function Ox(t,e,n){if(!$h(e))throw e;t.Ea.add(1),await Rg(t),t.Ra.set("Offline"),n||(n=()=>GU(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(ou,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bw(t)})}function ez(t,e){return e().catch(n=>Ox(t,n,e))}async function Uw(t){const e=Re(t),n=kl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:PT;for(;Oue(e);)try{const i=await fue(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Iue(e,i)}catch(i){await Ox(e,i)}tz(e)&&nz(e)}function Oue(t){return Au(t)&&t.Ta.length<10}function Iue(t,e){t.Ta.push(e);const n=kl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tz(t){return Au(t)&&!kl(t).x_()&&t.Ta.length>0}function nz(t){kl(t).start()}async function Rue(t){kl(t).ra()}async function Mue(t){const e=kl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Due(t,e,n){const r=t.Ta.shift(),i=VT.from(r,e,n);await ez(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Uw(t)}async function Lue(t,e){e&&kl(t).X_&&await async function(r,i){if(function(a){return xce(a)&&a!==J.ABORTED}(i.code)){const s=r.Ta.shift();kl(r).B_(),await ez(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Uw(r)}}(t,e),tz(t)&&nz(t)}async function gD(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),fe(ou,"RemoteStore received new credentials");const r=Au(n);n.Ea.add(3),await Rg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bw(n)}async function Vue(t,e){const n=Re(t);e?(n.Ea.delete(2),await Bw(n)):e||(n.Ea.add(2),await Rg(n),n.Ra.set("Unknown"))}function Hh(t){return t.ma||(t.ma=function(n,r,i){const s=Re(n);return s.sa(),new _ue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Tue.bind(null,t),t_:Nue.bind(null,t),r_:Cue.bind(null,t),H_:Pue.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),GT(t)?KT(t):t.Ra.set("Unknown")):(await t.ma.stop(),JU(t))})),t.ma}function kl(t){return t.fa||(t.fa=function(n,r,i){const s=Re(n);return s.sa(),new Sue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Rue.bind(null,t),r_:Lue.bind(null,t),ta:Mue.bind(null,t),na:Due.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Uw(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(ou,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new YT(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function XT(t,e){if(Ja("AsyncQueue",`${e}: ${t}`),$h(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{static emptySet(e){return new Od(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=lm(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Od)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Od;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.ga=new nn(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ch{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new ch(e,n,Od.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Bue{constructor(){this.queries=vD(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Re(n),s=i.queries;i.queries=vD(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function vD(){return new ku(t=>_U(t),Rw)}async function QT(t,e){const n=Re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Fue,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=XT(a,`Initialization of query '${Yu(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&JT(n)}async function ZT(t,e){const n=Re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Uue(t,e){const n=Re(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&JT(n)}function zue(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function JT(t){t.Ca.forEach(e=>{e.next()})}var lA,xD;(xD=lA||(lA={})).Ma="default",xD.Cache="cache";class eN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ch(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ch.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.key=e}}class iz{constructor(e){this.key=e}}class $ue{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=SU(e),this.tu=new Od(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yD,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Mw(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;f&&m?f.data.isEqual(m.data)?p!==y&&(r.track({type:3,doc:m}),v=!0):this.su(f,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(o=!0)):!f&&m?(r.track({type:0,doc:m}),v=!0):f&&!m&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(o=!0)),v&&(m?(a=a.add(m),s=y?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,h)=>function(m,p){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:v})}};return y(m)-y(p)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new ch(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new iz(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new rz(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ch.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tN="SyncEngine";class Hue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class que{constructor(e){this.key=e,this.hu=!1}}class Wue{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new ku(o=>_U(o),Rw),this.Iu=new Map,this.Eu=new Set,this.du=new nn(Se.comparator),this.Au=new Map,this.Ru=new UT,this.Vu={},this.mu=new Map,this.fu=lh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kue(t,e,n=!0){const r=uz(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await sz(r,e,n,!0),i}async function Gue(t,e){const n=uz(t);await sz(n,e,!0,!1)}async function sz(t,e,n,r){const i=await mue(t.localStore,Ys(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Yue(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&QU(t.remoteStore,i),o}async function Yue(t,e,n,r,i){t.pu=(h,f,m)=>async function(y,v,b,w){let _=v.view.ru(b);_.Cs&&(_=await dD(y.localStore,v.query,!1).then(({documents:k})=>v.view.ru(k,_)));const j=w&&w.targetChanges.get(v.targetId),E=w&&w.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(_,y.isPrimaryClient,j,E);return wD(y,v.targetId,I.au),I.snapshot}(t,h,f,m);const s=await dD(t.localStore,e,!0),a=new $ue(e,s.Qs),o=a.ru(s.documents),l=Ig.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);wD(t,n,u.au);const d=new Hue(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Xue(t,e,n){const r=Re(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!Rw(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await aA(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qT(r.remoteStore,i.targetId),cA(r,i.targetId)}).catch(zh)):(cA(r,i.targetId),await aA(r.localStore,i.targetId,!0))}async function Que(t,e){const n=Re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qT(n.remoteStore,r.targetId))}async function Zue(t,e,n){const r=sde(t);try{const i=await function(a,o){const l=Re(a),u=zt.now(),d=o.reduce((m,p)=>m.add(p.key),Qe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let p=eo(),y=Qe();return l.Ns.getEntries(m,d).next(v=>{p=v,p.forEach((b,w)=>{w.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,p)).next(v=>{h=v;const b=[];for(const w of o){const _=mce(w,h.get(w.key).overlayedDocument);_!=null&&b.push(new Bl(w.key,_,mU(_.value.mapValue),Gi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,o)}).next(v=>{f=v;const b=v.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,v.batchId,b)})}).then(()=>({batchId:f.batchId,changes:kU(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new nn(Xe)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await Mg(r,i.changes),await Uw(r.remoteStore)}catch(i){const s=XT(i,"Failed to persist write");n.reject(s)}}async function az(t,e){const n=Re(t);try{const r=await due(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?yt(a.hu,14607):i.removedDocuments.size>0&&(yt(a.hu,42227),a.hu=!1))}),await Mg(n,r,e)}catch(r){await zh(r)}}function bD(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Re(a);l.onlineState=o;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(o)&&(u=!0)}),u&&JT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Jue(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new nn(Se.comparator);a=a.insert(s,vr.newNoDocument(s,Oe.min()));const o=Qe().add(s),l=new Vw(Oe.min(),new Map,new nn(Xe),a,o);await az(r,l),r.du=r.du.remove(s),r.Au.delete(e),nN(r)}else await aA(r.localStore,e,!1).then(()=>cA(r,e,n)).catch(zh)}async function ede(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await uue(n.localStore,e);lz(n,r,null),oz(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mg(n,i)}catch(i){await zh(i)}}async function tde(t,e,n){const r=Re(t);try{const i=await function(a,o){const l=Re(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(yt(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);lz(r,e,n),oz(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mg(r,i)}catch(i){await zh(i)}}function oz(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function lz(t,e,n){const r=Re(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function cA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||cz(t,r)})}function cz(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),nN(t))}function wD(t,e,n){for(const r of n)r instanceof rz?(t.Ru.addReference(r.key,e),nde(t,r)):r instanceof iz?(fe(tN,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||cz(t,r.key)):Ae(19791,{wu:r})}function nde(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(tN,"New document in limbo: "+n),t.Eu.add(r),nN(t))}function nN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(Rt.fromString(e)),r=t.fu.next();t.Au.set(r,new que(n)),t.du=t.du.insert(n,r),QU(t.remoteStore,new tl(Ys(Iw(n.path)),r,"TargetPurposeLimboResolution",Cw.ce))}}async function Mg(t,e,n){const r=Re(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=$T.As(l.targetId,u);s.push(h)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,u){const d=Re(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ne.forEach(u,f=>ne.forEach(f.Es,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>ne.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!$h(h))throw h;fe(HT,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.Ms.get(f),p=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(p);d.Ms=d.Ms.insert(f,y)}}}(r.localStore,s))}async function rde(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){fe(tN,"User change. New user:",e.toKey());const r=await KU(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new de(J.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mg(n,r.Ls)}}function ide(t,e){const n=Re(t),r=n.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let i=Qe();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function uz(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=az.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ide.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jue.bind(null,e),e.Pu.H_=Uue.bind(null,e.eventManager),e.Pu.yu=zue.bind(null,e.eventManager),e}function sde(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ede.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tde.bind(null,e),e}class Ix{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cue(this.persistence,new aue,e.initialUser,this.serializer)}Cu(e){return new WU(zT.mi,this.serializer)}Du(e){return new gue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ix.provider={build:()=>new Ix};class ade extends Ix{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){yt(this.persistence.referenceDelegate instanceof Px,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qce(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new WU(r=>Px.mi(r,n),this.serializer)}}class uA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rde.bind(null,this.syncEngine),await Vue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Bue}()}createDatastore(e){const n=Fw(e.databaseInfo.databaseId),r=function(s){return new wue(s)}(e.databaseInfo);return function(s,a,o,l){return new kue(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new jue(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>bD(this.syncEngine,n,0),function(){return mD.v()?new mD:new yue}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,d){const h=new Wue(i,s,a,o,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Re(i);fe(ou,"RemoteStore shutting down."),s.Ea.add(5),await Rg(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}uA.provider={build:()=>new uA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ja("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="FirestoreClient";class ode{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yr.UNAUTHENTICATED,this.clientId=CT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{fe(Al,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(fe(Al,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=XT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ES(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Al,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KU(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _D(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lde(t);fe(Al,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gD(e.remoteStore,i)),t._onlineComponents=e}async function lde(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Al,"Using user provided OfflineComponentProvider");try{await ES(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;rh("Error using user provided cache. Falling back to memory cache: "+n),await ES(t,new Ix)}}else fe(Al,"Using default OfflineComponentProvider"),await ES(t,new ade(void 0));return t._offlineComponents}async function dz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Al,"Using user provided OnlineComponentProvider"),await _D(t,t._uninitializedComponentsProvider._online)):(fe(Al,"Using default OnlineComponentProvider"),await _D(t,new uA))),t._onlineComponents}function cde(t){return dz(t).then(e=>e.syncEngine)}async function Rx(t){const e=await dz(t),n=e.eventManager;return n.onListen=Kue.bind(null,e.syncEngine),n.onUnlisten=Xue.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gue.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Que.bind(null,e.syncEngine),n}function ude(t,e,n={}){const r=new za;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const d=new rN({next:f=>{d.Nu(),a.enqueueAndForget(()=>ZT(s,h));const m=f.docs.has(o);!m&&f.fromCache?u.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new eN(Iw(o.path),d,{includeMetadataChanges:!0,qa:!0});return QT(s,h)}(await Rx(t),t.asyncQueue,e,n,r)),r.promise}function dde(t,e,n={}){const r=new za;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const d=new rN({next:f=>{d.Nu(),a.enqueueAndForget(()=>ZT(s,h)),f.fromCache&&l.source==="server"?u.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new eN(o,d,{includeMetadataChanges:!0,qa:!0});return QT(s,h)}(await Rx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="firestore.googleapis.com",ED=!0;class kD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fz,this.ssl=ED}else this.host=e.host,this.ssl=e.ssl??ED;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qU)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hz(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yle;switch(r.type){case"firstParty":return new wle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SD.get(n);r&&(fe("ComponentProvider","Removing Datastore"),SD.delete(n),r.terminate())}(this),Promise.resolve()}}function hde(t,e,n,r={}){var u;t=Qr(t,zw);const i=Su(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(dT(`https://${o}`),F8("Firestore",!0)),s.host!==fz&&s.host!==o&&rh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!na(l,a)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=yr.MOCK_USER;else{d=ire(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new yr(f)}t._authCredentials=new vle(new nU(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ju(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cg(n,cn._jsonSchema))return new cn(e,r||null,new Se(Rt.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:An("string",cn._jsonSchemaVersion),referencePath:An("string")};class pl extends ju{constructor(e,n,r){super(e,n,Iw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Se(e))}withConverter(e){return new pl(this.firestore,e,this._path)}}function Mx(t,e,...n){if(t=vn(t),rU("collection","path",e),t instanceof zw){const r=Rt.fromString(e,...n);return VM(r),new pl(t,null,r)}{if(!(t instanceof cn||t instanceof pl))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return VM(r),new pl(t.firestore,null,r)}}function mt(t,e,...n){if(t=vn(t),arguments.length===1&&(e=CT.newId()),rU("doc","path",e),t instanceof zw){const r=Rt.fromString(e,...n);return LM(r),new cn(t,null,new Se(r))}{if(!(t instanceof cn||t instanceof pl))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return LM(r),new cn(t.firestore,t instanceof pl?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="AsyncQueue";class jD{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YU(this,"async_queue_retry"),this._c=()=>{const r=SS();r&&fe(AD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=SS();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=SS();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new za;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$h(e))throw e;fe(AD,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ja("INTERNAL UNHANDLED ERROR: ",TD(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=YT.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Ae(47125,{Pc:TD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class to extends zw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jD(e),this._firestoreClient=void 0,await e}}}function fde(t,e,n){n||(n=Ap);const r=Ll(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(na(s,e))return i;throw new de(J.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new de(J.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qU)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Su(e.host)&&dT(e.host),r.initialize({options:e,instanceIdentifier:n})}function mde(t,e){const n=typeof t=="object"?t:Sw(),r=typeof t=="string"?t:Ap,i=Ll(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nre("firestore");s&&hde(i,...s)}return i}function $w(t){if(t._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pde(t),t._firestoreClient}function pde(t){var r,i,s;const e=t._freezeSettings(),n=function(o,l,u,d){return new Vle(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hz(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ode(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(lr.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cg(e,Ui._jsonSchema))return Ui.fromBase64String(e.bytes)}}Ui._jsonSchemaVersion="firestore/bytes/1.0",Ui._jsonSchema={type:An("string",Ui._jsonSchemaVersion),bytes:An("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qs._jsonSchemaVersion}}static fromJSON(e){if(Cg(e,Qs._jsonSchema))return new Qs(e.latitude,e.longitude)}}Qs._jsonSchemaVersion="firestore/geoPoint/1.0",Qs._jsonSchema={type:An("string",Qs._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cg(e,Zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Zs(e.vectorValues);throw new de(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zs._jsonSchemaVersion="firestore/vectorValue/1.0",Zs._jsonSchema={type:An("string",Zs._jsonSchemaVersion),vectorValues:An("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gde=/^__.*__$/;class yde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Og(e,this.data,n,this.fieldTransforms)}}class mz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class Ww{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ww({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pz(this.Ac)&&gde.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fw(e)}Cc(e,n,r,i=!1){return new Ww({Ac:e,methodName:n,Dc:r,path:ar.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kw(t){const e=t._freezeSettings(),n=Fw(t._databaseId);return new vde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gz(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);sN("Data must be an object, but it was:",a,r);const o=yz(r,a);let l,u;if(s.merge)l=new pi(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=dA(e,h,n);if(!a.contains(f))throw new de(J.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xz(d,f)||d.push(f)}l=new pi(d),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new yde(new Wr(o),l,u)}class Gw extends qw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gw}}function xde(t,e,n){return new Ww({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class iN extends qw{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=xde(this,e,!0),r=this.vc.map(s=>qh(s,n)),i=new oh(r);return new uce(e.path,i)}isEqual(e){return e instanceof iN&&na(this.vc,e.vc)}}function bde(t,e,n,r){const i=t.Cc(1,e,n);sN("Data must be an object, but it was:",i,r);const s=[],a=Wr.empty();Fl(r,(l,u)=>{const d=aN(e,l,n);u=vn(u);const h=i.yc(d);if(u instanceof Gw)s.push(d);else{const f=qh(u,h);f!=null&&(s.push(d),a.set(d,f))}});const o=new pi(s);return new mz(a,o,i.fieldTransforms)}function wde(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[dA(e,r,n)],l=[i];if(s.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)o.push(dA(e,s[f])),l.push(s[f+1]);const u=[],d=Wr.empty();for(let f=o.length-1;f>=0;--f)if(!xz(u,o[f])){const m=o[f];let p=l[f];p=vn(p);const y=a.yc(m);if(p instanceof Gw)u.push(m);else{const v=qh(p,y);v!=null&&(u.push(m),d.set(m,v))}}const h=new pi(u);return new mz(d,h,a.fieldTransforms)}function _de(t,e,n,r=!1){return qh(n,t.Cc(r?4:3,e))}function qh(t,e){if(vz(t=vn(t)))return sN("Unsupported field value:",e,t),yz(t,e);if(t instanceof qw)return function(r,i){if(!pz(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=qh(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oce(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zt.fromDate(r);return{timestampValue:Cx(i.serializer,s)}}if(r instanceof zt){const s=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cx(i.serializer,s)}}if(r instanceof Qs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ui)return{bytesValue:LU(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:BT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zs)return function(a,o){return{mapValue:{fields:{[hU]:{stringValue:fU},[kx]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return DT(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Nw(r)}`)}(t,e)}function yz(t,e){const n={};return aU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fl(t,(r,i)=>{const s=qh(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function vz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof Qs||t instanceof Ui||t instanceof cn||t instanceof qw||t instanceof Zs)}function sN(t,e,n){if(!vz(n)||!iU(n)){const r=Nw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function dA(t,e,n){if((e=vn(e))instanceof Hw)return e._internalPath;if(typeof e=="string")return aN(t,e);throw Dx("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sde=new RegExp("[~\\*/\\[\\]]");function aN(t,e,n){if(e.search(Sde)>=0)throw Dx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hw(...e.split("."))._internalPath}catch{throw Dx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dx(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new de(J.INVALID_ARGUMENT,o+t+l)}function xz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ede(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ede extends bz{data(){return super.data()}}function oN(t,e){return typeof e=="string"?aN(t,e):e instanceof Hw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lN{}class kde extends lN{}function Ade(t,e,...n){let r=[];e instanceof lN&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof cN).length,o=s.filter(l=>l instanceof Yw).length;if(a>1||a>0&&o>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yw extends kde{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yw(e,n,r)}_apply(e){const n=this._parse(e);return _z(e._query,n),new ju(e.firestore,e.converter,eA(e._query,n))}_parse(e){const n=Kw(e.firestore);return function(s,a,o,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){PD(h,d);const p=[];for(const y of h)p.push(CD(l,s,y));f={arrayValue:{values:p}}}else f=CD(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||PD(h,d),f=_de(o,a,h,d==="in"||d==="not-in");return kn.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jde(t,e,n){const r=e,i=oN("where",t);return Yw._create(i,r,n)}class cN extends lN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)_z(a,l),a=eA(a,l)}(e._query,n),new ju(e.firestore,e.converter,eA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function CD(t,e,n){if(typeof(n=vn(n))=="string"){if(n==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wU(e)&&n.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Rt.fromString(n));if(!Se.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return WM(t,new Se(r))}if(n instanceof cn)return WM(t,n._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nw(n)}.`)}function PD(t,e){if(!Array.isArray(t)||t.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _z(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Tde{convertValue(e,n="none"){switch(El(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[kx].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>gn(a.doubleValue));return new Zs(n)}convertGeoPoint(e){return new Qs(gn(e.latitude),gn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ow(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kp(e));default:return null}}convertTimestamp(e){const n=_l(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);yt($U(r),9688,{name:e});const i=new jp(r.get(1),r.get(3)),s=new Se(r.popFirst(5));return i.isEqual(n)||Ja(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class um{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zc extends bz{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zc._jsonSchemaVersion="firestore/documentSnapshot/1.0",zc._jsonSchema={type:An("string",zc._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class bv extends zc{data(e={}){return super.data(e)}}class $c{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new um(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bv(this._firestore,this._userDataWriter,r.key,r,new um(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new bv(i._firestore,i._userDataWriter,o.doc.key,o.doc,new um(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new bv(i._firestore,i._userDataWriter,o.doc.key,o.doc,new um(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:Nde(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$c._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=CT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Nde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){t=Qr(t,cn);const e=Qr(t.firestore,to);return ude($w(e),t._key).then(n=>Ez(e,t,n))}$c._jsonSchemaVersion="firestore/querySnapshot/1.0",$c._jsonSchema={type:An("string",$c._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};class uN extends Tde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Cde(t){t=Qr(t,ju);const e=Qr(t.firestore,to),n=$w(e),r=new uN(e);return wz(t._query),dde(n,t._query).then(i=>new $c(e,r,t,i))}function Id(t,e,n){t=Qr(t,cn);const r=Qr(t.firestore,to),i=Sz(t.converter,e);return Xw(r,[gz(Kw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gi.none())])}function Or(t,e,n,...r){t=Qr(t,cn);const i=Qr(t.firestore,to),s=Kw(i);let a;return a=typeof(e=vn(e))=="string"||e instanceof Hw?wde(s,"updateDoc",t._key,e,n,r):bde(s,"updateDoc",t._key,e),Xw(i,[a.toMutation(t._key,Gi.exists(!0))])}function OD(t){return Xw(Qr(t.firestore,to),[new LT(t._key,Gi.none())])}function dN(t,e){const n=Qr(t.firestore,to),r=mt(t),i=Sz(t.converter,e);return Xw(n,[gz(Kw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gi.exists(!1))]).then(()=>r)}function hA(t,...e){var l,u,d;t=vn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ND(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ND(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let s,a,o;if(t instanceof cn)a=Qr(t.firestore,to),o=Iw(t._key.path),s={next:h=>{e[r]&&e[r](Ez(a,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Qr(t,ju);a=Qr(h.firestore,to),o=h._query;const f=new uN(a);s={next:m=>{e[r]&&e[r](new $c(a,f,h,m))},error:e[r+1],complete:e[r+2]},wz(t._query)}return function(f,m,p,y){const v=new rN(y),b=new eN(m,v,p);return f.asyncQueue.enqueueAndForget(async()=>QT(await Rx(f),b)),()=>{v.Nu(),f.asyncQueue.enqueueAndForget(async()=>ZT(await Rx(f),b))}}($w(a),o,i,s)}function Xw(t,e){return function(r,i){const s=new za;return r.asyncQueue.enqueueAndForget(async()=>Zue(await cde(r),i,s)),s.promise}($w(t),e)}function Ez(t,e,n){const r=n.docs.get(e._key),i=new uN(t);return new zc(t,i,e._key,r,new um(n.hasPendingWrites,n.fromCache),e.converter)}function ID(...t){return new iN("arrayUnion",t)}(function(e,n=!0){(function(i){Uh=i})(Fh),ra(new ys("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new to(new xle(r.getProvider("auth-internal")),new _le(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jp(u.options.projectId,d)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ki(IM,RM,e),Ki(IM,RM,"esm2020")})();const Pde=!1,Ode=["REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_APP_ID","REACT_APP_FIREBASE_MEASUREMENT_ID"],kS=Ode.filter(t=>!import.meta.env[t]);if(kS.length>0)throw console.error("Missing required Firebase environment variables:",kS),new Error(`Missing required Firebase environment variables: ${kS.join(", ")}`);const dm={apiKey:import.meta.env.REACT_APP_FIREBASE_API_KEY,authDomain:import.meta.env.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:import.meta.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:import.meta.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:import.meta.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:import.meta.env.REACT_APP_FIREBASE_APP_ID,measurementId:import.meta.env.REACT_APP_FIREBASE_MEASUREMENT_ID};let Zl,$o,Ye;if(!dm.apiKey||typeof dm.apiKey!="string"||dm.apiKey.length<20)throw console.error("Invalid or missing Firebase API key. Please ensure REACT_APP_FIREBASE_API_KEY is set in financial/.env or your environment. Current value:",dm.apiKey?"***":"Not set"),new Error("Invalid Firebase API key. Aborting initialization.");if(wie().length)Zl=Sw(),$o=PM(Zl),Ye=mde(Zl);else try{Zl=H8(dm),$o=PM(Zl),Ye=fde(Zl,{experimentalForceLongPolling:!0,useFetchStreams:!1}),Pde&&import.meta.env.REACT_APP_USE_FIREBASE_EMULATORS,(async()=>{try{if(await Qse())return Yse(Zl)}catch(t){console.warn("Analytics initialization failed:",t)}return null})()}catch(t){throw t&&(t.code==="auth/invalid-api-key"||t.message&&t.message.includes("invalid-api-key"))&&(console.error("Firebase initialization failed with auth/invalid-api-key. Possible causes:"),console.error("- The API key is incorrect or missing in financial/.env (REACT_APP_FIREBASE_API_KEY)"),console.error("- The dev server was not restarted after updating .env"),console.error("- You are running a different app instance that does not load financial/.env"),console.error("Actions to fix:"),console.error("1) Verify financial/.env contains the correct REACT_APP_FIREBASE_* values."),console.error("2) Restart the dev server so CRA picks up the env changes."),console.error("3) Ensure you are editing the same project that is running at the dev URL.")),console.error("Firebase initialization error",t),t}const kz=x.createContext(null),If=import.meta.env.REACT_APP_DEV_AUTH==="true",Rf={id:import.meta.env.REACT_APP_DEV_USER_ID||"dev-uid",email:import.meta.env.REACT_APP_DEV_USER_EMAIL||"dev@local",name:import.meta.env.REACT_APP_DEV_USER_NAME||"Developer",hasCompletedSetup:(import.meta.env.REACT_APP_DEV_USER_SETUP==="true",!0),orgSettings:{currency:"USD",fiscalYearStartMonth:1}},Ide=({children:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState(!0),s=Fr();x.useEffect(()=>{if(If)return n(Rf),i(!1),()=>{};try{if(typeof window<"u"&&window.fetch&&!window.fetch.__secureTokenWrapped){const m=window.fetch.bind(window),p=async function(...y){const v=y&&y[0];if(typeof v=="string"&&v.includes("securetoken.googleapis.com"))for(let _=0;_<=2;_++)try{return await m(...y)}catch(j){if(_===2)throw j;await new Promise(E=>setTimeout(E,500*(_+1))),console.warn("Retrying securetoken fetch attempt",_+1,v)}return m(...y)};p.__secureTokenWrapped=!0,p.__origFetch=m,window.fetch=p,window.fetch.__origFetch=m}}catch(m){console.debug("Failed to install securetoken fetch wrapper",m)}const f=ioe($o,async m=>{if(!m){n(null),i(!1);return}try{const p=mt(Ye,"orgs",m.uid),y=await En(p);if(y.exists()){const v=y.data(),b={id:m.uid,email:m.email,name:v.name||m.email,hasCompletedSetup:v.hasCompletedSetup??!0,orgSettings:v.orgSettings||{currency:"USD",fiscalYearStartMonth:1}};n(b)}else{const v={name:m.email,isUserProfile:!0,hasCompletedSetup:!0,orgSettings:{currency:"USD",fiscalYearStartMonth:1},createdAt:new Date().toISOString()};await Id(p,v),n({id:m.uid,email:m.email,...v})}}catch(p){console.error("Failed to load user profile",p),n({id:m.uid,email:m.email,name:m.email,hasCompletedSetup:!0,orgSettings:{currency:"USD",fiscalYearStartMonth:1}})}finally{i(!1)}});return()=>{try{if(typeof window<"u"&&window.fetch&&window.fetch.__origFetch)try{window.fetch=window.fetch.__origFetch}catch{}}catch{}try{f()}catch{}}},[]);const a=async(f,m,p=0)=>{if(If)return n(Rf),{success:!0};const y=2,v=1e3;try{const b=await toe($o,f,m);return b.user&&!b.user.emailVerified?{success:!1,error:"Please verify your email before logging in. Check your inbox for the verification link."}:{success:!0}}catch(b){console.error("Login error:",b);let w="Login failed. Please try again.";switch(b.code){case"auth/user-not-found":case"auth/wrong-password":w="Invalid email or password.";break;case"auth/too-many-requests":w="Too many failed login attempts. Please try again later or reset your password.";break;case"auth/network-request-failed":if(p<y)return await new Promise(_=>setTimeout(_,v*(p+1))),a(f,m,p+1);w="Network error. Please check your connection and try again.";break;case"auth/api-key-not-valid":case"auth/invalid-api-key":w="Configuration error. Please contact support.",console.error("Firebase API key issue. Check your .env file and Firebase configuration.");break;default:w=b.message||"An unexpected error occurred during login."}return{success:!1,error:w,code:b.code}}},h={user:e,loading:r,login:a,register:async({name:f,email:m,password:p},y={})=>{if(If)return n({...Rf,name:f||Rf.name,email:m||Rf.email,hasCompletedSetup:!1}),{success:!0};try{const v=await eoe($o,m,p),b=v.user.uid,_={...{name:f||m,isUserProfile:!0,hasCompletedSetup:!1,orgSettings:{currency:"USD",fiscalYearStartMonth:1},createdAt:new Date().toISOString()},...y.profile||{}};return y.createProfile!==!1&&await Id(mt(Ye,"orgs",b),_),{success:!0,user:{id:b,email:v.user.email}}}catch(v){return console.error("Registration error:",v),{success:!1,error:(v==null?void 0:v.code)==="auth/api-key-not-valid"||((v==null?void 0:v.message)||"").toLowerCase().includes("api key not valid")?"Firebase API key invalid or missing. Copy .env.local.example to .env.local, set REACT_APP_FIREBASE_API_KEY and other values to your Firebase project settings, then restart the dev server.":v.message||"Registration failed"}}},logout:async()=>{try{if(If){n(null),s("/login");return}await soe($o),n(null),s("/login")}catch(f){console.error("Sign out failed",f)}},updateUser:async f=>{try{if(!(e!=null&&e.id)){n(p=>({...p||{},...f||{}}));return}const m=mt(Ye,"orgs",e.id);await Or(m,f),n(p=>({...p||{},...f||{}}))}catch(m){console.error("Failed to update user",m),n(p=>({...p||{},...f||{}}))}},resetPassword:async f=>{try{return If?{success:!0}:(await Jae($o,f),{success:!0})}catch(m){return console.error("Password reset error:",m),{success:!1,error:(m==null?void 0:m.message)||"Failed to send password reset email"}}},isAuthenticated:!!e};return c.jsx(kz.Provider,{value:h,children:t})},Vt=()=>{const t=x.useContext(kz);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Az=x.createContext(null);function Rde({children:t}){const{user:e}=Vt(),[n,r]=x.useState([]),[i,s]=x.useState(null),[a,o]=x.useState(!0),[l,u]=x.useState(null),[d,h]=x.useState("KES"),[f,m]=x.useState("viewer");let p=!1;const y=()=>new Promise(A=>{if(typeof window<"u"&&window.emailjs){A(window.emailjs);return}if(p){setTimeout(()=>A(window.emailjs),100);return}const C=document.createElement("script");C.src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js",C.async=!0,C.onload=()=>{p=!0,A(window.emailjs)},C.onerror=()=>A(null),document.head.appendChild(C)}),v=A=>typeof A=="string"&&A.includes("@"),b=A=>typeof A=="string"&&/^[A-Za-z0-9_-]{8,}$/.test(A)&&A.length>8,w=(A,C)=>A&&typeof A=="string"&&!v(A)&&!b(A)&&A.trim().length?A:C&&typeof C=="string"&&!v(C)&&!b(C)&&C.trim().length?C:"Organization";x.useEffect(()=>{if(!(e!=null&&e.id)){r([]),s(null),o(!1),u(null),h("KES");return}let A=null;return(async()=>{try{o(!0);const C=mt(Ye,"orgs",e.id),F=await En(C),M=[];if(F.exists()){const V=F.data();V!=null&&V.isUserProfile||M.push({id:F.id,...V})}try{const V=Ade(Mx(Ye,"orgs"),jde("members","array-contains",e.id)),B=await Cde(V);console.log("OrgContext: Found member orgs:",B.docs.length),B.forEach(D=>{M.find(U=>U.id===D.id)||(console.log("OrgContext: Adding member org:",D.id,D.data().name),M.push({id:D.id,...D.data()}))})}catch(V){console.debug("Member orgs query failed or not permitted",V.message||V)}r(M),s(V=>{var B;return V||((B=M[0])==null?void 0:B.id)||e.id}),A=hA(mt(Ye,"orgs",e.id),V=>{if(!V.exists())return;const B=V.data();B!=null&&B.isUserProfile||r(D=>D.find(H=>H.id===V.id)?D.map(H=>H.id===V.id?{id:V.id,...V.data()}:H):[{id:V.id,...V.data()},...D])})}catch(C){console.error("Failed to load orgs for user",C)}finally{o(!1)}})(),()=>{A&&A()}},[e==null?void 0:e.id]);const _=A=>{s(A)},j=A=>{if(!(e!=null&&e.id)||!A)return!1;const C=n.find(M=>M.id===A);return C?(Array.isArray(C.funders)?C.funders:[]).some(M=>M&&M.id===e.id):!1},E=A=>{if(!(e!=null&&e.id)||!A)return!1;const C=n.find(V=>V.id===A);if(!C)return!1;const M=(Array.isArray(C.memberships)?C.memberships:[]).find(V=>V&&V.userId===e.id);return M&&(M.role==="admin"||M.role==="financial_officer")};x.useEffect(()=>{if(!i){u(null);return}const A=mt(Ye,"orgs",i),C=hA(A,F=>{var H;if(!F.exists())return;const M={id:F.id,...F.data()};u(M);const V=((H=M==null?void 0:M.orgSettings)==null?void 0:H.currency)||"KES";h(V);try{localStorage.setItem("finTrackCurrency",V)}catch{}r(X=>X.find(Q=>Q.id===M.id)?X.map(Q=>Q.id===M.id?M:Q):[M,...X]);const D=(Array.isArray(M.memberships)?M.memberships:[]).find(X=>X.userId===(e==null?void 0:e.id));let U=(D==null?void 0:D.role)||(M.id===(e==null?void 0:e.id)?"admin":"viewer");U==="finance"&&(U="financial_officer"),m(U)},F=>{console.error("Active org subscription failed",F)});return()=>C()},[i]),x.useEffect(()=>{if(!(e!=null&&e.id)||!(l!=null&&l.id)||l.id!==e.id)return;(Array.isArray(l.memberships)?l.memberships:[]).some(F=>F.userId===e.id)||(async()=>{try{const F=mt(Ye,"orgs",l.id);await Or(F,{memberships:ID({userId:e.id,email:e.email||"",role:"admin",addedAt:new Date().toISOString()}),members:ID(e.id)})}catch(F){console.debug("ensureSelfMembership failed",(F==null?void 0:F.message)||F)}})()},[e==null?void 0:e.id,l==null?void 0:l.id]);async function I(A,C="viewer"){if(!i)return{success:!1,error:"No active organization"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A))return{success:!1,error:"Please enter a valid email address"};const M=Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2),V=C==="finance"?"financial_officer":C,B={id:M.slice(0,12),email:String(A).toLowerCase().trim(),role:V,token:M,status:"pending",invitedBy:(e==null?void 0:e.id)||"system",createdAt:new Date().toISOString()};try{const D=mt(Ye,"orgs",i),U=await En(D),H=U.exists()?U.data():{},X=Array.isArray(H.members)?H.members:[],Q=(Array.isArray(H.memberships)?H.memberships:[]).find(le=>{var ee;return((ee=le.email)==null?void 0:ee.toLowerCase())===B.email});if(Q)return{success:!1,error:`This user is already a member with the role: ${Q.role}`};const re=Array.isArray(H.invites)?H.invites:[];if(re.find(le=>le.email===B.email))return{success:!1,error:"An invitation has already been sent to this email address"};const Ce=[B,...re];await Or(D,{invites:Ce});const xe=`${window.location.origin}/invite/${i}/${B.token}`,Je=`${window.location.origin}/app/funders`;console.log("Invitation created - Link:",xe,"OrgId:",i,"Token:",B.token);let se=!1,me=null;if(import.meta.env.REACT_APP_EMAILJS_PUBLIC_KEY&&import.meta.env.REACT_APP_EMAILJS_SERVICE_ID&&import.meta.env.REACT_APP_EMAILJS_TEMPLATE_ID)try{const le=await y();le&&typeof le.init=="function"&&(le.init(import.meta.env.REACT_APP_EMAILJS_PUBLIC_KEY),await le.send(import.meta.env.REACT_APP_EMAILJS_SERVICE_ID,import.meta.env.REACT_APP_EMAILJS_TEMPLATE_ID,{to_email:B.email,org_name:w(H==null?void 0:H.name,i),role:B.role,link:xe,funders_link:Je,invited_by:(e==null?void 0:e.email)||"an admin",support_email:(e==null?void 0:e.email)||"support@example.com"}),se=!0,console.log("EmailJS invitation sent successfully to:",B.email))}catch(le){me=(le==null?void 0:le.message)||"Failed to send email",console.error("EmailJS send error:",me)}if(!se&&import.meta.env.REACT_APP_USE_FIREBASE_TRIGGER_EMAIL==="true")try{const le={to:[B.email],message:{subject:`You're invited to join ${w(H==null?void 0:H.name,i)}`,text:`You've been invited by ${(e==null?void 0:e.email)||"an admin"} to join ${w(H==null?void 0:H.name,i)} as ${B.role}.

Click here to accept: ${xe}

If you didn't expect this invitation, you can safely ignore this email.`,html:`
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #e2e8f0; border-radius: 8px;">
                  <h2 style="color: #1e40af;">You're Invited!</h2>
                  <p><strong>${(e==null?void 0:e.email)||"An admin"}</strong> has invited you to join <strong>${w(H==null?void 0:H.name,i)}</strong> as <strong>${B.role}</strong>.</p>
                  <p>Click the button below to accept the invitation and get started:</p>
                  <div style="margin: 25px 0;">
                    <a href="${xe}" style="display: inline-block; padding: 10px 20px; background-color: #2563eb; color: white; text-decoration: none; border-radius: 4px; font-weight: bold;">
                      Accept Invitation
                    </a>
                  </div>
                  <p style="margin:0 0 12px;">If you already have an account, you can view funders and details after signing in here: <a href="${Je}" style="color:#0ea5e9;text-decoration:underline;">Open Funders</a></p>
                  <p>Or copy and paste this link into your browser:</p>
                  <p style="word-break: break-all; color: #2563eb;">${xe}</p>
                  <p style="margin-top: 30px; font-size: 12px; color: #6b7280;">
                    If you didn't expect this invitation, you can safely ignore this email.
                  </p>
                </div>
              `}};await dN(Mx(Ye,"mail"),le),se=!0,console.log("Firebase trigger email sent successfully to:",B.email)}catch(le){me=me||(le==null?void 0:le.message)||"Failed to send fallback email",console.error("Firebase trigger email error:",le)}return se?{success:!0,invite:B,link:xe,emailSent:!0}:{success:!0,invite:B,link:xe,warning:"Email could not be sent. Please share this invitation link manually:",manualCopyText:`You've been invited to join ${w(H==null?void 0:H.name,i)} as ${B.role}. Use this link to accept: ${xe}`}}catch(D){return console.error("inviteMember failed",D),{success:!1,error:(D==null?void 0:D.message)||"Failed to invite member"}}}async function k(A){if(!i)return{success:!1};try{const C=mt(Ye,"orgs",i),F=await En(C),V=(F.exists()&&Array.isArray(F.data().invites)?F.data().invites:[]).filter(B=>B.id!==A&&B.token!==A);return await Or(C,{invites:V}),{success:!0}}catch(C){return{success:!1,error:(C==null?void 0:C.message)||"Failed to revoke invite"}}}async function S(A,C){var F;if(!i)return{success:!1};try{const M=mt(Ye,"orgs",i),V=await En(M),B=V.exists()?V.data():{},D=Array.isArray(B.memberships)?B.memberships:[],U=((F=D.find(re=>re.userId===A))==null?void 0:F.role)||null,H=D.map(re=>re.userId===A?{...re,role:C}:re),X={id:Math.random().toString(36).slice(2,10),userId:A,previousRole:U,newRole:C,by:(e==null?void 0:e.id)||"system",byEmail:(e==null?void 0:e.email)||null,at:new Date().toISOString()},z=Array.isArray(B.roleHistory)?B.roleHistory:[],Q=[X,...z];return await Or(M,{memberships:H,roleHistory:Q}),{success:!0}}catch(M){return{success:!1,error:(M==null?void 0:M.message)||"Failed to update role"}}}async function P(A){if(!i)return{success:!1};try{const C=mt(Ye,"orgs",i),F=await En(C);if(!F.exists())return{success:!1,error:"Organization not found"};const M=F.data(),V=Array.isArray(M.memberships)?M.memberships:[],B=Array.isArray(M.members)?M.members:[],D=Array.isArray(M.funders)?M.funders:[],U=V.filter(z=>z.userId!==A),H=B.filter(z=>z!==A),X=D.filter(z=>z&&z.id!==A);return await Or(C,{memberships:U,members:H,funders:X}),{success:!0}}catch(C){return{success:!1,error:(C==null?void 0:C.message)||"Failed to remove member"}}}async function O(A,C){var F;if(!i)return{success:!1};try{const M=mt(Ye,"orgs",i),V=await En(M);if(!V.exists())return{success:!1,error:"Org not found"};const B=V.data(),D=Array.isArray(B.roleHistory)?B.roleHistory:[],U=D.find(ue=>ue.id===C&&ue.userId===A);if(!U)return{success:!1,error:"History entry not found"};const H=U.previousRole||"viewer",z=(Array.isArray(B.memberships)?B.memberships:[]).map(ue=>ue.userId===A?{...ue,role:H}:ue),re=[{id:Math.random().toString(36).slice(2,10),userId:A,previousRole:((F=B.memberships.find(ue=>ue.userId===A))==null?void 0:F.role)||null,newRole:H,by:(e==null?void 0:e.id)||"system",byEmail:(e==null?void 0:e.email)||null,at:new Date().toISOString(),restoredFrom:C},...D];return await Or(M,{memberships:z,roleHistory:re}),{success:!0}}catch(M){return{success:!1,error:(M==null?void 0:M.message)||"Failed to restore role"}}}const N={orgs:n,activeOrgId:i,switchOrg:_,loading:a,activeOrg:l,currency:d,role:f,inviteMember:I,revokeInvite:k,updateMemberRole:S,restoreMemberRole:O,removeMember:P,isFunderInOrg:j,hasAdminRoleInOrg:E};return c.jsx(Az.Provider,{value:N,children:t})}function lt(){const t=x.useContext(Az);if(!t)throw new Error("useOrg must be used within an OrgProvider");return t}const jz=x.createContext({theme:"light",isDark:!1,setTheme:()=>{},toggleTheme:()=>{}});function Mde({children:t}){const[e,n]=x.useState(()=>{if(typeof window>"u")return"light";try{return localStorage.getItem("theme")||"light"}catch{return"light"}}),r=e==="dark";x.useEffect(()=>{if(typeof document>"u")return;const a=document.documentElement;r?a.classList.add("dark"):a.classList.remove("dark");try{localStorage.setItem("theme",e)}catch{}},[e,r]);const s={theme:e,isDark:r,setTheme:n,toggleTheme:()=>n(a=>a==="dark"?"light":"dark")};return c.jsx(jz.Provider,{value:s,children:t})}function da(){const t=x.useContext(jz);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}function he(t,e=null){const n=Number(t||0);try{const r=e||typeof localStorage<"u"&&localStorage.getItem("finTrackCurrency")||null;return r?new Intl.NumberFormat(void 0,{style:"currency",currency:r,maximumFractionDigits:0,minimumFractionDigits:0}).format(Math.round(n)):new Intl.NumberFormat(void 0,{maximumFractionDigits:0,minimumFractionDigits:0}).format(Math.round(n))}catch{return Math.round(n).toString()}}const Tz=x.createContext(null),RD="finTrackFinanceData";function Jl(){return Math.random().toString(36).slice(2,10)}const Lx=t=>typeof t=="string"&&t.includes("@"),Vx=t=>typeof t=="string"&&/^[A-Za-z0-9_-]{8,}$/.test(t)&&t.length>8,Mf=(t,e)=>t&&typeof t=="string"&&!Lx(t)&&!Vx(t)&&t.trim().length?t:e&&typeof e=="string"&&!Lx(e)&&!Vx(e)&&e.trim().length?e:"Organization";function Dde({children:t}){const{user:e}=Vt(),{activeOrgId:n,currency:r,role:i,activeOrg:s}=lt(),[a,o]=x.useState({funders:[],projects:[],incomes:[],expenses:[],logs:[],invites:[]});x.useEffect(()=>{if(!n)try{const N=localStorage.getItem(RD);if(N){const A=JSON.parse(N);A&&typeof A=="object"&&o(C=>({funders:Array.isArray(A.funders)?A.funders:C.funders||[],projects:Array.isArray(A.projects)?A.projects:C.projects||[],incomes:Array.isArray(A.incomes)?A.incomes:C.incomes||[],expenses:Array.isArray(A.expenses)?A.expenses:C.expenses||[],logs:Array.isArray(A.logs)?A.logs:C.logs||[],invites:Array.isArray(A.invites)?A.invites:C.invites||[]}))}}catch(N){console.error("Failed to load finance data",N)}},[n]),x.useEffect(()=>{try{localStorage.setItem(RD,JSON.stringify(a))}catch(N){console.error("Failed to persist finance data",N)}},[a]);const l=async(N,A)=>{if(!n)return!0;try{const C=mt(Ye,"orgs",n);return await Or(C,{[N]:A}),!0}catch(C){return console.error("Failed to sync finance data to Firestore",C),!1}},u=(N,A=null,C=null)=>{const F={id:Jl(),action:N,refId:A||null,payload:C||null,by:(e==null?void 0:e.id)||"anonymous",byName:(e==null?void 0:e.name)||(e==null?void 0:e.email)||(e==null?void 0:e.id)||"anonymous",byEmail:(e==null?void 0:e.email)||null,byRole:i||null,at:new Date().toISOString()};return o(M=>{const V={...M,logs:[F,...M.logs||[]]};return l("logs",V.logs),V}),F},d=async N=>{if(!n)return{success:!1,error:"No active organization selected"};try{const A={id:`proj-${Jl()}`,name:String(N.name||"Untitled Project"),funderId:N.funderId||"ORG",allocation:Number(N.allocation||0),description:N.description||"",startDate:N.startDate||null,endDate:N.endDate||null,status:N.status||"active",createdAt:new Date().toISOString(),createdBy:(e==null?void 0:e.id)||"system"},C=[...a.projects,A];return o(M=>({...M,projects:C})),await l("projects",C)?(u("project_created",A.id,A),{success:!0,project:A}):{success:!1,error:"Failed to save project (permission/network)"}}catch(A){return console.error("addProject failed",A),{success:!1,error:(A==null?void 0:A.message)||"Failed to create project"}}};x.useEffect(()=>{if(!n)return;o({funders:[],projects:[],incomes:[],expenses:[],logs:[]});const N=mt(Ye,"orgs",n),A=M=>{if(M==null)return M;if(typeof M=="object"){if("id"in M&&typeof M.id=="string")return M.id;if("path"in M&&typeof M.path=="string")return M.path}return M},C=M=>Array.isArray(M)?M.map(V=>{if(!V||typeof V!="object")return V;const B={...V};return["projectId","walletId","funderId"].forEach(D=>{D in B&&(B[D]=A(B[D]))}),"id"in B&&(B.id=A(B.id)),B}):[],F=hA(N,M=>{if(!M.exists())return;const V=M.data();o({funders:Array.isArray(V.funders)?C(V.funders):[],projects:C(V.projects||[]),incomes:C(V.incomes||[]),expenses:C(V.expenses||[]),logs:C(V.logs||[]),invites:Array.isArray(V.invites)?C(V.invites):[]})},M=>{console.error("Realtime finance snapshot failed",M)});return()=>F()},[n]);const h=async({email:N,role:A,funderId:C,funderName:F})=>{if(!n)return console.error("No active organization selected"),!1;if(!N||!C)return console.error("Missing required fields for invitation"),!1;const M=Jl()+Date.now().toString(36),V=mt(Ye,"orgs",n);try{const B=await En(V);let D={};if(B.exists())D=B.data()||{};else if(n===(e==null?void 0:e.id)){const xe={name:(e==null?void 0:e.displayName)||(e!=null&&e.email?e.email.split("@")[0]:n),owner:(e==null?void 0:e.id)||n,createdAt:new Date().toISOString(),memberships:[{userId:(e==null?void 0:e.id)||n,email:(e==null?void 0:e.email)||"",role:"admin",addedAt:new Date().toISOString()}],members:[(e==null?void 0:e.id)||n],invites:[]};try{await Id(V,xe),console.debug("FinanceContext: created missing org doc for owner",n),D=xe}catch(Je){throw console.error("FinanceContext: failed to auto-create org doc",Je),new Error("Organization not found")}}else throw console.error("FinanceContext: organization not found at",V.path,"activeOrgId:",n,"user:",e==null?void 0:e.id),new Error("Organization not found");const U=Array.isArray(D.invites)?D.invites:[];let H=(D==null?void 0:D.name)||null;if((!H||Lx(H)||Vx(H))&&(H=(e==null?void 0:e.displayName)||(e!=null&&e.email?e.email.split("@")[0]:null),H))try{await Or(V,{name:H})}catch(xe){console.debug("Failed to persist derived org name",(xe==null?void 0:xe.message)||xe)}const X={id:Jl(),token:M,name:F||"",email:N||"",organization:Mf(H||(D==null?void 0:D.name)||(s==null?void 0:s.name),n),projectId:C||null,role:A||"viewer",message:"",createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString(),status:"pending",invitedBy:(e==null?void 0:e.id)||"system"},z=[...U,X];await Or(V,{invites:z});try{await Id(mt(Ye,"invites",M),{...X,orgId:n})}catch(xe){console.warn("Failed to write top-level invite doc",xe)}const Q=`${window.location.origin}/invite/${n}/${M}`,re=`${window.location.origin}/app/funders/${C}`,ue=`${Mf((D==null?void 0:D.name)||(s==null?void 0:s.name),n)} invitation to join as ${X.role}`,Ce=`<div style="font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#0f172a;line-height:1.5;">
        <h3 style="margin:0 0 8px;">You're invited to join ${X.organization}</h3>
        <p style="margin:0 0 12px;">${X.message||`Hello ${X.name||""},

You've been invited to join ${X.organization} as a ${X.role}. Click the button below to accept the invitation and complete your signup.`}</p>
        <p style="margin:0 0 12px;"> <a href="${Q}" style="background:#0ea5e9;color:#fff;padding:10px 14px;border-radius:8px;text-decoration:none;display:inline-block;">Accept invitation</a></p>
        <p style="margin:0 0 12px;">If you already have an account, you can view funders and details after signing in here: <a href="${re}" style="color:#0ea5e9;text-decoration:underline;">Open Funders</a></p>
        <p style="margin:0;color:#6b7280;font-size:13px;">If the button doesn't work, copy and paste the following link into your browser:</p>
        <p style="margin:8px 0 0;color:#6b7280;font-size:13px;word-break:break-all;">${Q}</p>
      </div>`;try{await p([X.email],ue,Ce,{org_name:X.organization,invite_link:Q,funders_link:re,invite_role:X.role,invite_name:X.name,invited_by:(e==null?void 0:e.email)||""})}catch(xe){console.warn("Failed to send invite email",xe)}return u("funder_invited",X.id,X),!0}catch(B){return console.error("Error sending invitation:",B),!1}};let f=!1;const m=()=>new Promise(N=>{if(typeof window<"u"&&window.emailjs){N(window.emailjs);return}if(f){setTimeout(()=>N(window.emailjs),100);return}const A=document.createElement("script");A.src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js",A.async=!0,A.onload=()=>{f=!0,N(window.emailjs)},A.onerror=()=>N(null),document.head.appendChild(A)}),p=async(N,A,C,F={})=>{try{const M=(N||[]).filter(Boolean);if(!M.length)return;const V=import.meta.env.REACT_APP_EMAIL_FUNCTION_URL;if(V)try{await fetch(V,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:M,subject:A,html:C,vars:F})});return}catch{}if(import.meta.env.REACT_APP_USE_FIREBASE_TRIGGER_EMAIL==="true")try{const B=C.replace(/<[^>]+>/g," ");await dN(Mx(Ye,"mail"),{to:M,message:{subject:A,text:B,html:C,vars:F}});return}catch{}if(import.meta.env.REACT_APP_EMAILJS_PUBLIC_KEY&&import.meta.env.REACT_APP_EMAILJS_SERVICE_ID&&import.meta.env.REACT_APP_EMAILJS_TEMPLATE_ID){const B=await m();if(B&&typeof B.init=="function"){B.init(import.meta.env.REACT_APP_EMAILJS_PUBLIC_KEY),console.debug("EmailJS: sending template",import.meta.env.REACT_APP_EMAILJS_TEMPLATE_ID,"service",import.meta.env.REACT_APP_EMAILJS_SERVICE_ID,"to",M);const D={invite_link:(F==null?void 0:F.invite_link)||(F==null?void 0:F.link)||void 0,funders_link:(F==null?void 0:F.funders_link)||(F==null?void 0:F.fundersLink)||`${window.location.origin}/app/funders`,org_name:(F==null?void 0:F.org_name)||(F==null?void 0:F.orgName)||(F==null?void 0:F.organization)||void 0,invite_role:(F==null?void 0:F.invite_role)||(F==null?void 0:F.role)||void 0,invite_name:(F==null?void 0:F.invite_name)||(F==null?void 0:F.name)||void 0,invited_by:(F==null?void 0:F.invited_by)||(F==null?void 0:F.inviter)||(F==null?void 0:F.from)||void 0,support_email:(F==null?void 0:F.support_email)||(F==null?void 0:F.supportEmail)||void 0,message_html:C,subject:A,...F};console.debug("EmailJS templateVars:",D);const U=await Promise.all(M.map(H=>B.send(import.meta.env.REACT_APP_EMAILJS_SERVICE_ID,import.meta.env.REACT_APP_EMAILJS_TEMPLATE_ID,{to_email:H,...D})));return console.debug("EmailJS send results:",U),!0}}}catch{}},y=N=>{var V;const A=(((V=s==null?void 0:s.orgSettings)==null?void 0:V.approvalsEnabled)??!0)===!0,C=i==="admin";if(!(i==="admin"||i==="financial_officer"))return u("income_create_denied_insufficient_role",null,{byRole:i}),{success:!1,error:"You do not have permission to add income."};const M={id:Jl(),projectId:N.projectId||null,walletId:N.walletId||null,amount:Number(N.amount||0),date:N.date||new Date().toISOString(),description:N.description||"",status:A&&!C?"pending":"posted",attachments:N.attachments||[],currency:N.currency||r||"USD",fxRate:N.fxRate||1};if(o(B=>{const D={...B,incomes:[M,...B.incomes]};return l("incomes",D.incomes),u("income_created",M.id,M),D}),M.status==="pending")try{const B=(Array.isArray(s==null?void 0:s.memberships)?s.memberships:[]).filter(D=>D.role==="admin"&&D.email).map(D=>D.email);if(B.length){const D=`${window.location.origin}/approvals`,U=`Approval requested: Income ${M.amount} ${M.currency}`,H=`<div style="font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#0f172a;line-height:1.6;">
            <h3 style="margin:0 0 10px;">Income approval requested</h3>
            <p>An income entry requires your approval.</p>
            <ul>
              <li><strong>Amount:</strong> ${M.amount} ${M.currency}</li>
              <li><strong>Date:</strong> ${new Date(M.date).toLocaleDateString()}</li>
              <li><strong>Description:</strong> ${M.description||"N/A"}</li>
            </ul>
            <p><a href="${D}" style="background:#0ea5e9;color:#fff;padding:8px 12px;border-radius:8px;text-decoration:none;display:inline-block;">Open approvals</a></p>
          </div>`;p(B,U,H,{org_name:Mf(s==null?void 0:s.name,n),item_type:"Income",amount:M.amount,currency:M.currency,date:M.date,description:M.description||"",requester_name:(e==null?void 0:e.name)||"",requester_email:(e==null?void 0:e.email)||"",approvals_link:D,item_id:M.id}).catch(()=>{})}}catch{}return{success:!0,income:M}},v=x.useMemo(()=>{const N=a.incomes.filter(F=>F.status==="posted").reduce((F,M)=>F+M.amount,0),A=a.expenses.filter(F=>F.status==="posted").reduce((F,M)=>F+M.amount,0),C=N-A;return{totalIncome:N,totalExpenses:A,totalAvailable:C}},[a.incomes,a.expenses]),b=x.useMemo(()=>{const N=new Map;return a.projects.forEach(A=>{N.set(A.id,{project:A,income:0,expenses:0,available:0})}),a.incomes.filter(A=>A.status==="posted").forEach(A=>{const C=N.get(A.projectId);C&&(C.income+=A.amount)}),a.expenses.filter(A=>A.status==="posted"&&A.scope==="project").forEach(A=>{const C=N.get(A.projectId);C&&(C.expenses+=A.amount)}),N.forEach(A=>{A.available=A.income-A.expenses}),Array.from(N.values())},[a.projects,a.incomes,a.expenses]),w=x.useMemo(()=>{const N=new Map;return a.funders.forEach(A=>{N.set(A.id,{funder:A,income:0,expenses:0,available:0,allocation:0})}),a.projects.forEach(A=>{const C=N.get(A.funderId);C&&(C.allocation+=Number(A.allocation||0))}),a.incomes.filter(A=>A.status==="posted").forEach(A=>{const C=a.projects.find(V=>V.id===A.projectId),F=A.walletId||(C==null?void 0:C.funderId)||"ORG",M=N.get(F);M&&(M.income+=A.amount)}),a.expenses.filter(A=>A.status==="posted").forEach(A=>{const C=a.projects.find(V=>V.id===A.projectId),F=A.walletId||A.projectId&&(C==null?void 0:C.funderId)||"ORG",M=N.get(F);M&&(M.expenses+=A.amount)}),N.forEach(A=>{A.available=(A.income||0)-(A.expenses||0)}),Array.from(N.values())},[a.funders,a.projects,a.incomes,a.expenses]);x.useMemo(()=>{const N=new Map;return a.funders.forEach(A=>N.set(A.id,{id:A.id,name:A.name,type:"funder",income:0,expenses:0,balance:0})),N.set("ORG",{id:"ORG",name:"Organization",type:"org",income:0,expenses:0,balance:0}),a.incomes.filter(A=>A.status==="posted").forEach(A=>{var V;const C=A.walletId||((V=a.projects.find(B=>B.id===A.projectId))==null?void 0:V.funderId)||"ORG",F=a.projects.find(B=>B.id===A.projectId),M=N.get(C)||{id:C,name:(F==null?void 0:F.name)||C,type:"project",income:0,expenses:0,balance:0};M.income=(M.income||0)+A.amount,N.set(C,M)}),a.expenses.filter(A=>A.status==="posted").forEach(A=>{var M;const C=A.walletId||A.projectId&&((M=a.projects.find(V=>V.id===A.projectId))==null?void 0:M.funderId)||"ORG",F=N.get(C)||{id:C,name:C,type:"unknown",income:0,expenses:0,balance:0};F.expenses=(F.expenses||0)+A.amount,N.set(C,F)}),N.forEach(A=>{A.balance=(A.income||0)-(A.expenses||0)}),Array.from(N.values())},[a.funders,a.projects,a.incomes,a.expenses]);const _=async N=>{if(!n)throw new Error("No active organization selected");const A=Jl()+Date.now().toString(36),C=mt(Ye,"orgs",n),F=await En(C);if(!F.exists())throw new Error("Organization not found");const M=F.data(),V=Array.isArray(M.invites)?M.invites:[];let B=(M==null?void 0:M.name)||null;if((!B||Lx(B)||Vx(B))&&(B=(e==null?void 0:e.displayName)||(e!=null&&e.email?e.email.split("@")[0]:null),B))try{await Or(C,{name:B})}catch(re){console.debug("Failed to persist derived org name",(re==null?void 0:re.message)||re)}const D={id:Jl(),token:A,name:N.name||"",email:N.email||"",organization:Mf(B||(M==null?void 0:M.name)||(s==null?void 0:s.name),n),projectId:N.projectId||null,role:N.role||"funder",message:N.message||"",createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString(),invitedBy:(e==null?void 0:e.id)||"system"},U=[...V,D];await Or(C,{invites:U});try{await Id(mt(Ye,"invites",A),{...D,orgId:n})}catch(re){console.warn("Failed to write top-level invite doc",re)}const H=`${window.location.origin}/invite/${n}/${A}`,X=`${window.location.origin}/app/funders`,z=`${Mf((M==null?void 0:M.name)||(s==null?void 0:s.name),n)} invitation to join as ${D.role}`,Q=`<div style="font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#0f172a;line-height:1.5;">
      <h3 style="margin:0 0 8px;">You're invited to join ${D.organization}</h3>
      <p style="margin:0 0 12px;">${D.message||`Hello ${D.name||""},

You've been invited to join ${D.organization} as a ${D.role}. Click the button below to accept the invitation and complete your signup.`}</p>
      <p style="margin:0 0 12px;"><a href="${H}" style="background:#0ea5e9;color:#fff;padding:10px 14px;border-radius:8px;text-decoration:none;display:inline-block;">Accept invitation</a></p>
      <p style="margin:0 0 12px;">If you already have an account, you can view funders and details after signing in here: <a href="${X}" style="color:#0ea5e9;text-decoration:underline;">Open Funders</a></p>
      <p style="margin:0;color:#6b7280;font-size:13px;">If the button doesn't work, copy and paste the following link into your browser:</p>
      <p style="margin:8px 0 0;color:#6b7280;font-size:13px;word-break:break-all;">${H}</p>
    </div>`;try{await p([D.email],z,Q,{org_name:D.organization,invite_link:H,funders_link:X,invite_role:D.role,invite_name:D.name})}catch(re){console.warn("Failed to send invite email",re)}return u("funder_invited",D.id,D),D},j=x.useMemo(()=>(a.projects||[]).reduce((N,A)=>N+Number(A.allocation||0),0),[a.projects]),E=x.useMemo(()=>{const N=new Date,A=new Date;A.setDate(N.getDate()-365);const C=[],F=new Date(A);F.setHours(0,0,0,0);const M=new Date;for(M.setHours(0,0,0,0);F<=M;)C.push(F.toISOString().slice(0,10)),F.setDate(F.getDate()+1);const V=new Map;(a.incomes||[]).filter(re=>re&&re.status==="posted").forEach(re=>{const ue=(re.date?new Date(re.date):new Date).toISOString().slice(0,10);V.set(ue,(V.get(ue)||0)+Number(re.amount||0))});const B=new Map;(a.expenses||[]).filter(re=>re&&re.status==="posted").forEach(re=>{const ue=(re.date?new Date(re.date):new Date).toISOString().slice(0,10);B.set(ue,(B.get(ue)||0)+Number(re.amount||0))});let D=0,U=0;const H=[],X=[],z=[];C.forEach(re=>{D+=V.get(re)||0,U+=B.get(re)||0,H.push({date:re,value:D}),X.push({date:re,value:U}),z.push({date:re,value:D-U})});const Q=C.map(re=>({date:re,value:j}));return{"Total Funds":H,"Total Expenses":X,"Net Available":z,Budget:Q}},[a.incomes,a.expenses,a.projects,j]),I=x.useMemo(()=>[{name:"Total Funds",raw:v.totalIncome,value:he(v.totalIncome,r),variant:"funds"},{name:"Total Expenses",raw:v.totalExpenses,value:he(v.totalExpenses,r),variant:"expenses"},{name:"Net Available",raw:v.totalAvailable,value:he(v.totalAvailable,r),variant:"balance"},{name:"Budget",raw:j,value:he(j,r),variant:"budget"}],[v,j,r]),k=x.useMemo(()=>{const N=Array.isArray(w)?w.map(F=>({...F})):[],A="available",C=N.length?Math.max(...N.map(F=>Math.abs(Number(F[A]||0))),1):1;return{rows:N,metric:A,maxVal:C}},[w]),S=async N=>{const A={id:`funder-${Date.now()}`,...N,createdAt:new Date().toISOString(),status:"active"},C=[...a.funders,A];return o(F=>({...F,funders:C})),await l("funders",C),A.id},P=async()=>{if(n)try{const N=mt(Ye,"orgs",n),A=await En(N);if(A.exists()){const C=A.data();o({funders:Array.isArray(C.funders)?C.funders:[],projects:Array.isArray(C.projects)?C.projects:[],incomes:Array.isArray(C.incomes)?C.incomes:[],expenses:Array.isArray(C.expenses)?C.expenses:[],logs:Array.isArray(C.logs)?C.logs:[],invites:Array.isArray(C.invites)?C.invites:[]})}}catch(N){console.error("Failed to refresh finance data:",N)}},O=x.useMemo(()=>({...a,addProject:d,addIncome:y,addFunder:S,sendInvitation:h,appendLog:u,inviteFunder:_,refreshData:P,logs:a.logs||[],stats:I,fundingRows:k,byFunder:w,byProject:b,seriesMap:E}),[a,d,y,S,h,u,_,P,I,k,w,b]);return c.jsx(Tz.Provider,{value:O,children:t})}function vt(){const t=x.useContext(Tz);if(!t)throw new Error("useFinance must be used within a FinanceProvider");return t}const Nz=x.createContext();function Lde({children:t}){const[e,n]=x.useState(()=>{try{const u=localStorage.getItem("paymentMethods");return u?JSON.parse(u):[]}catch(u){return console.error("Error loading payment methods:",u),[]}});x.useEffect(()=>{try{localStorage.setItem("paymentMethods",JSON.stringify(e))}catch(u){console.error("Error saving payment methods:",u)}},[e]);const l={paymentMethods:e,addCard:u=>{const d={id:Date.now().toString(),type:"card",cardNumber:u.cardNumber,cardholderName:u.cardholderName,expiryMonth:u.expiryMonth,expiryYear:u.expiryYear,color:u.color||"indigo",isDefault:e.length===0,createdAt:new Date};return n([...e,d]),d},addMpesa:u=>{const d={id:Date.now().toString(),type:"mpesa",tillNumber:u.tillNumber,phoneNumber:u.phoneNumber,color:u.color||"green",isDefault:e.length===0,createdAt:new Date};return n([...e,d]),d},deletePaymentMethod:u=>{n(e.filter(d=>d.id!==u))},setDefaultPaymentMethod:u=>{n(e.map(d=>({...d,isDefault:d.id===u})))},getDefaultPaymentMethod:()=>e.find(u=>u.isDefault)||e[0]||null};return c.jsx(Nz.Provider,{value:l,children:t})}function Cz(){const t=x.useContext(Nz);if(!t)throw new Error("usePayment must be used within a PaymentProvider");return t}function Vde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const Fx=x.forwardRef(Vde);function Fde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const hN=x.forwardRef(Fde);function Bde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Pz=x.forwardRef(Bde);function Ude({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Dg=x.forwardRef(Ude);function zde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const $de=x.forwardRef(zde);function Hde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Oz=x.forwardRef(Hde);function qde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Qw=x.forwardRef(qde);function Wde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Kde=x.forwardRef(Wde);function Gde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Iz=x.forwardRef(Gde);function Yde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Rz=x.forwardRef(Yde);function Xde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const fA=x.forwardRef(Xde);function Qde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Zde=x.forwardRef(Qde);function Jde({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const ehe=x.forwardRef(Jde);function the({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nhe=x.forwardRef(the);function rhe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Mz=x.forwardRef(rhe);function ihe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Dz=x.forwardRef(ihe);function she({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const lu=x.forwardRef(she);function ahe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ohe=x.forwardRef(ahe);function lhe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const che=x.forwardRef(lhe);function uhe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const dhe=x.forwardRef(uhe);function hhe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Lz=x.forwardRef(hhe);function fhe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const mhe=x.forwardRef(fhe);function phe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const mA=x.forwardRef(phe);function ghe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Vz=x.forwardRef(ghe);function yhe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const vhe=x.forwardRef(yhe);function xhe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const bhe=x.forwardRef(xhe);function whe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Fz=x.forwardRef(whe);function _he({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Bx=x.forwardRef(_he);function She({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ux=x.forwardRef(She);function Ehe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const zx=x.forwardRef(Ehe);function khe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ahe=x.forwardRef(khe);function jhe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Bz=x.forwardRef(jhe);function The({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const pA=x.forwardRef(The);function Nhe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Che=x.forwardRef(Nhe);function Phe({title:t,titleId:e,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const MD=x.forwardRef(Phe),AS=({collapsed:t,onToggleCollapse:e,onNavigate:n})=>{const r=ii(),{user:i,logout:s}=Vt(),{role:a}=lt(),{expenses:o,incomes:l,funders:u}=vt(),{isDark:d,toggleTheme:h}=da(),[f,m]=x.useState({}),p=j=>{m(E=>({...Object.keys(E).reduce((I,k)=>(I[k]=!1,I),{}),[j]:!E[j]}))},y=()=>{m(j=>({...Object.keys(j).reduce((E,I)=>(E[I]=!1,E),{})}))},v=(o||[]).filter(j=>j.status==="pending").length+(l||[]).filter(j=>j.status==="pending").length,w=(()=>{const j=[{name:"Dashboard",href:"/app/dashboard/overview",icon:Vz,roles:["admin","donor"]},{name:"Income",href:"/app/income",icon:Dg,roles:["admin"]},{name:"Expenses",href:"/app/expenses",icon:pA,roles:["admin"]},{name:"Reports",href:"/app/reports",icon:Qw,roles:["admin","donor"]},{name:"Funders",icon:null,roles:["admin"],children:[{name:"Add Funder",href:"/app/funders/add",icon:Ux,roles:["admin"]},{name:"Funders List",href:"/app/funders",icon:Bz,roles:["admin"]},{name:"Funders Portal",href:"/app/funders/portal",icon:mhe,roles:["admin"]}]},{name:"Projects",href:"/app/projects",icon:Lz,roles:["admin","donor"]},{name:"Approvals",href:"/app/approvals",icon:Zde,roles:["admin"],badge:v},{name:"Accounts",href:"/app/accounts",icon:vhe,roles:["admin"]},{name:"Audit",href:"/app/audit",icon:ehe,roles:["admin"]},{name:"Funders Portal",href:"/app/funders/portal",icon:mA,roles:["admin","donor"]},{name:"Integration",href:"/app/integration",icon:Dz,roles:["admin","donor"]},{name:"Settings",href:"/app/settings",icon:Mz,roles:["admin","donor"]}],E=I=>I.filter(k=>k.roles.includes(a)).map(k=>({...k,children:k.children?E(k.children):void 0}));return E(j)})();w.forEach(j=>{j.children&&Array.isArray(j.children)&&j.children.some(I=>r.pathname.startsWith(I.href))&&!f[j.name]&&(f[j.name]=!0)});const _=()=>{s()};return c.jsxs("div",{className:`flex min-h-0 flex-1 flex-col sidebar-modern pt-6 ${t?"w-20":"w-64"} transition-all duration-200`,children:[c.jsx("div",{className:`flex h-24 flex-shrink-0 items-center ${t?"justify-center px-4":"px-6"}`,children:c.jsx("div",{className:`w-full ${t?"flex items-center justify-center":""}`,children:c.jsxs("div",{className:`flex items-center ${t?"":"gap-3"}`,children:[c.jsx("div",{className:`h-10 w-10 ${t?"rounded-full":"rounded-lg"} flex items-center justify-center text-white font-bold bg-gradient-to-br from-sky-500 to-indigo-600 shadow-sm`,children:c.jsx("span",{className:"text-sm md:text-base","aria-hidden":"true",children:"F"})}),!t&&c.jsxs("div",{className:"leading-tight",children:[c.jsx("div",{className:"text-lg font-extrabold text-gray-900 brand-logo dark:text-slate-100",children:"Fundify"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Finance dashboard"})]}),e&&c.jsx("div",{className:"ml-auto flex items-center",children:t?c.jsx("button",{type:"button",onClick:e,title:"Expand sidebar",className:"ml-3 inline-flex items-center justify-center p-1 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-800","aria-label":"Expand sidebar",children:c.jsx(fA,{className:"h-5 w-5"})}):c.jsx("button",{type:"button",onClick:e,title:"Collapse sidebar",className:"ml-3 inline-flex items-center justify-center p-1 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-800","aria-label":"Collapse sidebar",children:c.jsx(Rz,{className:"h-5 w-5"})})})]})})}),c.jsx("div",{className:"flex flex-1 flex-col overflow-y-auto",children:c.jsx("nav",{className:"flex-1 space-y-2 py-5",children:w.map(j=>{if(j.children){const k=!!f[j.name],S=j.children.some(P=>r.pathname.startsWith(P.href));return c.jsxs("div",{className:"sidebar-group my-2",children:[c.jsxs("div",{className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-xs font-semibold uppercase tracking-wide ${t?"hidden":"text-slate-600 dark:text-slate-200 hover:bg-sky-50/60 dark:hover:bg-slate-800/60"}`,"aria-controls":`group-${j.name}`,children:[c.jsx(be,{to:"/app/funders/portal",onClick:()=>{y(),n&&n()},className:`flex items-center gap-2 ${S?"text-sky-700 dark:text-sky-300":""}`,children:c.jsx("span",{children:j.name})}),c.jsx("button",{type:"button",onClick:()=>p(j.name),"aria-expanded":k,className:"p-1 rounded-md",children:k?c.jsx(Iz,{className:"h-4 w-4 text-slate-500"}):c.jsx(fA,{className:"h-4 w-4 text-slate-500"})})]}),!t&&k&&c.jsx("div",{id:`group-${j.name}`,children:j.children.map(P=>c.jsxs(be,{to:P.href,onClick:()=>{n&&n()},"aria-current":r.pathname.startsWith(P.href)?"page":void 0,className:"flex items-center ml-6 px-3 py-1.5 rounded text-sm gap-2 dark:text-slate-100 text-slate-800 hover:bg-sky-50 dark:hover:bg-slate-800 transition",children:[P.icon&&c.jsx(P.icon,{className:"h-4 w-4 mr-1 text-sky-400"}),c.jsx("span",{children:P.name})]},P.name))})]},j.name)}const E=r.pathname.startsWith(j.href),I=j.name==="Approvals";return c.jsxs(be,{to:j.href,onClick:()=>{y(),n&&n()},"aria-current":E?"page":void 0,"aria-label":j.name,className:`nav-item group flex items-center ${t?"justify-center py-3 text-gray-600 p-2 rounded-full":`px-3 py-2 rounded-lg text-sm font-medium text-slate-700 transition ${E?"active-link shadow-sm":"hover:bg-gradient-to-r hover:from-sky-50 hover:to-indigo-50 hover:text-sky-600"}`}`,children:[!t&&c.jsx("span",{className:`h-8 w-1 rounded-r-full mr-3 ${E?"bg-sky-600":"bg-transparent"}`}),c.jsx("div",{className:`${t?"p-2 rounded-full collapsed-icon":"mr-3 p-2 rounded-md bg-white/50 nav-icon"}`,children:c.jsx(j.icon,{className:"h-5 w-5 flex-shrink-0 text-slate-600","aria-hidden":"true"})}),c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx("span",{className:`${t?"hidden":"whitespace-nowrap"}`,children:j.name}),I&&j.badge>0&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-rose-600 text-white",children:j.badge})]})]},j.name)})})}),c.jsxs("div",{className:`px-4 py-4 space-y-3 ${t?"flex flex-col items-center justify-center":""}`,children:[t?c.jsx("button",{title:d?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",onClick:h,className:"w-10 h-10 flex items-center justify-center rounded-md bg-white/90 text-gray-700 hover:bg-white shadow-sm ring-1 ring-slate-200 dark:bg-slate-800/80 dark:text-slate-100 dark:ring-slate-700",children:d?c.jsx(zx,{className:"h-5 w-5"}):c.jsx(Bx,{className:"h-5 w-5"})}):c.jsxs("button",{onClick:h,"aria-label":"Toggle dark mode",className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-md bg-white/90 text-gray-700 hover:bg-white shadow-sm ring-1 ring-slate-200 dark:bg-slate-800/80 dark:text-slate-100 dark:ring-slate-700",title:d?"Switch to light mode":"Switch to dark mode",children:[d?c.jsx(zx,{className:"h-5 w-5"}):c.jsx(Bx,{className:"h-5 w-5"}),c.jsx("span",{className:"text-sm",children:d?"Light mode":"Dark mode"})]}),i&&(t?c.jsx("button",{title:"Sign out",onClick:_,className:"w-10 h-10 flex items-center justify-center rounded-md bg-white text-gray-700 hover:bg-gray-50 shadow-sm dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",children:c.jsx(Fx,{className:"h-5 w-5"})}):c.jsxs("button",{onClick:_,className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-md bg-white text-gray-700 hover:bg-gray-50 shadow-sm dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",children:[c.jsx(Fx,{className:"h-5 w-5"}),"Sign out"]}))]})]})},Ohe=({onMobileMenuToggle:t})=>{var b,w;const[e,n]=x.useState(!1),{user:r,logout:i}=Vt(),{orgs:s,activeOrgId:a,switchOrg:o,role:l}=lt(),{expenses:u,incomes:d}=vt(),{isDark:h,toggleTheme:f}=da(),m=Fr();((r==null?void 0:r.email)||"").split("@")[0];const p=(u||[]).filter(_=>_.status==="pending").length+(d||[]).filter(_=>_.status==="pending").length,y=()=>{i(),m("/login")},v=()=>{if(!s||s.length<=1)return null;const _=j=>{o(j);const E=s.find(I=>I.id===j);if(E){const k=(Array.isArray(E.memberships)?E.memberships:[]).find(O=>O&&O.userId===(r==null?void 0:r.id)),S=Array.isArray(E.funders)?E.funders.some(O=>O&&O.id===(r==null?void 0:r.id)):!1,P=k&&(k.role==="admin"||k.role==="financial_officer");S&&!P&&m("/donor/funding")}};return c.jsx("select",{value:a||"",onChange:j=>_(j.target.value),className:"px-3 py-2 rounded-full bg-white ring-1 ring-gray-200 text-sm focus:outline-none dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700","aria-label":"Select organization",children:s.map(j=>c.jsx("option",{value:j.id,children:j.name||j.id},j.id))})};return c.jsx("div",{className:"sticky top-0 z-40 relative bg-white/80 text-gray-900 backdrop-blur-sm border-b border-gray-200 shadow-sm dark:bg-slate-900/70 dark:text-slate-100 dark:border-slate-800",children:c.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 md:px-8",children:c.jsxs("div",{className:"flex items-center justify-between gap-4 py-3",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("button",{onClick:t,title:"Open sidebar","aria-label":"Open sidebar",className:"p-2 rounded-full bg-white/90 shadow-sm ring-1 ring-gray-200 hover:shadow-md transform transition hover:-translate-y-0.5 focus:outline-none lg:hidden",children:c.jsx($de,{className:"h-6 w-6 text-gray-700"})})}),c.jsx("div",{className:"flex-1 px-4 hidden sm:block",children:c.jsx("div",{className:"max-w-xl mx-auto",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Fz,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 dark:text-slate-500"})}),c.jsx("input",{placeholder:"Search",className:"w-full pl-10 pr-4 py-2.5 rounded-2xl bg-gray-50 placeholder:text-gray-400 text-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800/80 dark:text-slate-100 dark:placeholder:text-slate-500 dark:ring-1 dark:ring-slate-700"})]})})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"items-center gap-3 hidden md:flex",children:[c.jsx(v,{}),c.jsx(be,{to:"/app/income",className:"px-3.5 py-2 rounded-xl bg-gray-900 text-white hover:shadow-md",children:"Income"}),c.jsx(be,{to:"/app/expenses",className:"px-3.5 py-2 rounded-xl bg-white text-gray-700 hover:shadow-sm ring-1 ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:"Expenses"}),c.jsx(be,{to:"/app/reports",className:"px-3.5 py-2 rounded-xl bg-white text-gray-700 hover:shadow-sm ring-1 ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:"Reports"}),l==="admin"&&c.jsxs(be,{to:"/app/approvals",className:"relative inline-flex items-center px-3 py-2 rounded-xl bg-white text-gray-700 hover:shadow-sm ring-1 ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:["Approvals",p>0&&c.jsx("span",{className:"absolute -top-2 -right-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-rose-600 text-white",children:p})]})]}),c.jsxs("button",{title:"Notifications","aria-label":"Notifications",onClick:()=>m("/app/approvals"),className:"relative p-2 rounded-full bg-white/90 shadow-sm ring-1 ring-gray-200 hover:shadow-md transition transform hover:-translate-y-0.5 focus:outline-none dark:bg-slate-800/80 dark:text-slate-100 dark:ring-slate-700",children:[c.jsx(Oz,{className:"h-6 w-6 text-gray-700 dark:text-slate-100"}),p>0&&c.jsx("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 rounded-full text-[10px] font-medium bg-rose-600 text-white",children:p})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{title:(r==null?void 0:r.name)||"User menu","aria-label":`User menu ${(r==null?void 0:r.name)||""}`,onClick:()=>n(!n),className:"flex items-center gap-2 p-1 rounded-full bg-white/90 shadow-sm ring-1 ring-gray-200 hover:shadow-md transition transform hover:-translate-y-0.5 focus:outline-none",children:c.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white font-semibold text-sm",children:((w=(b=r==null?void 0:r.name)==null?void 0:b.charAt(0))==null?void 0:w.toUpperCase())||"U"})}),e&&c.jsxs("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-xl bg-white py-2 shadow-xl ring-1 ring-gray-200 text-gray-800 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:[c.jsxs("div",{className:"px-4 py-2 text-sm border-b dark:border-slate-700",children:[c.jsx("div",{className:"font-medium",children:(r==null?void 0:r.name)||"User"}),c.jsx("div",{className:"truncate text-gray-500 text-xs dark:text-slate-400",children:(r==null?void 0:r.email)||""})]}),c.jsx("button",{onClick:y,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-slate-700",children:"Sign out"})]})]})]})]})})})};function Ihe(){const{logs:t=[]}=vt(),{user:e}=Vt(),[n,r]=x.useState([]),[i,s]=x.useState(new Set);return x.useEffect(()=>{(t||[]).filter(o=>["log_soft_removed","log_restored","log_finalized_removed"].includes(o.action)).forEach(o=>{if(i.has(o.id))return;if(o.by===((e==null?void 0:e.id)||"")){i.add(o.id),s(new Set(i));return}const l=o.action==="log_soft_removed"?`${o.byName||o.by} removed an activity`:o.action==="log_restored"?`${o.byName||o.by} restored an activity`:`${o.byName||o.by} finalized removal`,u=`notif-${o.id}`;r(d=>[...d,{id:u,text:l}]),i.add(o.id),s(new Set(i)),setTimeout(()=>r(d=>d.filter(h=>h.id!==u)),5e3)})},[t,e,i]),n.length?c.jsx("div",{className:"fixed left-4 bottom-4 z-60 space-y-2",children:n.map(a=>c.jsx("div",{className:"bg-white p-3 rounded-md shadow ring-1 ring-slate-200 dark:bg-slate-800 dark:ring-slate-700",children:c.jsx("div",{className:"text-sm text-slate-800 dark:text-slate-100",children:a.text})},a.id))}):null}function Rhe(){const[t,e]=x.useState(!1),[n,r]=x.useState(!1),{user:i}=Vt();return Fr(),c.jsxs("div",{className:"min-h-screen bg-neutral-base dashboard-bg overflow-x-hidden dark:bg-[#0b1220] dark:text-slate-100",children:[c.jsx(Ohe,{onMobileMenuToggle:()=>e(!0)}),c.jsx(Ihe,{}),c.jsx("div",{className:`hidden lg:fixed lg:inset-y-0 lg:flex lg:flex-col lg:z-50 lg:rounded-tr-2xl lg:rounded-br-2xl lg:shadow-xl lg:overflow-hidden transition-all duration-200 ${n?"lg:w-20":"lg:w-64"}`,children:c.jsx(AS,{collapsed:n,onToggleCollapse:()=>r(!n)})}),c.jsx("div",{className:`${n?"lg:pl-20":"lg:pl-64"} pt-16 min-h-screen`,children:c.jsx(j8,{})}),c.jsxs("div",{className:`lg:hidden ${t?"fixed inset-0 z-40":"hidden"}`,children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>e(!1)}),c.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[c.jsxs("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-white dark:bg-slate-900",children:[c.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:c.jsxs("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-600 dark:focus:ring-white",onClick:()=>e(!1),children:[c.jsx("span",{className:"sr-only",children:"Close sidebar"}),c.jsx(MD,{className:"h-6 w-6 text-gray-700 dark:text-white","aria-hidden":"true"})]})}),c.jsxs("div",{className:"h-0 flex-1 overflow-y-auto pt-5 pb-4",children:[c.jsx("div",{className:"flex flex-shrink-0 items-center px-4",children:c.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-600"})}),c.jsx("nav",{className:"mt-5 space-y-1 px-2",children:c.jsx(AS,{collapsed:!1,onNavigate:()=>e(!1)})})]})]}),c.jsx("div",{className:"w-14 flex-shrink-0"})]})]}),t&&c.jsxs("div",{className:"lg:hidden fixed inset-0 z-40",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity",onClick:()=>e(!1),"aria-hidden":"true"}),c.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-64 transform transition-transform duration-300 ease-in-out",children:c.jsxs("div",{className:"flex h-full flex-col bg-white shadow-lg dark:bg-slate-900",children:[c.jsxs("div",{className:"flex h-16 flex-shrink-0 items-center justify-between px-4",children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Menu"}),c.jsxs("button",{type:"button",className:"rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 dark:hover:bg-slate-800",onClick:()=>e(!1),children:[c.jsx("span",{className:"sr-only",children:"Close sidebar"}),c.jsx(MD,{className:"h-6 w-6","aria-hidden":"true"})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx(AS,{collapsed:!1,isMobile:!0,onNavigate:()=>e(!1)})})]})})]})]})}function Uz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Uz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ht(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Uz(t))&&(r&&(r+=" "),r+=e);return r}var Zw={},zz={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(zz);var fN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(fN);var mN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(mN);var Jw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",o="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const u=n[s];o?u==="\\"&&s+1<i?(s++,a+=n[s]):u===o?o="":a+=u:l?u==='"'||u==="'"?o=u:u==="]"?(l=!1,r.push(a),a=""):a+=u:u==="["?(l=!0,a&&(r.push(a),a="")):u==="."?a&&(r.push(a),a=""):a+=u,s++}return a&&r.push(a),r}t.toPath=e})(Jw);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zz,n=fN,r=mN,i=Jw;function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?n.isDeepKey(l)?s(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}t.get=s})(Zw);var Mhe=Zw.get;const cu=la(Mhe);var $z={exports:{}},Pt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=60103,t1=60106,Lg=60107,Vg=60108,Fg=60114,Bg=60109,Ug=60110,zg=60112,$g=60113,pN=60120,Hg=60115,qg=60116,Hz=60121,qz=60122,Wz=60117,Kz=60129,Gz=60131;if(typeof Symbol=="function"&&Symbol.for){var er=Symbol.for;e1=er("react.element"),t1=er("react.portal"),Lg=er("react.fragment"),Vg=er("react.strict_mode"),Fg=er("react.profiler"),Bg=er("react.provider"),Ug=er("react.context"),zg=er("react.forward_ref"),$g=er("react.suspense"),pN=er("react.suspense_list"),Hg=er("react.memo"),qg=er("react.lazy"),Hz=er("react.block"),qz=er("react.server.block"),Wz=er("react.fundamental"),Kz=er("react.debug_trace_mode"),Gz=er("react.legacy_hidden")}function Es(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case e1:switch(t=t.type,t){case Lg:case Fg:case Vg:case $g:case pN:return t;default:switch(t=t&&t.$$typeof,t){case Ug:case zg:case qg:case Hg:case Bg:return t;default:return e}}case t1:return e}}}var Dhe=Bg,Lhe=e1,Vhe=zg,Fhe=Lg,Bhe=qg,Uhe=Hg,zhe=t1,$he=Fg,Hhe=Vg,qhe=$g;Pt.ContextConsumer=Ug;Pt.ContextProvider=Dhe;Pt.Element=Lhe;Pt.ForwardRef=Vhe;Pt.Fragment=Fhe;Pt.Lazy=Bhe;Pt.Memo=Uhe;Pt.Portal=zhe;Pt.Profiler=$he;Pt.StrictMode=Hhe;Pt.Suspense=qhe;Pt.isAsyncMode=function(){return!1};Pt.isConcurrentMode=function(){return!1};Pt.isContextConsumer=function(t){return Es(t)===Ug};Pt.isContextProvider=function(t){return Es(t)===Bg};Pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===e1};Pt.isForwardRef=function(t){return Es(t)===zg};Pt.isFragment=function(t){return Es(t)===Lg};Pt.isLazy=function(t){return Es(t)===qg};Pt.isMemo=function(t){return Es(t)===Hg};Pt.isPortal=function(t){return Es(t)===t1};Pt.isProfiler=function(t){return Es(t)===Fg};Pt.isStrictMode=function(t){return Es(t)===Vg};Pt.isSuspense=function(t){return Es(t)===$g};Pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lg||t===Fg||t===Kz||t===Vg||t===$g||t===pN||t===Gz||typeof t=="object"&&t!==null&&(t.$$typeof===qg||t.$$typeof===Hg||t.$$typeof===Bg||t.$$typeof===Ug||t.$$typeof===zg||t.$$typeof===Wz||t.$$typeof===Hz||t[0]===qz)};Pt.typeOf=Es;$z.exports=Pt;var Whe=$z.exports,Gn=t=>t===0?0:t>0?1:-1,ni=t=>typeof t=="number"&&t!=+t,bc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,we=t=>(typeof t=="number"||t instanceof Number)&&!ni(t),sa=t=>we(t)||typeof t=="string",Khe=0,Cp=t=>{var e=++Khe;return"".concat(t||"").concat(e)},kr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(e)&&typeof e!="string")return r;var s;if(bc(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return ni(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},Yz=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Jt(t,e,n){return we(t)&&we(e)?t+n*(e-t):e}function Xz(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):cu(r,e))===n)}var tn=t=>t===null||typeof t>"u",Wg=t=>tn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Ghe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gN(t){if(typeof t!="string")return!1;var e=Ghe;return e.includes(t)}var Yhe=["viewBox","children"],DD=["points","pathLength"],jS={svg:Yhe,polygon:DD,polyline:DD},yN=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{gN(i)&&(r[i]=s=>n[i](n,s))}),r},Xhe=(t,e,n)=>r=>(t(e,n,r),null),n1=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];gN(i)&&typeof s=="function"&&(r||(r={}),r[i]=Xhe(s,e,n))}),r},Qhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Qz(t){if(typeof t!="string")return!1;var e=Qhe;return e.includes(t)}function ks(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Qz(r)});return Object.fromEntries(e)}var LD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",VD=null,TS=null,Zz=t=>{if(t===VD&&Array.isArray(TS))return TS;var e=[];return x.Children.forEach(t,n=>{tn(n)||(Whe.isFragment(n)?e=e.concat(Zz(n.props.children)):e.push(n))}),TS=e,VD=t,e};function vN(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>LD(i)):r=[LD(e)],Zz(t).forEach(i=>{var s=cu(i,"type.displayName")||cu(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var Jz=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Zhe=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=r&&(jS==null?void 0:jS[r]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),o=typeof t!="function"&&(!!r&&s.includes(e)||Qz(e)),l=!!n&&gN(e);return a||o||l},un=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var a;Zhe((a=r)===null||a===void 0?void 0:a[s],s,e,n)&&(i[s]=r[s])}),i},Jhe=["children","width","height","viewBox","className","style","title","desc"];function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gA.apply(null,arguments)}function efe(t,e){if(t==null)return{};var n,r,i=tfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e$=x.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=t,d=efe(t,Jhe),h=s||{width:r,height:i,x:0,y:0},f=ht("recharts-surface",a);return x.createElement("svg",gA({},un(d,!0,"svg"),{className:f,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),x.createElement("title",null,l),x.createElement("desc",null,u),n)}),nfe=["children","className"];function yA(){return yA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yA.apply(null,arguments)}function rfe(t,e){if(t==null)return{};var n,r,i=ife(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Cn=x.forwardRef((t,e)=>{var{children:n,className:r}=t,i=rfe(t,nfe),s=ht("recharts-layer",r);return x.createElement("g",yA({className:s},un(i,!0),{ref:e}),n)}),sfe=x.createContext(null);function It(t){return function(){return t}}const t$=Math.cos,$x=Math.sin,As=Math.sqrt,Hx=Math.PI,r1=2*Hx,vA=Math.PI,xA=2*vA,uc=1e-6,afe=xA-uc;function n$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ofe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return n$;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class lfe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?n$:ofe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-n,d=a-e,h=o-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>uc)if(!(Math.abs(h*l-u*d)>uc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,p=i-o,y=l*l+u*u,v=m*m+p*p,b=Math.sqrt(y),w=Math.sqrt(f),_=s*Math.tan((vA-Math.acos((y+f-v)/(2*b*w)))/2),j=_/w,E=_/b;Math.abs(j-1)>uc&&this._append`L${e+j*d},${n+j*h}`,this._append`A${s},${s},0,0,${+(h*m>d*p)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,d=n+l,h=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>uc||Math.abs(this._y1-d)>uc)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%xA+xA),f>afe?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:f>uc&&this._append`A${r},${r},0,${+(f>=vA)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new lfe(e)}function bN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function r$(t){this._context=t}r$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function i1(t){return new r$(t)}function i$(t){return t[0]}function s$(t){return t[1]}function a$(t,e){var n=It(!0),r=null,i=i1,s=null,a=xN(o);t=typeof t=="function"?t:t===void 0?i$:It(t),e=typeof e=="function"?e:e===void 0?s$:It(e);function o(l){var u,d=(l=bN(l)).length,h,f=!1,m;for(r==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&n(h=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,u,l),+e(h,u,l));if(m)return s=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:It(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:It(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:It(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function cy(t,e,n){var r=null,i=It(!0),s=null,a=i1,o=null,l=xN(u);t=typeof t=="function"?t:t===void 0?i$:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?s$:It(+n);function u(h){var f,m,p,y=(h=bN(h)).length,v,b=!1,w,_=new Array(y),j=new Array(y);for(s==null&&(o=a(w=l())),f=0;f<=y;++f){if(!(f<y&&i(v=h[f],f,h))===b)if(b=!b)m=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=f-1;p>=m;--p)o.point(_[p],j[p]);o.lineEnd(),o.areaEnd()}b&&(_[f]=+t(v,f,h),j[f]=+e(v,f,h),o.point(r?+r(v,f,h):_[f],n?+n(v,f,h):j[f]))}if(w)return o=null,w+""||null}function d(){return a$().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:It(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:It(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:It(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:It(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:It(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:It(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:It(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class o${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function cfe(t){return new o$(t,!0)}function ufe(t){return new o$(t,!1)}const wN={draw(t,e){const n=As(e/Hx);t.moveTo(n,0),t.arc(0,0,n,0,r1)}},dfe={draw(t,e){const n=As(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},l$=As(1/3),hfe=l$*2,ffe={draw(t,e){const n=As(e/hfe),r=n*l$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mfe={draw(t,e){const n=As(e),r=-n/2;t.rect(r,r,n,n)}},pfe=.8908130915292852,c$=$x(Hx/10)/$x(7*Hx/10),gfe=$x(r1/10)*c$,yfe=-t$(r1/10)*c$,vfe={draw(t,e){const n=As(e*pfe),r=gfe*n,i=yfe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=r1*s/5,o=t$(a),l=$x(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},NS=As(3),xfe={draw(t,e){const n=-As(e/(NS*3));t.moveTo(0,n*2),t.lineTo(-NS*n,-n),t.lineTo(NS*n,-n),t.closePath()}},Ai=-.5,ji=As(3)/2,bA=1/As(12),bfe=(bA/2+1)*3,wfe={draw(t,e){const n=As(e/bfe),r=n/2,i=n*bA,s=r,a=n*bA+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Ai*r-ji*i,ji*r+Ai*i),t.lineTo(Ai*s-ji*a,ji*s+Ai*a),t.lineTo(Ai*o-ji*l,ji*o+Ai*l),t.lineTo(Ai*r+ji*i,Ai*i-ji*r),t.lineTo(Ai*s+ji*a,Ai*a-ji*s),t.lineTo(Ai*o+ji*l,Ai*l-ji*o),t.closePath()}};function _fe(t,e){let n=null,r=xN(i);t=typeof t=="function"?t:It(t||wN),e=typeof e=="function"?e:It(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:It(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:It(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function qx(){}function Wx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function u$(t){this._context=t}u$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sfe(t){return new u$(t)}function d$(t){this._context=t}d$.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Efe(t){return new d$(t)}function h$(t){this._context=t}h$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kfe(t){return new h$(t)}function f$(t){this._context=t}f$.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Afe(t){return new f$(t)}function FD(t){return t<0?-1:1}function BD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(FD(s)+FD(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function UD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function CS(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function Kx(t){this._context=t}Kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:CS(this,this._t0,UD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,CS(this,UD(this,n=BD(this,t,e)),n);break;default:CS(this,this._t0,n=BD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function m$(t){this._context=new p$(t)}(m$.prototype=Object.create(Kx.prototype)).point=function(t,e){Kx.prototype.point.call(this,e,t)};function p$(t){this._context=t}p$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function jfe(t){return new Kx(t)}function Tfe(t){return new m$(t)}function g$(t){this._context=t}g$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zD(t),i=zD(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Nfe(t){return new g$(t)}function s1(t,e){this._context=t,this._t=e}s1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Cfe(t){return new s1(t,.5)}function Pfe(t){return new s1(t,0)}function Ofe(t){return new s1(t,1)}function uh(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function wA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ife(t,e){return t[e]}function Rfe(t){const e=[];return e.key=t,e}function Mfe(){var t=It([]),e=wA,n=uh,r=Ife;function i(s){var a=Array.from(t.apply(this,arguments),Rfe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(h,a[o].key,u,s)]).data=h;for(o=0,d=bN(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:It(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:It(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?wA:typeof s=="function"?s:It(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??uh,i):n},i}function Dfe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}uh(t,e)}}function Lfe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}uh(t,e)}}function Vfe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var d=t[e[o]],h=d[r][1]||0,f=d[r-1][1]||0,m=(h-f)/2,p=0;p<o;++p){var y=t[e[p]],v=y[r][1]||0,b=y[r-1][1]||0;m+=v-b}l+=h,u+=m*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,uh(t,e)}}var Ffe=["type","size","sizeType"];function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_A.apply(null,arguments)}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){Bfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bfe(t,e,n){return(e=Ufe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ufe(t){var e=zfe(t,"string");return typeof e=="symbol"?e:e+""}function zfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $fe(t,e){if(t==null)return{};var n,r,i=Hfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y$={symbolCircle:wN,symbolCross:dfe,symbolDiamond:ffe,symbolSquare:mfe,symbolStar:vfe,symbolTriangle:xfe,symbolWye:wfe},qfe=Math.PI/180,Wfe=t=>{var e="symbol".concat(Wg(t));return y$[e]||wN},Kfe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*qfe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Gfe=(t,e)=>{y$["symbol".concat(Wg(t))]=e},v$=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=$fe(t,Ffe),s=HD(HD({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var f=Wfe(a),m=_fe().type(f).size(Kfe(n,r,a));return m()},{className:l,cx:u,cy:d}=s,h=un(s,!0);return u===+u&&d===+d&&n===+n?x.createElement("path",_A({},h,{className:ht("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};v$.registerSymbol=Gfe;var x$={},b$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(b$);var _N={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(_N);var w$={},a1={},_$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(_$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_$;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(a1);var S$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(S$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a1,n=S$;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(w$);var E$={},k$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zw;function n(r){return function(i){return e.get(i,r)}}t.property=n})(k$);var A$={},PS={},OS={},SN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(SN);var EN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(EN);var kN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(kN);var qD;function Yfe(){return qD||(qD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AN(),n=SN,r=EN,i=kN;function s(h,f,m){return typeof m!="function"?e.isMatch(h,f):a(h,f,function p(y,v,b,w,_,j){const E=m(y,v,b,w,_,j);return E!==void 0?!!E:a(y,v,p,j)},new Map)}function a(h,f,m,p){if(f===h)return!0;switch(typeof f){case"object":return o(h,f,m,p);case"function":return Object.keys(f).length>0?a(h,{...f},m,p):i.eq(h,f);default:return n.isObject(h)?typeof f=="string"?f==="":!0:i.eq(h,f)}}function o(h,f,m,p){if(f==null)return!0;if(Array.isArray(f))return u(h,f,m,p);if(f instanceof Map)return l(h,f,m,p);if(f instanceof Set)return d(h,f,m,p);const y=Object.keys(f);if(h==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(f))return p.get(f)===h;p&&p.set(f,h);try{for(let v=0;v<y.length;v++){const b=y[v];if(!r.isPrimitive(h)&&!(b in h)||f[b]===void 0&&h[b]!==void 0||f[b]===null&&h[b]!==null||!m(h[b],f[b],b,h,f,p))return!1}return!0}finally{p&&p.delete(f)}}function l(h,f,m,p){if(f.size===0)return!0;if(!(h instanceof Map))return!1;for(const[y,v]of f.entries()){const b=h.get(y);if(m(b,v,y,h,f,p)===!1)return!1}return!0}function u(h,f,m,p){if(f.length===0)return!0;if(!Array.isArray(h))return!1;const y=new Set;for(let v=0;v<f.length;v++){const b=f[v];let w=!1;for(let _=0;_<h.length;_++){if(y.has(_))continue;const j=h[_];let E=!1;if(m(j,b,v,h,f,p)&&(E=!0),E){y.add(_),w=!0;break}}if(!w)return!1}return!0}function d(h,f,m,p){return f.size===0?!0:h instanceof Set?u([...h],[...f],m,p):!1}t.isMatchWith=s,t.isSetMatch=d}(OS)),OS}var WD;function AN(){return WD||(WD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yfe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(PS)),PS}var j$={},jN={},T$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(T$);var TN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(TN);var NN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",m="[object Object]",p="[object Error]",y="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",_="[object Uint32Array]",j="[object BigUint64Array]",E="[object Int8Array]",I="[object Int16Array]",k="[object Int32Array]",S="[object BigInt64Array]",P="[object Float32Array]",O="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=d,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=j,t.booleanTag=i,t.dataViewTag=y,t.dateTag=o,t.errorTag=p,t.float32ArrayTag=P,t.float64ArrayTag=O,t.functionTag=h,t.int16ArrayTag=I,t.int32ArrayTag=k,t.int8ArrayTag=E,t.mapTag=l,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=_,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=b})(NN);var N$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(N$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T$,n=TN,r=NN,i=EN,s=N$;function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,f,m=new Map,p=void 0){const y=p==null?void 0:p(d,h,f,m);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let b=0;b<d.length;b++)v[b]=o(d[b],b,f,m,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[b,w]of d)v.set(b,o(w,b,f,m,p));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const b of d)v.add(o(b,void 0,f,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let b=0;b<d.length;b++)v[b]=o(d[b],b,f,m,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),l(v,d,f,m,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),l(v,d,f,m,p),v}if(d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),l(v,d,f,m,p),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,l(v,d,f,m,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),l(v,d,f,m,p),v}return d}function l(d,h,f=d,m,p){const y=[...Object.keys(h),...e.getSymbols(h)];for(let v=0;v<y.length;v++){const b=y[v],w=Object.getOwnPropertyDescriptor(d,b);(w==null||w.writable)&&(d[b]=o(h[b],b,f,m,p))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(jN);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jN;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(j$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AN(),n=j$;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(A$);var C$={},P$={},O$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jN,n=NN;function r(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(O$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O$;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(P$);var I$={},CN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(CN);var R$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TN;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(R$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fN,n=CN,r=R$,i=Jw;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=s})(I$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AN(),n=mN,r=P$,i=Zw,s=I$;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}t.matchesProperty=a})(C$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_N,n=k$,r=A$,i=C$;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(E$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b$,n=_N,r=w$,i=E$;function s(a,o=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(x$);var Xfe=x$.uniqBy;const KD=la(Xfe);function Qfe(t,e,n){return e===!0?KD(t,n):typeof e=="function"?KD(t,e):t}var M$={exports:{}},D$={},L$={exports:{}},V$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=x;function Zfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jfe=typeof Object.is=="function"?Object.is:Zfe,eme=dh.useState,tme=dh.useEffect,nme=dh.useLayoutEffect,rme=dh.useDebugValue;function ime(t,e){var n=e(),r=eme({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return nme(function(){i.value=n,i.getSnapshot=e,IS(i)&&s({inst:i})},[t,n,e]),tme(function(){return IS(i)&&s({inst:i}),t(function(){IS(i)&&s({inst:i})})},[t]),rme(n),n}function IS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jfe(t,n)}catch{return!0}}function sme(t,e){return e()}var ame=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sme:ime;V$.useSyncExternalStore=dh.useSyncExternalStore!==void 0?dh.useSyncExternalStore:ame;L$.exports=V$;var ome=L$.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1=x,lme=ome;function cme(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ume=typeof Object.is=="function"?Object.is:cme,dme=lme.useSyncExternalStore,hme=o1.useRef,fme=o1.useEffect,mme=o1.useMemo,pme=o1.useDebugValue;D$.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=hme(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=mme(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return h=p}return h=m}if(p=h,ume(d,m))return p;var y=r(m);return i!==void 0&&i(p,y)?(d=m,p):(d=m,h=y)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=dme(t,s[0],s[1]);return fme(function(){a.hasValue=!0,a.value=o},[o]),pme(o),o};M$.exports=D$;var gme=M$.exports,PN=x.createContext(null),yme=t=>t,xn=()=>{var t=x.useContext(PN);return t?t.store.dispatch:yme},wv=()=>{},vme=()=>wv,xme=(t,e)=>t===e;function _e(t){var e=x.useContext(PN);return gme.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:vme,e?e.store.getState:wv,e?e.store.getState:wv,e?t:wv,xme)}function bme(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function wme(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function _me(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var GD=t=>Array.isArray(t)?t:[t];function Sme(t){const e=Array.isArray(t[0])?t[0]:t;return _me(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Eme(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var kme=class{constructor(t){this.value=t}deref(){return this.value}},Ame=typeof WeakRef<"u"?WeakRef:kme,jme=0,YD=1;function uy(){return{s:jme,v:void 0,o:null,p:null}}function F$(t,e={}){let n=uy();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var h;let o=n;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const v=y.get(p);v===void 0?(o=uy(),y.set(p,o)):o=v}else{let y=o.p;y===null&&(o.p=y=new Map);const v=y.get(p);v===void 0?(o=uy(),y.set(p,o)):o=v}}const u=o;let d;if(o.s===YD)d=o.v;else if(d=t.apply(null,arguments),s++,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Ame(d):d}return u.s=YD,u.v=d,d}return a.clearCache=()=>{n=uy(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Tme(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),bme(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:m=F$,argsMemoizeOptions:p=[]}=d,y=GD(f),v=GD(p),b=Sme(i),w=h(function(){return s++,u.apply(null,arguments)},...y),_=m(function(){a++;const E=Eme(b,arguments);return o=w.apply(null,E),o},...v);return Object.assign(_,{resultFunc:u,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var K=Tme(F$),Nme=Object.assign((t,e=K)=>{wme(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>Nme}),B$={},U$={},z$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=n})(z$);var $$={},ON={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(ON);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ON,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})($$);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z$,n=$$,r=Jw;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let y=m;for(let v=0;v<p.length&&y!=null;++v)y=y[p[v]];return y},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,h=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return s.map(m=>({original:m,criteria:h.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let y=0;y<h.length;y++){const v=e.compareValues(m.criteria[y],p.criteria[y],o[y]);if(v!==0)return v}return 0}).map(m=>m.original)}t.orderBy=i})(U$);var H$={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(n,0),i}t.flatten=e})(H$);var IN={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CN,n=a1,r=SN,i=kN;function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(IN);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U$,n=H$,r=IN;function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(B$);var Cme=B$.sortBy;const l1=la(Cme);var q$=t=>t.legend.settings,Pme=t=>t.legend.size,Ome=t=>t.legend.payload;K([Ome,q$],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?l1(r,n):r});var dy=1;function Ime(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>dy||Math.abs(a.left-e.left)>dy||Math.abs(a.top-e.top)>dy||Math.abs(a.width-e.width)>dy)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function tr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Rme=typeof Symbol=="function"&&Symbol.observable||"@@observable",XD=Rme,RS=()=>Math.random().toString(36).substring(7).split("").join("."),Mme={INIT:`@@redux/INIT${RS()}`,REPLACE:`@@redux/REPLACE${RS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${RS()}`},Gx=Mme;function RN(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function W$(t,e,n){if(typeof t!="function")throw new Error(tr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tr(1));return n(W$)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((v,b)=>{a.set(b,v)}))}function d(){if(l)throw new Error(tr(3));return i}function h(v){if(typeof v!="function")throw new Error(tr(4));if(l)throw new Error(tr(5));let b=!0;u();const w=o++;return a.set(w,v),function(){if(b){if(l)throw new Error(tr(6));b=!1,u(),a.delete(w),s=null}}}function f(v){if(!RN(v))throw new Error(tr(7));if(typeof v.type>"u")throw new Error(tr(8));if(typeof v.type!="string")throw new Error(tr(17));if(l)throw new Error(tr(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=a).forEach(w=>{w()}),v}function m(v){if(typeof v!="function")throw new Error(tr(10));r=v,f({type:Gx.REPLACE})}function p(){const v=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(tr(11));function w(){const j=b;j.next&&j.next(d())}return w(),{unsubscribe:v(w)}},[XD](){return this}}}return f({type:Gx.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[XD]:p}}function Dme(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Gx.INIT})>"u")throw new Error(tr(12));if(typeof n(void 0,{type:Gx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tr(13))})}function K$(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Dme(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],m=a[h],p=f(m,o);if(typeof p>"u")throw o&&o.type,new Error(tr(14));u[h]=p,l=l||p!==m}return l=l||r.length!==Object.keys(a).length,l?u:a}}function Yx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Lme(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(tr(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=t.map(l=>l(a));return s=Yx(...o)(i.dispatch),{...i,dispatch:s}}}function G$(t){return RN(t)&&"type"in t&&typeof t.type=="string"}var Y$=Symbol.for("immer-nothing"),QD=Symbol.for("immer-draftable"),Si=Symbol.for("immer-state");function ls(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var hh=Object.getPrototypeOf;function uu(t){return!!t&&!!t[Si]}function no(t){var e;return t?X$(t)||Array.isArray(t)||!!t[QD]||!!((e=t.constructor)!=null&&e[QD])||Kg(t)||u1(t):!1}var Vme=Object.prototype.constructor.toString();function X$(t){if(!t||typeof t!="object")return!1;const e=hh(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Vme}function Xx(t,e){c1(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function c1(t){const e=t[Si];return e?e.type_:Array.isArray(t)?1:Kg(t)?2:u1(t)?3:0}function SA(t,e){return c1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Q$(t,e,n){const r=c1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Fme(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Kg(t){return t instanceof Map}function u1(t){return t instanceof Set}function dc(t){return t.copy_||t.base_}function EA(t,e){if(Kg(t))return new Map(t);if(u1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=X$(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Si];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(hh(t),r)}else{const r=hh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function MN(t,e=!1){return d1(t)||uu(t)||!no(t)||(c1(t)>1&&Object.defineProperties(t,{set:{value:hy},add:{value:hy},clear:{value:hy},delete:{value:hy}}),Object.freeze(t),e&&Object.values(t).forEach(n=>MN(n,!0))),t}function hy(){ls(2)}function d1(t){return Object.isFrozen(t)}var Bme={};function du(t){const e=Bme[t];return e||ls(0,t),e}var Pp;function Z$(){return Pp}function Ume(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZD(t,e){e&&(du("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function kA(t){AA(t),t.drafts_.forEach(zme),t.drafts_=null}function AA(t){t===Pp&&(Pp=t.parent_)}function JD(t){return Pp=Ume(Pp,t)}function zme(t){const e=t[Si];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function e5(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Si].modified_&&(kA(e),ls(4)),no(t)&&(t=Qx(e,t),e.parent_||Zx(e,t)),e.patches_&&du("Patches").generateReplacementPatches_(n[Si].base_,t,e.patches_,e.inversePatches_)):t=Qx(e,n,[]),kA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Y$?t:void 0}function Qx(t,e,n){if(d1(e))return e;const r=e[Si];if(!r)return Xx(e,(i,s)=>t5(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Zx(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),Xx(s,(o,l)=>t5(t,r,i,o,l,n,a)),Zx(t,i,!1),n&&t.patches_&&du("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function t5(t,e,n,r,i,s,a){if(uu(i)){const o=s&&e&&e.type_!==3&&!SA(e.assigned_,r)?s.concat(r):void 0,l=Qx(t,i,o);if(Q$(n,r,l),uu(l))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(no(i)&&!d1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Qx(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Kg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zx(t,i)}}function Zx(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&MN(e,n)}function $me(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Z$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=DN;n&&(i=[r],s=Op);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var DN={get(t,e){if(e===Si)return t;const n=dc(t);if(!SA(n,e))return Hme(t,n,e);const r=n[e];return t.finalized_||!no(r)?r:r===MS(t.base_,e)?(DS(t),t.copy_[e]=TA(r,t)):r},has(t,e){return e in dc(t)},ownKeys(t){return Reflect.ownKeys(dc(t))},set(t,e,n){const r=J$(dc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=MS(dc(t),e),s=i==null?void 0:i[Si];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Fme(n,i)&&(n!==void 0||SA(t.base_,e)))return!0;DS(t),jA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return MS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,DS(t),jA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=dc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ls(11)},getPrototypeOf(t){return hh(t.base_)},setPrototypeOf(){ls(12)}},Op={};Xx(DN,(t,e)=>{Op[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Op.deleteProperty=function(t,e){return Op.set.call(this,t,e,void 0)};Op.set=function(t,e,n){return DN.set.call(this,t[0],e,n,t[0])};function MS(t,e){const n=t[Si];return(n?dc(n):t)[e]}function Hme(t,e,n){var i;const r=J$(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function J$(t,e){if(!(e in t))return;let n=hh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=hh(n)}}function jA(t){t.modified_||(t.modified_=!0,t.parent_&&jA(t.parent_))}function DS(t){t.copy_||(t.copy_=EA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qme=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const a=r;r=n;const o=this;return function(u=a,...d){return o.produce(u,h=>r.call(this,h,...d))}}typeof r!="function"&&ls(6),i!==void 0&&typeof i!="function"&&ls(7);let s;if(no(n)){const a=JD(this),o=TA(n,void 0);let l=!0;try{s=r(o),l=!1}finally{l?kA(a):AA(a)}return ZD(a,i),e5(s,a)}else if(!n||typeof n!="object"){if(s=r(n),s===void 0&&(s=n),s===Y$&&(s=void 0),this.autoFreeze_&&MN(s,!0),i){const a=[],o=[];du("Patches").generateReplacementPatches_(n,s,a,o),i(a,o)}return s}else ls(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,s;return[this.produce(n,r,(o,l)=>{i=o,s=l}),i,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){no(e)||ls(8),uu(e)&&(e=$a(e));const n=JD(this),r=TA(e,void 0);return r[Si].isManual_=!0,AA(n),r}finishDraft(e,n){const r=e&&e[Si];(!r||!r.isManual_)&&ls(9);const{scope_:i}=r;return ZD(i,n),e5(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=du("Patches").applyPatches_;return uu(e)?i(e,n):this.produce(e,s=>i(s,n))}};function TA(t,e){const n=Kg(t)?du("MapSet").proxyMap_(t,e):u1(t)?du("MapSet").proxySet_(t,e):$me(t,e);return(e?e.scope_:Z$()).drafts_.push(n),n}function $a(t){return uu(t)||ls(10,t),eH(t)}function eH(t){if(!no(t)||d1(t))return t;const e=t[Si];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=EA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=EA(t,!0);return Xx(n,(r,i)=>{Q$(n,r,eH(i))}),e&&(e.finalized_=!1),n}var Wme=new qme,tH=Wme.produce;function nH(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Kme=nH(),Gme=nH,Yme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yx:Yx.apply(null,arguments)};function Qi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(wi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>G$(r)&&r.type===t,n}var rH=class hm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,hm.prototype)}static get[Symbol.species](){return hm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new hm(...e[0].concat(this)):new hm(...e.concat(this))}};function n5(t){return no(t)?tH(t,()=>{}):t}function fy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Xme(t){return typeof t=="boolean"}var Qme=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new rH;return n&&(Xme(n)?a.push(Kme):a.push(Gme(n.extraArgument))),a},Zme="RTK_autoBatch",r5=t=>e=>{setTimeout(e,t)},Jme=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:r5(10):t.type==="callback"?t.queueNotification:r5(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return o.add(d),()=>{f(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[Zme]),s=!i,s&&(a||(a=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},epe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new rH(t);return r&&i.push(Jme(typeof r=="object"?r:void 0)),i};function tpe(t){const e=Qme(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(RN(n))o=K$(n);else throw new Error(wi(1));let l;typeof r=="function"?l=r(e):l=e();let u=Yx;i&&(u=Yme({trace:!1,...typeof i=="object"&&i}));const d=Lme(...l),h=epe(d);let f=typeof a=="function"?a(h):h();const m=u(...f);return W$(o,s,m)}function iH(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(wi(28));if(o in e)throw new Error(wi(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function npe(t){return typeof t=="function"}function rpe(t,e){let[n,r,i]=iH(e),s;if(npe(t))s=()=>n5(t());else{const o=n5(t);s=()=>o}function a(o=s(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(uu(d)){const m=h(d,l);return m===void 0?d:m}else{if(no(d))return tH(d,f=>h(f,l));{const f=h(d,l);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},o)}return a.getInitialState=s,a}var ipe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",spe=(t=21)=>{let e="",n=t;for(;n--;)e+=ipe[Math.random()*64|0];return e},ape=Symbol.for("rtk-slice-createasyncthunk");function ope(t,e){return`${t}/${e}`}function lpe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[ape];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(wi(11));const o=(typeof i.reducers=="function"?i.reducers(upe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,E){const I=typeof j=="string"?j:j.type;if(!I)throw new Error(wi(12));if(I in u.sliceCaseReducersByType)throw new Error(wi(13));return u.sliceCaseReducersByType[I]=E,d},addMatcher(j,E){return u.sliceMatchers.push({matcher:j,reducer:E}),d},exposeAction(j,E){return u.actionCreators[j]=E,d},exposeCaseReducer(j,E){return u.sliceCaseReducersByName[j]=E,d}};l.forEach(j=>{const E=o[j],I={reducerName:j,type:ope(s,j),createNotation:typeof i.reducers=="function"};hpe(E)?mpe(I,E,d,e):dpe(I,E,d)});function h(){const[j={},E=[],I=void 0]=typeof i.extraReducers=="function"?iH(i.extraReducers):[i.extraReducers],k={...j,...u.sliceCaseReducersByType};return rpe(i.initialState,S=>{for(let P in k)S.addCase(P,k[P]);for(let P of u.sliceMatchers)S.addMatcher(P.matcher,P.reducer);for(let P of E)S.addMatcher(P.matcher,P.reducer);I&&S.addDefaultCase(I)})}const f=j=>j,m=new Map,p=new WeakMap;let y;function v(j,E){return y||(y=h()),y(j,E)}function b(){return y||(y=h()),y.getInitialState()}function w(j,E=!1){function I(S){let P=S[j];return typeof P>"u"&&E&&(P=fy(p,I,b)),P}function k(S=f){const P=fy(m,E,()=>new WeakMap);return fy(P,S,()=>{const O={};for(const[N,A]of Object.entries(i.selectors??{}))O[N]=cpe(A,S,()=>fy(p,S,b),E);return O})}return{reducerPath:j,getSelectors:k,get selectors(){return k(I)},selectSlice:I}}const _={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...w(a),injectInto(j,{reducerPath:E,...I}={}){const k=E??a;return j.inject({reducerPath:k,reducer:v},I),{..._,...w(k,!0)}}};return _}}function cpe(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var ki=lpe();function upe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function dpe({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!fpe(r))throw new Error(wi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Qi(t,a):Qi(t))}function hpe(t){return t._reducerDefinitionType==="asyncThunk"}function fpe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mpe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(wi(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=n,h=i(t,s,d);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:a||my,pending:o||my,rejected:l||my,settled:u||my})}function my(){}var ppe="task",sH="listener",aH="completed",LN="cancelled",gpe=`task-${LN}`,ype=`task-${aH}`,NA=`${sH}-${LN}`,vpe=`${sH}-${aH}`,h1=class{constructor(t){De(this,"name","TaskAbortError");De(this,"message");this.code=t,this.message=`${ppe} ${LN} (reason: ${t})`}},VN=(t,e)=>{if(typeof t!="function")throw new TypeError(wi(32))},Jx=()=>{},oH=(t,e=Jx)=>(t.catch(e),t),lH=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Hc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},qc=t=>{if(t.aborted){const{reason:e}=t;throw new h1(e)}};function cH(t,e){let n=Jx;return new Promise((r,i)=>{const s=()=>i(new h1(t.reason));if(t.aborted){s();return}n=lH(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Jx})}var xpe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof h1?"cancelled":"rejected",error:n}}finally{e==null||e()}},eb=t=>e=>oH(cH(t,e).then(n=>(qc(t),n))),uH=t=>{const e=eb(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Rd}=Object,i5={},f1="listenerMiddleware",bpe=(t,e)=>{const n=r=>lH(t,()=>Hc(r,t.reason));return(r,i)=>{VN(r);const s=new AbortController;n(s);const a=xpe(async()=>{qc(t),qc(s.signal);const o=await r({pause:eb(s.signal),delay:uH(s.signal),signal:s.signal});return qc(s.signal),o},()=>Hc(s,ype));return i!=null&&i.autoJoin&&e.push(a.catch(Jx)),{result:eb(t)(a),cancel(){Hc(s,gpe)}}}},wpe=(t,e)=>{const n=async(r,i)=>{qc(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=t({predicate:r,effect:(h,f)=>{f.unsubscribe(),l([h,f.getState(),f.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await cH(e,Promise.race(o));return qc(e),l}finally{s()}};return(r,i)=>oH(n(r,i))},dH=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Qi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wi(21));return VN(s),{predicate:i,type:e,effect:s}},hH=Rd(t=>{const{type:e,predicate:n,effect:r}=dH(t);return{id:spe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wi(22))}}},{withTypes:()=>hH}),s5=(t,e)=>{const{type:n,effect:r,predicate:i}=dH(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},CA=t=>{t.pending.forEach(e=>{Hc(e,NA)})},_pe=t=>()=>{t.forEach(CA),t.clear()},a5=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},fH=Rd(Qi(`${f1}/add`),{withTypes:()=>fH}),Spe=Qi(`${f1}/removeAll`),mH=Rd(Qi(`${f1}/remove`),{withTypes:()=>mH}),Epe=(...t)=>{console.error(`${f1}/error`,...t)},Gg=(t={})=>{const e=new Map,{extra:n,onError:r=Epe}=t;VN(r);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),h=>{d.unsubscribe(),h!=null&&h.cancelActive&&CA(d)}),s=d=>{const h=s5(e,d)??hH(d);return i(h)};Rd(s,{withTypes:()=>s});const a=d=>{const h=s5(e,d);return h&&(h.unsubscribe(),d.cancelActive&&CA(h)),!!h};Rd(a,{withTypes:()=>a});const o=async(d,h,f,m)=>{const p=new AbortController,y=wpe(s,p.signal),v=[];try{d.pending.add(p),await Promise.resolve(d.effect(h,Rd({},f,{getOriginalState:m,condition:(b,w)=>y(b,w).then(Boolean),take:y,delay:uH(p.signal),pause:eb(p.signal),extra:n,signal:p.signal,fork:bpe(p.signal,v),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,w,_)=>{b!==p&&(Hc(b,NA),_.delete(b))})},cancel:()=>{Hc(p,NA),d.pending.delete(p)},throwIfCancelled:()=>{qc(p.signal)}})))}catch(b){b instanceof h1||a5(r,b,{raisedBy:"effect"})}finally{await Promise.all(v),Hc(p,vpe),d.pending.delete(p)}},l=_pe(e);return{middleware:d=>h=>f=>{if(!G$(f))return h(f);if(fH.match(f))return s(f.payload);if(Spe.match(f)){l();return}if(mH.match(f))return a(f.payload);let m=d.getState();const p=()=>{if(m===i5)throw new Error(wi(23));return m};let y;try{if(y=h(f),e.size>0){const v=d.getState(),b=Array.from(e.values());for(const w of b){let _=!1;try{_=w.predicate(f,v,m)}catch(j){_=!1,a5(r,j,{raisedBy:"predicate"})}_&&o(w,f,d,p)}}}finally{m=i5}return y},startListening:s,stopListening:a,clearListeners:l}};function wi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kpe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pH=ki({name:"chartLayout",initialState:kpe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Ape,setLayout:jpe,setChartSize:Tpe,setScale:Npe}=pH.actions,Cpe=pH.reducer;function o5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(n),!0).forEach(function(r){Ppe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e,n){return(e=Ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ope(t){var e=Ipe(t,"string");return typeof e=="symbol"?e:e+""}function Ipe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tb=Math.PI/180,Rpe=t=>t*180/Math.PI,jn=(t,e,n,r)=>({x:t+Math.cos(-tb*r)*n,y:e+Math.sin(-tb*r)*n}),gH=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Mpe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Dpe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=Mpe({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:Rpe(l),angleInRadian:l}},Lpe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Vpe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},Fpe=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=Dpe({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=Lpe(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?l5(l5({},e),{},{radius:i,angle:Vpe(d,e)}):null};function yH(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function c5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(n),!0).forEach(function(r){Bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bpe(t,e,n){return(e=Upe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Upe(t){var e=zpe(t,"string");return typeof e=="symbol"?e:e+""}function zpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dt(t,e,n){return tn(t)||tn(e)?n:sa(e)?cu(t,e,n):typeof e=="function"?e(t):n}var $pe=(t,e,n,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?n[l-1].coordinate:n[o-1].coordinate,d=n[l].coordinate,h=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Gn(d-u)!==Gn(h-d)){var m=[];if(Gn(h-d)===Gn(i[1]-i[0])){f=h;var p=d+i[1]-i[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{f=u;var y=h+i[1]-i[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){({index:a}=n[l]);break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+d)/2&&t<=(w+d)/2){({index:a}=n[l]);break}}}else if(e){for(var _=0;_<o;_++)if(_===0&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_===o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2){({index:a}=e[_]);break}}return a},Hpe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&we(t[s]))return Li(Li({},t),{},{[s]:t[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&we(t[a]))return Li(Li({},t),{},{[a]:t[a]+(i||0)})}return t},uo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",vH=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(n),a},xH=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:f,axisType:m}=t;if(!a)return null;var p=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(y=m==="angleAxis"&&s&&s.length>=2?Gn(s[0]-s[1])*2*y:y,h||f){var v=(h||f||[]).map((b,w)=>{var _=r?r.indexOf(b):b;return{coordinate:a(_)+y,value:b,offset:y,index:w}});return v.filter(b=>!ni(b.coordinate))}return l&&u?u.map((b,w)=>({coordinate:a(b)+y,value:b,index:w,offset:y})):a.ticks&&d!=null?a.ticks(d).map((b,w)=>({coordinate:a(b)+y,value:b,offset:y,index:w})):a.domain().map((b,w)=>({coordinate:a(b)+y,value:r?r[b]:b,index:w,offset:y}))},u5=1e-4,qpe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-u5,s=Math.max(r[0],r[1])+u5,a=t(e[0]),o=t(e[n-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[n-1]])}},Wpe=(t,e)=>{if(!e||e.length!==2||!we(e[0])||!we(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!we(t[0])||t[0]<n)&&(i[0]=n),(!we(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Kpe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var o=ni(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+o,s=t[a][n][1])}},Gpe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=ni(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Ype={sign:Kpe,expand:Dfe,none:uh,silhouette:Lfe,wiggle:Vfe,positive:Gpe},Xpe=(t,e,n)=>{var r=Ype[n],i=Mfe().keys(e).value((s,a)=>+Dt(s,a,0)).order(wA).offset(r);return i(t)};function bH(t){return t==null?void 0:String(t)}function d5(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!tn(i[e.dataKey])){var o=Xz(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Dt(i,tn(a)?e.dataKey:a);return tn(l)?null:e.scale(l)}var h5=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var o=Dt(s,e.dataKey,e.scale.domain()[a]);return tn(o)?null:e.scale(o)-i/2+r},Qpe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Zpe=t=>{var e=t.flat(2).filter(we);return[Math.min(...e),Math.max(...e)]},Jpe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ege=(t,e,n)=>{if(t!=null)return Jpe(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=yH(u,e,n),h=Zpe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},f5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ip=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=l1(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function p5(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Li(Li({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Wh(t,e){if(t)return String(t);if(typeof e=="string")return e}function tge(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?Fpe({x:t,y:e},r):null}var nge=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Li(Li(Li({},r),jn(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return Li(Li(Li({},r),jn(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},rge=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ho=t=>t.layout.width,fo=t=>t.layout.height,ige=t=>t.layout.scale,wH=t=>t.layout.margin,m1=K(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),p1=K(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),_H="data-recharts-item-index",SH="data-recharts-item-data-key",Yg=60;function g5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g5(Object(n),!0).forEach(function(r){sge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sge(t,e,n){return(e=age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function age(t){var e=oge(t,"string");return typeof e=="symbol"?e:e+""}function oge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lge=t=>t.brush.height;function cge(t){var e=p1(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yg;return n+i}return n},0)}function uge(t){var e=p1(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yg;return n+i}return n},0)}function dge(t){var e=m1(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function hge(t){var e=m1(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Vn=K([ho,fo,wH,lge,cge,uge,dge,hge,q$,Pme],(t,e,n,r,i,s,a,o,l,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},h={top:(n.top||0)+a,bottom:(n.bottom||0)+o},f=py(py({},h),d),m=f.bottom;f.bottom+=r,f=Hpe(f,l,u);var p=t-f.left-f.right,y=e-f.top-f.bottom;return py(py({brushBottom:m},f),{},{width:Math.max(p,0),height:Math.max(y,0)})}),fge=K(Vn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),FN=K(ho,fo,(t,e)=>({x:0,y:0,width:t,height:e})),mge=x.createContext(null),si=()=>x.useContext(mge)!=null,g1=t=>t.brush,y1=K([g1,Vn,wH],(t,e,n)=>({height:t.height,x:we(t.x)?t.x:e.left,y:we(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:we(t.width)?t.width:e.width})),BN=()=>{var t,e=si(),n=_e(fge),r=_e(y1),i=(t=_e(g1))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pge={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},EH=()=>{var t;return(t=_e(Vn))!==null&&t!==void 0?t:pge},kH=()=>_e(ho),AH=()=>_e(fo),nt=t=>t.layout.layoutType,v1=()=>_e(nt),jH=Symbol.for("immer-nothing"),y5=Symbol.for("immer-draftable"),Ei=Symbol.for("immer-state");function cs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fh=Object.getPrototypeOf;function mh(t){return!!t&&!!t[Ei]}function hu(t){var e;return t?TH(t)||Array.isArray(t)||!!t[y5]||!!((e=t.constructor)!=null&&e[y5])||Xg(t)||b1(t):!1}var gge=Object.prototype.constructor.toString();function TH(t){if(!t||typeof t!="object")return!1;const e=fh(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===gge}function nb(t,e){x1(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function x1(t){const e=t[Ei];return e?e.type_:Array.isArray(t)?1:Xg(t)?2:b1(t)?3:0}function PA(t,e){return x1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NH(t,e,n){const r=x1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function yge(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Xg(t){return t instanceof Map}function b1(t){return t instanceof Set}function hc(t){return t.copy_||t.base_}function OA(t,e){if(Xg(t))return new Map(t);if(b1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=TH(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ei];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(fh(t),r)}else{const r=fh(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function UN(t,e=!1){return w1(t)||mh(t)||!hu(t)||(x1(t)>1&&Object.defineProperties(t,{set:{value:gy},add:{value:gy},clear:{value:gy},delete:{value:gy}}),Object.freeze(t),e&&Object.values(t).forEach(n=>UN(n,!0))),t}function gy(){cs(2)}function w1(t){return Object.isFrozen(t)}var vge={};function fu(t){const e=vge[t];return e||cs(0,t),e}var Rp;function CH(){return Rp}function xge(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function v5(t,e){e&&(fu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function IA(t){RA(t),t.drafts_.forEach(bge),t.drafts_=null}function RA(t){t===Rp&&(Rp=t.parent_)}function x5(t){return Rp=xge(Rp,t)}function bge(t){const e=t[Ei];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function b5(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ei].modified_&&(IA(e),cs(4)),hu(t)&&(t=rb(e,t),e.parent_||ib(e,t)),e.patches_&&fu("Patches").generateReplacementPatches_(n[Ei].base_,t,e.patches_,e.inversePatches_)):t=rb(e,n,[]),IA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==jH?t:void 0}function rb(t,e,n){if(w1(e))return e;const r=e[Ei];if(!r)return nb(e,(i,s)=>w5(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ib(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),nb(s,(o,l)=>w5(t,r,i,o,l,n,a)),ib(t,i,!1),n&&t.patches_&&fu("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function w5(t,e,n,r,i,s,a){if(mh(i)){const o=s&&e&&e.type_!==3&&!PA(e.assigned_,r)?s.concat(r):void 0,l=rb(t,i,o);if(NH(n,r,l),mh(l))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(hu(i)&&!w1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;rb(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Xg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ib(t,i)}}function ib(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&UN(e,n)}function wge(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:CH(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=zN;n&&(i=[r],s=Mp);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var zN={get(t,e){if(e===Ei)return t;const n=hc(t);if(!PA(n,e))return _ge(t,n,e);const r=n[e];return t.finalized_||!hu(r)?r:r===LS(t.base_,e)?(VS(t),t.copy_[e]=DA(r,t)):r},has(t,e){return e in hc(t)},ownKeys(t){return Reflect.ownKeys(hc(t))},set(t,e,n){const r=PH(hc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=LS(hc(t),e),s=i==null?void 0:i[Ei];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(yge(n,i)&&(n!==void 0||PA(t.base_,e)))return!0;VS(t),MA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return LS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,VS(t),MA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=hc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){cs(11)},getPrototypeOf(t){return fh(t.base_)},setPrototypeOf(){cs(12)}},Mp={};nb(zN,(t,e)=>{Mp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Mp.deleteProperty=function(t,e){return Mp.set.call(this,t,e,void 0)};Mp.set=function(t,e,n){return zN.set.call(this,t[0],e,n,t[0])};function LS(t,e){const n=t[Ei];return(n?hc(n):t)[e]}function _ge(t,e,n){var i;const r=PH(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function PH(t,e){if(!(e in t))return;let n=fh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=fh(n)}}function MA(t){t.modified_||(t.modified_=!0,t.parent_&&MA(t.parent_))}function VS(t){t.copy_||(t.copy_=OA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Sge=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(l=s,...u){return a.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&cs(6),r!==void 0&&typeof r!="function"&&cs(7);let i;if(hu(e)){const s=x5(this),a=DA(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?IA(s):RA(s)}return v5(s,r),b5(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===jH&&(i=void 0),this.autoFreeze_&&UN(i,!0),r){const s=[],a=[];fu("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else cs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){hu(t)||cs(8),mh(t)&&(t=Ege(t));const e=x5(this),n=DA(t,void 0);return n[Ei].isManual_=!0,RA(e),n}finishDraft(t,e){const n=t&&t[Ei];(!n||!n.isManual_)&&cs(9);const{scope_:r}=n;return v5(r,e),b5(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=fu("Patches").applyPatches_;return mh(t)?r(t,e):this.produce(t,i=>r(i,e))}};function DA(t,e){const n=Xg(t)?fu("MapSet").proxyMap_(t,e):b1(t)?fu("MapSet").proxySet_(t,e):wge(t,e);return(e?e.scope_:CH()).drafts_.push(n),n}function Ege(t){return mh(t)||cs(10,t),OH(t)}function OH(t){if(!hu(t)||w1(t))return t;const e=t[Ei];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=OA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=OA(t,!0);return nb(n,(r,i)=>{NH(n,r,OH(i))}),e&&(e.finalized_=!1),n}var kge=new Sge;kge.produce;var Age={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},IH=ki({name:"legend",initialState:Age,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=$a(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:v6e,setLegendSettings:x6e,addLegendPayload:RH,removeLegendPayload:MH}=IH.actions,jge=IH.reducer;function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LA.apply(null,arguments)}function _5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_5(Object(n),!0).forEach(function(r){Tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tge(t,e,n){return(e=Nge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nge(t){var e=Cge(t,"string");return typeof e=="symbol"?e:e+""}function Cge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pge(t){return Array.isArray(t)&&sa(t[0])&&sa(t[1])?t.join(" ~ "):t}var Oge=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=t,m=()=>{if(s&&s.length){var E={padding:0,margin:0},I=(o?l1(s,o):s).map((k,S)=>{if(k.type==="none")return null;var P=k.formatter||a||Pge,{value:O,name:N}=k,A=O,C=N;if(P){var F=P(O,N,k,S,s);if(Array.isArray(F))[A,C]=F;else if(F!=null)A=F;else return null}var M=FS({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:M},sa(C)?x.createElement("span",{className:"recharts-tooltip-item-name"},C):null,sa(C)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},A),x.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:E},I)}return null},p=FS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=FS({margin:0},i),v=!tn(d),b=v?d:"",w=ht("recharts-default-tooltip",l),_=ht("recharts-tooltip-label",u);v&&h&&s!==void 0&&s!==null&&(b=h(d,s));var j=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",LA({className:w,style:p},j),x.createElement("p",{className:_,style:y},x.isValidElement(b)?b:"".concat(b)),m())},Df="recharts-tooltip-wrapper",Ige={visibility:"hidden"};function Rge(t){var{coordinate:e,translateX:n,translateY:r}=t;return ht(Df,{["".concat(Df,"-right")]:we(n)&&e&&we(e.x)&&n>=e.x,["".concat(Df,"-left")]:we(n)&&e&&we(e.x)&&n<e.x,["".concat(Df,"-bottom")]:we(r)&&e&&we(e.y)&&r>=e.y,["".concat(Df,"-top")]:we(r)&&e&&we(e.y)&&r<e.y})}function S5(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(s&&we(s[r]))return s[r];var d=n[r]-o-(i>0?i:0),h=n[r]+i;if(e[r])return a[r]?d:h;var f=l[r];if(f==null)return 0;if(a[r]){var m=d,p=f;return m<p?Math.max(h,f):Math.max(d,f)}if(u==null)return 0;var y=h+o,v=f+u;return y>v?Math.max(d,f):Math.max(h,f)}function Mge(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Dge(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,u,d,h;return a.height>0&&a.width>0&&n?(d=S5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=S5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Mge({translateX:d,translateY:h,useTranslate3d:o})):u=Ige,{cssProperties:u,cssClasses:Rge({translateX:d,translateY:h,coordinate:n})}}function E5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(n),!0).forEach(function(r){VA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VA(t,e,n){return(e=Lge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lge(t){var e=Vge(t,"string");return typeof e=="symbol"?e:e+""}function Vge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fge extends x.PureComponent{constructor(){super(...arguments),VA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),VA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:f,viewBox:m,wrapperStyle:p,lastBoundingBox:y,innerRef:v,hasPortalFromProps:b}=this.props,{cssClasses:w,cssProperties:_}=Dge({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:m}),j=b?{}:yy(yy({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),E=yy(yy({},j),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:E,ref:v},s)}}var Bge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ul={devToolsEnabled:!1,isSsr:Bge()},DH=()=>_e(t=>t.rootProps.accessibilityLayer);function cr(t){return Number.isFinite(t)}function ph(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FA.apply(null,arguments)}function k5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(n),!0).forEach(function(r){Uge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uge(t,e,n){return(e=zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zge(t){var e=$ge(t,"string");return typeof e=="symbol"?e:e+""}function $ge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j5={curveBasisClosed:Efe,curveBasisOpen:kfe,curveBasis:Sfe,curveBumpX:cfe,curveBumpY:ufe,curveLinearClosed:Afe,curveLinear:i1,curveMonotoneX:jfe,curveMonotoneY:Tfe,curveNatural:Nfe,curveStep:Cfe,curveStepAfter:Ofe,curveStepBefore:Pfe},vy=t=>cr(t.x)&&cr(t.y),Lf=t=>t.x,Vf=t=>t.y,Hge=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Wg(t));return(n==="curveMonotone"||n==="curveBump")&&e?j5["".concat(n).concat(e==="vertical"?"Y":"X")]:j5[n]||i1},qge=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=Hge(e,i),o=s?n.filter(vy):n,l;if(Array.isArray(r)){var u=s?r.filter(h=>vy(h)):r,d=o.map((h,f)=>A5(A5({},h),{},{base:u[f]}));return i==="vertical"?l=cy().y(Vf).x1(Lf).x0(h=>h.base.x):l=cy().x(Lf).y1(Vf).y0(h=>h.base.y),l.defined(vy).curve(a),l(d)}return i==="vertical"&&we(r)?l=cy().y(Vf).x1(Lf).x0(r):we(r)?l=cy().x(Lf).y1(Vf).y0(r):l=a$().x(Lf).y(Vf),l.defined(vy).curve(a),l(o)},Bm=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?qge(t):r;return x.createElement("path",FA({},ks(t),yN(t),{className:ht("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Wge=["x","y","top","left","width","height","className"];function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BA.apply(null,arguments)}function T5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(n),!0).forEach(function(r){Gge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gge(t,e,n){return(e=Yge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yge(t){var e=Xge(t,"string");return typeof e=="symbol"?e:e+""}function Xge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qge(t,e){if(t==null)return{};var n,r,i=Zge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jge=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),e0e=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=Qge(t,Wge),u=Kge({x:e,y:n,top:r,left:i,width:s,height:a},l);return!we(e)||!we(n)||!we(s)||!we(a)||!we(r)||!we(i)?null:x.createElement("path",BA({},un(u,!0),{className:ht("recharts-cross",o),d:Jge(e,n,s,a,r,i)}))};function t0e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function N5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(n),!0).forEach(function(r){r0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r0e(t,e,n){return(e=i0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i0e(t){var e=s0e(t,"string");return typeof e=="symbol"?e:e+""}function s0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ur(t,e){var n=n0e({},t),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}function a0e(){}function C5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(n),!0).forEach(function(r){o0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o0e(t,e,n){return(e=l0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l0e(t){var e=c0e(t,"string");return typeof e=="symbol"?e:e+""}function c0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u0e=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),LH=(t,e,n)=>t.map(r=>"".concat(u0e(r)," ").concat(e,"ms ").concat(n)).join(","),d0e=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Dp=(t,e)=>Object.keys(e).reduce((n,r)=>P5(P5({},n),{},{[r]:t(r,e[r])}),{});function O5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(n),!0).forEach(function(r){h0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h0e(t,e,n){return(e=f0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f0e(t){var e=m0e(t,"string");return typeof e=="symbol"?e:e+""}function m0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sb=(t,e,n)=>t+(e-t)*n,UA=t=>{var{from:e,to:n}=t;return e!==n},VH=(t,e,n)=>{var r=Dp((i,s)=>{if(UA(s)){var[a,o]=t(s.from,s.to,s.velocity);return ir(ir({},s),{},{from:a,velocity:o})}return s},e);return n<1?Dp((i,s)=>UA(s)?ir(ir({},s),{},{velocity:sb(s.velocity,r[i].velocity,n),from:sb(s.from,r[i].from,n)}):s,e):VH(t,r,n-1)};function p0e(t,e,n,r,i,s){var a,o=r.reduce((f,m)=>ir(ir({},f),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),l=()=>Dp((f,m)=>m.from,o),u=()=>!Object.values(o).filter(UA).length,d=null,h=f=>{a||(a=f);var m=f-a,p=m/n.dt;o=VH(n,o,p),i(ir(ir(ir({},t),e),l())),a=f,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{d()})}function g0e(t,e,n,r,i,s,a){var o=null,l=i.reduce((h,f)=>ir(ir({},h),{},{[f]:[t[f],e[f]]}),{}),u,d=h=>{u||(u=h);var f=(h-u)/r,m=Dp((y,v)=>sb(...v,n(f)),l);if(s(ir(ir(ir({},t),e),m)),f<1)o=a.setTimeout(d);else{var p=Dp((y,v)=>sb(...v,n(1)),l);s(ir(ir(ir({},t),e),p))}};return()=>(o=a.setTimeout(d),()=>{o()})}const y0e=(t,e,n,r,i,s)=>{var a=d0e(t,e);return n.isStepper===!0?p0e(t,e,n,a,i,s):g0e(t,e,n,r,a,i,s)};var ab=1e-4,FH=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],BH=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),I5=(t,e)=>n=>{var r=FH(t,e);return BH(r,n)},v0e=(t,e)=>n=>{var r=FH(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return BH(i,n)},R5=function(){for(var e,n,r,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([e,r,n,i]=a);var u=I5(e,n),d=I5(r,i),h=v0e(e,n),f=p=>p>1?1:p<0?0:p,m=p=>{for(var y=p>1?1:p,v=y,b=0;b<8;++b){var w=u(v)-y,_=h(v);if(Math.abs(w-y)<ab||_<ab)return d(v);v=f(v-w/_)}return d(v)};return m.isStepper=!1,m},x0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*n,d=l*r,h=l+(u-d)*i/1e3,f=l*i/1e3+a;return Math.abs(f-o)<ab&&Math.abs(h)<ab?[o,0]:[f,h]};return s.isStepper=!0,s.dt=i,s},b0e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R5(t);case"spring":return x0e();default:if(t.split("(")[0]==="cubic-bezier")return R5(t)}return typeof t=="function"?t:null};function w0e(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,u),l);return}s(l),i=t.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class _0e{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function S0e(){return w0e(new _0e)}var E0e=x.createContext(S0e);function k0e(t,e){var n=x.useContext(E0e);return x.useMemo(()=>e??n(t),[t,e,n])}var A0e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},M5={t:0},BS={t:1};function Qg(t){var e=ur(t,A0e),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=k0e(e.animationId,e.animationManager),[h,f]=x.useState(n?M5:BS),m=x.useRef(null);return x.useEffect(()=>{n||f(BS)},[n]),x.useEffect(()=>{if(!n||!r)return a0e;var p=y0e(M5,BS,b0e(s),i,f,d.getTimeoutController()),y=()=>{m.current=p()};return d.start([l,a,y,i,o]),()=>{d.stop(),m.current&&m.current(),o()}},[n,r,i,s,a,l,o,d]),u(h.t)}function Zg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Cp(e)),r=x.useRef(t);return r.current!==t&&(n.current=Cp(e),r.current=t),n.current}function D5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(n),!0).forEach(function(r){j0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0e(t,e,n){return(e=T0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T0e(t){var e=N0e(t,"string");return typeof e=="symbol"?e:e+""}function N0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(null,arguments)}var V5=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(t+o*d[0],",").concat(e)),u+="L ".concat(t+n-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+a*d[1])),u+="L ".concat(t+n,",").concat(e+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(t+n-o*d[2],",").concat(e+r)),u+="L ".concat(t+o*d[3],",").concat(e+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(t,",").concat(e+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+o*m,",").concat(e,`
            L `).concat(t+n-o*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+n,",").concat(e+a*m,`
            L `).concat(t+n,",").concat(e+r-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t+n-o*m,",").concat(e+r,`
            L `).concat(t+o*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(t,",").concat(e+r-a*m," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},C0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UH=t=>{var e=ur(t,C0e),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:y}=e,v=x.useRef(o),b=x.useRef(l),w=x.useRef(s),_=x.useRef(a),j=x.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),E=Zg(j,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var I=ht("recharts-rectangle",d);if(!y)return x.createElement("path",ob({},un(e,!0),{className:I,d:V5(s,a,o,l,u)}));var k=v.current,S=b.current,P=w.current,O=_.current,N="0px ".concat(r===-1?1:r,"px"),A="".concat(r,"px 0px"),C=LH(["strokeDasharray"],f,typeof h=="string"?h:void 0);return x.createElement(Qg,{animationId:E,key:E,canBegin:r>0,duration:f,easing:h,isActive:y,begin:m},F=>{var M=Jt(k,o,F),V=Jt(S,l,F),B=Jt(P,s,F),D=Jt(O,a,F);n.current&&(v.current=M,b.current=V,w.current=B,_.current=D);var U;return p?F>0?U={transition:C,strokeDasharray:A}:U={strokeDasharray:N}:U={strokeDasharray:A},x.createElement("path",ob({},un(e,!0),{className:I,d:V5(B,D,M,V,u),ref:n,style:L5(L5({},U),e.style)}))})};function zH(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=jn(e,n,r,i),o=jn(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function zA(){return zA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zA.apply(null,arguments)}var P0e=(t,e)=>{var n=Gn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},xy=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,u=o*(a?1:-1)+r,d=Math.asin(o/u)/tb,h=l?i:i+s*d,f=jn(e,n,u,h),m=jn(e,n,r,h),p=l?i-s*d:i,y=jn(e,n,u*Math.cos(d*tb),p);return{center:f,circleTangency:m,lineTangency:y,theta:d}},$H=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,o=P0e(s,a),l=s+o,u=jn(e,n,i,s),d=jn(e,n,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var f=jn(e,n,r,s),m=jn(e,n,r,l);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},O0e=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=t,d=Gn(u-l),{circleTangency:h,lineTangency:f,theta:m}=xy({cx:e,cy:n,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:p,lineTangency:y,theta:v}=xy({cx:e,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),b=o?Math.abs(l-u):Math.abs(l-u)-m-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):$H({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:j,theta:E}=xy({cx:e,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:I,lineTangency:k,theta:S}=xy({cx:e,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),P=o?Math.abs(l-u):Math.abs(l-u)-E-S;if(P<0&&s===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},I0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HH=t=>{var e=ur(t,I0e),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<i||u===d)return null;var f=ht("recharts-sector",h),m=s-i,p=kr(a,m,0,!0),y;return p>0&&Math.abs(u-d)<360?y=O0e({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):y=$H({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),x.createElement("path",zA({},un(e,!0),{className:f,d:y}))};function R0e(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:l,innerRadius:u,outerRadius:d,angle:h}=e,f=jn(o,l,u,h),m=jn(o,l,d,h);r=f.x,i=f.y,s=m.x,a=m.y}else return zH(e);return[{x:r,y:i},{x:s,y:a}]}var qH={},WH={},KH={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ON;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(KH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KH;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(WH);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IN,n=WH;function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}t.range=r})(qH);var M0e=qH.range;const GH=la(M0e);function gl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function D0e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $N(t){let e,n,r;t.length!==2?(e=gl,n=(o,l)=>gl(t(o),l),r=(o,l)=>t(o)-l):(e=t===gl||t===D0e?t:L0e,n=t,r=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;n(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;n(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function L0e(){return 0}function YH(t){return t===null?NaN:+t}function*V0e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const F0e=$N(gl),Jg=F0e.right;$N(YH).center;class F5 extends Map{constructor(e,n=z0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(B5(this,e))}has(e){return super.has(B5(this,e))}set(e,n){return super.set(B0e(this,e),n)}delete(e){return super.delete(U0e(this,e))}}function B5({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function B0e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function U0e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function z0e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $0e(t=gl){if(t===gl)return XH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function XH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const H0e=Math.sqrt(50),q0e=Math.sqrt(10),W0e=Math.sqrt(2);function lb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=H0e?10:s>=q0e?5:s>=W0e?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?lb(t,e,n*2):[o,l,u]}function $A(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?lb(e,t,n):lb(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function HA(t,e,n){return e=+e,t=+t,n=+n,lb(t,e,n)[2]}function qA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?HA(e,t,n):HA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function U5(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function z5(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function QH(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?XH:$0e(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*h/l+f)),p=Math.min(r,Math.floor(e+(l-u)*h/l+f));QH(t,e,m,p,i)}const s=t[e];let a=n,o=r;for(Ff(t,n,e),i(t[r],s)>0&&Ff(t,n,r);a<o;){for(Ff(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Ff(t,n,o):(++o,Ff(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Ff(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function K0e(t,e,n){if(t=Float64Array.from(V0e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return z5(t);if(e>=1)return U5(t);var r,i=(r-1)*e,s=Math.floor(i),a=U5(QH(t,s).subarray(0,s+1)),o=z5(t.subarray(s+1));return a+(o-a)*(i-s)}}function G0e(t,e,n=YH){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Y0e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ts(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const WA=Symbol("implicit");function HN(){var t=new F5,e=[],n=[],r=WA;function i(s){let a=t.get(s);if(a===void 0){if(r!==WA)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new F5;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return HN(e,n).unknown(r)},ts.apply(i,arguments),i}function qN(){var t=HN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,m=i<r,p=m?i:r,y=m?r:i;s=(y-p)/Math.max(1,f-l+u*2),o&&(s=Math.floor(s)),p+=(y-p-s*(f-l))*d,a=s*(1-l),o&&(p=Math.round(p),a=Math.round(a));var v=Y0e(f).map(function(b){return p+s*b});return n(m?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return qN(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},ts.apply(h(),arguments)}function ZH(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ZH(e())},t}function X0e(){return ZH(qN.apply(null,arguments).paddingInner(1))}function WN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function JH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function e0(){}var Lp=.7,cb=1/Lp,Md="\\s*([+-]?\\d+)\\s*",Vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Q0e=/^#([0-9a-f]{3,8})$/,Z0e=new RegExp(`^rgb\\(${Md},${Md},${Md}\\)$`),J0e=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),eye=new RegExp(`^rgba\\(${Md},${Md},${Md},${Vp}\\)$`),tye=new RegExp(`^rgba\\(${Js},${Js},${Js},${Vp}\\)$`),nye=new RegExp(`^hsl\\(${Vp},${Js},${Js}\\)$`),rye=new RegExp(`^hsla\\(${Vp},${Js},${Js},${Vp}\\)$`),$5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WN(e0,Fp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:H5,formatHex:H5,formatHex8:iye,formatHsl:sye,formatRgb:q5,toString:q5});function H5(){return this.rgb().formatHex()}function iye(){return this.rgb().formatHex8()}function sye(){return eq(this).formatHsl()}function q5(){return this.rgb().formatRgb()}function Fp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Q0e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?W5(e):n===3?new Gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?by(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?by(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Z0e.exec(t))?new Gr(e[1],e[2],e[3],1):(e=J0e.exec(t))?new Gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eye.exec(t))?by(e[1],e[2],e[3],e[4]):(e=tye.exec(t))?by(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nye.exec(t))?Y5(e[1],e[2]/100,e[3]/100,1):(e=rye.exec(t))?Y5(e[1],e[2]/100,e[3]/100,e[4]):$5.hasOwnProperty(t)?W5($5[t]):t==="transparent"?new Gr(NaN,NaN,NaN,0):null}function W5(t){return new Gr(t>>16&255,t>>8&255,t&255,1)}function by(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gr(t,e,n,r)}function aye(t){return t instanceof e0||(t=Fp(t)),t?(t=t.rgb(),new Gr(t.r,t.g,t.b,t.opacity)):new Gr}function KA(t,e,n,r){return arguments.length===1?aye(t):new Gr(t,e,n,r??1)}function Gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}WN(Gr,KA,JH(e0,{brighter(t){return t=t==null?cb:Math.pow(cb,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Lp:Math.pow(Lp,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gr(Wc(this.r),Wc(this.g),Wc(this.b),ub(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K5,formatHex:K5,formatHex8:oye,formatRgb:G5,toString:G5}));function K5(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}`}function oye(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}${wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function G5(){const t=ub(this.opacity);return`${t===1?"rgb(":"rgba("}${Wc(this.r)}, ${Wc(this.g)}, ${Wc(this.b)}${t===1?")":`, ${t})`}`}function ub(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wc(t){return t=Wc(t),(t<16?"0":"")+t.toString(16)}function Y5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new us(t,e,n,r)}function eq(t){if(t instanceof us)return new us(t.h,t.s,t.l,t.opacity);if(t instanceof e0||(t=Fp(t)),!t)return new us;if(t instanceof us)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new us(a,o,l,t.opacity)}function lye(t,e,n,r){return arguments.length===1?eq(t):new us(t,e,n,r??1)}function us(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}WN(us,lye,JH(e0,{brighter(t){return t=t==null?cb:Math.pow(cb,t),new us(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lp:Math.pow(Lp,t),new us(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gr(US(t>=240?t-240:t+120,i,r),US(t,i,r),US(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new us(X5(this.h),wy(this.s),wy(this.l),ub(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ub(this.opacity);return`${t===1?"hsl(":"hsla("}${X5(this.h)}, ${wy(this.s)*100}%, ${wy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function X5(t){return t=(t||0)%360,t<0?t+360:t}function wy(t){return Math.max(0,Math.min(1,t||0))}function US(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const KN=t=>()=>t;function cye(t,e){return function(n){return t+n*e}}function uye(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dye(t){return(t=+t)==1?tq:function(e,n){return n-e?uye(e,n,t):KN(isNaN(e)?n:e)}}function tq(t,e){var n=e-t;return n?cye(t,n):KN(isNaN(t)?e:t)}const Q5=function t(e){var n=dye(e);function r(i,s){var a=n((i=KA(i)).r,(s=KA(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=tq(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function hye(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function fye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mye(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Kh(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function pye(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function db(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gye(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var GA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zS=new RegExp(GA.source,"g");function yye(t){return function(){return t}}function vye(t){return function(e){return t(e)+""}}function xye(t,e){var n=GA.lastIndex=zS.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=GA.exec(t))&&(i=zS.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:db(r,i)})),n=zS.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?vye(l[0].x):yye(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function Kh(t,e){var n=typeof e,r;return e==null||n==="boolean"?KN(e):(n==="number"?db:n==="string"?(r=Fp(e))?(e=r,Q5):xye:e instanceof Fp?Q5:e instanceof Date?pye:fye(e)?hye:Array.isArray(e)?mye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gye:db)(t,e)}function GN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function bye(t,e){e===void 0&&(e=t,t=Kh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function wye(t){return function(){return t}}function hb(t){return+t}var Z5=[0,1];function Dr(t){return t}function YA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wye(isNaN(e)?NaN:.5)}function _ye(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Sye(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=YA(i,r),s=n(a,s)):(r=YA(r,i),s=n(s,a)),function(o){return s(r(o))}}function Eye(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=YA(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Jg(t,o,1,r)-1;return s[l](i[l](o))}}function t0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _1(){var t=Z5,e=Z5,n=Kh,r,i,s,a=Dr,o,l,u;function d(){var f=Math.min(t.length,e.length);return a!==Dr&&(a=_ye(t[0],t[f-1])),o=f>2?Eye:Sye,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((u||(u=o(e,t.map(r),db)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,hb),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=GN,d()},h.clamp=function(f){return arguments.length?(a=f?!0:Dr,d()):a!==Dr},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,m){return r=f,i=m,d()}}function YN(){return _1()(Dr,Dr)}function kye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gh(t){return t=fb(Math.abs(t)),t?t[1]:NaN}function Aye(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function jye(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Tye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bp(t){if(!(e=Tye.exec(t)))throw new Error("invalid format: "+t);var e;return new XN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bp.prototype=XN.prototype;function XN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}XN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nye(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var nq;function Cye(t,e){var n=fb(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(nq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+fb(t,Math.max(0,e+s-1))[0]}function J5(t,e){var n=fb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const e3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>J5(t*100,e),r:J5,s:Cye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function t3(t){return t}var n3=Array.prototype.map,r3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pye(t){var e=t.grouping===void 0||t.thousands===void 0?t3:Aye(n3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?t3:jye(n3.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Bp(h);var f=h.fill,m=h.align,p=h.sign,y=h.symbol,v=h.zero,b=h.width,w=h.comma,_=h.precision,j=h.trim,E=h.type;E==="n"?(w=!0,E="g"):e3[E]||(_===void 0&&(_=12),j=!0,E="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var I=y==="$"?n:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",k=y==="$"?r:/[%p]/.test(E)?a:"",S=e3[E],P=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(N){var A=I,C=k,F,M,V;if(E==="c")C=S(N)+C,N="";else{N=+N;var B=N<0||1/N<0;if(N=isNaN(N)?l:S(Math.abs(N),_),j&&(N=Nye(N)),B&&+N==0&&p!=="+"&&(B=!1),A=(B?p==="("?p:o:p==="-"||p==="("?"":p)+A,C=(E==="s"?r3[8+nq/3]:"")+C+(B&&p==="("?")":""),P){for(F=-1,M=N.length;++F<M;)if(V=N.charCodeAt(F),48>V||V>57){C=(V===46?i+N.slice(F+1):N.slice(F))+C,N=N.slice(0,F);break}}}w&&!v&&(N=e(N,1/0));var D=A.length+N.length+C.length,U=D<b?new Array(b-D+1).join(f):"";switch(w&&v&&(N=e(U+N,U.length?b-C.length:1/0),U=""),m){case"<":N=A+N+C+U;break;case"=":N=A+U+N+C;break;case"^":N=U.slice(0,D=U.length>>1)+A+N+C+U.slice(D);break;default:N=U+A+N+C;break}return s(N)}return O.toString=function(){return h+""},O}function d(h,f){var m=u((h=Bp(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(gh(f)/3)))*3,y=Math.pow(10,-p),v=r3[8+p/3];return function(b){return m(y*b)+v}}return{format:u,formatPrefix:d}}var _y,QN,rq;Oye({thousands:",",grouping:[3],currency:["$",""]});function Oye(t){return _y=Pye(t),QN=_y.format,rq=_y.formatPrefix,_y}function Iye(t){return Math.max(0,-gh(Math.abs(t)))}function Rye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gh(e)/3)))*3-gh(Math.abs(t)))}function Mye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gh(e)-gh(t))+1}function iq(t,e,n,r){var i=qA(t,e,n),s;switch(r=Bp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Rye(i,a))&&(r.precision=s),rq(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Mye(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Iye(i))&&(r.precision=s-(r.type==="%")*2);break}}return QN(r)}function zl(t){var e=t.domain;return t.ticks=function(n){var r=e();return $A(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return iq(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=HA(a,o,n),u===l)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function sq(){var t=YN();return t.copy=function(){return t0(t,sq())},ts.apply(t,arguments),zl(t)}function aq(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,hb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return aq(t).unknown(e)},t=arguments.length?Array.from(t,hb):[0,1],zl(n)}function oq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function i3(t){return Math.log(t)}function s3(t){return Math.exp(t)}function Dye(t){return-Math.log(-t)}function Lye(t){return-Math.exp(-t)}function Vye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Fye(t){return t===10?Vye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Bye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function a3(t){return(e,n)=>-t(-e,n)}function ZN(t){const e=t(i3,s3),n=e.domain;let r=10,i,s;function a(){return i=Bye(r),s=Fye(r),n()[0]<0?(i=a3(i),s=a3(s),t(Dye,Lye)):t(i3,s3),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),m=i(d),p,y;const v=o==null?10:+o;let b=[];if(!(r%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(p=1;p<r;++p)if(y=f<0?p/s(-f):p*s(f),!(y<u)){if(y>d)break;b.push(y)}}else for(;f<=m;++f)for(p=r-1;p>=1;--p)if(y=f>0?p/s(-f):p*s(f),!(y<u)){if(y>d)break;b.push(y)}b.length*2<v&&(b=$A(u,d,v))}else b=$A(f,m,Math.min(m-f,v)).map(s);return h?b.reverse():b},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Bp(l)).precision==null&&(l.trim=!0),l=QN(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?l(d):""}},e.nice=()=>n(oq(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function lq(){const t=ZN(_1()).domain([1,10]);return t.copy=()=>t0(t,lq()).base(t.base()),ts.apply(t,arguments),t}function o3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function l3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function JN(t){var e=1,n=t(o3(e),l3(e));return n.constant=function(r){return arguments.length?t(o3(e=+r),l3(e)):e},zl(n)}function cq(){var t=JN(_1());return t.copy=function(){return t0(t,cq()).constant(t.constant())},ts.apply(t,arguments)}function c3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Uye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zye(t){return t<0?-t*t:t*t}function eC(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(Uye,zye):t(c3(n),c3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zl(e)}function tC(){var t=eC(_1());return t.copy=function(){return t0(t,tC()).exponent(t.exponent())},ts.apply(t,arguments),t}function $ye(){return tC.apply(null,arguments).exponent(.5)}function u3(t){return Math.sign(t)*t*t}function Hye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function uq(){var t=YN(),e=[0,1],n=!1,r;function i(s){var a=Hye(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(u3(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,hb)).map(u3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return uq(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ts.apply(i,arguments),zl(i)}function dq(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=G0e(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Jg(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(gl),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return dq().domain(t).range(e).unknown(r)},ts.apply(s,arguments)}function hq(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Jg(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return hq().domain([t,e]).range(i).unknown(s)},ts.apply(zl(a),arguments)}function fq(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Jg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return fq().domain(t).range(e).unknown(n)},ts.apply(i,arguments)}const $S=new Date,HS=new Date;function Fn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>Fn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>($S.setTime(+s),HS.setTime(+a),t($S),t(HS),Math.floor(n($S,HS))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const mb=Fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):mb);mb.range;const Ma=1e3,$i=Ma*60,Da=$i*60,ro=Da*24,nC=ro*7,d3=ro*30,qS=ro*365,_c=Fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ma)},(t,e)=>(e-t)/Ma,t=>t.getUTCSeconds());_c.range;const rC=Fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getMinutes());rC.range;const iC=Fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCMinutes());iC.range;const sC=Fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma-t.getMinutes()*$i)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getHours());sC.range;const aC=Fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCHours());aC.range;const n0=Fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$i)/ro,t=>t.getDate()-1);n0.range;const S1=Fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>t.getUTCDate()-1);S1.range;const mq=Fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ro,t=>Math.floor(t/ro));mq.range;function Tu(t){return Fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*$i)/nC)}const E1=Tu(0),pb=Tu(1),qye=Tu(2),Wye=Tu(3),yh=Tu(4),Kye=Tu(5),Gye=Tu(6);E1.range;pb.range;qye.range;Wye.range;yh.range;Kye.range;Gye.range;function Nu(t){return Fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/nC)}const k1=Nu(0),gb=Nu(1),Yye=Nu(2),Xye=Nu(3),vh=Nu(4),Qye=Nu(5),Zye=Nu(6);k1.range;gb.range;Yye.range;Xye.range;vh.range;Qye.range;Zye.range;const oC=Fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());oC.range;const lC=Fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lC.range;const io=Fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});io.range;const so=Fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});so.range;function pq(t,e,n,r,i,s){const a=[[_c,1,Ma],[_c,5,5*Ma],[_c,15,15*Ma],[_c,30,30*Ma],[s,1,$i],[s,5,5*$i],[s,15,15*$i],[s,30,30*$i],[i,1,Da],[i,3,3*Da],[i,6,6*Da],[i,12,12*Da],[r,1,ro],[r,2,2*ro],[n,1,nC],[e,1,d3],[e,3,3*d3],[t,1,qS]];function o(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:l(u,d,h),p=m?m.range(u,+d+1):[];return f?p.reverse():p}function l(u,d,h){const f=Math.abs(d-u)/h,m=$N(([,,v])=>v).right(a,f);if(m===a.length)return t.every(qA(u/qS,d/qS,h));if(m===0)return mb.every(Math.max(qA(u,d,h),1));const[p,y]=a[f/a[m-1][2]<a[m][2]/f?m-1:m];return p.every(y)}return[o,l]}const[Jye,eve]=pq(so,lC,k1,mq,aC,iC),[tve,nve]=pq(io,oC,E1,n0,sC,rC);function WS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function KS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rve(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=Uf(i),d=zf(i),h=Uf(s),f=zf(s),m=Uf(a),p=zf(a),y=Uf(o),v=zf(o),b=Uf(l),w=zf(l),_={a:B,A:D,b:U,B:H,c:null,d:y3,e:y3,f:Ave,g:Dve,G:Vve,H:Sve,I:Eve,j:kve,L:gq,m:jve,M:Tve,p:X,q:z,Q:b3,s:w3,S:Nve,u:Cve,U:Pve,V:Ove,w:Ive,W:Rve,x:null,X:null,y:Mve,Y:Lve,Z:Fve,"%":x3},j={a:Q,A:re,b:ue,B:Ce,c:null,d:v3,e:v3,f:$ve,g:Jve,G:txe,H:Bve,I:Uve,j:zve,L:vq,m:Hve,M:qve,p:xe,q:Je,Q:b3,s:w3,S:Wve,u:Kve,U:Gve,V:Yve,w:Xve,W:Qve,x:null,X:null,y:Zve,Y:exe,Z:nxe,"%":x3},E={a:O,A:N,b:A,B:C,c:F,d:p3,e:p3,f:xve,g:m3,G:f3,H:g3,I:g3,j:pve,L:vve,m:mve,M:gve,p:P,q:fve,Q:wve,s:_ve,S:yve,u:lve,U:cve,V:uve,w:ove,W:dve,x:M,X:V,y:m3,Y:f3,Z:hve,"%":bve};_.x=I(n,_),_.X=I(r,_),_.c=I(e,_),j.x=I(n,j),j.X=I(r,j),j.c=I(e,j);function I(se,me){return function(le){var ee=[],kt=-1,Be=0,te=se.length,ae,$e,W;for(le instanceof Date||(le=new Date(+le));++kt<te;)se.charCodeAt(kt)===37&&(ee.push(se.slice(Be,kt)),($e=h3[ae=se.charAt(++kt)])!=null?ae=se.charAt(++kt):$e=ae==="e"?" ":"0",(W=me[ae])&&(ae=W(le,$e)),ee.push(ae),Be=kt+1);return ee.push(se.slice(Be,kt)),ee.join("")}}function k(se,me){return function(le){var ee=Bf(1900,void 0,1),kt=S(ee,se,le+="",0),Be,te;if(kt!=le.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(me&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Be=KS(Bf(ee.y,0,1)),te=Be.getUTCDay(),Be=te>4||te===0?gb.ceil(Be):gb(Be),Be=S1.offset(Be,(ee.V-1)*7),ee.y=Be.getUTCFullYear(),ee.m=Be.getUTCMonth(),ee.d=Be.getUTCDate()+(ee.w+6)%7):(Be=WS(Bf(ee.y,0,1)),te=Be.getDay(),Be=te>4||te===0?pb.ceil(Be):pb(Be),Be=n0.offset(Be,(ee.V-1)*7),ee.y=Be.getFullYear(),ee.m=Be.getMonth(),ee.d=Be.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),te="Z"in ee?KS(Bf(ee.y,0,1)).getUTCDay():WS(Bf(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(te+5)%7:ee.w+ee.U*7-(te+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,KS(ee)):WS(ee)}}function S(se,me,le,ee){for(var kt=0,Be=me.length,te=le.length,ae,$e;kt<Be;){if(ee>=te)return-1;if(ae=me.charCodeAt(kt++),ae===37){if(ae=me.charAt(kt++),$e=E[ae in h3?me.charAt(kt++):ae],!$e||(ee=$e(se,le,ee))<0)return-1}else if(ae!=le.charCodeAt(ee++))return-1}return ee}function P(se,me,le){var ee=u.exec(me.slice(le));return ee?(se.p=d.get(ee[0].toLowerCase()),le+ee[0].length):-1}function O(se,me,le){var ee=m.exec(me.slice(le));return ee?(se.w=p.get(ee[0].toLowerCase()),le+ee[0].length):-1}function N(se,me,le){var ee=h.exec(me.slice(le));return ee?(se.w=f.get(ee[0].toLowerCase()),le+ee[0].length):-1}function A(se,me,le){var ee=b.exec(me.slice(le));return ee?(se.m=w.get(ee[0].toLowerCase()),le+ee[0].length):-1}function C(se,me,le){var ee=y.exec(me.slice(le));return ee?(se.m=v.get(ee[0].toLowerCase()),le+ee[0].length):-1}function F(se,me,le){return S(se,e,me,le)}function M(se,me,le){return S(se,n,me,le)}function V(se,me,le){return S(se,r,me,le)}function B(se){return a[se.getDay()]}function D(se){return s[se.getDay()]}function U(se){return l[se.getMonth()]}function H(se){return o[se.getMonth()]}function X(se){return i[+(se.getHours()>=12)]}function z(se){return 1+~~(se.getMonth()/3)}function Q(se){return a[se.getUTCDay()]}function re(se){return s[se.getUTCDay()]}function ue(se){return l[se.getUTCMonth()]}function Ce(se){return o[se.getUTCMonth()]}function xe(se){return i[+(se.getUTCHours()>=12)]}function Je(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var me=I(se+="",_);return me.toString=function(){return se},me},parse:function(se){var me=k(se+="",!1);return me.toString=function(){return se},me},utcFormat:function(se){var me=I(se+="",j);return me.toString=function(){return se},me},utcParse:function(se){var me=k(se+="",!0);return me.toString=function(){return se},me}}}var h3={"-":"",_:" ",0:"0"},Qn=/^\s*\d+/,ive=/^%/,sve=/[\\^$*+?|[\]().{}]/g;function ft(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ave(t){return t.replace(sve,"\\$&")}function Uf(t){return new RegExp("^(?:"+t.map(ave).join("|")+")","i")}function zf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ove(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lve(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cve(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function uve(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function dve(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function f3(t,e,n){var r=Qn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function m3(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hve(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fve(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mve(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function p3(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function pve(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function g3(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gve(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yve(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vve(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function xve(t,e,n){var r=Qn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bve(t,e,n){var r=ive.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wve(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _ve(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function y3(t,e){return ft(t.getDate(),e,2)}function Sve(t,e){return ft(t.getHours(),e,2)}function Eve(t,e){return ft(t.getHours()%12||12,e,2)}function kve(t,e){return ft(1+n0.count(io(t),t),e,3)}function gq(t,e){return ft(t.getMilliseconds(),e,3)}function Ave(t,e){return gq(t,e)+"000"}function jve(t,e){return ft(t.getMonth()+1,e,2)}function Tve(t,e){return ft(t.getMinutes(),e,2)}function Nve(t,e){return ft(t.getSeconds(),e,2)}function Cve(t){var e=t.getDay();return e===0?7:e}function Pve(t,e){return ft(E1.count(io(t)-1,t),e,2)}function yq(t){var e=t.getDay();return e>=4||e===0?yh(t):yh.ceil(t)}function Ove(t,e){return t=yq(t),ft(yh.count(io(t),t)+(io(t).getDay()===4),e,2)}function Ive(t){return t.getDay()}function Rve(t,e){return ft(pb.count(io(t)-1,t),e,2)}function Mve(t,e){return ft(t.getFullYear()%100,e,2)}function Dve(t,e){return t=yq(t),ft(t.getFullYear()%100,e,2)}function Lve(t,e){return ft(t.getFullYear()%1e4,e,4)}function Vve(t,e){var n=t.getDay();return t=n>=4||n===0?yh(t):yh.ceil(t),ft(t.getFullYear()%1e4,e,4)}function Fve(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function v3(t,e){return ft(t.getUTCDate(),e,2)}function Bve(t,e){return ft(t.getUTCHours(),e,2)}function Uve(t,e){return ft(t.getUTCHours()%12||12,e,2)}function zve(t,e){return ft(1+S1.count(so(t),t),e,3)}function vq(t,e){return ft(t.getUTCMilliseconds(),e,3)}function $ve(t,e){return vq(t,e)+"000"}function Hve(t,e){return ft(t.getUTCMonth()+1,e,2)}function qve(t,e){return ft(t.getUTCMinutes(),e,2)}function Wve(t,e){return ft(t.getUTCSeconds(),e,2)}function Kve(t){var e=t.getUTCDay();return e===0?7:e}function Gve(t,e){return ft(k1.count(so(t)-1,t),e,2)}function xq(t){var e=t.getUTCDay();return e>=4||e===0?vh(t):vh.ceil(t)}function Yve(t,e){return t=xq(t),ft(vh.count(so(t),t)+(so(t).getUTCDay()===4),e,2)}function Xve(t){return t.getUTCDay()}function Qve(t,e){return ft(gb.count(so(t)-1,t),e,2)}function Zve(t,e){return ft(t.getUTCFullYear()%100,e,2)}function Jve(t,e){return t=xq(t),ft(t.getUTCFullYear()%100,e,2)}function exe(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function txe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vh(t):vh.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function nxe(){return"+0000"}function x3(){return"%"}function b3(t){return+t}function w3(t){return Math.floor(+t/1e3)}var Fu,bq,wq;rxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rxe(t){return Fu=rve(t),bq=Fu.format,Fu.parse,wq=Fu.utcFormat,Fu.utcParse,Fu}function ixe(t){return new Date(t)}function sxe(t){return t instanceof Date?+t:+new Date(+t)}function cC(t,e,n,r,i,s,a,o,l,u){var d=YN(),h=d.invert,f=d.domain,m=u(".%L"),p=u(":%S"),y=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),w=u("%b %d"),_=u("%B"),j=u("%Y");function E(I){return(l(I)<I?m:o(I)<I?p:a(I)<I?y:s(I)<I?v:r(I)<I?i(I)<I?b:w:n(I)<I?_:j)(I)}return d.invert=function(I){return new Date(h(I))},d.domain=function(I){return arguments.length?f(Array.from(I,sxe)):f().map(ixe)},d.ticks=function(I){var k=f();return t(k[0],k[k.length-1],I??10)},d.tickFormat=function(I,k){return k==null?E:u(k)},d.nice=function(I){var k=f();return(!I||typeof I.range!="function")&&(I=e(k[0],k[k.length-1],I??10)),I?f(oq(k,I)):d},d.copy=function(){return t0(d,cC(t,e,n,r,i,s,a,o,l,u))},d}function axe(){return ts.apply(cC(tve,nve,io,oC,E1,n0,sC,rC,_c,bq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oxe(){return ts.apply(cC(Jye,eve,so,lC,k1,S1,aC,iC,_c,wq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function A1(){var t=0,e=1,n,r,i,s,a=Dr,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(f){var m,p;return arguments.length?([m,p]=f,a=h(m,p),u):[a(0),a(1)]}}return u.range=d(Kh),u.rangeRound=d(GN),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function $l(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _q(){var t=zl(A1()(Dr));return t.copy=function(){return $l(t,_q())},mo.apply(t,arguments)}function Sq(){var t=ZN(A1()).domain([1,10]);return t.copy=function(){return $l(t,Sq()).base(t.base())},mo.apply(t,arguments)}function Eq(){var t=JN(A1());return t.copy=function(){return $l(t,Eq()).constant(t.constant())},mo.apply(t,arguments)}function uC(){var t=eC(A1());return t.copy=function(){return $l(t,uC()).exponent(t.exponent())},mo.apply(t,arguments)}function lxe(){return uC.apply(null,arguments).exponent(.5)}function kq(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Jg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(gl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>K0e(t,s/r))},n.copy=function(){return kq(e).domain(t)},mo.apply(n,arguments)}function j1(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,u=Dr,d,h=!1,f;function m(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-s)*(r*y<r*s?o:l),u(h?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(h=!!y,m):h},m.interpolator=function(y){return arguments.length?(u=y,m):u};function p(y){return function(v){var b,w,_;return arguments.length?([b,w,_]=v,u=bye(y,[b,w,_]),m):[u(0),u(.5),u(1)]}}return m.range=p(Kh),m.rangeRound=p(GN),m.unknown=function(y){return arguments.length?(f=y,m):f},function(y){return d=y,i=y(t),s=y(e),a=y(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function Aq(){var t=zl(j1()(Dr));return t.copy=function(){return $l(t,Aq())},mo.apply(t,arguments)}function jq(){var t=ZN(j1()).domain([.1,1,10]);return t.copy=function(){return $l(t,jq()).base(t.base())},mo.apply(t,arguments)}function Tq(){var t=JN(j1());return t.copy=function(){return $l(t,Tq()).constant(t.constant())},mo.apply(t,arguments)}function dC(){var t=eC(j1());return t.copy=function(){return $l(t,dC()).exponent(t.exponent())},mo.apply(t,arguments)}function cxe(){return dC.apply(null,arguments).exponent(.5)}const fm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qN,scaleDiverging:Aq,scaleDivergingLog:jq,scaleDivergingPow:dC,scaleDivergingSqrt:cxe,scaleDivergingSymlog:Tq,scaleIdentity:aq,scaleImplicit:WA,scaleLinear:sq,scaleLog:lq,scaleOrdinal:HN,scalePoint:X0e,scalePow:tC,scaleQuantile:dq,scaleQuantize:hq,scaleRadial:uq,scaleSequential:_q,scaleSequentialLog:Sq,scaleSequentialPow:uC,scaleSequentialQuantile:kq,scaleSequentialSqrt:lxe,scaleSequentialSymlog:Eq,scaleSqrt:$ye,scaleSymlog:cq,scaleThreshold:fq,scaleTime:axe,scaleUtc:oxe,tickFormat:iq},Symbol.toStringTag,{value:"Module"}));var Hl=t=>t.chartData,hC=K([Hl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),T1=(t,e,n,r)=>r?hC(t):Hl(t);function xh(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(cr(e)&&cr(n))return!0}return!1}function _3(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function uxe(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(cr(n))i=n;else if(typeof n=="function")return;if(cr(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(xh(a))return a}}function dxe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(xh(r))return _3(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(we(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&f5.test(i)){var l=f5.exec(i);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(we(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&m5.test(s)){var d=m5.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var f=[a,o];if(xh(f))return e==null?f:_3(f,e,n)}}}var Gh=1e9,hxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mC,Yt=!0,Zi="[DecimalError] ",Kc=Zi+"Invalid argument: ",fC=Zi+"Exponent out of range: ",Yh=Math.floor,fc=Math.pow,fxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mi,Hn=1e7,Ut=7,Nq=9007199254740991,yb=Yh(Nq/Ut),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};pe.dividedBy=pe.div=function(t){return Ha(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,n=e.constructor;return Ct(Ha(e,new n(t),0,1),n.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return Nn(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mi))throw Error(Zi+"NaN");if(n.s<1)throw Error(Zi+(n.s?"NaN":"-Infinity"));return n.eq(mi)?new r(0):(Yt=!1,e=Ha(Up(n,s),Up(t,s),s),Yt=!0,Ct(e,i))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Oq(e,t):Cq(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Zi+"NaN");return n.s?(Yt=!1,e=Ha(n,t,0,1).times(t),Yt=!0,n.minus(e)):Ct(new r(n),i)};pe.naturalExponential=pe.exp=function(){return Pq(this)};pe.naturalLogarithm=pe.ln=function(){return Up(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Cq(e,t):Oq(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Kc+t);if(e=Nn(i)+1,r=i.d.length-1,n=r*Ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};pe.squareRoot=pe.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Zi+"NaN")}for(t=Nn(o),Yt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=$s(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Yh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Ha(o,s,a+2)).times(.5),$s(s.d).slice(0,a)===(e=$s(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ct(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Yt=!0,Ct(r,n)};pe.times=pe.mul=function(t){var e,n,r,i,s,a,o,l,u,d=this,h=d.constructor,f=d.d,m=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,l=f.length,u=m.length,l<u&&(s=f,f=m,m=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+m[r]*f[i-r-1]+e,s[i--]=o%Hn|0,e=o/Hn|0;s[i]=(s[i]+e)%Hn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Yt?Ct(t,h.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(aa(t,0,Gh),e===void 0?e=r.rounding:aa(e,0,8),Ct(n,t+Nn(n)+1,e))};pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=mu(r,!0):(aa(t,0,Gh),e===void 0?e=i.rounding:aa(e,0,8),r=Ct(new i(r),t+1,e),n=mu(r,!0,t+1)),n};pe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?mu(i):(aa(t,0,Gh),e===void 0?e=s.rounding:aa(e,0,8),r=Ct(new s(i),t+Nn(i)+1,e),n=mu(r.abs(),!1,t+Nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return Ct(new e(t),Nn(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(mi);if(o=new l(o),!o.s){if(t.s<1)throw Error(Zi+"Infinity");return o}if(o.eq(mi))return o;if(r=l.precision,t.eq(mi))return Ct(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=Nq){for(i=new l(mi),e=Math.ceil(r/Ut+4),Yt=!1;n%2&&(i=i.times(o),E3(i.d,e)),n=Yh(n/2),n!==0;)o=o.times(o),E3(o.d,e);return Yt=!0,t.s<0?new l(mi).div(i):Ct(i,r)}}else if(s<0)throw Error(Zi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Yt=!1,i=t.times(Up(o,r+u)),Yt=!0,i=Pq(i),i.s=s,i};pe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Nn(i),r=mu(i,n<=s.toExpNeg||n>=s.toExpPos)):(aa(t,1,Gh),e===void 0?e=s.rounding:aa(e,0,8),i=Ct(new s(i),t,e),n=Nn(i),r=mu(i,t<=n||n<=s.toExpNeg,t)),r};pe.toSignificantDigits=pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(aa(t,1,Gh),e===void 0?e=r.rounding:aa(e,0,8)),Ct(new r(n),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Nn(t),n=t.constructor;return mu(t,e<=n.toExpNeg||e>=n.toExpPos)};function Cq(t,e){var n,r,i,s,a,o,l,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Yt?Ct(e,h):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(h/Ut),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/Hn|0,l[s]%=Hn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Yt?Ct(e,h):e}function aa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Kc+t)}function $s(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Ut-r.length,n&&(s+=Io(n)),s+=r;a=t[e],r=a+"",n=Ut-r.length,n&&(s+=Io(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ha=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Hn|0,a=s/Hn|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Hn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,d,h,f,m,p,y,v,b,w,_,j,E,I,k,S,P=r.constructor,O=r.s==i.s?1:-1,N=r.d,A=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Zi+"Division by zero");for(l=r.e-i.e,k=A.length,E=N.length,m=new P(O),p=m.d=[],u=0;A[u]==(N[u]||0);)++u;if(A[u]>(N[u]||0)&&--l,s==null?w=s=P.precision:a?w=s+(Nn(r)-Nn(i))+1:w=s,w<0)return new P(0);if(w=w/Ut+2|0,u=0,k==1)for(d=0,A=A[0],w++;(u<E||d)&&w--;u++)_=d*Hn+(N[u]||0),p[u]=_/A|0,d=_%A|0;else{for(d=Hn/(A[0]+1)|0,d>1&&(A=t(A,d),N=t(N,d),k=A.length,E=N.length),j=k,y=N.slice(0,k),v=y.length;v<k;)y[v++]=0;S=A.slice(),S.unshift(0),I=A[0],A[1]>=Hn/2&&++I;do d=0,o=e(A,y,k,v),o<0?(b=y[0],k!=v&&(b=b*Hn+(y[1]||0)),d=b/I|0,d>1?(d>=Hn&&(d=Hn-1),h=t(A,d),f=h.length,v=y.length,o=e(h,y,f,v),o==1&&(d--,n(h,k<f?S:A,f))):(d==0&&(o=d=1),h=A.slice()),f=h.length,f<v&&h.unshift(0),n(y,h,v),o==-1&&(v=y.length,o=e(A,y,k,v),o<1&&(d++,n(y,k<v?S:A,v))),v=y.length):o===0&&(d++,y=[0]),p[u++]=d,o&&y[0]?y[v++]=N[j]||0:(y=[N[j]],v=1);while((j++<E||y[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=l,Ct(m,a?s+Nn(m)+1:s)}}();function Pq(t,e){var n,r,i,s,a,o,l=0,u=0,d=t.constructor,h=d.precision;if(Nn(t)>16)throw Error(fC+Nn(t));if(!t.s)return new d(mi);for(Yt=!1,o=h,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(fc(2,u))/Math.LN10*2+5|0,o+=r,n=i=s=new d(mi),d.precision=o;;){if(i=Ct(i.times(t),o),n=n.times(++l),a=s.plus(Ha(i,n,o)),$s(a.d).slice(0,o)===$s(s.d).slice(0,o)){for(;u--;)s=Ct(s.times(s),o);return d.precision=h,e==null?(Yt=!0,Ct(s,h)):s}s=a}}function Nn(t){for(var e=t.e*Ut,n=t.d[0];n>=10;n/=10)e++;return e}function GS(t,e,n){if(e>t.LN10.sd())throw Yt=!0,n&&(t.precision=n),Error(Zi+"LN10 precision limit exceeded");return Ct(new t(t.LN10),e)}function Io(t){for(var e="";t--;)e+="0";return e}function Up(t,e){var n,r,i,s,a,o,l,u,d,h=1,f=10,m=t,p=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(Zi+(m.s?"NaN":"-Infinity"));if(m.eq(mi))return new y(0);if(e==null?(Yt=!1,u=v):u=e,m.eq(10))return e==null&&(Yt=!0),GS(y,u);if(u+=f,y.precision=u,n=$s(p),r=n.charAt(0),s=Nn(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=$s(m.d),r=n.charAt(0),h++;s=Nn(m),r>1?(m=new y("0."+n),s++):m=new y(r+"."+n.slice(1))}else return l=GS(y,u+2,v).times(s+""),m=Up(new y(r+"."+n.slice(1)),u-f).plus(l),y.precision=v,e==null?(Yt=!0,Ct(m,v)):m;for(o=a=m=Ha(m.minus(mi),m.plus(mi),u),d=Ct(m.times(m),u),i=3;;){if(a=Ct(a.times(d),u),l=o.plus(Ha(a,new y(i),u)),$s(l.d).slice(0,u)===$s(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(GS(y,u+2,v).times(s+""))),o=Ha(o,new y(h),u),y.precision=v,e==null?(Yt=!0,Ct(o,v)):o;o=l,i+=2}}function S3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Yh(n/Ut),t.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ut;r<i;)t.d.push(+e.slice(r,r+=Ut));e=e.slice(r),r=Ut-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Yt&&(t.e>yb||t.e<-yb))throw Error(fC+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ct(t,e,n){var r,i,s,a,o,l,u,d,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Ut,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/Ut),s=h.length,d>=s)return t;for(u=s=h[d],a=1;s>=10;s/=10)a++;r%=Ut,i=r-Ut+a}if(n!==void 0&&(s=fc(10,a-i-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/fc(10,a-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=Nn(t),h.length=1,e=e-s-1,h[0]=fc(10,(Ut-e%Ut)%Ut),t.e=Yh(-e/Ut)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=fc(10,Ut-r),h[d]=i>0?(u/fc(10,a-i)%fc(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==Hn&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=Hn)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Yt&&(t.e>yb||t.e<-yb))throw Error(fC+Nn(t));return t}function Oq(t,e){var n,r,i,s,a,o,l,u,d,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Yt?Ct(e,m):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,o=h.length):(n=h,r=u,o=l.length),i=Math.max(Math.ceil(m/Ut),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=Hn-1;--l[s],l[i]+=Hn}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Yt?Ct(e,m):e):new f(0)}function mu(t,e,n){var r,i=Nn(t),s=$s(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Io(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Io(-i-1)+s,n&&(r=n-a)>0&&(s+=Io(r))):i>=a?(s+=Io(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Io(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Io(r))),t.s<0?"-"+s:s}function E3(t,e){if(t.length>e)return t.length=e,!0}function Iq(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Kc+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return S3(a,s.toString())}else if(typeof s!="string")throw Error(Kc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,fxe.test(s))S3(a,s);else throw Error(Kc+s)}if(i.prototype=pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Iq,i.config=i.set=mxe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mxe(t){if(!t||typeof t!="object")throw Error(Zi+"Object expected");var e,n,r,i=["precision",1,Gh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Yh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Kc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kc+n+": "+r);return this}var mC=Iq(hxe);mi=new mC(1);const _t=mC;var pxe=t=>t,Rq={},Mq=t=>t===Rq,k3=t=>function e(){return arguments.length===0||arguments.length===1&&Mq(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Dq=(t,e)=>t===1?e:k3(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==Rq).length;return s>=t?e(...r):Dq(t-s,k3(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=r.map(d=>Mq(d)?o.shift():d);return e(...u,...o)}))}),N1=t=>Dq(t.length,t),XA=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},gxe=N1((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),yxe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return pxe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},QA=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),Lq=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var l;return a===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,n=t(...i)),n}};function Vq(t){var e;return t===0?e=1:e=Math.floor(new _t(t).abs().log(10).toNumber())+1,e}function Fq(t,e,n){for(var r=new _t(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}N1((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});N1((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});N1((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var Bq=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Uq=(t,e,n)=>{if(t.lte(0))return new _t(0);var r=Vq(t.toNumber()),i=new _t(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new _t(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?new _t(l.toNumber()):new _t(Math.ceil(l.toNumber()))},vxe=(t,e,n)=>{var r=new _t(1),i=new _t(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new _t(10).pow(Vq(t)-1),i=new _t(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new _t(Math.floor(t)))}else t===0?i=new _t(Math.floor((e-1)/2)):n||(i=new _t(Math.floor(t)));var a=Math.floor((e-1)/2),o=yxe(gxe(l=>i.add(new _t(l-a).mul(r)).toNumber()),XA);return o(0,e)},zq=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var a=Uq(new _t(n).sub(e).div(r-1),i,s),o;e<=0&&n>=0?o=new _t(0):(o=new _t(e).add(n).div(2),o=o.sub(new _t(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new _t(n).sub(o).div(a).toNumber()),d=l+u+1;return d>r?zq(e,n,r,i,s+1):(d<r&&(u=n>0?u+(r-d):u,l=n>0?l:l+(r-d)),{step:a,tickMin:o.sub(new _t(l).mul(a)),tickMax:o.add(new _t(u).mul(a))})};function xxe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,o]=Bq([e,n]);if(a===-1/0||o===1/0){var l=o===1/0?[a,...XA(0,r-1).map(()=>1/0)]:[...XA(0,r-1).map(()=>-1/0),o];return e>n?QA(l):l}if(a===o)return vxe(a,r,i);var{step:u,tickMin:d,tickMax:h}=zq(a,o,s,i,0),f=Fq(d,h.add(new _t(.1).mul(u)),u);return e>n?QA(f):f}function bxe(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=Bq([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var o=Math.max(e,2),l=Uq(new _t(a).sub(s).div(o-1),i,0),u=[...Fq(new _t(s),new _t(a),l),a];return i===!1&&(u=u.map(d=>Math.round(d))),n>r?QA(u):u}var wxe=Lq(xxe),_xe=Lq(bxe),$q=t=>t.rootProps.maxBarSize,Sxe=t=>t.rootProps.barGap,Hq=t=>t.rootProps.barCategoryGap,Exe=t=>t.rootProps.barSize,r0=t=>t.rootProps.stackOffset,pC=t=>t.options.chartName,gC=t=>t.rootProps.syncId,qq=t=>t.rootProps.syncMethod,yC=t=>t.options.eventEmitter,ka={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},hi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},C1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},kxe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ka.angleAxisId,includeHidden:!1,name:void 0,reversed:ka.reversed,scale:ka.scale,tick:ka.tick,tickCount:void 0,ticks:void 0,type:ka.type,unit:void 0},Axe={allowDataOverflow:hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:hi.type,unit:void 0},jxe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ka.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ka.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ka.scale,tick:ka.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Txe={allowDataOverflow:hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hi.scale,tick:hi.tick,tickCount:hi.tickCount,ticks:void 0,type:"category",unit:void 0},vC=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?jxe:kxe,xC=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Txe:Axe,P1=t=>t.polarOptions,bC=K([ho,fo,Vn],gH),Wq=K([P1,bC],(t,e)=>{if(t!=null)return kr(t.innerRadius,e,0)}),Kq=K([P1,bC],(t,e)=>{if(t!=null)return kr(t.outerRadius,e,e*.8)}),Nxe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Gq=K([P1],Nxe);K([vC,Gq],C1);var Yq=K([bC,Wq,Kq],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});K([xC,Yq],C1);var Xq=K([nt,P1,Wq,Kq,ho,fo],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:kr(a,i,i/2),cy:kr(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Qt=(t,e)=>e,i0=(t,e,n)=>n;function O1(t){return t==null?void 0:t.id}var Bn=t=>{var e=nt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Xh=t=>t.tooltip.settings.axisId,Zn=t=>{var e=Bn(t),n=Xh(t);return s0(t,e,n)},Qq=K([Zn],t=>t==null?void 0:t.dataKey);function Zq(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=O1(o);u.forEach((h,f)=>{var m=s==null||i?f:String(Dt(h,s,null)),p=Dt(h,o.dataKey,0),y;a.has(m)?y=a.get(m):y={},Object.assign(y,{[d]:p}),a.set(m,y)})}}),Array.from(a.values())}function I1(t){return t.stackId!=null&&t.dataKey!=null}function A3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(n),!0).forEach(function(r){Cxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cxe(t,e,n){return(e=Pxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pxe(t){var e=Oxe(t,"string");return typeof e=="symbol"?e:e+""}function Oxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZA=[0,"auto"],ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jq=(t,e)=>t.cartesianAxis.xAxis[e],po=(t,e)=>{var n=Jq(t,e);return n??ci},ui={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ZA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yg},eW=(t,e)=>t.cartesianAxis.yAxis[e],go=(t,e)=>{var n=eW(t,e);return n??ui},Ixe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},wC=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Ixe},bn=(t,e,n)=>{switch(e){case"xAxis":return po(t,n);case"yAxis":return go(t,n);case"zAxis":return wC(t,n);case"angleAxis":return vC(t,n);case"radiusAxis":return xC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Rxe=(t,e,n)=>{switch(e){case"xAxis":return po(t,n);case"yAxis":return go(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},s0=(t,e,n)=>{switch(e){case"xAxis":return po(t,n);case"yAxis":return go(t,n);case"angleAxis":return vC(t,n);case"radiusAxis":return xC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tW=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function _C(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var R1=t=>t.graphicalItems.cartesianItems,Mxe=K([Qt,i0],_C),SC=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),a0=K([R1,bn,Mxe],SC),nW=K([a0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(I1)),rW=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),iW=K([a0],rW),EC=t=>t.map(e=>e.data).filter(Boolean).flat(1),Dxe=K([a0],EC),kC=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},AC=K([Dxe,T1],kC),jC=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Dt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Dt(i,r)}))):t.map(r=>({value:r})),M1=K([AC,bn,a0],jC);function sW(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Cu(t){return t.filter(e=>sa(e)||e instanceof Date).map(Number).filter(e=>ni(e)===!1)}function Lxe(t,e,n){return!n||typeof e!="number"||ni(e)?[]:n.length?Cu(n.flatMap(r=>{var i=Dt(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!cr(s)||!cr(a)))return[e-s,e+a]})):[]}var Vxe=K([nW,T1,Zn],Zq),aW=(t,e,n)=>{var r={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,l=o.map(O1);return[a,{stackedData:Xpe(t,l,n),graphicalItems:o}]}))},zp=K([Vxe,nW,r0],aW),oW=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=ege(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Fxe=K([zp,Hl,Qt],oW),lW=(t,e,n,r,i)=>n.length>0?t.flatMap(s=>n.flatMap(a=>{var o,l,u=(o=r[a.id])===null||o===void 0?void 0:o.filter(h=>sW(i,h)),d=Dt(s,(l=e.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:d,errorDomain:Lxe(s,d,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:Dt(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),D1=t=>t.errorBars,cW=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>sW(n,r));K([iW,D1,Qt],cW);var Bxe=K([AC,bn,iW,D1,Qt],lW);function Uxe(t){var{value:e}=t;if(sa(e)||e instanceof Date)return e}var j3=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Cu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zxe=(t,e,n)=>{var r=t.map(Uxe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Yz(r))?GH(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},TC=t=>{var e;if(t==null||!("domain"in t))return ZA;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Cu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:ZA},xb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},uW=t=>t.referenceElements.dots,Qh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),$xe=K([uW,Qt,i0],Qh),dW=t=>t.referenceElements.areas,Hxe=K([dW,Qt,i0],Qh),hW=t=>t.referenceElements.lines,qxe=K([hW,Qt,i0],Qh),fW=(t,e)=>{var n=Cu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wxe=K($xe,Qt,fW),mW=(t,e)=>{var n=Cu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Kxe=K([Hxe,Qt],mW),pW=(t,e)=>{var n=Cu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gxe=K(qxe,Qt,pW),Yxe=K(Wxe,Gxe,Kxe,(t,e,n)=>xb(t,n,e)),gW=K([bn],TC),NC=(t,e,n,r,i,s,a)=>{var o=uxe(e,t.allowDataOverflow);if(o!=null)return o;var l=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=l?xb(n,i,j3(r)):xb(i,j3(r));return dxe(e,u,t.allowDataOverflow)},Xxe=K([bn,gW,Fxe,Bxe,Yxe,nt,Qt],NC),Qxe=[0,1],CC=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,u=uo(e,s);return u&&o==null?GH(0,n.length):l==="category"?zxe(r,t,u):i==="expand"?Qxe:a}},PC=K([bn,nt,AC,M1,r0,Qt,Xxe],CC),yW=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Wg(s));return o in fm?o:"point"}}},Zh=K([bn,nt,tW,pC,Qt],yW);function Zxe(t){if(t!=null){if(t in fm)return fm[t]();var e="scale".concat(Wg(t));if(e in fm)return fm[e]()}}function OC(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Zxe(e);if(i!=null){var s=i.domain(n).range(r);return qpe(s),s}}}var IC=(t,e,n)=>{var r=TC(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&xh(t))return wxe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&xh(t))return _xe(t,e.tickCount,e.allowDecimals)}},RC=K([PC,s0,Zh],IC),MC=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&xh(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},Jxe=K([bn,PC,RC,Qt],MC),ebe=K(M1,bn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Cu(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),vW=K(ebe,nt,Hq,Vn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!cr(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=kr(n,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),tbe=(t,e)=>{var n=po(t,e);return n==null||typeof n.padding!="string"?0:vW(t,"xAxis",e,n.padding)},nbe=(t,e)=>{var n=go(t,e);return n==null||typeof n.padding!="string"?0:vW(t,"yAxis",e,n.padding)},rbe=K(po,tbe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),ibe=K(go,nbe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),sbe=K([Vn,rbe,y1,g1,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),abe=K([Vn,nt,ibe,y1,g1,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),o0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return sbe(t,n,r);case"yAxis":return abe(t,n,r);case"zAxis":return(i=wC(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Gq(t);case"radiusAxis":return Yq(t,n);default:return}},xW=K([bn,o0],C1),Jh=K([bn,Zh,Jxe,xW],OC);K([a0,D1,Qt],cW);function bW(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var L1=(t,e)=>e,V1=(t,e,n)=>n,obe=K(m1,L1,V1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(bW)),lbe=K(p1,L1,V1,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(bW)),wW=(t,e)=>({width:t.width,height:e.height}),cbe=(t,e)=>{var n=typeof e.width=="number"?e.width:Yg;return{width:n,height:t.height}},_W=K(Vn,po,wW),ube=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},dbe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},hbe=K(fo,Vn,obe,L1,V1,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=wW(e,o);a==null&&(a=ube(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),fbe=K(ho,Vn,lbe,L1,V1,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=cbe(e,o);a==null&&(a=dbe(e,r,t));var u=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),mbe=(t,e)=>{var n=po(t,e);if(n!=null)return hbe(t,n.orientation,n.mirror)},pbe=K([Vn,po,mbe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),gbe=(t,e)=>{var n=go(t,e);if(n!=null)return fbe(t,n.orientation,n.mirror)},ybe=K([Vn,go,gbe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),SW=K(Vn,go,(t,e)=>{var n=typeof e.width=="number"?e.width:Yg;return{width:n,height:t.height}}),T3=(t,e,n)=>{switch(e){case"xAxis":return _W(t,n).width;case"yAxis":return SW(t,n).height;default:return}},EW=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=uo(t,r),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&Yz(l))return l}},DC=K([nt,M1,bn,Qt],EW),kW=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=uo(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},LC=K([nt,M1,s0,Qt],kW),N3=K([nt,Rxe,Zh,Jh,DC,LC,o0,RC,Qt],(t,e,n,r,i,s,a,o,l)=>{if(e==null)return null;var u=uo(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:n,scale:r}}),vbe=(t,e,n,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var u=uo(t,l),{type:d,ticks:h,tickCount:f}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&s!=null&&s.length>=2?Gn(s[0]-s[1])*2*p:p;var y=h||i;if(y){var v=y.map((b,w)=>{var _=a?a.indexOf(b):b;return{index:w,coordinate:r(_)+p,value:b,offset:p}});return v.filter(b=>!ni(b.coordinate))}return u&&o?o.map((b,w)=>({coordinate:r(b)+p,value:b,index:w,offset:p})):r.ticks?r.ticks(f).map(b=>({coordinate:r(b)+p,value:b,offset:p})):r.domain().map((b,w)=>({coordinate:r(b)+p,value:a?a[b]:b,index:w,offset:p}))}},AW=K([nt,s0,Zh,Jh,RC,o0,DC,LC,Qt],vbe),xbe=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=uo(t,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Gn(r[0]-r[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:n(d)+u,value:d,index:h,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,h)=>({coordinate:n(d)+u,value:i?i[d]:d,index:h,offset:u}))}},jl=K([nt,s0,Jh,o0,DC,LC,Qt],xbe),Tl=K(bn,Jh,(t,e)=>{if(!(t==null||e==null))return vb(vb({},t),{},{scale:e})}),bbe=K([bn,Zh,PC,xW],OC);K((t,e,n)=>wC(t,n),bbe,(t,e)=>{if(!(t==null||e==null))return vb(vb({},t),{},{scale:e})});var wbe=K([nt,m1,p1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),jW=t=>t.options.defaultTooltipEventType,TW=t=>t.options.validateTooltipEventTypes;function NW(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function VC(t,e){var n=jW(t),r=TW(t);return NW(e,n,r)}function _be(t){return _e(e=>VC(e,t))}var CW=(t,e)=>{var n,r=Number(e);if(!(ni(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Sbe=t=>t.tooltip.settings,Ho={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ebe={itemInteraction:{click:Ho,hover:Ho},axisInteraction:{click:Ho,hover:Ho},keyboardInteraction:Ho,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},PW=ki({name:"tooltip",initialState:Ebe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=$a(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:kbe,removeTooltipEntrySettings:Abe,setTooltipSettingsState:jbe,setActiveMouseOverItemIndex:OW,mouseLeaveItem:Tbe,mouseLeaveChart:IW,setActiveClickItemIndex:Nbe,setMouseOverAxisIndex:RW,setMouseClickAxisIndex:Cbe,setSyncInteraction:JA,setKeyboardInteraction:ej}=PW.actions,Pbe=PW.reducer;function C3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(n),!0).forEach(function(r){Obe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Obe(t,e,n){return(e=Ibe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ibe(t){var e=Rbe(t,"string");return typeof e=="symbol"?e:e+""}function Rbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mbe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Dbe(t){return t.index!=null}var MW=(t,e,n,r)=>{if(e==null)return Ho;var i=Mbe(t,e,n);if(i==null)return Ho;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Dbe(i)){if(s)return Sy(Sy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Sy(Sy({},Ho),{},{coordinate:i.coordinate})},FC=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!cr(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},DW=(t,e,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},LW=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},l0=t=>t.options.tooltipPayloadSearcher,ef=t=>t.tooltip;function P3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(n),!0).forEach(function(r){Lbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lbe(t,e,n){return(e=Vbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vbe(t){var e=Fbe(t,"string");return typeof e=="symbol"?e:e+""}function Fbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bbe(t,e){return t??e}var VW=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,h=[];return t.reduce((f,m)=>{var p,{dataDefinedOnItem:y,settings:v}=m,b=Bbe(y,o),w=Array.isArray(b)?yH(b,u,d):b,_=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:r,j=v==null?void 0:v.nameKey,E;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?E=Xz(w,r,i):E=s(w,e,l,j),Array.isArray(E))E.forEach(k=>{var S=O3(O3({},v),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});f.push(p5({tooltipEntrySettings:S,dataKey:k.dataKey,payload:k.payload,value:Dt(k.payload,k.dataKey),name:k.name}))});else{var I;f.push(p5({tooltipEntrySettings:v,dataKey:_,payload:E,value:Dt(E,_),name:(I=Dt(E,j))!==null&&I!==void 0?I:v==null?void 0:v.name}))}return f},h)}},BC=K([Zn,nt,tW,pC,Bn],yW),Ube=K([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),zbe=K([Bn,Xh],_C),c0=K([Ube,Zn,zbe],SC),$be=K([c0],t=>t.filter(I1)),Hbe=K([c0],EC),tf=K([Hbe,Hl],kC),qbe=K([$be,Hl,Zn],Zq),UC=K([tf,Zn,c0],jC),Wbe=K([Zn],TC),Kbe=K([c0],t=>t.filter(I1)),Gbe=K([qbe,Kbe,r0],aW),Ybe=K([Gbe,Hl,Bn],oW),Xbe=K([c0],rW),Qbe=K([tf,Zn,Xbe,D1,Bn],lW),Zbe=K([uW,Bn,Xh],Qh),Jbe=K([Zbe,Bn],fW),ewe=K([dW,Bn,Xh],Qh),twe=K([ewe,Bn],mW),nwe=K([hW,Bn,Xh],Qh),rwe=K([nwe,Bn],pW),iwe=K([Jbe,rwe,twe],xb),swe=K([Zn,Wbe,Ybe,Qbe,iwe,nt,Bn],NC),FW=K([Zn,nt,tf,UC,r0,Bn,swe],CC),awe=K([FW,Zn,BC],IC),owe=K([Zn,FW,awe,Bn],MC),BW=t=>{var e=Bn(t),n=Xh(t),r=!1;return o0(t,e,n,r)},UW=K([Zn,BW],C1),zW=K([Zn,BC,owe,UW],OC),lwe=K([nt,UC,Zn,Bn],EW),cwe=K([nt,UC,Zn,Bn],kW),uwe=(t,e,n,r,i,s,a,o)=>{if(e){var{type:l}=e,u=uo(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Gn(i[0]-i[1])*2*h:h,u&&a?a.map((f,m)=>({coordinate:r(f)+h,value:f,index:m,offset:h})):r.domain().map((f,m)=>({coordinate:r(f)+h,value:s?s[f]:f,index:m,offset:h}))}}},yo=K([nt,Zn,BC,zW,BW,lwe,cwe,Bn],uwe),zC=K([jW,TW,Sbe],(t,e,n)=>NW(n.shared,t,e)),$W=t=>t.tooltip.settings.trigger,$C=t=>t.tooltip.settings.defaultIndex,F1=K([ef,zC,$W,$C],MW),Nl=K([F1,tf],FC),HW=K([yo,Nl],CW),qW=K([F1],t=>{if(t)return t.dataKey}),WW=K([ef,zC,$W,$C],LW),dwe=K([ho,fo,nt,Vn,yo,$C,WW,l0],DW),hwe=K([F1,dwe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),fwe=K([F1],t=>t.active),mwe=K([WW,Nl,Hl,Qq,HW,l0,zC],VW),pwe=K([mwe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function I3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(n),!0).forEach(function(r){gwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gwe(t,e,n){return(e=ywe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ywe(t){var e=vwe(t,"string");return typeof e=="symbol"?e:e+""}function vwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xwe=()=>_e(Zn),bwe=()=>{var t=xwe(),e=_e(yo),n=_e(zW);return Ip(R3(R3({},t),{},{scale:n}),e)},KW=()=>_e(pC),HC=(t,e)=>e,GW=(t,e,n)=>n,qC=(t,e,n,r)=>r,wwe=K(yo,t=>l1(t,e=>e.coordinate)),WC=K([ef,HC,GW,qC],MW),YW=K([WC,tf],FC),_we=(t,e,n)=>{if(e!=null){var r=ef(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},XW=K([ef,HC,GW,qC],LW),bb=K([ho,fo,nt,Vn,yo,qC,XW,l0],DW),Swe=K([WC,bb],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),QW=K(yo,YW,CW),Ewe=K([XW,YW,Hl,Qq,QW,l0,HC],VW),kwe=K([WC],t=>({isActive:t.active,activeIndex:t.index})),Awe=(t,e,n,r,i,s,a,o)=>{if(!(!t||!e||!r||!i||!s)){var l=tge(t.chartX,t.chartY,e,n,o);if(l){var u=rge(l,e),d=$pe(u,a,s,r,i),h=nge(e,s,d,l);return{activeIndex:String(d),activeCoordinate:h}}}};function tj(){return tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tj.apply(null,arguments)}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){jwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jwe(t,e,n){return(e=Twe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Twe(t){var e=Nwe(t,"string");return typeof e=="symbol"?e:e+""}function Nwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cwe(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:l,chartName:u}=t,d=e,h=n,f=r;if(!o||!d||u!=="ScatterChart"&&l!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=e0e;else if(u==="BarChart")m=t0e(a,d,i,s),p=UH;else if(a==="radial"){var{cx:y,cy:v,radius:b,startAngle:w,endAngle:_}=zH(d);m={cx:y,cy:v,startAngle:w,endAngle:_,innerRadius:b,outerRadius:b},p=HH}else m={points:R0e(a,d,i)},p=Bm;var j=typeof o=="object"&&"className"in o?o.className:void 0,E=Ey(Ey(Ey(Ey({stroke:"#ccc",pointerEvents:"none"},i),m),un(o,!1)),{},{payload:h,payloadIndex:f,className:ht("recharts-tooltip-cursor",j)});return x.isValidElement(o)?x.cloneElement(o,E):x.createElement(p,E)}function Pwe(t){var e=bwe(),n=EH(),r=v1(),i=KW();return x.createElement(Cwe,tj({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var ZW=x.createContext(null),Owe=()=>x.useContext(ZW),JW={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,h||l,f),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,p=new Array(m);f<m;f++)p[f]=h[f].fn;return p},o.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,f,m,p){var y=n?n+u:u;if(!this._events[y])return!1;var v=this._events[y],b=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,m),!0;case 6:return v.fn.call(v.context,d,h,f,m,p),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var j=v.length,E;for(_=0;_<j;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),b){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,h);break;case 4:v[_].fn.call(v[_].context,d,h,f);break;default:if(!w)for(E=1,w=new Array(b-1);E<b;E++)w[E-1]=arguments[E];v[_].fn.apply(v[_].context,w)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!f||p.once)&&(!h||p.context===h)&&a(this,m);else{for(var y=0,v=[],b=p.length;y<b;y++)(p[y].fn!==d||f&&!p[y].once||h&&p[y].context!==h)&&v.push(p[y]);v.length?this._events[m]=v.length===1?v[0]:v:a(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(JW);var Iwe=JW.exports;const Rwe=la(Iwe);var $p=new Rwe,nj="recharts.syncEvent.tooltip",D3="recharts.syncEvent.brush";function KC(t,e){if(e){var n=Number.parseInt(e,10);if(!ni(n))return t==null?void 0:t[n]}}var Mwe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},eK=ki({name:"options",initialState:Mwe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Dwe=eK.reducer,{createEventEmitter:Lwe}=eK.actions;function Vwe(t){return t.tooltip.syncInteraction}var Fwe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},tK=ki({name:"chartData",initialState:Fwe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:L3,setDataStartEndIndexes:Bwe,setComputedData:b6e}=tK.actions,Uwe=tK.reducer,zwe=["x","y"];function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){$we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $we(t,e,n){return(e=Hwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hwe(t){var e=qwe(t,"string");return typeof e=="symbol"?e:e+""}function qwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wwe(t,e){if(t==null)return{};var n,r,i=Kwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nK=()=>{};function Gwe(){var t=_e(gC),e=_e(yC),n=xn(),r=_e(qq),i=_e(yo),s=v1(),a=BN(),o=_e(l=>l.rootProps.className);x.useEffect(()=>{if(t==null)return nK;var l=(u,d,h)=>{if(e!==h&&t===u){if(r==="index"){var f;if(a&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate){var m=d.payload.coordinate,{x:p,y}=m,v=Wwe(m,zwe),b=ec(ec(ec({},v),typeof p=="number"&&{x:Math.max(a.x,Math.min(p,a.x+a.width))}),typeof y=="number"&&{y:Math.max(a.y,Math.min(y,a.y+a.height))}),w=ec(ec({},d),{},{payload:ec(ec({},d.payload),{},{coordinate:b})});n(w)}else n(d);return}if(i!=null){var _;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=r(i,j);_=i[E]}else r==="value"&&(_=i.find(C=>String(C.value)===d.payload.label));var{coordinate:I}=d.payload;if(_==null||d.payload.active===!1||I==null||a==null){n(JA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:S}=I,P=Math.min(k,a.x+a.width),O=Math.min(S,a.y+a.height),N={x:s==="horizontal"?_.coordinate:P,y:s==="horizontal"?O:_.coordinate},A=JA({active:d.payload.active,coordinate:N,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label});n(A)}}};return $p.on(nj,l),()=>{$p.off(nj,l)}},[o,n,e,t,r,i,s,a])}function Ywe(){var t=_e(gC),e=_e(yC),n=xn();x.useEffect(()=>{if(t==null)return nK;var r=(i,s,a)=>{e!==a&&t===i&&n(Bwe(s))};return $p.on(D3,r),()=>{$p.off(D3,r)}},[n,e,t])}function Xwe(){var t=xn();x.useEffect(()=>{t(Lwe())},[t]),Gwe(),Ywe()}function Qwe(t,e,n,r,i,s){var a=_e(f=>_we(f,t,e)),o=_e(yC),l=_e(gC),u=_e(qq),d=_e(Vwe),h=d==null?void 0:d.active;x.useEffect(()=>{if(!h&&l!=null&&o!=null){var f=JA({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});$p.emit(nj,l,f,o)}},[h,n,a,i,r,o,l,u,s])}function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){Zwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zwe(t,e,n){return(e=Jwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jwe(t){var e=e1e(t,"string");return typeof e=="symbol"?e:e+""}function e1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t1e(t){return t.dataKey}function n1e(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(Oge,e)}var U3=[],r1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ul.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bh(t){var e=ur(t,r1e),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:l,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:m,wrapperStyle:p,cursor:y,shared:v,trigger:b,defaultIndex:w,portal:_,axisId:j}=e,E=xn(),I=typeof w=="number"?String(w):w;x.useEffect(()=>{E(jbe({shared:v,trigger:b,axisId:j,active:n,defaultIndex:I}))},[E,v,b,j,n,I]);var k=BN(),S=DH(),P=_be(v),{activeIndex:O,isActive:N}=_e(ue=>kwe(ue,P,b,I)),A=_e(ue=>Ewe(ue,P,b,I)),C=_e(ue=>QW(ue,P,b,I)),F=_e(ue=>Swe(ue,P,b,I)),M=A,V=Owe(),B=n??N,[D,U]=Ime([M,B]),H=P==="axis"?C:void 0;Qwe(P,b,F,H,O,B);var X=_??V;if(X==null)return null;var z=M??U3;B||(z=U3),o&&z.length&&(z=Qfe(M.filter(ue=>ue.value!=null&&(ue.hide!==!0||e.includeHidden)),d,t1e));var Q=z.length>0,re=x.createElement(Fge,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:l,active:B,coordinate:F,hasPayload:Q,offset:u,position:h,reverseDirection:f,useTranslate3d:m,viewBox:k,wrapperStyle:p,lastBoundingBox:D,innerRef:U,hasPortalFromProps:!!_},n1e(a,B3(B3({},e),{},{payload:z,label:H,active:B,coordinate:F,accessibilityLayer:S})));return x.createElement(x.Fragment,null,CF.createPortal(re,X),B&&x.createElement(Pwe,{cursor:y,tooltipEventType:P,coordinate:F,payload:M,index:O}))}var rK={},iK={},sK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),y()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},r)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),a=void 0,o=null},v=()=>{d()},b=function(...w){if(i!=null&&i.aborted)return;a=this,o=w;const _=f==null;m(),l&&_&&d()};return b.schedule=m,b.cancel=y,b.flush=v,i==null||i.addEventListener("abort",y,{once:!0}),b}t.debounce=e})(sK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sK;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const f=e.debounce(function(...y){d=r.apply(this,y),h=null},i,{edges:u}),m=function(...y){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=r.apply(this,y),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,y),d)},p=()=>(f.flush(),d);return m.cancel=f.cancel,m.flush=p,m}t.debounce=n})(iK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iK;function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}t.throttle=n})(rK);var i1e=rK.throttle;const s1e=la(i1e);var Um=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){a1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a1e(t,e,n){return(e=o1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o1e(t){var e=l1e(t,"string");return typeof e=="symbol"?e:e+""}function l1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pu=x.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:f,onResize:m,style:p={}}=t,y=x.useRef(null),v=x.useRef();v.current=m,x.useImperativeHandle(e,()=>y.current);var[b,w]=x.useState({containerWidth:r.width,containerHeight:r.height}),_=x.useCallback((E,I)=>{w(k=>{var S=Math.round(E),P=Math.round(I);return k.containerWidth===S&&k.containerHeight===P?k:{containerWidth:S,containerHeight:P}})},[]);x.useEffect(()=>{var E=P=>{var O,{width:N,height:A}=P[0].contentRect;_(N,A),(O=v.current)===null||O===void 0||O.call(v,N,A)};d>0&&(E=s1e(E,d,{trailing:!0,leading:!1}));var I=new ResizeObserver(E),{width:k,height:S}=y.current.getBoundingClientRect();return _(k,S),I.observe(y.current),()=>{I.disconnect()}},[_,d]);var j=x.useMemo(()=>{var{containerWidth:E,containerHeight:I}=b;if(E<0||I<0)return null;Um(bc(i)||bc(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Um(!n||n>0,"The aspect(%s) must be greater than zero.",n);var k=bc(i)?E:i,S=bc(s)?I:s;return n&&n>0&&(k?S=k/n:S&&(k=S*n),l&&S>l&&(S=l)),Um(k>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,S,i,s,a,o,n),x.Children.map(u,P=>x.cloneElement(P,{width:k,height:S,style:YS({width:k,height:S},P.props.style)}))},[n,u,s,l,o,a,b,i]);return x.createElement("div",{id:h?"".concat(h):void 0,className:ht("recharts-responsive-container",f),style:YS(YS({},p),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:y},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),wh=t=>null;wh.displayName="Cell";function c1e(t,e,n){return(e=u1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u1e(t){var e=d1e(t,"string");return typeof e=="symbol"?e:e+""}function d1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class h1e{constructor(e){c1e(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){m1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1e(t,e,n){return(e=p1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p1e(t){var e=g1e(t,"string");return typeof e=="symbol"?e:e+""}function g1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y1e={cacheSize:2e3,enableCache:!0},aK=f1e({},y1e),H3=new h1e(aK.cacheSize),v1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},q3="recharts_measurement_span";function x1e(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var W3=(t,e)=>{try{var n=document.getElementById(q3);n||(n=document.createElement("span"),n.setAttribute("id",q3),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,v1e,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},zm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ul.isSsr)return{width:0,height:0};if(!aK.enableCache)return W3(e,n);var r=x1e(e,n),i=H3.get(r);if(i)return i;var s=W3(e,n);return H3.set(r,s),s},K3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,b1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,w1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_1e=Object.keys(oK),hd="NaN";function S1e(t,e){return t*oK[e]}class Hr{static parse(e){var n,[,r,i]=(n=w1e.exec(e))!==null&&n!==void 0?n:[];return new Hr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ni(e)&&(this.unit=""),n!==""&&!b1e.test(n)&&(this.num=NaN,this.unit=""),_1e.includes(n)&&(this.num=S1e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Hr(NaN,""):new Hr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Hr(NaN,""):new Hr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Hr(NaN,""):new Hr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Hr(NaN,""):new Hr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ni(this.num)}}function lK(t){if(t.includes(hd))return hd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=K3.exec(e))!==null&&n!==void 0?n:[],a=Hr.parse(r??""),o=Hr.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return hd;e=e.replace(K3,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,f]=(u=G3.exec(e))!==null&&u!==void 0?u:[],m=Hr.parse(d??""),p=Hr.parse(f??""),y=h==="+"?m.add(p):m.subtract(p);if(y.isNaN())return hd;e=e.replace(G3,y.toString())}return e}var Y3=/\(([^()]*)\)/;function E1e(t){for(var e=t,n;(n=Y3.exec(e))!=null;){var[,r]=n;e=e.replace(Y3,lK(r))}return e}function k1e(t){var e=t.replace(/\s+/g,"");return e=E1e(e),e=lK(e),e}function A1e(t){try{return k1e(t)}catch{return hd}}function XS(t){var e=A1e(t.slice(5,-1));return e===hd?"":e}var j1e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],T1e=["dx","dy","angle","className","breakAll"];function rj(){return rj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rj.apply(null,arguments)}function X3(t,e){if(t==null)return{};var n,r,i=N1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cK=/[ \f\n\r\t\v\u2028\u2029]+/,uK=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];tn(e)||(n?i=e.toString().split(""):i=e.toString().split(cK));var s=i.map(o=>({word:o,width:zm(o,r).width})),a=n?0:zm("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},C1e=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,u=we(s),d=a,h=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce((A,C)=>{var{word:F,width:M}=C,V=A[A.length-1];if(V&&(r==null||i||V.width+M+n<Number(r)))V.words.push(F),V.width+=M+n;else{var B={words:[F],width:M};A.push(B)}return A},[])},f=h(e),m=O=>O.reduce((N,A)=>N.width>A.width?N:A);if(!u||i)return f;var p=f.length>s||m(f).width>Number(r);if(!p)return f;for(var y="",v=O=>{var N=d.slice(0,O),A=uK({breakAll:l,style:o,children:N+y}).wordsWithComputedWidth,C=h(A),F=C.length>s||m(C).width>Number(r);return[F,C]},b=0,w=d.length-1,_=0,j;b<=w&&_<=d.length-1;){var E=Math.floor((b+w)/2),I=E-1,[k,S]=v(I),[P]=v(E);if(!k&&!P&&(b=E+1),k&&P&&(w=E-1),!k&&P){j=S;break}_++}return j||f},Q3=t=>{var e=tn(t)?[]:t.toString().split(cK);return[{words:e}]},P1e=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Ul.isSsr){var o,l,u=uK({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return Q3(r);return C1e({breakAll:s,children:r,maxLines:a,style:i},o,l,e,n)}return Q3(r)},Z3="#808080",B1=x.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:l="end",fill:u=Z3}=t,d=X3(t,j1e),h=x.useMemo(()=>P1e({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:f,dy:m,angle:p,className:y,breakAll:v}=d,b=X3(d,T1e);if(!sa(n)||!sa(r)||h.length===0)return null;var w=n+(we(f)?f:0),_=r+(we(m)?m:0),j;switch(l){case"start":j=XS("calc(".concat(s,")"));break;case"middle":j=XS("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=XS("calc(".concat(h.length-1," * -").concat(i,")"));break}var E=[];if(a){var I=h[0].width,{width:k}=d;E.push("scale(".concat(we(k)?k/I:1,")"))}return p&&E.push("rotate(".concat(p,", ").concat(w,", ").concat(_,")")),E.length&&(b.transform=E.join(" ")),x.createElement("text",rj({},un(b,!0),{ref:e,x:w,y:_,className:ht("recharts-text",y),textAnchor:o,fill:u.includes("url")?Z3:u}),h.map((S,P)=>{var O=S.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:P===0?j:i,key:"".concat(O,"-").concat(P)},O)}))});B1.displayName="Text";var O1e=["labelRef"];function I1e(t,e){if(t==null)return{};var n,r,i=R1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function R1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){M1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M1e(t,e,n){return(e=D1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D1e(t){var e=L1e(t,"string");return typeof e=="symbol"?e:e+""}function L1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(null,arguments)}var dK=x.createContext(null),V1e=t=>{var{x:e,y:n,width:r,height:i,children:s}=t,a=x.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return x.createElement(dK.Provider,{value:a},s)},hK=()=>{var t=x.useContext(dK),e=BN();return t||e},F1e=x.createContext(null),B1e=()=>{var t=x.useContext(F1e),e=_e(Xq);return t||e},U1e=t=>{var{value:e,formatter:n}=t,r=tn(t.children)?e:t.children;return typeof n=="function"?n(r):r},GC=t=>t!=null&&typeof t=="function",z1e=(t,e)=>{var n=Gn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},$1e=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:f,clockWise:m}=i,p=(u+d)/2,y=z1e(h,f),v=y>=0?1:-1,b,w;switch(e){case"insideStart":b=h+v*s,w=m;break;case"insideEnd":b=f-v*s,w=!m;break;case"end":b=f+v*s,w=m;break;default:throw new Error("Unsupported position ".concat(e))}w=y<=0?w:!w;var _=jn(o,l,p,b),j=jn(o,l,p,b+(w?1:-1)*359),E="M".concat(_.x,",").concat(_.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(j.x,",").concat(j.y),I=tn(t.id)?Cp("recharts-radial-line-"):t.id;return x.createElement("text",Aa({},r,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",a)}),x.createElement("defs",null,x.createElement("path",{id:I,d:E})),x.createElement("textPath",{xlinkHref:"#".concat(I)},n))},H1e=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(n==="outside"){var{x:d,y:h}=jn(r,i,a+e,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:m,y:p}=jn(r,i,f,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},fK=t=>"cx"in t&&we(t.cx),q1e=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!fK(n)&&(s=n);var{x:a,y:o,width:l,height:u}=e,d=u>=0?1:-1,h=d*r,f=d>0?"end":"start",m=d>0?"start":"end",p=l>=0?1:-1,y=p*r,v=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var w={x:a+l/2,y:o-d*r,textAnchor:"middle",verticalAnchor:f};return fn(fn({},w),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var _={x:a+l/2,y:o+u+h,textAnchor:"middle",verticalAnchor:m};return fn(fn({},_),s?{height:Math.max(s.y+s.height-(o+u),0),width:l}:{})}if(i==="left"){var j={x:a-y,y:o+u/2,textAnchor:v,verticalAnchor:"middle"};return fn(fn({},j),s?{width:Math.max(j.x-s.x,0),height:u}:{})}if(i==="right"){var E={x:a+l+y,y:o+u/2,textAnchor:b,verticalAnchor:"middle"};return fn(fn({},E),s?{width:Math.max(s.x+s.width-E.x,0),height:u}:{})}var I=s?{width:l,height:u}:{};return i==="insideLeft"?fn({x:a+y,y:o+u/2,textAnchor:b,verticalAnchor:"middle"},I):i==="insideRight"?fn({x:a+l-y,y:o+u/2,textAnchor:v,verticalAnchor:"middle"},I):i==="insideTop"?fn({x:a+l/2,y:o+h,textAnchor:"middle",verticalAnchor:m},I):i==="insideBottom"?fn({x:a+l/2,y:o+u-h,textAnchor:"middle",verticalAnchor:f},I):i==="insideTopLeft"?fn({x:a+y,y:o+h,textAnchor:b,verticalAnchor:m},I):i==="insideTopRight"?fn({x:a+l-y,y:o+h,textAnchor:v,verticalAnchor:m},I):i==="insideBottomLeft"?fn({x:a+y,y:o+u-h,textAnchor:b,verticalAnchor:f},I):i==="insideBottomRight"?fn({x:a+l-y,y:o+u-h,textAnchor:v,verticalAnchor:f},I):i&&typeof i=="object"&&(we(i.x)||bc(i.x))&&(we(i.y)||bc(i.y))?fn({x:a+kr(i.x,l),y:o+kr(i.y,u),textAnchor:"end",verticalAnchor:"end"},I):fn({x:a+l/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},W1e={offset:5};function Ro(t){var e=ur(t,W1e),{viewBox:n,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=B1e(),h=hK(),f=r==="center"?h:d??h,m=n||f;if(!m||tn(i)&&tn(s)&&!x.isValidElement(a)&&typeof a!="function")return null;var p=fn(fn({},e),{},{viewBox:m});if(x.isValidElement(a)){var{labelRef:y}=p,v=I1e(p,O1e);return x.cloneElement(a,v)}var b;if(typeof a=="function"){if(b=x.createElement(a,p),x.isValidElement(b))return b}else b=U1e(e);var w=fK(m),_=un(e,!0);if(w&&(r==="insideStart"||r==="insideEnd"||r==="end"))return $1e(e,r,b,_,m);var j=w?H1e(m,e.offset,e.position):q1e(e,m);return x.createElement(B1,Aa({ref:u,className:ht("recharts-label",o)},_,j,{breakAll:l}),b)}Ro.displayName="Label";var K1e=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?x.createElement(Ro,Aa({key:"label-implicit"},r)):sa(t)?x.createElement(Ro,Aa({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===Ro?x.cloneElement(t,fn({key:"label-implicit"},r)):x.createElement(Ro,Aa({key:"label-implicit",content:t},r)):GC(t)?x.createElement(Ro,Aa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(Ro,Aa({},t,{key:"label-implicit"},r)):null};function G1e(t){var{label:e}=t,n=hK();return K1e(e,n)||null}var mK={},pK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(pK);var gK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(gK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pK,n=gK,r=a1;function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(mK);var Y1e=mK.last;const X1e=la(Y1e);var Q1e=["valueAccessor"],Z1e=["dataKey","clockWise","id","textBreakAll"];function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(null,arguments)}function e4(t,e){if(t==null)return{};var n,r,i=J1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function J1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e_e=t=>Array.isArray(t.value)?X1e(t.value):t.value,yK=x.createContext(void 0),vK=yK.Provider,xK=x.createContext(void 0),t_e=xK.Provider;function n_e(){return x.useContext(yK)}function r_e(){return x.useContext(xK)}function _v(t){var{valueAccessor:e=e_e}=t,n=e4(t,Q1e),{dataKey:r,clockWise:i,id:s,textBreakAll:a}=n,o=e4(n,Z1e),l=n_e(),u=r_e(),d=l||u;return!d||!d.length?null:x.createElement(Cn,{className:"recharts-label-list"},d.map((h,f)=>{var m,p=tn(r)?e(h,f):Dt(h&&h.payload,r),y=tn(s)?{}:{id:"".concat(s,"-").concat(f)};return x.createElement(Ro,wb({},un(h,!0),o,y,{fill:(m=n.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:p,textBreakAll:a,viewBox:h.viewBox,key:"label-".concat(f),index:f}))}))}_v.displayName="LabelList";function YC(t){var{label:e}=t;return e?e===!0?x.createElement(_v,{key:"labelList-implicit"}):x.isValidElement(e)||GC(e)?x.createElement(_v,{key:"labelList-implicit",content:e}):typeof e=="object"?x.createElement(_v,wb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function ij(){return ij=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ij.apply(null,arguments)}var bK=t=>{var{cx:e,cy:n,r,className:i}=t,s=ht("recharts-dot",i);return e===+e&&n===+n&&r===+r?x.createElement("circle",ij({},ks(t),yN(t),{className:s,cx:e,cy:n,r})):null},wK=t=>t.graphicalItems.polarItems,i_e=K([Qt,i0],_C),XC=K([wK,bn,i_e],SC),s_e=K([XC],EC),QC=K([s_e,hC],kC),a_e=K([QC,bn,XC],jC),o_e=K([QC,bn,XC],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,a=Dt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Dt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),t4=()=>{},l_e=K([bn,gW,t4,o_e,t4,nt,Qt],NC),_K=K([bn,nt,QC,a_e,r0,Qt,l_e],CC),c_e=K([_K,bn,Zh],IC);K([bn,_K,c_e,Qt],MC);var u_e={radiusAxis:{},angleAxis:{}},SK=ki({name:"polarAxis",initialState:u_e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:w6e,removeRadiusAxis:_6e,addAngleAxis:S6e,removeAngleAxis:E6e}=SK.actions,d_e=SK.reducer;function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(r){h_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_e(t,e,n){return(e=f_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f_e(t){var e=m_e(t,"string");return typeof e=="symbol"?e:e+""}function m_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p_e=(t,e)=>e,ZC=K([wK,p_e],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),g_e=[],JC=(t,e,n)=>(n==null?void 0:n.length)===0?g_e:n,EK=K([hC,ZC,JC],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>r4(r4({},e.presentationProps),s.props))),i!=null)return i}}),y_e=K([EK,ZC,JC],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,a=Dt(r,e.nameKey,e.name),o;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:Wh(a,e.dataKey),color:o,payload:r,type:e.legendType}})}),v_e=K([EK,ZC,JC,Vn],(t,e,n,r)=>{if(!(e==null||t==null))return fSe({offset:r,pieSettings:e,displayedData:t,cells:n})}),kK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(kK);var x_e=kK.isPlainObject;const b_e=la(x_e);function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(r){w_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w_e(t,e,n){return(e=__e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function __e(t){var e=S_e(t,"string");return typeof e=="symbol"?e:e+""}function S_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(null,arguments)}var a4=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},E_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k_e=t=>{var e=ur(t,E_e),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,f=x.useRef(),[m,p]=x.useState(-1),y=x.useRef(i),v=x.useRef(s),b=x.useRef(a),w=x.useRef(n),_=x.useRef(r),j=Zg(t,"trapezoid-");if(x.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var F=f.current.getTotalLength();F&&p(F)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var E=ht("recharts-trapezoid",o);if(!h)return x.createElement("g",null,x.createElement("path",_b({},un(e,!0),{className:E,d:a4(n,r,i,s,a)})));var I=y.current,k=v.current,S=b.current,P=w.current,O=_.current,N="0px ".concat(m===-1?1:m,"px"),A="".concat(m,"px 0px"),C=LH(["strokeDasharray"],u,l);return x.createElement(Qg,{animationId:j,key:j,canBegin:m>0,duration:u,easing:l,isActive:h,begin:d},F=>{var M=Jt(I,i,F),V=Jt(k,s,F),B=Jt(S,a,F),D=Jt(P,n,F),U=Jt(O,r,F);f.current&&(y.current=M,v.current=V,b.current=B,w.current=D,_.current=U);var H=F>0?{transition:C,strokeDasharray:A}:{strokeDasharray:N};return x.createElement("path",_b({},un(e,!0),{className:E,d:a4(D,U,M,V,B),ref:f,style:s4(s4({},H),e.style)}))})},A_e=["option","shapeType","propTransformer","activeClassName","isActive"];function j_e(t,e){if(t==null)return{};var n,r,i=T_e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function T_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){N_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N_e(t,e,n){return(e=C_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C_e(t){var e=P_e(t,"string");return typeof e=="symbol"?e:e+""}function P_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O_e(t,e){return Sb(Sb({},e),t)}function I_e(t,e){return t==="symbols"}function l4(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return x.createElement(UH,n);case"trapezoid":return x.createElement(k_e,n);case"sector":return x.createElement(HH,n);case"symbols":if(I_e(e))return x.createElement(v$,n);break;default:return null}}function R_e(t){return x.isValidElement(t)?t.props:t}function AK(t){var{option:e,shapeType:n,propTransformer:r=O_e,activeClassName:i="recharts-active-shape",isActive:s}=t,a=j_e(t,A_e),o;if(x.isValidElement(e))o=x.cloneElement(e,Sb(Sb({},a),R_e(e)));else if(typeof e=="function")o=e(a);else if(b_e(e)&&typeof e!="boolean"){var l=r(e,a);o=x.createElement(l4,{shapeType:n,elementProps:l})}else{var u=a;o=x.createElement(l4,{shapeType:n,elementProps:u})}return s?x.createElement(Cn,{className:i},o):o}var eP=(t,e)=>{var n=xn();return(r,i)=>s=>{t==null||t(r,i,s),n(OW({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},tP=t=>{var e=xn();return(n,r)=>i=>{t==null||t(n,r,i),e(Tbe())}},nP=(t,e)=>{var n=xn();return(r,i)=>s=>{t==null||t(r,i,s),n(Nbe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function rP(t){var{fn:e,args:n}=t,r=xn(),i=si();return x.useEffect(()=>{if(!i){var s=e(n);return r(kbe(s)),()=>{r(Abe(s))}}},[e,n,r,i]),null}var jK=()=>{};function TK(t){var{legendPayload:e}=t,n=xn(),r=si();return x.useEffect(()=>r?jK:(n(RH(e)),()=>{n(MH(e))}),[n,r,e]),null}function M_e(t){var{legendPayload:e}=t,n=xn(),r=_e(nt);return x.useEffect(()=>r!=="centric"&&r!=="radial"?jK:(n(RH(e)),()=>{n(MH(e))}),[n,r,e]),null}var QS,D_e=()=>{var[t]=x.useState(()=>Cp("uid-"));return t},L_e=(QS=gZ.useId)!==null&&QS!==void 0?QS:D_e;function V_e(t,e){var n=L_e();return e||(t?"".concat(t,"-").concat(n):n)}var F_e=x.createContext(void 0),iP=t=>{var{id:e,type:n,children:r}=t,i=V_e("recharts-".concat(n),e);return x.createElement(F_e.Provider,{value:i},r(i))},B_e={cartesianItems:[],polarItems:[]},NK=ki({name:"graphicalItems",initialState:B_e,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=$a(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=$a(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=$a(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:U_e,replaceCartesianGraphicalItem:z_e,removeCartesianGraphicalItem:$_e,addPolarGraphicalItem:H_e,removePolarGraphicalItem:q_e}=NK.actions,W_e=NK.reducer;function CK(t){var e=xn(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?e(U_e(t)):n.current!==t&&e(z_e({prev:n.current,next:t})),n.current=t},[e,t]),x.useEffect(()=>()=>{n.current&&(e($_e(n.current)),n.current=null)},[e]),null}function K_e(t){var e=xn();return x.useEffect(()=>(e(H_e(t)),()=>{e(q_e(t))}),[e,t]),null}var G_e=["onMouseEnter","onClick","onMouseLeave"],Y_e=["id"],X_e=["id"];function sP(t,e){if(t==null)return{};var n,r,i=Q_e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Q_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){Z_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z_e(t,e,n){return(e=J_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J_e(t){var e=eSe(t,"string");return typeof e=="symbol"?e:e+""}function eSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cl.apply(null,arguments)}function tSe(t){var e=x.useMemo(()=>vN(t.children,wh),[t.children]),n=_e(r=>y_e(r,t.id,e));return n==null?null:x.createElement(M_e,{legendPayload:n})}function nSe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:u}=t;return{dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:n,name:Wh(o,e),hide:l,type:u,color:a,unit:""}}}var rSe=(t,e)=>t>e?"start":t<e?"end":"middle",iSe=(t,e,n)=>kr(typeof e=="function"?e(t):e,n,n*.8),sSe=(t,e,n)=>{var{top:r,left:i,width:s,height:a}=e,o=gH(s,a),l=i+kr(t.cx,s,s/2),u=r+kr(t.cy,a,a/2),d=kr(t.innerRadius,o,0),h=iSe(n,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:h,maxRadius:f}},aSe=(t,e)=>{var n=Gn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function oSe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var lSe=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ht("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(Bm,Cl({},e,{type:"linear",className:n}))},cSe=(t,e,n)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),x.isValidElement(r)))return r;var i=ht("recharts-pie-label-text",oSe(t));return x.createElement(B1,Cl({},e,{alignmentBaseline:"middle",className:i}),r)};function uSe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:a}=n;if(!r||!i||!e)return null;var o=ks(n),l=un(i,!1),u=un(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((f,m)=>{var p=(f.startAngle+f.endAngle)/2,y=jn(f.cx,f.cy,f.outerRadius+d,p),v=Wt(Wt(Wt(Wt({},o),f),{},{stroke:"none"},l),{},{index:m,textAnchor:rSe(y.x,f.cx)},y),b=Wt(Wt(Wt(Wt({},o),f),{},{fill:"none",stroke:f.fill},u),{},{index:m,points:[jn(f.cx,f.cy,f.outerRadius,p),y],key:"line"});return x.createElement(Cn,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(m)},s&&lSe(s,b),cSe(i,v,Dt(f,a)))});return x.createElement(Cn,{className:"recharts-pie-labels"},h)}function dSe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(YC,{label:i}):x.createElement(uSe,{sectors:e,props:n,showLabels:r})}function hSe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,s=_e(Nl),{onMouseEnter:a,onClick:o,onMouseLeave:l}=i,u=sP(i,G_e),d=eP(a,i.dataKey),h=tP(l),f=nP(o,i.dataKey);return e==null||e.length===0?null:x.createElement(x.Fragment,null,e.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var y=n&&String(p)===s,v=s?r:null,b=y?n:v,w=Wt(Wt({},m),{},{stroke:m.stroke,tabIndex:-1,[_H]:p,[SH]:i.dataKey});return x.createElement(Cn,Cl({tabIndex:-1,className:"recharts-pie-sector"},n1(u,m,p),{onMouseEnter:d(m,p),onMouseLeave:h(m,p),onClick:f(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),x.createElement(AK,Cl({option:b,isActive:y,shapeType:"sector"},w)))}))}function fSe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:h}=n,f=Math.abs(n.minAngle),m=aSe(o,l),p=Math.abs(m),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,v=r.filter(I=>Dt(I,u,0)!==0).length,b=(p>=360?v:v-1)*y,w=p-v*f-b,_=r.reduce((I,k)=>{var S=Dt(k,u,0);return I+(we(S)?S:0)},0),j;if(_>0){var E;j=r.map((I,k)=>{var S=Dt(I,u,0),P=Dt(I,d,k),O=sSe(n,s,I),N=(we(S)?S:0)/_,A,C=Wt(Wt({},I),i&&i[k]&&i[k].props);k?A=E.endAngle+Gn(m)*y*(S!==0?1:0):A=o;var F=A+Gn(m)*((S!==0?f:0)+N*w),M=(A+F)/2,V=(O.innerRadius+O.outerRadius)/2,B=[{name:P,value:S,payload:C,dataKey:u,type:h}],D=jn(O.cx,O.cy,V,M);return E=Wt(Wt(Wt(Wt({},n.presentationProps),{},{percent:N,cornerRadius:a,name:P,tooltipPayload:B,midAngle:M,middleRadius:V,tooltipPosition:D},C),O),{},{value:S,startAngle:A,endAngle:F,payload:C,paddingAngle:Gn(m)*y}),E})}return j}function mSe(t){var{showLabels:e,sectors:n,children:r}=t,i=x.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return x.createElement(t_e,{value:e?i:void 0},r)}function pSe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:l,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=e,f=Zg(e,"recharts-pie-"),m=n.current,[p,y]=x.useState(!1),v=x.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=x.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return x.createElement(mSe,{showLabels:!p,sectors:r},x.createElement(Qg,{animationId:f,begin:s,duration:a,isActive:i,easing:o,onAnimationStart:b,onAnimationEnd:v,key:f},w=>{var _=[],j=r&&r[0],E=j==null?void 0:j.startAngle;return r==null||r.forEach((I,k)=>{var S=m&&m[k],P=k>0?cu(I,"paddingAngle",0):0;if(S){var O=Jt(S.endAngle-S.startAngle,I.endAngle-I.startAngle,w),N=Wt(Wt({},I),{},{startAngle:E+P,endAngle:E+O+P});_.push(N),E=N.endAngle}else{var{endAngle:A,startAngle:C}=I,F=Jt(0,A-C,w),M=Wt(Wt({},I),{},{startAngle:E+P,endAngle:E+F+P});_.push(M),E=M.endAngle}}),n.current=_,x.createElement(Cn,null,x.createElement(hSe,{sectors:_,activeShape:l,inactiveShape:u,allOtherPieProps:e}))}),x.createElement(dSe,{showLabels:!p,sectors:r,props:e}),e.children)}var gSe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ul.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function ySe(t){var{id:e}=t,n=sP(t,Y_e),{hide:r,className:i,rootTabIndex:s}=t,a=x.useMemo(()=>vN(t.children,wh),[t.children]),o=_e(d=>v_e(d,e,a)),l=x.useRef(null),u=ht("recharts-pie",i);return r||o==null?(l.current=null,x.createElement(Cn,{tabIndex:s,className:u})):x.createElement(x.Fragment,null,x.createElement(rP,{fn:nSe,args:Wt(Wt({},t),{},{sectors:o})}),x.createElement(Cn,{tabIndex:s,className:u},x.createElement(pSe,{props:Wt(Wt({},n),{},{sectors:o}),previousSectorsRef:l})))}function Eb(t){var e=ur(t,gSe),{id:n}=e,r=sP(e,X_e),i=ks(r);return x.createElement(iP,{id:n,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(K_e,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),x.createElement(tSe,Cl({},r,{id:s})),x.createElement(ySe,Cl({},r,{id:s}))))}Eb.displayName="Pie";function u4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(n),!0).forEach(function(r){vSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vSe(t,e,n){return(e=xSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xSe(t){var e=bSe(t,"string");return typeof e=="symbol"?e:e+""}function bSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wSe={xAxis:{},yAxis:{},zAxis:{}},PK=ki({name:"cartesianAxis",initialState:wSe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=d4(d4({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:_Se,removeXAxis:SSe,addYAxis:ESe,removeYAxis:kSe,addZAxis:k6e,removeZAxis:A6e,updateYAxisWidth:ASe}=PK.actions,jSe=PK.reducer,TSe=K([Vn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),NSe=K([TSe,ho,fo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),aP=()=>_e(NSe),CSe=()=>_e(pwe);function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){PSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PSe(t,e,n){return(e=OSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OSe(t){var e=ISe(t,"string");return typeof e=="symbol"?e:e+""}function ISe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RSe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=f4(f4({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},un(i,!1)),yN(i)),o;return x.isValidElement(i)?o=x.cloneElement(i,a):typeof i=="function"?o=i(a):o=x.createElement(bK,a),x.createElement(Cn,{className:"recharts-active-dot"},o)};function m4(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,s=_e(Nl),a=CSe();if(e==null||a==null)return null;var o=e.find(l=>a.includes(l.payload));return tn(o)?null:RSe({point:o,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var MSe="Invariant failed";function DSe(t,e){throw new Error(MSe)}var LSe=["x","y"];function sj(){return sj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sj.apply(null,arguments)}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){VSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VSe(t,e,n){return(e=FSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FSe(t){var e=BSe(t,"string");return typeof e=="symbol"?e:e+""}function BSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function USe(t,e){if(t==null)return{};var n,r,i=zSe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $Se(t,e){var{x:n,y:r}=t,i=USe(t,LSe),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return $f($f($f($f($f({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function oP(t){return x.createElement(AK,sj({shapeType:"rectangle",propTransformer:$Se,activeClassName:"recharts-active-bar"},t))}var HSe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(we(e))return e;var s=we(r)||tn(r);return s?e(r,i):(s||DSe(),n)}},qSe={},OK=ki({name:"errorBars",initialState:qSe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:j6e,replaceErrorBar:T6e,removeErrorBar:N6e}=OK.actions,WSe=OK.reducer,KSe=["children"];function GSe(t,e){if(t==null)return{};var n,r,i=YSe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},QSe=x.createContext(XSe);function ZSe(t){var{children:e}=t,n=GSe(t,KSe);return x.createElement(QSe.Provider,{value:n},e)}function lP(t,e){var n,r,i=_e(u=>po(u,t)),s=_e(u=>go(u,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ci.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ui.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function IK(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=aP(),{needClipX:s,needClipY:a,needClip:o}=lP(e,n);if(!o)return null;var{x:l,y:u,width:d,height:h}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}var JSe=["onMouseEnter","onMouseLeave","onClick"],eEe=["value","background","tooltipPosition"],tEe=["id"],nEe=["onMouseEnter","onClick","onMouseLeave"];function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(null,arguments)}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){rEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rEe(t,e,n){return(e=iEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t){var e=sEe(t,"string");return typeof e=="symbol"?e:e+""}function sEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kb(t,e){if(t==null)return{};var n,r,i=aEe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oEe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Wh(n,e),payload:t}]};function lEe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Wh(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:o}}}function cEe(t){var e=_e(Nl),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=kb(s,JSe),d=eP(a,r),h=tP(o),f=nP(l,r);if(!i||n==null)return null;var m=un(i,!1);return x.createElement(x.Fragment,null,n.map((p,y)=>{var{value:v,background:b,tooltipPosition:w}=p,_=kb(p,eEe);if(!b)return null;var j=d(p,y),E=h(p,y),I=f(p,y),k=Ir(Ir(Ir(Ir(Ir({option:i,isActive:String(y)===e},_),{},{fill:"#eee"},b),m),n1(u,p,y)),{},{onMouseEnter:j,onMouseLeave:E,onClick:I,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return x.createElement(oP,Pl({key:"background-bar-".concat(k.index)},k))}))}function uEe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,height:s.height};return Ir(Ir({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return x.createElement(vK,{value:e?i:void 0},n)}function dEe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=t,o=_e(Nl),l=_e(qW),u=n&&String(s)===o&&(l==null||a===l),d=u?n:e;return x.createElement(oP,Pl({},r,i,{isActive:u,option:d,index:s,dataKey:a}))}function hEe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return x.createElement(oP,Pl({},n,r,{isActive:!1,option:e,index:i,dataKey:s}))}function fEe(t){var{data:e,props:n}=t,r=ks(n),{id:i}=r,s=kb(r,tEe),{shape:a,dataKey:o,activeBar:l}=n,{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,f=kb(n,nEe),m=eP(u,o),p=tP(h),y=nP(d,o);return e?x.createElement(x.Fragment,null,e.map((v,b)=>x.createElement(Cn,Pl({className:"recharts-bar-rectangle"},n1(f,v,b),{onMouseEnter:m(v,b),onMouseLeave:p(v,b),onClick:y(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),l?x.createElement(dEe,{shape:a,activeBar:l,baseProps:s,entry:v,index:b,dataKey:o}):x.createElement(hEe,{shape:a,baseProps:s,entry:v,index:b,dataKey:o})))):null}function mEe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=n.current,f=Zg(e,"recharts-bar-"),[m,p]=x.useState(!1),y=!m,v=x.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),b=x.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return x.createElement(uEe,{showLabels:y,rects:r},x.createElement(Qg,{animationId:f,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:v,onAnimationStart:b,key:f},w=>{var _=w===1?r:r==null?void 0:r.map((j,E)=>{var I=h&&h[E];if(I)return Ir(Ir({},j),{},{x:Jt(I.x,j.x,w),y:Jt(I.y,j.y,w),width:Jt(I.width,j.width,w),height:Jt(I.height,j.height,w)});if(i==="horizontal"){var k=Jt(0,j.height,w);return Ir(Ir({},j),{},{y:j.y+j.height-k,height:k})}var S=Jt(0,j.width,w);return Ir(Ir({},j),{},{width:S})});return w>0&&(n.current=_??null),_==null?null:x.createElement(Cn,null,x.createElement(fEe,{props:e,data:_}))}),x.createElement(YC,{label:e.label}),e.children)}function pEe(t){var e=x.useRef(null);return x.createElement(mEe,{previousRectanglesRef:e,props:t})}var RK=0,gEe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Dt(t,e)}};class yEe extends x.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||n==null)return null;var d=ht("recharts-bar",i),h=u;return x.createElement(Cn,{className:d,id:u},o&&x.createElement("defs",null,x.createElement(IK,{clipPathId:h,xAxisId:s,yAxisId:a})),x.createElement(Cn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},x.createElement(cEe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),x.createElement(pEe,this.props)))}}var vEe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ul.isSsr,legendType:"rect",minPointSize:RK,xAxisId:0,yAxisId:0};function xEe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=t,{needClip:h}=lP(e,n),f=v1(),m=si(),p=vN(t.children,wh),y=_e(w=>KEe(w,e,n,m,t.id,p));if(f!=="vertical"&&f!=="horizontal")return null;var v,b=y==null?void 0:y[0];return b==null||b.height==null||b.width==null?v=0:v=f==="vertical"?b.height/2:b.width/2,x.createElement(ZSe,{xAxisId:e,yAxisId:n,data:y,dataPointFormatter:gEe,errorBarOffset:v},x.createElement(yEe,Pl({},t,{layout:f,needClip:h,data:y,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function bEe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:f,cells:m,parentViewBox:p}=t,y=e==="horizontal"?o:a,v=d?y.scale.domain():null,b=Qpe({numericAxis:y});return h.map((w,_)=>{var j,E,I,k,S,P;d?j=Wpe(d[_],v):(j=Dt(w,n),Array.isArray(j)||(j=[b,j]));var O=HSe(r,RK)(j[1],_);if(e==="horizontal"){var N,[A,C]=[o.scale(j[0]),o.scale(j[1])];E=h5({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:w,index:_}),I=(N=C??A)!==null&&N!==void 0?N:void 0,k=i.size;var F=A-C;if(S=ni(F)?0:F,P={x:E,y:f.top,width:k,height:f.height},Math.abs(O)>0&&Math.abs(S)<Math.abs(O)){var M=Gn(S||O)*(Math.abs(O)-Math.abs(S));I-=M,S+=M}}else{var[V,B]=[a.scale(j[0]),a.scale(j[1])];if(E=V,I=h5({axis:o,ticks:u,bandSize:s,offset:i.offset,entry:w,index:_}),k=B-V,S=i.size,P={x:f.left,y:I,width:f.width,height:S},Math.abs(O)>0&&Math.abs(k)<Math.abs(O)){var D=Gn(k||O)*(Math.abs(O)-Math.abs(k));k+=D}}if(E==null||I==null||k==null||S==null)return null;var U=Ir(Ir({},w),{},{x:E,y:I,width:k,height:S,value:d?j:j[1],payload:w,background:P,tooltipPosition:{x:E+k/2,y:I+S/2},parentViewBox:p},m&&m[_]&&m[_].props);return U}).filter(Boolean)}function wEe(t){var e=ur(t,vEe),n=si();return x.createElement(iP,{id:e.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(TK,{legendPayload:oEe(e)}),x.createElement(rP,{fn:lEe,args:e}),x.createElement(CK,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:bH(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),x.createElement(xEe,Pl({},e,{id:r}))))}var U1=x.memo(wEe);U1.displayName="Bar";function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ky(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){_Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ee(t,e,n){return(e=SEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SEe(t){var e=EEe(t,"string");return typeof e=="symbol"?e:e+""}function EEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kEe=(t,e)=>e,AEe=(t,e,n)=>n,jEe=(t,e,n,r)=>r,TEe=(t,e,n,r,i)=>i,u0=K([R1,TEe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),NEe=K([u0],t=>t==null?void 0:t.maxBarSize),CEe=(t,e,n,r,i,s)=>s,v4=(t,e,n)=>{var r=n??t;if(!tn(r))return kr(r,e,0)},PEe=K([nt,R1,kEe,AEe,jEe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),OEe=(t,e,n,r)=>{var i=nt(t);return i==="horizontal"?zp(t,"yAxis",n,r):zp(t,"xAxis",e,r)},IEe=(t,e,n)=>{var r=nt(t);return r==="horizontal"?T3(t,"xAxis",e):T3(t,"yAxis",n)},REe=(t,e,n)=>{var r={},i=t.filter(I1),s=t.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),o=Object.entries(a).map(u=>{var[d,h]=u,f=h.map(p=>p.dataKey),m=v4(e,n,h[0].barSize);return{stackId:d,dataKeys:f,barSize:m}}),l=s.map(u=>{var d=[u.dataKey].filter(f=>f!=null),h=v4(e,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},MEe=K([PEe,Exe,IEe],REe),DEe=(t,e,n,r,i)=>{var s,a,o=u0(t,e,n,r,i);if(o!=null){var l=nt(t),u=$q(t),{maxBarSize:d}=o,h=tn(d)?u:d,f,m;return l==="horizontal"?(f=Tl(t,"xAxis",e,r),m=jl(t,"xAxis",e,r)):(f=Tl(t,"yAxis",n,r),m=jl(t,"yAxis",n,r)),(s=(a=Ip(f,m,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},MK=(t,e,n,r)=>{var i=nt(t),s,a;return i==="horizontal"?(s=Tl(t,"xAxis",e,r),a=jl(t,"xAxis",e,r)):(s=Tl(t,"yAxis",n,r),a=jl(t,"yAxis",n,r)),Ip(s,a)};function LEe(t,e,n,r,i){var s=r.length;if(!(s<1)){var a=kr(t,n,0,!0),o,l=[];if(cr(r[0].barSize)){var u=!1,d=n/s,h=r.reduce((b,w)=>b+(w.barSize||0),0);h+=(s-1)*a,h>=n&&(h-=(s-1)*a,a=0),h>=n&&d>0&&(u=!0,d*=.9,h=s*d);var f=(n-h)/2>>0,m={offset:f-a,size:0};o=r.reduce((b,w)=>{var _,j={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(_=w.barSize)!==null&&_!==void 0?_:0}},E=[...b,j];return m=E[E.length-1].position,E},l)}else{var p=kr(e,n,0,!0);n-2*p-(s-1)*a<=0&&(a=0);var y=(n-2*p-(s-1)*a)/s;y>1&&(y>>=0);var v=cr(i)?Math.min(y,i):y;o=r.reduce((b,w,_)=>[...b,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(y+a)*_+(y-v)/2,size:v}}],l)}return o}}var VEe=(t,e,n,r,i,s,a)=>{var o=tn(a)?e:a,l=LEe(n,r,i!==s?i:s,t,o);return i!==s&&l!=null&&(l=l.map(u=>ky(ky({},u),{},{position:ky(ky({},u.position),{},{offset:u.position.offset-i/2})}))),l},FEe=K([MEe,$q,Sxe,Hq,DEe,MK,NEe],VEe),BEe=(t,e,n,r)=>Tl(t,"xAxis",e,r),UEe=(t,e,n,r)=>Tl(t,"yAxis",n,r),zEe=(t,e,n,r)=>jl(t,"xAxis",e,r),$Ee=(t,e,n,r)=>jl(t,"yAxis",n,r),HEe=K([FEe,u0],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),qEe=(t,e)=>{var n=O1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}},WEe=K([OEe,u0],qEe),KEe=K([Vn,FN,BEe,UEe,zEe,$Ee,HEe,nt,T1,MK,WEe,u0,CEe],(t,e,n,r,i,s,a,o,l,u,d,h,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||s==null||u==null)){var{data:v}=h,b;if(v!=null&&v.length>0?b=v:b=m==null?void 0:m.slice(p,y+1),b!=null)return bEe({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:b,offset:t,cells:f})}}),DK=t=>{var{chartData:e}=t,n=xn(),r=si();return x.useEffect(()=>r?()=>{}:(n(L3(e)),()=>{n(L3(void 0))}),[e,n,r]),null},x4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},LK=ki({name:"brush",initialState:x4,reducers:{setBrushSettings(t,e){return e.payload==null?x4:e.payload}}}),{setBrushSettings:C6e}=LK.actions,GEe=LK.reducer;function YEe(t,e,n){return(e=XEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XEe(t){var e=QEe(t,"string");return typeof e=="symbol"?e:e+""}function QEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cP{static create(e){return new cP(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}YEe(cP,"EPS",1e-4);function ZEe(t){return(t%180+180)%180}var JEe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ZEe(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},eke={dots:[],areas:[],lines:[]},VK=ki({name:"referenceElements",initialState:eke,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=$a(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=$a(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=$a(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:P6e,removeDot:O6e,addArea:I6e,removeArea:R6e,addLine:M6e,removeLine:D6e}=VK.actions,tke=VK.reducer,nke=x.createContext(void 0),rke=t=>{var{children:e}=t,[n]=x.useState("".concat(Cp("recharts"),"-clip")),r=aP();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return x.createElement(nke.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function _h(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function FK(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ike(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return JEe(r,n)}function ske(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Ab(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function ake(t,e){return FK(t,e+1)}function oke(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:FK(r,u)};var y=l,v,b=()=>(v===void 0&&(v=n(p,y)),v),w=p.coordinate,_=l===0||Ab(t,w,b,d,o);_||(l=0,d=a,u+=1),_&&(d=w+t*(b()/2+i),l+=u)},f;u<=s.length;)if(f=h(),f)return f.v;return[]}function b4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(n),!0).forEach(function(r){lke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lke(t,e,n){return(e=cke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cke(t){var e=uke(t,"string");return typeof e=="symbol"?e:e+""}function uke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dke(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(f){var m=s[f],p,y=()=>(p===void 0&&(p=n(m,f)),p);if(f===a-1){var v=t*(m.coordinate+t*y()/2-l);s[f]=m=gr(gr({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else s[f]=m=gr(gr({},m),{},{tickCoord:m.coordinate});var b=Ab(t,m.tickCoord,y,o,l);b&&(l=m.tickCoord-t*(y()/2+i),s[f]=gr(gr({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function hke(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=r[o-1],h=n(d,o-1),f=t*(d.coordinate+t*h/2-u);a[o-1]=d=gr(gr({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var m=Ab(t,d.tickCoord,()=>h,l,u);m&&(u=d.tickCoord-t*(h/2+i),a[o-1]=gr(gr({},d),{},{isShow:!0}))}for(var p=s?o-1:o,y=function(w){var _=a[w],j,E=()=>(j===void 0&&(j=n(_,w)),j);if(w===0){var I=t*(_.coordinate-t*E()/2-l);a[w]=_=gr(gr({},_),{},{tickCoord:I<0?_.coordinate-I*t:_.coordinate})}else a[w]=_=gr(gr({},_),{},{tickCoord:_.coordinate});var k=Ab(t,_.tickCoord,E,l,u);k&&(l=_.tickCoord+t*(E()/2+i),a[w]=gr(gr({},_),{},{isShow:!0}))},v=0;v<p;v++)y(v);return a}function uP(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=t;if(!i||!i.length||!r)return[];if(we(l)||Ul.isSsr){var f;return(f=ake(i,we(l)?l:0))!==null&&f!==void 0?f:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",y=d&&p==="width"?zm(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=(_,j)=>{var E=typeof u=="function"?u(_.value,j):_.value;return p==="width"?ike(zm(E,{fontSize:e,letterSpacing:n}),y,h):zm(E,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?Gn(i[1].coordinate-i[0].coordinate):1,w=ske(s,b,p);return l==="equidistantPreserveStart"?oke(b,w,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=hke(b,w,v,i,a,l==="preserveStartEnd"):m=dke(b,w,v,i,a),m.filter(_=>_.isShow))}var fke=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(n?r:0);return Math.round(u)}return 0},mke=["axisLine","width","height","className","hide","ticks"],pke=["viewBox"],gke=["viewBox"];function aj(t,e){if(t==null)return{};var n,r,i=yke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(null,arguments)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){vke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vke(t,e,n){return(e=xke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xke(t){var e=bke(t,"string");return typeof e=="symbol"?e:e+""}function bke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dP={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function wke(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=On(On(On({},l),un(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=On(On({},u),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=On(On({},u),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return x.createElement("line",gu({},u,{className:ht("recharts-cartesian-axis-line",cu(o,"className"))}))}function _ke(t,e,n,r,i,s,a,o,l){var u,d,h,f,m,p,y=o?-1:1,v=t.tickSize||a,b=we(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":u=d=t.coordinate,f=n+ +!o*i,h=f-y*v,p=h-y*l,m=b;break;case"left":h=f=t.coordinate,d=e+ +!o*r,u=d-y*v,m=u-y*l,p=b;break;case"right":h=f=t.coordinate,d=e+ +o*r,u=d+y*v,m=u+y*l,p=b;break;default:u=d=t.coordinate,f=n+ +o*i,h=f+y*v,p=h+y*l,m=b;break}return{line:{x1:u,y1:h,x2:d,y2:f},tick:{x:m,y:p}}}function Ske(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Eke(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function kke(t){var{option:e,tickProps:n,value:r}=t,i,s=ht(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,On(On({},n),{},{className:s}));else if(typeof e=="function")i=e(On(On({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=ht(a,e==null?void 0:e.className)),i=x.createElement(B1,gu({},n,{className:a}),r)}return i}function Ake(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:s,unit:a,padding:o,tickTextProps:l,orientation:u,mirror:d,x:h,y:f,width:m,height:p,tickSize:y,tickMargin:v,fontSize:b,letterSpacing:w,getTicksConfig:_,events:j}=t,E=uP(On(On({},_),{},{ticks:e}),b,w),I=Ske(u,d),k=Eke(u,d),S=ks(_),P=un(n,!1),O=On(On({},S),{},{fill:"none"},un(r,!1)),N=E.map((A,C)=>{var{line:F,tick:M}=_ke(A,h,f,m,p,u,y,d,v),V=On(On(On(On({textAnchor:I,verticalAnchor:k},S),{},{stroke:"none",fill:i},P),M),{},{index:C,payload:A,visibleTicksCount:E.length,tickFormatter:s,padding:o},l);return x.createElement(Cn,gu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},n1(j,A,C)),r&&x.createElement("line",gu({},O,F,{className:ht("recharts-cartesian-axis-tick-line",cu(r,"className"))})),n&&x.createElement(kke,{option:n,tickProps:V,value:"".concat(typeof s=="function"?s(A.value,C):A.value).concat(a||"")}))});return N.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}var jke=x.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:o}=t,l=aj(t,mke),[u,d]=x.useState(""),[h,f]=x.useState(""),m=x.useRef([]);x.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var y;return fke({ticks:m.current,label:(y=t.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var p=x.useCallback(y=>{if(y){var v=y.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(v);var b=v[0];if(b){var w=window.getComputedStyle(b),_=w.fontSize,j=w.letterSpacing;(_!==u||j!==h)&&(d(_),f(j))}}},[u,h]);return a||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(Cn,{className:ht("recharts-cartesian-axis",s),ref:p},x.createElement(wke,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ks(t)}),x.createElement(Ake,{ticks:o,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:t,events:l}),x.createElement(V1e,{x:t.x,y:t.y,width:t.width,height:t.height},x.createElement(G1e,{label:t.label}),t.children))}),Tke=x.memo(jke,(t,e)=>{var{viewBox:n}=t,r=aj(t,pke),{viewBox:i}=e,s=aj(e,gke);return _h(n,i)&&_h(r,s)}),hP=x.forwardRef((t,e)=>{var n=ur(t,dP);return x.createElement(Tke,gu({},n,{ref:e}))});hP.displayName="CartesianAxis";var Nke=["x1","y1","x2","y2","key"],Cke=["offset"],Pke=["xAxisId","yAxisId"],Oke=["xAxisId","yAxisId"];function _4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(n),!0).forEach(function(r){Ike(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ike(t,e,n){return(e=Rke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rke(t){var e=Mke(t,"string");return typeof e=="symbol"?e:e+""}function Mke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(null,arguments)}function jb(t,e){if(t==null)return{};var n,r,i=Dke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lke=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:o}=t;return x.createElement("rect",{x:r,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BK(t,e){var n;if(x.isValidElement(t))n=x.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:a,key:o}=e,l=jb(e,Nke),u=ks(l),{offset:d}=u,h=jb(u,Cke);n=x.createElement("line",Sc({},h,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function Vke(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=jb(t,Pke),l=i.map((u,d)=>{var h=xr(xr({},o),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return BK(r,h)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Fke(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=jb(t,Oke),l=i.map((u,d)=>{var h=xr(xr({},o),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return BK(r,h)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Bke(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var u=o.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],p=m?i+a-h:u[f+1]-h;if(p<=0)return null;var y=f%e.length;return x.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:p,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Uke(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],p=m?i+a-h:u[f+1]-h;if(p<=0)return null;var y=f%n.length;return x.createElement("rect",{key:"react-".concat(f),x:h,y:s,width:p,height:o,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var zke=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return vH(uP(xr(xr(xr({},dP),n),{},{ticks:xH(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},$ke=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return vH(uP(xr(xr(xr({},dP),n),{},{ticks:xH(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Hke={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function fP(t){var e=kH(),n=AH(),r=EH(),i=xr(xr({},ur(t,Hke)),{},{x:we(t.x)?t.x:r.left,y:we(t.y)?t.y:r.top,width:we(t.width)?t.width:r.width,height:we(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:m}=i,p=si(),y=_e(P=>N3(P,"xAxis",s,p)),v=_e(P=>N3(P,"yAxis",a,p));if(!we(u)||u<=0||!we(d)||d<=0||!we(o)||o!==+o||!we(l)||l!==+l)return null;var b=i.verticalCoordinatesGenerator||zke,w=i.horizontalCoordinatesGenerator||$ke,{horizontalPoints:_,verticalPoints:j}=i;if((!_||!_.length)&&typeof w=="function"){var E=f&&f.length,I=w({yAxis:v?xr(xr({},v),{},{ticks:E?f:v.ticks}):void 0,width:e,height:n,offset:r},E?!0:h);Um(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(_=I)}if((!j||!j.length)&&typeof b=="function"){var k=m&&m.length,S=b({xAxis:y?xr(xr({},y),{},{ticks:k?m:y.ticks}):void 0,width:e,height:n,offset:r},k?!0:h);Um(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Lke,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Bke,Sc({},i,{horizontalPoints:_})),x.createElement(Uke,Sc({},i,{verticalPoints:j})),x.createElement(Vke,Sc({},i,{offset:r,horizontalPoints:_,xAxis:y,yAxis:v})),x.createElement(Fke,Sc({},i,{offset:r,verticalPoints:j,xAxis:y,yAxis:v})))}fP.displayName="CartesianGrid";var UK=(t,e,n,r)=>Tl(t,"xAxis",e,r),zK=(t,e,n,r)=>jl(t,"xAxis",e,r),$K=(t,e,n,r)=>Tl(t,"yAxis",n,r),HK=(t,e,n,r)=>jl(t,"yAxis",n,r),qke=K([nt,UK,$K,zK,HK],(t,e,n,r,i)=>uo(t,"xAxis")?Ip(e,r,!1):Ip(n,i,!1)),Wke=(t,e,n,r,i)=>i,qK=K([R1,Wke],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),Kke=(t,e,n,r,i)=>{var s,a=qK(t,e,n,r,i);if(a!=null){var o=nt(t),l=uo(o,"xAxis"),u;if(l?u=zp(t,"yAxis",n,r):u=zp(t,"xAxis",e,r),u!=null){var{stackId:d}=a,h=O1(a);if(!(d==null||h==null)){var f=(s=u[d])===null||s===void 0?void 0:s.stackedData;return f==null?void 0:f.find(m=>m.key===h)}}}},Gke=K([nt,UK,$K,zK,HK,Kke,T1,qke,qK],(t,e,n,r,i,s,a,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=a;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:f}=l,m;if(f&&f.length>0?m=f:m=u==null?void 0:u.slice(d,h+1),m!=null){var p=void 0;return pAe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:s,displayedData:m,chartBaseValue:p,bandSize:o})}}}),Yke=["id"],Xke=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function WK(t,e){if(t==null)return{};var n,r,i=Qke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){Zke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zke(t,e,n){return(e=Jke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jke(t){var e=eAe(t,"string");return typeof e=="symbol"?e:e+""}function eAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qa.apply(null,arguments)}function Tb(t,e){return t&&t!=="none"?t:e}var tAe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:Tb(r,i),value:Wh(n,e),payload:t}]};function nAe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Wh(a,e),hide:o,type:t.tooltipType,color:Tb(r,s),unit:l}}}var rAe=(t,e)=>{var n;if(x.isValidElement(t))n=x.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=ht("recharts-area-dot",typeof t!="boolean"?t.className:"");n=x.createElement(bK,qa({},e,{className:r}))}return n};function iAe(t,e){return t==null?!1:e?!0:t.length===1}function sAe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:a}=r;if(!iAe(n,s))return null;var o=Jz(s),l=ks(r),u=un(s,!0),d=n.map((f,m)=>{var p=La(La(La({key:"dot-".concat(m),r:3},l),u),{},{index:m,cx:f.x,cy:f.y,dataKey:a,value:f.value,payload:f.payload,points:n});return rAe(s,p)}),h={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(e,")"):void 0};return x.createElement(Cn,qa({className:"recharts-area-dots"},h),d)}function aAe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var a={x:s.x,y:s.y,width:0,height:0};return La(La({},a),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:a,fill:void 0})});return x.createElement(vK,{value:e?i:null},n)}function E4(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:a,type:o,stroke:l,connectNulls:u,isRange:d}=s,{id:h}=s,f=WK(s,Yke),m=ks(f);return x.createElement(x.Fragment,null,(e==null?void 0:e.length)>1&&x.createElement(Cn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},x.createElement(Bm,qa({},m,{id:h,points:e,connectNulls:u,type:o,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),l!=="none"&&x.createElement(Bm,qa({},m,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:e})),l!=="none"&&d&&x.createElement(Bm,qa({},m,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:n}))),x.createElement(sAe,{points:e,props:f,clipPathId:i}))}function oAe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,s=r[0].y,a=r[r.length-1].y;if(!cr(s)||!cr(a))return null;var o=e*Math.abs(s-a),l=Math.max(...r.map(u=>u.x||0));return we(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.x||0),l)),we(l)?x.createElement("rect",{x:0,y:s<a?s:s-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function lAe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,s=r[0].x,a=r[r.length-1].x;if(!cr(s)||!cr(a))return null;var o=e*Math.abs(s-a),l=Math.max(...r.map(u=>u.y||0));return we(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.y||0),l)),we(l)?x.createElement("rect",{x:s<a?s:s-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function cAe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?x.createElement(oAe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):x.createElement(lAe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function uAe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:m}=r,p=Zg(r,"recharts-area-"),[y,v]=x.useState(!1),b=!y,w=x.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),_=x.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]),j=i.current,E=s.current;return x.createElement(aAe,{showLabels:b,points:a},r.children,x.createElement(Qg,{animationId:p,begin:u,duration:d,isActive:l,easing:h,onAnimationEnd:w,onAnimationStart:_,key:p},I=>{if(j){var k=j.length/a.length,S=I===1?a:a.map((O,N)=>{var A=Math.floor(N*k);if(j[A]){var C=j[A];return La(La({},O),{},{x:Jt(C.x,O.x,I),y:Jt(C.y,O.y,I)})}return O}),P;return we(o)?P=Jt(E,o,I):tn(o)||ni(o)?P=Jt(E,0,I):P=o.map((O,N)=>{var A=Math.floor(N*k);if(Array.isArray(E)&&E[A]){var C=E[A];return La(La({},O),{},{x:Jt(C.x,O.x,I),y:Jt(C.y,O.y,I)})}return O}),I>0&&(i.current=S,s.current=P),x.createElement(E4,{points:S,baseLine:P,needClip:e,clipPathId:n,props:r})}return I>0&&(i.current=a,s.current=o),x.createElement(Cn,null,l&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(n)},x.createElement(cAe,{alpha:I,points:a,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),x.createElement(Cn,{clipPath:"url(#animationClipPath-".concat(n,")")},x.createElement(E4,{points:a,baseLine:o,needClip:e,clipPathId:n,props:r})))}),x.createElement(YC,{label:r.label}))}function dAe(t){var{needClip:e,clipPathId:n,props:r}=t,i=x.useRef(null),s=x.useRef();return x.createElement(uAe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class hAe extends x.PureComponent{render(){var e,{hide:n,dot:r,points:i,className:s,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:h,height:f,id:m,baseLine:p}=this.props;if(n)return null;var y=ht("recharts-area",s),v=m,{r:b=3,strokeWidth:w=2}=(e=un(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},_=Jz(r),j=b*2+w;return x.createElement(x.Fragment,null,x.createElement(Cn,{className:y},l&&x.createElement("defs",null,x.createElement(IK,{clipPathId:v,xAxisId:u,yAxisId:d}),!_&&x.createElement("clipPath",{id:"clipPath-dots-".concat(v)},x.createElement("rect",{x:o-j/2,y:a-j/2,width:h+j,height:f+j}))),x.createElement(dAe,{needClip:l,clipPathId:v,props:this.props})),x.createElement(m4,{points:i,mainColor:Tb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&x.createElement(m4,{points:p,mainColor:Tb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var KK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ul.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function fAe(t){var e,n=ur(t,KK),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:m,stroke:p,xAxisId:y,yAxisId:v}=n,b=WK(n,Xke),w=v1(),_=KW(),{needClip:j}=lP(y,v),E=si(),{points:I,isRange:k,baseLine:S}=(e=_e(F=>Gke(F,y,v,E,t.id)))!==null&&e!==void 0?e:{},P=aP();if(w!=="horizontal"&&w!=="vertical"||P==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:O,width:N,x:A,y:C}=P;return!I||!I.length?null:x.createElement(hAe,qa({},b,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:S,connectNulls:o,dot:l,fill:u,fillOpacity:d,height:O,hide:h,layout:w,isAnimationActive:f,isRange:k,legendType:m,needClip:j,points:I,stroke:p,width:N,left:A,top:C,xAxisId:y,yAxisId:v}))}var mAe=(t,e,n,r,i)=>{var s=n??e;if(we(s))return s;var a=t==="horizontal"?i:r,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return s==="dataMin"?u:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function pAe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=t,p=i&&i.length,y=mAe(s,a,n,o,l),v=s==="horizontal",b=!1,w=u.map((j,E)=>{var I;p?I=i[d+E]:(I=Dt(j,r),Array.isArray(I)?b=!0:I=[y,I]);var k=I[1]==null||p&&!e&&Dt(j,r)==null;return v?{x:d5({axis:o,ticks:h,bandSize:m,entry:j,index:E}),y:k?null:l.scale(I[1]),value:I,payload:j}:{x:k?null:o.scale(I[1]),y:d5({axis:l,ticks:f,bandSize:m,entry:j,index:E}),value:I,payload:j}}),_;return p||b?_=w.map(j=>{var E=Array.isArray(j.value)?j.value[0]:null;return v?{x:j.x,y:E!=null&&j.y!=null?l.scale(E):null,payload:j.payload}:{x:E!=null?o.scale(E):null,y:j.y,payload:j.payload}}):_=v?l.scale(y):o.scale(y),{points:w,baseLine:_,isRange:b}}function gAe(t){var e=ur(t,KK),n=si();return x.createElement(iP,{id:e.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(TK,{legendPayload:tAe(e)}),x.createElement(rP,{fn:nAe,args:e}),x.createElement(CK,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:bH(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),x.createElement(fAe,qa({},e,{id:r}))))}var GK=x.memo(gAe);GK.displayName="Area";var yAe=["dangerouslySetInnerHTML","ticks"],vAe=["id"],xAe=["domain"],bAe=["domain"];function oj(){return oj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oj.apply(null,arguments)}function Nb(t,e){if(t==null)return{};var n,r,i=wAe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _Ae(t){var e=xn();return x.useEffect(()=>(e(_Se(t)),()=>{e(SSe(t))}),[t,e]),null}var SAe=t=>{var{xAxisId:e,className:n}=t,r=_e(FN),i=si(),s="xAxis",a=_e(v=>Jh(v,s,e,i)),o=_e(v=>AW(v,s,e,i)),l=_e(v=>_W(v,e)),u=_e(v=>pbe(v,e)),d=_e(v=>Jq(v,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:f}=t,m=Nb(t,yAe),{id:p}=d,y=Nb(d,vAe);return x.createElement(hP,oj({},m,y,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:ht("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o}))},EAe={allowDataOverflow:ci.allowDataOverflow,allowDecimals:ci.allowDecimals,allowDuplicatedCategory:ci.allowDuplicatedCategory,height:ci.height,hide:!1,mirror:ci.mirror,orientation:ci.orientation,padding:ci.padding,reversed:ci.reversed,scale:ci.scale,tickCount:ci.tickCount,type:ci.type,xAxisId:0},kAe=t=>{var e,n,r,i,s,a=ur(t,EAe);return x.createElement(x.Fragment,null,x.createElement(_Ae,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),x.createElement(SAe,a))},AAe=(t,e)=>{var{domain:n}=t,r=Nb(t,xAe),{domain:i}=e,s=Nb(e,bAe);return _h(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:_h({domain:n},{domain:i}):!1},z1=x.memo(kAe,AAe);z1.displayName="XAxis";var jAe=["dangerouslySetInnerHTML","ticks"],TAe=["id"],NAe=["domain"],CAe=["domain"];function lj(){return lj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lj.apply(null,arguments)}function Cb(t,e){if(t==null)return{};var n,r,i=PAe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function OAe(t){var e=xn();return x.useEffect(()=>(e(ESe(t)),()=>{e(kSe(t))}),[t,e]),null}var IAe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=x.useRef(null),a=x.useRef(null),o=_e(FN),l=si(),u=xn(),d="yAxis",h=_e(E=>Jh(E,d,e,l)),f=_e(E=>SW(E,e)),m=_e(E=>ybe(E,e)),p=_e(E=>AW(E,d,e,l)),y=_e(E=>eW(E,e));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!f||GC(i)||x.isValidElement(i)||y==null)){var E=s.current;if(E){var I=E.getCalculatedWidth();Math.round(f.width)!==Math.round(I)&&u(ASe({id:e,width:I}))}}},[p,f,u,i,e,r,y]),f==null||m==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:b}=t,w=Cb(t,jAe),{id:_}=y,j=Cb(y,TAe);return x.createElement(hP,lj({},w,j,{ref:s,labelRef:a,scale:h,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:ht("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:p}))},RAe={allowDataOverflow:ui.allowDataOverflow,allowDecimals:ui.allowDecimals,allowDuplicatedCategory:ui.allowDuplicatedCategory,hide:!1,mirror:ui.mirror,orientation:ui.orientation,padding:ui.padding,reversed:ui.reversed,scale:ui.scale,tickCount:ui.tickCount,type:ui.type,width:ui.width,yAxisId:0},MAe=t=>{var e,n,r,i,s,a=ur(t,RAe);return x.createElement(x.Fragment,null,x.createElement(OAe,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),x.createElement(IAe,a))},DAe=(t,e)=>{var{domain:n}=t,r=Cb(t,NAe),{domain:i}=e,s=Cb(e,CAe);return _h(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:_h({domain:n},{domain:i}):!1},$1=x.memo(MAe,DAe);$1.displayName="YAxis";var LAe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=x;function VAe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var FAe=typeof Object.is=="function"?Object.is:VAe,BAe=d0.useSyncExternalStore,UAe=d0.useRef,zAe=d0.useEffect,$Ae=d0.useMemo,HAe=d0.useDebugValue;LAe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=UAe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=$Ae(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return h=p}return h=m}if(p=h,FAe(d,m))return p;var y=r(m);return i!==void 0&&i(p,y)?(d=m,p):(d=m,h=y)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=BAe(t,s[0],s[1]);return zAe(function(){a.hasValue=!0,a.value=o},[o]),HAe(o),o};function qAe(t){t()}function WAe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){qAe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var k4={notify(){},get:()=>[]};function KAe(t,e){let n,r=k4,i=0,s=!1;function a(y){d();const v=r.subscribe(y);let b=!1;return()=>{b||(b=!0,v(),h())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){i++,n||(n=t.subscribe(l),r=WAe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=k4)}function f(){s||(s=!0,d())}function m(){s&&(s=!1,h())}const p={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return p}var GAe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YAe=GAe(),XAe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",QAe=XAe(),ZAe=()=>YAe||QAe?x.useLayoutEffect:x.useEffect,JAe=ZAe(),ZS=Symbol.for("react-redux-context"),JS=typeof globalThis<"u"?globalThis:{};function eje(){if(!x.createContext)return{};const t=JS[ZS]??(JS[ZS]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var tje=eje();function nje(t){const{children:e,context:n,serverState:r,store:i}=t,s=x.useMemo(()=>{const l=KAe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=x.useMemo(()=>i.getState(),[i]);JAe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||tje;return x.createElement(o.Provider,{value:s},e)}var rje=nje,ije=(t,e)=>e,mP=K([ije,nt,Xq,Bn,UW,yo,wwe,Vn],Awe),pP=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},YK=Qi("mouseClick"),XK=Gg();XK.startListening({actionCreator:YK,effect:(t,e)=>{var n=t.payload,r=mP(e.getState(),pP(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Cbe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var cj=Qi("mouseMove"),QK=Gg();QK.startListening({actionCreator:cj,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=VC(r,r.tooltip.settings.shared),s=mP(r,pP(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(RW({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(IW()))}});var A4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},ZK=ki({name:"rootProps",initialState:A4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:A4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),sje=ZK.reducer,{updateOptions:aje}=ZK.actions,JK=ki({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:oje}=JK.actions,lje=JK.reducer,eG=Qi("keyDown"),tG=Qi("focus"),gP=Gg();gP.startListening({actionCreator:eG,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(FC(i,tf(n))),o=yo(n);if(s==="Enter"){var l=bb(n,"axis","hover",String(i.index));e.dispatch(ej({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=wbe(n),d=u==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,f=a+h*d;if(!(o==null||f>=o.length||f<0)){var m=bb(n,"axis","hover",String(f));e.dispatch(ej({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});gP.startListening({actionCreator:tG,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=bb(n,"axis","hover",String(s));e.dispatch(ej({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Ci=Qi("externalEvent"),nG=Gg();nG.startListening({actionCreator:Ci,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:hwe(n),activeDataKey:qW(n),activeIndex:Nl(n),activeLabel:HW(n),activeTooltipIndex:Nl(n),isTooltipActive:fwe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var cje=K([ef],t=>t.tooltipItemPayloads),uje=K([cje,l0,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),rG=Qi("touchMove"),iG=Gg();iG.startListening({actionCreator:rG,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=VC(r,r.tooltip.settings.shared);if(i==="axis"){var s=mP(r,pP({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(RW({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(_H),d=(a=l.getAttribute(SH))!==null&&a!==void 0?a:void 0,h=uje(e.getState(),u,d);e.dispatch(OW({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}});var dje=K$({brush:GEe,cartesianAxis:jSe,chartData:Uwe,errorBars:WSe,graphicalItems:W_e,layout:Cpe,legend:jge,options:Dwe,polarAxis:d_e,polarOptions:lje,referenceElements:tke,rootProps:sje,tooltip:Pbe}),hje=function(e){return tpe({reducer:dje,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([XK.middleware,QK.middleware,gP.middleware,nG.middleware,iG.middleware]),devTools:Ul.devToolsEnabled})};function sG(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=si(),s=x.useRef(null);if(i)return n;s.current==null&&(s.current=hje(e));var a=PN;return x.createElement(rje,{context:a,store:s.current},n)}function aG(t){var{layout:e,width:n,height:r,margin:i}=t,s=xn(),a=si();return x.useEffect(()=>{a||(s(jpe(e)),s(Tpe({width:n,height:r})),s(Ape(i)))},[s,a,e,n,r,i]),null}function oG(t){var e=xn();return x.useEffect(()=>{e(aje(t))},[e,t]),null}var fje=["children"];function mje(t,e){if(t==null)return{};var n,r,i=pje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(null,arguments)}var gje={width:"100%",height:"100%"},yje=x.forwardRef((t,e)=>{var n=kH(),r=AH(),i=DH();if(!ph(n)||!ph(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,x.createElement(e$,Pb({},a,{title:o,desc:l,role:d,tabIndex:u,width:n,height:r,style:gje,ref:e}),s)}),vje=t=>{var{children:e}=t,n=_e(y1);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return x.createElement(e$,{width:r,height:i,x:a,y:s},e)},j4=x.forwardRef((t,e)=>{var{children:n}=t,r=mje(t,fje),i=si();return i?x.createElement(vje,null,n):x.createElement(yje,Pb({ref:e},r),n)});function xje(){var t=xn(),[e,n]=x.useState(null),r=_e(ige);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;cr(s)&&s!==r&&t(Npe(s))}},[e,t,r]),n}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bje(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){wje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wje(t,e,n){return(e=_je(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _je(t){var e=Sje(t,"string");return typeof e=="symbol"?e:e+""}function Sje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eje=x.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:p,onTouchStart:y,style:v,width:b}=t,w=xn(),[_,j]=x.useState(null),[E,I]=x.useState(null);Xwe();var k=xje(),S=x.useCallback(z=>{k(z),typeof e=="function"&&e(z),j(z),I(z)},[k,e,j,I]),P=x.useCallback(z=>{w(YK(z)),w(Ci({handler:s,reactEvent:z}))},[w,s]),O=x.useCallback(z=>{w(cj(z)),w(Ci({handler:u,reactEvent:z}))},[w,u]),N=x.useCallback(z=>{w(IW()),w(Ci({handler:d,reactEvent:z}))},[w,d]),A=x.useCallback(z=>{w(cj(z)),w(Ci({handler:h,reactEvent:z}))},[w,h]),C=x.useCallback(()=>{w(tG())},[w]),F=x.useCallback(z=>{w(eG(z.key))},[w]),M=x.useCallback(z=>{w(Ci({handler:a,reactEvent:z}))},[w,a]),V=x.useCallback(z=>{w(Ci({handler:o,reactEvent:z}))},[w,o]),B=x.useCallback(z=>{w(Ci({handler:l,reactEvent:z}))},[w,l]),D=x.useCallback(z=>{w(Ci({handler:f,reactEvent:z}))},[w,f]),U=x.useCallback(z=>{w(Ci({handler:y,reactEvent:z}))},[w,y]),H=x.useCallback(z=>{w(rG(z)),w(Ci({handler:p,reactEvent:z}))},[w,p]),X=x.useCallback(z=>{w(Ci({handler:m,reactEvent:z}))},[w,m]);return x.createElement(ZW.Provider,{value:_},x.createElement(sfe.Provider,{value:E},x.createElement("div",{className:ht("recharts-wrapper",r),style:bje({position:"relative",cursor:"default",width:b,height:i},v),onClick:P,onContextMenu:M,onDoubleClick:V,onFocus:C,onKeyDown:F,onMouseDown:B,onMouseEnter:O,onMouseLeave:N,onMouseMove:A,onMouseUp:D,onTouchEnd:X,onTouchMove:H,onTouchStart:U,ref:S},n)))}),kje=["children","className","width","height","style","compact","title","desc"];function Aje(t,e){if(t==null)return{};var n,r,i=jje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lG=x.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:a,compact:o,title:l,desc:u}=t,d=Aje(t,kje),h=ks(d);return o?x.createElement(j4,{otherAttributes:h,title:l,desc:u},n):x.createElement(Eje,{className:r,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(j4,{otherAttributes:h,title:l,desc:u,ref:e},x.createElement(rke,null,n)))}),Tje=["width","height"];function uj(){return uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uj.apply(null,arguments)}function Nje(t,e){if(t==null)return{};var n,r,i=Cje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pje={top:5,right:5,bottom:5,left:5},Oje={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pje,reverseStackOrder:!1,syncMethod:"index"},cG=x.forwardRef(function(e,n){var r,i=ur(e.categoricalChartProps,Oje),{width:s,height:a}=i,o=Nje(i,Tje);if(!ph(s)||!ph(a))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,categoricalChartProps:f}=e,m={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(sG,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:l},x.createElement(DK,{chartData:f.data}),x.createElement(aG,{width:s,height:a,layout:i.layout,margin:i.margin}),x.createElement(oG,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(lG,uj({},o,{width:s,height:a,ref:n})))}),Ije=["axis","item"],yP=x.forwardRef((t,e)=>x.createElement(cG,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ije,tooltipPayloadSearcher:KC,categoricalChartProps:t,ref:e}));function Rje(t){var e=xn();return x.useEffect(()=>{e(oje(t))},[e,t]),null}var Mje=["width","height","layout"];function dj(){return dj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dj.apply(null,arguments)}function Dje(t,e){if(t==null)return{};var n,r,i=Lje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vje={top:5,right:5,bottom:5,left:5},Fje={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vje,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Bje=x.forwardRef(function(e,n){var r,i=ur(e.categoricalChartProps,Fje),{width:s,height:a,layout:o}=i,l=Dje(i,Mje);if(!ph(s)||!ph(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=e,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(sG,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},x.createElement(DK,{chartData:i.data}),x.createElement(aG,{width:s,height:a,layout:o,margin:i.margin}),x.createElement(oG,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(Rje,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(lG,dj({width:s,height:a},l,{ref:n})))}),Uje=["item"],zje={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},hj=x.forwardRef((t,e)=>{var n=ur(t,zje);return x.createElement(Bje,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Uje,tooltipPayloadSearcher:KC,categoricalChartProps:n,ref:e})}),$je=["axis"],Hje=x.forwardRef((t,e)=>x.createElement(cG,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$je,tooltipPayloadSearcher:KC,categoricalChartProps:t,ref:e}));const uG=6048e5,qje=864e5,N4=Symbol.for("constructDateFrom");function Ol(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&N4 in t?t[N4](e):t instanceof Date?new t.constructor(e):new Date(e)}function js(t,e){return Ol(e||t,t)}let Wje={};function H1(){return Wje}function Hp(t,e){var o,l,u,d;const n=H1(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=js(t,e==null?void 0:e.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Ob(t,e){return Hp(t,{...e,weekStartsOn:1})}function dG(t,e){const n=js(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ol(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Ob(i),a=Ol(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Ob(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function C4(t){const e=js(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Kje(t,...e){const n=Ol.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function P4(t,e){const n=js(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Gje(t,e,n){const[r,i]=Kje(n==null?void 0:n.in,t,e),s=P4(r),a=P4(i),o=+s-C4(s),l=+a-C4(a);return Math.round((o-l)/qje)}function Yje(t,e){const n=dG(t,e),r=Ol(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ob(r)}function Xje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Qje(t){return!(!Xje(t)&&typeof t!="number"||isNaN(+js(t)))}function Zje(t,e){const n=js(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Jje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},e2e=(t,e,n)=>{let r;const i=Jje[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eE(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const t2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},n2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i2e={date:eE({formats:t2e,defaultWidth:"full"}),time:eE({formats:n2e,defaultWidth:"full"}),dateTime:eE({formats:r2e,defaultWidth:"full"})},s2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},a2e=(t,e,n,r)=>s2e[t];function Hf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const o2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},h2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f2e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},m2e={ordinalNumber:f2e,era:Hf({values:o2e,defaultWidth:"wide"}),quarter:Hf({values:l2e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hf({values:c2e,defaultWidth:"wide"}),day:Hf({values:u2e,defaultWidth:"wide"}),dayPeriod:Hf({values:d2e,defaultWidth:"wide",formattingValues:h2e,defaultFormattingWidth:"wide"})};function qf(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?g2e(o,h=>h.test(a)):p2e(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function p2e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function g2e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function y2e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const v2e=/^(\d+)(th|st|nd|rd)?/i,x2e=/\d+/i,b2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},w2e={any:[/^b/i,/^(a|c)/i]},_2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S2e={any:[/1/i,/2/i,/3/i,/4/i]},E2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},k2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},A2e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},j2e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T2e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},N2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},C2e={ordinalNumber:y2e({matchPattern:v2e,parsePattern:x2e,valueCallback:t=>parseInt(t,10)}),era:qf({matchPatterns:b2e,defaultMatchWidth:"wide",parsePatterns:w2e,defaultParseWidth:"any"}),quarter:qf({matchPatterns:_2e,defaultMatchWidth:"wide",parsePatterns:S2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qf({matchPatterns:E2e,defaultMatchWidth:"wide",parsePatterns:k2e,defaultParseWidth:"any"}),day:qf({matchPatterns:A2e,defaultMatchWidth:"wide",parsePatterns:j2e,defaultParseWidth:"any"}),dayPeriod:qf({matchPatterns:T2e,defaultMatchWidth:"any",parsePatterns:N2e,defaultParseWidth:"any"})},P2e={code:"en-US",formatDistance:e2e,formatLong:i2e,formatRelative:a2e,localize:m2e,match:C2e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function O2e(t,e){const n=js(t,e==null?void 0:e.in);return Gje(n,Zje(n))+1}function I2e(t,e){const n=js(t,e==null?void 0:e.in),r=+Ob(n)-+Yje(n);return Math.round(r/uG)+1}function hG(t,e){var d,h,f,m;const n=js(t,e==null?void 0:e.in),r=n.getFullYear(),i=H1(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=Ol((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Hp(a,e),l=Ol((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Hp(l,e);return+n>=+o?r+1:+n>=+u?r:r-1}function R2e(t,e){var o,l,u,d;const n=H1(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=hG(t,e),s=Ol((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Hp(s,e)}function M2e(t,e){const n=js(t,e==null?void 0:e.in),r=+Hp(n,e)-+R2e(n,e);return Math.round(r/uG)+1}function xt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Eo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return xt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):xt(n+1,2)},d(t,e){return xt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return xt(t.getHours()%12||12,e.length)},H(t,e){return xt(t.getHours(),e.length)},m(t,e){return xt(t.getMinutes(),e.length)},s(t,e){return xt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return xt(i,e.length)}},Bu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O4={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Eo.y(t,e)},Y:function(t,e,n,r){const i=hG(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return xt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):xt(s,e.length)},R:function(t,e){const n=dG(t);return xt(n,e.length)},u:function(t,e){const n=t.getFullYear();return xt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Eo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=M2e(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):xt(i,e.length)},I:function(t,e,n){const r=I2e(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):xt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Eo.d(t,e)},D:function(t,e,n){const r=O2e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return xt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return xt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return xt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Bu.noon:r===0?i=Bu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Bu.evening:r>=12?i=Bu.afternoon:r>=4?i=Bu.morning:i=Bu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Eo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Eo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Eo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Eo.s(t,e)},S:function(t,e){return Eo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return R4(r);case"XXXX":case"XX":return mc(r);case"XXXXX":case"XXX":default:return mc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return R4(r);case"xxxx":case"xx":return mc(r);case"xxxxx":case"xxx":default:return mc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+I4(r,":");case"OOOO":default:return"GMT"+mc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+I4(r,":");case"zzzz":default:return"GMT"+mc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return xt(r,e.length)},T:function(t,e,n){return xt(+t,e.length)}};function I4(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+xt(s,2)}function R4(t,e){return t%60===0?(t>0?"-":"+")+xt(Math.abs(t)/60,2):mc(t,e)}function mc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=xt(Math.trunc(r/60),2),s=xt(r%60,2);return n+i+e+s}const M4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},D2e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return M4(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",M4(r,e)).replace("{{time}}",fG(i,e))},L2e={p:fG,P:D2e},V2e=/^D+$/,F2e=/^Y+$/,B2e=["D","DD","YY","YYYY"];function U2e(t){return V2e.test(t)}function z2e(t){return F2e.test(t)}function $2e(t,e,n){const r=H2e(t,e,n);if(console.warn(r),B2e.includes(t))throw new RangeError(r)}function H2e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const q2e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,W2e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K2e=/^'([^]*?)'?$/,G2e=/''/g,Y2e=/[a-zA-Z]/;function Ib(t,e,n){var d,h,f,m;const r=H1(),i=r.locale??P2e,s=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,o=js(t,n==null?void 0:n.in);if(!Qje(o))throw new RangeError("Invalid time value");let l=e.match(W2e).map(p=>{const y=p[0];if(y==="p"||y==="P"){const v=L2e[y];return v(p,i.formatLong)}return p}).join("").match(q2e).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:X2e(p)};if(O4[y])return{isToken:!0,value:p};if(y.match(Y2e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(p=>{if(!p.isToken)return p.value;const y=p.value;(z2e(y)||U2e(y))&&$2e(y,e,String(t));const v=O4[y[0]];return v(o,y,i.localize,u)}).join("")}function X2e(t){const e=t.match(K2e);return e?e[1].replace(G2e,"'"):t}const Q2e={funds:lu,income:Dg,expenses:hN,budget:pA,balance:pA};function Rb({title:t,value:e,series:n=[],variant:r="funds",className:i=""}){const{isDark:s}=da(),a=Q2e[r]||lu,o=x.useMemo(()=>`stat-grad-${r}-${String(t)}`.replace(/[^a-z0-9-_]/gi,"-"),[r,t]),l={funds:"#2563eb",income:"#059669",expenses:"#e11d48",budget:"#d97706",balance:"#06b6d4"},u="#2563eb",d=s?"#cbd5e1":"#64748b",[h,f]=x.useState("W"),m=h==="W"?7:h==="M"?30:365,p=x.useMemo(()=>(n||[]).map(w=>({value:Number(w.value??w.y??0),label:w.date??w.x??null})),[n]),y=x.useMemo(()=>!p||p.length===0?[]:p.length<=m?p:p.slice(-m),[p,m]),v=x.useMemo(()=>{var j,E;if(!y||y.length<2)return 0;const w=Number(((j=y[0])==null?void 0:j.value)??0),_=Number(((E=y[y.length-1])==null?void 0:E.value)??0);return w?(_-w)/Math.abs(w)*100:0},[y]),b=x.useMemo(()=>{var j;if(!y||y.length===0)return"";const w=(j=y[y.length-1])==null?void 0:j.label,_=w?new Date(w):new Date;if(isNaN(_))return"";try{return Ib(_,"MMM d, yyyy")}catch{return""}},[y]);return x.useMemo(()=>({active:w,payload:_})=>{var k;if(!w||!_||_.length===0)return null;const j=((k=_[0])==null?void 0:k.payload)||{},E=j.label?new Date(j.label):null,I=E&&!isNaN(E)?Ib(E,"MMM d, yyyy"):"";return c.jsxs("div",{className:"px-2 py-1 rounded-md bg-white/90 backdrop-blur ring-1 ring-slate-200 shadow text-[10px] text-slate-700 dark:bg-slate-800/90 dark:ring-slate-700 dark:text-slate-100",children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:(j.value??0).toLocaleString()}),I&&c.jsx("div",{className:"text-slate-500 dark:text-slate-300",children:I})]})},[]),c.jsx("div",{className:`group relative overflow-hidden rounded-xl bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-800 shadow-md transition-all duration-300 ${i}`,style:{minHeight:96,padding:0,boxShadow:"0 2px 12px 0 rgba(0,0,0,0.06)",cursor:"pointer"},onMouseEnter:w=>{w.currentTarget.style.boxShadow="0 6px 24px 0 rgba(37,99,235,0.12)",w.currentTarget.style.transform="translateY(-2px) scale(1.03)",w.currentTarget.style.borderColor="#2563eb"},onMouseLeave:w=>{w.currentTarget.style.boxShadow="0 2px 12px 0 rgba(0,0,0,0.06)",w.currentTarget.style.transform="none",w.currentTarget.style.borderColor=s?"#334155":"#d1d5db"},children:c.jsxs("div",{className:"relative p-3 sm:p-4 flex flex-col min-h-[96px]",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-lg border border-slate-300 dark:border-slate-800 shadow-sm",style:{background:s?"#1e293b":"#f8fafc"},children:c.jsx(a,{className:"h-4 w-4 opacity-90",style:{color:l[r]||"#2563eb"}})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-xs uppercase tracking-wide truncate font-semibold",style:{color:u},children:t}),c.jsx("p",{className:"mt-0.5 font-bold whitespace-nowrap overflow-hidden text-ellipsis text-[2rem]",title:String(e),style:{color:s?"#fff":"#1e293b",fontWeight:700,letterSpacing:"0.01em"},children:e})]})]}),y.length>0&&c.jsx("div",{className:"mt-1 h-8 sm:h-10",children:c.jsx(pu,{width:"100%",height:"100%",children:c.jsxs(Hje,{data:y,children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:o,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:l[r]||"#2563eb",stopOpacity:.18}),c.jsx("stop",{offset:"100%",stopColor:l[r]||"#2563eb",stopOpacity:.03})]})}),c.jsx(GK,{type:"monotone",dataKey:"value",stroke:"none",fill:`url(#${o})`,strokeWidth:0,strokeOpacity:0,fillOpacity:1,strokeLinejoin:"round",strokeLinecap:"round",dot:!1})]})})}),y.length>1&&c.jsxs("span",{className:"absolute top-2 right-2 rounded-lg px-2 py-0.5 text-xs font-semibold inline-flex items-center gap-1",style:{color:d,background:s?"#1e293b":"#f1f5f9",fontWeight:600},children:[v>=0?c.jsx(Pz,{className:"h-3 w-3"}):c.jsx(hN,{className:"h-3 w-3"}),Math.abs(v).toFixed(1),"%"]}),c.jsxs("div",{className:"mt-1 text-[10px] flex items-center justify-between",style:{color:d},children:[c.jsx("span",{className:"truncate",style:{color:"#fbbf24"},children:b?`as of ${b}`:""}),c.jsx("div",{className:"inline-flex items-center rounded-full bg-slate-100 p-0.5 shadow-inner dark:bg-slate-800/60",children:["W","M","Y"].map(w=>c.jsx("button",{onClick:()=>f(w),className:`px-2 py-0.5 text-[10px] sm:text-xs rounded-full transition-colors ${h===w?"bg-white text-slate-900 shadow dark:bg-slate-700 dark:text-slate-100":"text-slate-600 hover:text-slate-800 dark:text-slate-300 dark:hover:text-slate-100"}`,"aria-label":`Show ${w==="W"?"7d":w==="M"?"30d":"365d"}`,children:w},w))})]})]})})}const D4={indigo:"from-indigo-600 to-indigo-800",blue:"from-blue-600 to-blue-800",purple:"from-purple-600 to-purple-800",green:"from-green-600 to-green-800",cyan:"from-cyan-600 to-cyan-800",pink:"from-pink-600 to-pink-800",orange:"from-orange-600 to-orange-800",red:"from-red-600 to-red-800"},L4={indigo:"text-indigo-100",blue:"text-blue-100",purple:"text-purple-100",green:"text-green-100",cyan:"text-cyan-100",pink:"text-pink-100",orange:"text-orange-100",red:"text-red-100"};function mG({payment:t,onDelete:e,onSetDefault:n,size:r="default"}){if(!t)return null;const i=t.type==="card",s=t.type==="mpesa",a=D4[t.color]||D4.indigo;L4[t.color]||L4.indigo;const o=r==="small"?"h-48":"h-64",l=r==="small"?"p-5":"p-8";if(i){const u=`   ${t.cardNumber.slice(-4)}`,d=`${String(t.expiryMonth).padStart(2,"0")}/${t.expiryYear.toString().slice(-2)}`;return c.jsxs("div",{className:`relative w-full ${o} rounded-3xl bg-gradient-to-br ${a} ${l} text-white shadow-2xl overflow-hidden group transform transition-all duration-300 hover:shadow-3xl hover:scale-105`,children:[c.jsx("div",{className:"absolute -top-32 -right-32 w-64 h-64 bg-white/5 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-300"}),c.jsx("div",{className:"absolute -bottom-24 -left-24 w-56 h-56 bg-white/5 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-300"}),c.jsx("div",{className:"absolute top-1/2 right-1/4 w-40 h-40 bg-white/10 rounded-full blur-2xl opacity-30 group-hover:opacity-60 transition-opacity duration-300"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl"}),c.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-md",children:c.jsx(Dz,{className:"h-6 w-6 text-white"})}),t.isDefault&&c.jsx("span",{className:"text-xs font-bold bg-white/30 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/40",children:"DEFAULT"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-xs font-semibold opacity-75 uppercase tracking-widest",children:"Card Number"}),c.jsx("div",{className:"text-xl md:text-2xl font-mono font-semibold tracking-[0.15em] drop-shadow-lg",children:u})]}),c.jsxs("div",{className:"flex items-end justify-between pt-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold opacity-75 uppercase tracking-widest",children:"Card Holder"}),c.jsx("div",{className:"font-bold text-lg md:text-xl leading-tight",children:t.cardholderName}),c.jsxs("div",{className:"text-xs opacity-75 mt-2 font-medium",children:["Expires ",d]})]}),c.jsx("div",{className:"text-right",children:c.jsx("div",{className:"text-xs font-bold opacity-60 uppercase tracking-widest",children:"Visa"})})]})]}),r!=="small"&&c.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl flex items-center justify-center gap-3 z-20",children:[!t.isDefault&&c.jsx("button",{onClick:()=>n==null?void 0:n(t.id),className:"px-4 py-2 bg-white text-indigo-600 rounded-xl font-bold text-sm hover:bg-gray-100 transition-all duration-200 transform hover:scale-110 shadow-lg",children:"Set Default"}),c.jsx("button",{onClick:()=>e==null?void 0:e(t.id),className:"px-4 py-2 bg-red-500 text-white rounded-xl font-bold text-sm hover:bg-red-600 transition-all duration-200 transform hover:scale-110 shadow-lg",children:"Delete"})]})]})}return s?c.jsxs("div",{className:`relative w-full ${o} rounded-3xl bg-gradient-to-br ${a} ${l} text-white shadow-2xl overflow-hidden group transform transition-all duration-300 hover:shadow-3xl hover:scale-105`,children:[c.jsx("div",{className:"absolute -top-32 -right-32 w-64 h-64 bg-white/5 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-300"}),c.jsx("div",{className:"absolute -bottom-24 -left-24 w-56 h-56 bg-white/5 rounded-full blur-3xl opacity-50 group-hover:opacity-100 transition-opacity duration-300"}),c.jsx("div",{className:"absolute top-1/2 right-1/4 w-40 h-40 bg-white/10 rounded-full blur-2xl opacity-30 group-hover:opacity-60 transition-opacity duration-300"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl"}),c.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-md",children:c.jsx(Dg,{className:"h-6 w-6 text-white"})}),t.isDefault&&c.jsx("span",{className:"text-xs font-bold bg-white/30 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/40",children:"DEFAULT"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold opacity-75 uppercase tracking-widest",children:"Till Number"}),c.jsx("div",{className:"text-2xl font-mono font-bold tracking-[0.05em] drop-shadow-lg",children:t.tillNumber}),c.jsx("div",{className:"text-xs font-semibold opacity-75 uppercase tracking-widest mt-4",children:"M-Pesa Account"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold opacity-75 uppercase tracking-widest mb-1",children:"Registered Phone"}),c.jsx("div",{className:"font-bold text-lg md:text-xl",children:t.phoneNumber})]})]}),r!=="small"&&c.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl flex items-center justify-center gap-3 z-20",children:[!t.isDefault&&c.jsx("button",{onClick:()=>n==null?void 0:n(t.id),className:"px-4 py-2 bg-white text-green-600 rounded-xl font-bold text-sm hover:bg-gray-100 transition-all duration-200 transform hover:scale-110 shadow-lg",children:"Set Default"}),c.jsx("button",{onClick:()=>e==null?void 0:e(t.id),className:"px-4 py-2 bg-red-500 text-white rounded-xl font-bold text-sm hover:bg-red-600 transition-all duration-200 transform hover:scale-110 shadow-lg",children:"Delete"})]})]}):null}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function h0(t){return t+.5|0}const nl=(t,e,n)=>Math.max(Math.min(t,n),e);function mm(t){return nl(h0(t*2.55),0,255)}function yl(t){return nl(h0(t*255),0,255)}function _a(t){return nl(h0(t/2.55)/100,0,1)}function V4(t){return nl(h0(t*100),0,100)}const Ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fj=[..."0123456789ABCDEF"],Z2e=t=>fj[t&15],J2e=t=>fj[(t&240)>>4]+fj[t&15],Ay=t=>(t&240)>>4===(t&15),eTe=t=>Ay(t.r)&&Ay(t.g)&&Ay(t.b)&&Ay(t.a);function tTe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ti[t[1]]*17,g:255&Ti[t[2]]*17,b:255&Ti[t[3]]*17,a:e===5?Ti[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ti[t[1]]<<4|Ti[t[2]],g:Ti[t[3]]<<4|Ti[t[4]],b:Ti[t[5]]<<4|Ti[t[6]],a:e===9?Ti[t[7]]<<4|Ti[t[8]]:255})),n}const nTe=(t,e)=>t<255?e(t):"";function rTe(t){var e=eTe(t)?Z2e:J2e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+nTe(t.a,e):void 0}const iTe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pG(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function sTe(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function aTe(t,e,n){const r=pG(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function oTe(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function vP(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;let l,u,d;return s!==a&&(d=s-a,u=o>.5?d/(2-s-a):d/(s+a),l=oTe(n,r,i,d,s),l=l*60+.5),[l|0,u||0,o]}function xP(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(yl)}function bP(t,e,n){return xP(pG,t,e,n)}function lTe(t,e,n){return xP(aTe,t,e,n)}function cTe(t,e,n){return xP(sTe,t,e,n)}function gG(t){return(t%360+360)%360}function uTe(t){const e=iTe.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?mm(+e[5]):yl(+e[5]));const i=gG(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=lTe(i,s,a):e[1]==="hsv"?r=cTe(i,s,a):r=bP(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function dTe(t,e){var n=vP(t);n[0]=gG(n[0]+e),n=bP(n),t.r=n[0],t.g=n[1],t.b=n[2]}function hTe(t){if(!t)return;const e=vP(t),n=e[0],r=V4(e[1]),i=V4(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${_a(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const F4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},B4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fTe(){const t={},e=Object.keys(B4),n=Object.keys(F4);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,F4[s]);s=parseInt(B4[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let jy;function mTe(t){jy||(jy=fTe(),jy.transparent=[0,0,0,0]);const e=jy[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const pTe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gTe(t){const e=pTe.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?mm(a):nl(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?mm(r):nl(r,0,255)),i=255&(e[4]?mm(i):nl(i,0,255)),s=255&(e[6]?mm(s):nl(s,0,255)),{r,g:i,b:s,a:n}}}function yTe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${_a(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const tE=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Uu=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function vTe(t,e,n){const r=Uu(_a(t.r)),i=Uu(_a(t.g)),s=Uu(_a(t.b));return{r:yl(tE(r+n*(Uu(_a(e.r))-r))),g:yl(tE(i+n*(Uu(_a(e.g))-i))),b:yl(tE(s+n*(Uu(_a(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ty(t,e,n){if(t){let r=vP(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=bP(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function yG(t,e){return t&&Object.assign(e||{},t)}function U4(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=yl(t[3]))):(e=yG(t,{r:0,g:0,b:0,a:1}),e.a=yl(e.a)),e}function xTe(t){return t.charAt(0)==="r"?gTe(t):uTe(t)}class qp{constructor(e){if(e instanceof qp)return e;const n=typeof e;let r;n==="object"?r=U4(e):n==="string"&&(r=tTe(e)||mTe(e)||xTe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=yG(this._rgb);return e&&(e.a=_a(e.a)),e}set rgb(e){this._rgb=U4(e)}rgbString(){return this._valid?yTe(this._rgb):void 0}hexString(){return this._valid?rTe(this._rgb):void 0}hslString(){return this._valid?hTe(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=r.a-i.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=vTe(this._rgb,e._rgb,n)),this}clone(){return new qp(this.rgb)}alpha(e){return this._rgb.a=yl(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=h0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ty(this._rgb,2,e),this}darken(e){return Ty(this._rgb,2,-e),this}saturate(e){return Ty(this._rgb,1,e),this}desaturate(e){return Ty(this._rgb,1,-e),this}rotate(e){return dTe(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ya(){}const bTe=(()=>{let t=0;return()=>t++})();function Mt(t){return t==null}function Mn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ot(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function jr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ps(t,e){return jr(t)?t:e}function tt(t,e){return typeof t>"u"?e:t}const wTe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Bt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function wt(t,e,n,r){let i,s,a;if(Mn(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(ot(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function Mb(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Db(t){if(Mn(t))return t.map(Db);if(ot(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Db(t[n[i]]);return e}return t}function vG(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _Te(t,e,n,r){if(!vG(t))return;const i=e[t],s=n[t];ot(i)&&ot(s)?Wp(i,s,r):e[t]=Db(s)}function Wp(t,e,n){const r=Mn(e)?e:[e],i=r.length;if(!ot(t))return t;n=n||{};const s=n.merger||_Te;let a;for(let o=0;o<i;++o){if(a=r[o],!ot(a))continue;const l=Object.keys(a);for(let u=0,d=l.length;u<d;++u)s(l[u],t,a,n)}return t}function $m(t,e){return Wp(t,e,{merger:STe})}function STe(t,e,n){if(!vG(t))return;const r=e[t],i=n[t];ot(r)&&ot(i)?$m(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Db(i))}const z4={"":t=>t,x:t=>t.x,y:t=>t.y};function ETe(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function kTe(t){const e=ETe(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Lb(t,e){return(z4[e]||(z4[e]=kTe(e)))(t)}function wP(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Vb=t=>typeof t<"u",Il=t=>typeof t=="function",$4=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function ATe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Xn=Math.PI,ps=2*Xn,jTe=ps+Xn,Fb=Number.POSITIVE_INFINITY,TTe=Xn/180,hs=Xn/2,tc=Xn/4,H4=Xn*2/3,xG=Math.log10,Sh=Math.sign;function Hm(t,e,n){return Math.abs(t-e)<n}function q4(t){const e=Math.round(t);t=Hm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(xG(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function NTe(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function CTe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Kp(t){return!CTe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function PTe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function OTe(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ec(t){return t*(Xn/180)}function ITe(t){return t*(180/Xn)}function W4(t){if(!jr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function RTe(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Xn&&(s+=ps),{angle:s,distance:i}}function mj(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function MTe(t,e){return(t-e+jTe)%ps-Xn}function Ls(t){return(t%ps+ps)%ps}function bG(t,e,n,r){const i=Ls(t),s=Ls(e),a=Ls(n),o=Ls(s-i),l=Ls(a-i),u=Ls(i-s),d=Ls(i-a);return i===s||i===a||r&&s===a||o>l&&u<d}function Hi(t,e,n){return Math.max(e,Math.min(n,t))}function DTe(t){return Hi(t,-32768,32767)}function fd(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function _P(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const kc=(t,e,n,r)=>_P(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),LTe=(t,e,n)=>_P(t,n,r=>t[r][e]>=n);function VTe(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const wG=["push","pop","shift","splice","unshift"];function FTe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),wG.forEach(n=>{const r="_onData"+wP(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function K4(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(wG.forEach(s=>{delete t[s]}),delete t._chartjs)}function BTe(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const _G=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function SG(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,_G.call(window,()=>{r=!1,t.apply(e,n)}))}}function UTe(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const SP=t=>t==="start"?"left":t==="end"?"right":"center",pr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,zTe=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function $Te(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:m,maxDefined:p}=a.getUserBounds();if(m){if(i=Math.min(kc(l,d,h).lo,n?r:kc(e,d,a.getPixelForValue(h)).lo),u){const y=l.slice(0,i+1).reverse().findIndex(v=>!Mt(v[o.axis]));i-=Math.max(0,y)}i=Hi(i,0,r-1)}if(p){let y=Math.max(kc(l,a.axis,f,!0).hi+1,n?0:kc(e,d,a.getPixelForValue(f),!0).hi+1);if(u){const v=l.slice(y-1).findIndex(b=>!Mt(b[o.axis]));y+=Math.max(0,v)}s=Hi(y,i,r)-i}else s=r-i}return{start:i,count:s}}function HTe(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Ny=t=>t===0||t===1,G4=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ps/n)),Y4=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ps/n)+1,qm={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*hs)+1,easeOutSine:t=>Math.sin(t*hs),easeInOutSine:t=>-.5*(Math.cos(Xn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ny(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ny(t)?t:G4(t,.075,.3),easeOutElastic:t=>Ny(t)?t:Y4(t,.075,.3),easeInOutElastic(t){return Ny(t)?t:t<.5?.5*G4(t*2,.1125,.45):.5+.5*Y4(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-qm.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?qm.easeInBounce(t*2)*.5:qm.easeOutBounce(t*2-1)*.5+.5};function EP(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function X4(t){return EP(t)?t:new qp(t)}function nE(t){return EP(t)?t:new qp(t).saturate(.5).darken(.1).hexString()}const qTe=["x","y","borderWidth","radius","tension"],WTe=["color","borderColor","backgroundColor"];function KTe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:WTe},numbers:{type:"number",properties:qTe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function GTe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Q4=new Map;function YTe(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Q4.get(n);return r||(r=new Intl.NumberFormat(t,e),Q4.set(n,r)),r}function EG(t,e,n){return YTe(e,n).format(t)}const XTe={values(t){return Mn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=QTe(t,n)}const a=xG(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),EG(t,r,l)}};function QTe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var kG={formatters:XTe};function ZTe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kG.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yu=Object.create(null),pj=Object.create(null);function Wm(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function rE(t,e,n){return typeof e=="string"?Wp(Wm(t,e),n):Wp(Wm(t,""),e)}class JTe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>nE(i.backgroundColor),this.hoverBorderColor=(r,i)=>nE(i.borderColor),this.hoverColor=(r,i)=>nE(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return rE(this,e,n)}get(e){return Wm(this,e)}describe(e,n){return rE(pj,e,n)}override(e,n){return rE(yu,e,n)}route(e,n,r,i){const s=Wm(this,e),a=Wm(this,r),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],u=a[i];return ot(l)?Object.assign({},u,l):tt(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var yn=new JTe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[KTe,GTe,ZTe]);function eNe(t){return!t||Mt(t.size)||Mt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Z4(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function nc(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function J4(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function gj(t,e,n,r){AG(t,e,n,r,null)}function AG(t,e,n,r,i){let s,a,o,l,u,d,h,f;const m=e.pointStyle,p=e.rotation,y=e.radius;let v=(p||0)*TTe;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(v),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),m){default:i?t.ellipse(n,r,i/2,y,0,0,ps):t.arc(n,r,y,0,ps),t.closePath();break;case"triangle":d=i?i/2:y,t.moveTo(n+Math.sin(v)*d,r-Math.cos(v)*y),v+=H4,t.lineTo(n+Math.sin(v)*d,r-Math.cos(v)*y),v+=H4,t.lineTo(n+Math.sin(v)*d,r-Math.cos(v)*y),t.closePath();break;case"rectRounded":u=y*.516,l=y-u,a=Math.cos(v+tc)*l,h=Math.cos(v+tc)*(i?i/2-u:l),o=Math.sin(v+tc)*l,f=Math.sin(v+tc)*(i?i/2-u:l),t.arc(n-h,r-o,u,v-Xn,v-hs),t.arc(n+f,r-a,u,v-hs,v),t.arc(n+h,r+o,u,v,v+hs),t.arc(n-f,r+a,u,v+hs,v+Xn),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*y,d=i?i/2:l,t.rect(n-d,r-l,2*d,2*l);break}v+=tc;case"rectRot":h=Math.cos(v)*(i?i/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,f=Math.sin(v)*(i?i/2:y),t.moveTo(n-h,r-o),t.lineTo(n+f,r-a),t.lineTo(n+h,r+o),t.lineTo(n-f,r+a),t.closePath();break;case"crossRot":v+=tc;case"cross":h=Math.cos(v)*(i?i/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,f=Math.sin(v)*(i?i/2:y),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"star":h=Math.cos(v)*(i?i/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,f=Math.sin(v)*(i?i/2:y),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a),v+=tc,h=Math.cos(v)*(i?i/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,f=Math.sin(v)*(i?i/2:y),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"line":a=i?i/2:Math.cos(v)*y,o=Math.sin(v)*y,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(v)*(i?i/2:y),r+Math.sin(v)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Gp(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function q1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function W1(t){t.restore()}function tNe(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function nNe(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function rNe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Mt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function iNe(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function sNe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Yp(t,e,n,r,i,s={}){const a=Mn(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,rNe(t,s),l=0;l<a.length;++l)u=a[l],s.backdrop&&sNe(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Mt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),iNe(t,n,r,u,s),r+=Number(i.lineHeight);t.restore()}function yj(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Xn,Xn,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Xn,hs,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,hs,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-hs,!0),t.lineTo(n+a.topLeft,r)}const aNe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,oNe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lNe(t,e){const n=(""+t).match(aNe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const cNe=t=>+t||0;function jG(t,e){const n={},r=ot(e),i=r?Object.keys(e):e,s=ot(t)?r?a=>tt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=cNe(s(a));return n}function uNe(t){return jG(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Km(t){return jG(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ji(t){const e=uNe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Sr(t,e){t=t||{},e=e||yn.font;let n=tt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=tt(t.style,e.style);r&&!(""+r).match(oNe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:tt(t.family,e.family),lineHeight:lNe(tt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:tt(t.weight,e.weight),string:""};return i.string=eNe(i),i}function Cy(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function dNe(t,e,n){const{min:r,max:i}=t,s=wTe(e,(i-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Pu(t,e){return Object.assign(Object.create(t),e)}function kP(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=PG("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>kP([o,...t],e,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return NG(o,l,()=>xNe(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return tL(o).includes(l)},ownKeys(o){return tL(o)},set(o,l,u){const d=o._storage||(o._storage=i());return o[l]=d[l]=u,delete o._keys,!0}})}function Eh(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:TG(t,r),setContext:s=>Eh(t,s,n,r),override:s=>Eh(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return NG(s,a,()=>fNe(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function TG(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Il(n)?n:()=>n,isIndexable:Il(r)?r:()=>r}}const hNe=(t,e)=>t?t+wP(e):e,AP=(t,e)=>ot(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function NG(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function fNe(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let o=r[e];return Il(o)&&a.isScriptable(e)&&(o=mNe(e,o,t,n)),Mn(o)&&o.length&&(o=pNe(e,o,t,a.isIndexable)),AP(e,o)&&(o=Eh(o,i,s&&s[e],a)),o}function mNe(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||r);return o.delete(t),AP(t,l)&&(l=jP(i._scopes,i,t,l)),l}function pNe(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(ot(e[0])){const l=e,u=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=jP(u,i,t,d);e.push(Eh(h,s,a&&a[t],o))}}return e}function CG(t,e,n){return Il(t)?t(e,n):t}const gNe=(t,e)=>t===!0?e:typeof t=="string"?Lb(e,t):void 0;function yNe(t,e,n,r,i){for(const s of e){const a=gNe(n,s);if(a){t.add(a);const o=CG(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function jP(t,e,n,r){const i=e._rootScopes,s=CG(e._fallback,n,r),a=[...t,...i],o=new Set;o.add(r);let l=eL(o,a,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=eL(o,a,s,l,r),l===null)?!1:kP(Array.from(o),[""],i,s,()=>vNe(e,n,r))}function eL(t,e,n,r,i){for(;n;)n=yNe(t,e,n,r,i);return n}function vNe(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Mn(i)&&ot(n)?n:i||{}}function xNe(t,e,n,r){let i;for(const s of e)if(i=PG(hNe(s,t),n),typeof i<"u")return AP(t,i)?jP(n,r,t,i):i}function PG(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function tL(t){let e=t._keys;return e||(e=t._keys=bNe(t._scopes)),e}function bNe(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const wNe=Number.EPSILON||1e-14,kh=(t,e)=>e<t.length&&!t[e].skip&&t[e],OG=t=>t==="x"?"y":"x";function _Ne(t,e,n,r){const i=t.skip?e:t,s=e,a=n.skip?e:n,o=mj(s,i),l=mj(a,s);let u=o/(o+l),d=l/(o+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=r*u,f=r*d;return{previous:{x:s.x-h*(a.x-i.x),y:s.y-h*(a.y-i.y)},next:{x:s.x+f*(a.x-i.x),y:s.y+f*(a.y-i.y)}}}function SNe(t,e,n){const r=t.length;let i,s,a,o,l,u=kh(t,0);for(let d=0;d<r-1;++d)if(l=u,u=kh(t,d+1),!(!l||!u)){if(Hm(e[d],0,wNe)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],s=n[d+1]/e[d],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=i*a*e[d],n[d+1]=s*a*e[d])}}function ENe(t,e,n="x"){const r=OG(n),i=t.length;let s,a,o,l=kh(t,0);for(let u=0;u<i;++u){if(a=o,o=l,l=kh(t,u+1),!o)continue;const d=o[n],h=o[r];a&&(s=(d-a[n])/3,o[`cp1${n}`]=d-s,o[`cp1${r}`]=h-s*e[u]),l&&(s=(l[n]-d)/3,o[`cp2${n}`]=d+s,o[`cp2${r}`]=h+s*e[u])}}function kNe(t,e="x"){const n=OG(e),r=t.length,i=Array(r).fill(0),s=Array(r);let a,o,l,u=kh(t,0);for(a=0;a<r;++a)if(o=l,l=u,u=kh(t,a+1),!!l){if(u){const d=u[e]-l[e];i[a]=d!==0?(u[n]-l[n])/d:0}s[a]=o?u?Sh(i[a-1])!==Sh(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}SNe(t,i,s),ENe(t,s,e)}function Py(t,e,n){return Math.max(Math.min(t,n),e)}function ANe(t,e){let n,r,i,s,a,o=Gp(t[0],e);for(n=0,r=t.length;n<r;++n)a=s,s=o,o=n<r-1&&Gp(t[n+1],e),s&&(i=t[n],a&&(i.cp1x=Py(i.cp1x,e.left,e.right),i.cp1y=Py(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Py(i.cp2x,e.left,e.right),i.cp2y=Py(i.cp2y,e.top,e.bottom)))}function jNe(t,e,n,r,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")kNe(t,i);else{let u=r?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=_Ne(u,o,t[Math.min(s+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&ANe(t,n)}function TP(){return typeof window<"u"&&typeof document<"u"}function NP(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bb(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const K1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function TNe(t,e){return K1(t).getPropertyValue(e)}const NNe=["top","right","bottom","left"];function Gc(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=NNe[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const CNe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function PNe(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(CNe(i,s,t.target))o=i,l=s;else{const u=e.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function pc(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=K1(n),s=i.boxSizing==="border-box",a=Gc(i,"padding"),o=Gc(i,"border","width"),{x:l,y:u,box:d}=PNe(t,n),h=a.left+(d&&o.left),f=a.top+(d&&o.top);let{width:m,height:p}=e;return s&&(m-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-h)/m*n.width/r),y:Math.round((u-f)/p*n.height/r)}}function ONe(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&NP(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=K1(s),l=Gc(o,"border","width"),u=Gc(o,"padding");e=a.width-u.width-l.width,n=a.height-u.height-l.height,r=Bb(o.maxWidth,s,"clientWidth"),i=Bb(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Fb,maxHeight:i||Fb}}const Oy=t=>Math.round(t*10)/10;function INe(t,e,n,r){const i=K1(t),s=Gc(i,"margin"),a=Bb(i.maxWidth,t,"clientWidth")||Fb,o=Bb(i.maxHeight,t,"clientHeight")||Fb,l=ONe(t,e,n);let{width:u,height:d}=l;if(i.boxSizing==="content-box"){const f=Gc(i,"border","width"),m=Gc(i,"padding");u-=m.width+f.width,d-=m.height+f.height}return u=Math.max(0,u-s.width),d=Math.max(0,r?u/r:d-s.height),u=Oy(Math.min(u,a,l.maxWidth)),d=Oy(Math.min(d,o,l.maxHeight)),u&&!d&&(d=Oy(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=Oy(Math.floor(d*r))),{width:u,height:d}}function nL(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const RNe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};TP()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function rL(t,e){const n=TNe(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function gc(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function MNe(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function DNe(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=gc(t,i,n),o=gc(i,s,n),l=gc(s,e,n),u=gc(a,o,n),d=gc(o,l,n);return gc(u,d,n)}const LNe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},VNe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Dd(t,e,n){return t?LNe(e,n):VNe()}function IG(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function RG(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function MG(t){return t==="angle"?{between:bG,compare:MTe,normalize:Ls}:{between:fd,compare:(e,n)=>e-n,normalize:e=>e}}function iL({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function FNe(t,e,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=MG(r),l=e.length;let{start:u,end:d,loop:h}=t,f,m;if(h){for(u+=l,d+=l,f=0,m=l;f<m&&a(o(e[u%l][r]),i,s);++f)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:h,style:t.style}}function DG(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,a=e.length,{compare:o,between:l,normalize:u}=MG(r),{start:d,end:h,loop:f,style:m}=FNe(t,e,n),p=[];let y=!1,v=null,b,w,_;const j=()=>l(i,_,b)&&o(i,_)!==0,E=()=>o(s,b)===0||l(s,_,b),I=()=>y||j(),k=()=>!y||E();for(let S=d,P=d;S<=h;++S)w=e[S%a],!w.skip&&(b=u(w[r]),b!==_&&(y=l(b,i,s),v===null&&I()&&(v=o(b,i)===0?S:P),v!==null&&k()&&(p.push(iL({start:v,end:S,loop:f,count:a,style:m})),v=null),P=S,_=b));return v!==null&&p.push(iL({start:v,end:h,loop:f,count:a,style:m})),p}function LG(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=DG(r[i],t.points,e);s.length&&n.push(...s)}return n}function BNe(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function UNe(t,e,n,r){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%i];u.skip||u.stop?o.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function zNe(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=BNe(n,i,s,r);if(r===!0)return sL(t,[{start:a,end:o,loop:s}],n,e);const l=o<a?o+i:o,u=!!t._fullLoop&&a===0&&o===i-1;return sL(t,UNe(n,a,l,u),n,e)}function sL(t,e,n,r){return!r||!r.setContext||!n?e:$Ne(t,e,n,r)}function $Ne(t,e,n,r){const i=t._chart.getContext(),s=aL(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,u=[];let d=s,h=e[0].start,f=h;function m(p,y,v,b){const w=o?-1:1;if(p!==y){for(p+=l;n[p%l].skip;)p-=w;for(;n[y%l].skip;)y+=w;p%l!==y%l&&(u.push({start:p%l,end:y%l,loop:v,style:b}),d=b,h=y%l)}}for(const p of e){h=o?h:p.start;let y=n[h%l],v;for(f=h+1;f<=p.end;f++){const b=n[f%l];v=aL(r.setContext(Pu(i,{type:"segment",p0:y,p1:b,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),HNe(v,d)&&m(h,f-1,p.loop,d),y=b,d=v}h<f-1&&m(h,f-1,p.loop,d)}return u}function aL(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function HNe(t,e){if(!e)return!1;const n=[],r=function(i,s){return EP(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Iy(t,e,n){return t.options.clip?t[n]:e[n]}function qNe(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Iy(n,e,"left"),right:Iy(n,e,"right"),top:Iy(r,e,"top"),bottom:Iy(r,e,"bottom")}:e}function VG(t,e){const n=e._clip;if(n.disabled)return!1;const r=qNe(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class WNe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=_G.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ba=new WNe;const oL="transparent",KNe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=X4(t||oL),i=r.valid&&X4(e||oL);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class GNe{constructor(e,n,r,i){const s=n[r];i=Cy([e.to,i,s,e.from]);const a=Cy([e.from,s,i]);this._active=!0,this._fn=e.fn||KNe[e.type||typeof a],this._easing=qm[e.easing]||qm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Cy([e.to,n,i,e.from]),this._from=Cy([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class FG{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ot(e))return;const n=Object.keys(yn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!ot(s))return;const a={};for(const o of n)a[o]=s[o];(Mn(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,i=XNe(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&YNe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[u];let h=s[u];const f=r.get(u);if(h)if(f&&h.active()){h.update(f,d,o);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}s[u]=h=new GNe(f,e,u,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ba.add(this._chart,r),!0}}function YNe(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function XNe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function lL(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function QNe(t,e,n){if(n===!1)return!1;const r=lL(t,n),i=lL(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function ZNe(t){let e,n,r,i;return ot(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function BG(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function cL(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,o,l,u;if(e===null)return;let d=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(d=!0,r.all)continue;break}u=t.values[l],jr(u)&&(s||e===0||Sh(e)===Sh(u))&&(e+=u)}return!d&&!r.all?0:e}function JNe(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,u,d;for(l=0,u=a.length;l<u;++l)d=a[l],o[l]={[i]:d,[s]:t[d]};return o}function iE(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function eCe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function tCe(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function nCe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function uL(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function dL(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,u=a.axis,d=eCe(s,a,r),h=e.length;let f;for(let m=0;m<h;++m){const p=e[m],{[l]:y,[u]:v}=p,b=p._stacks||(p._stacks={});f=b[u]=nCe(i,d,y),f[o]=v,f._top=uL(f,a,!0,r.type),f._bottom=uL(f,a,!1,r.type);const w=f._visualValues||(f._visualValues={});w[o]=v}}function sE(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function rCe(t,e){return Pu(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function iCe(t,e,n){return Pu(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Wf(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const aE=t=>t==="reset"||t==="none",hL=(t,e)=>e?t:Object.assign({},t),sCe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:BG(n,!0),values:null};class Gm{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=iE(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,f,m,p)=>h==="x"?f:h==="r"?p:m,s=n.xAxisID=tt(r.xAxisID,sE(e,"x")),a=n.yAxisID=tt(r.yAxisID,sE(e,"y")),o=n.rAxisID=tt(r.rAxisID,sE(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,a,o),d=n.vAxisID=i(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&K4(this._data,this),e._stacked&&Wf(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ot(n)){const i=this._cachedMeta;this._data=JNe(n,i)}else if(r!==n){if(r){K4(r,this);const i=this._cachedMeta;Wf(i),i._parsed=[]}n&&Object.isExtensible(n)&&FTe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=iE(n.vScale,n),n.stack!==r.stack&&(i=!0,Wf(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(dL(this,n._parsed),n._stacked=iE(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,h,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{Mn(i[e])?f=this.parseArrayData(r,i,e,n):ot(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const m=()=>h[o]===null||u&&h[o]<u[o];for(d=0;d<n;++d)r._parsed[d+e]=h=f[d],l&&(m()&&(l=!1),u=h);r._sorted=l}a&&dL(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,u=s.getLabels(),d=s===a,h=new Array(i);let f,m,p;for(f=0,m=i;f<m;++f)p=f+r,h[f]={[o]:d||s.parse(u[p],p),[l]:a.parse(n[p],p)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,u,d,h;for(l=0,u=i;l<u;++l)d=l+r,h=n[d],o[l]={x:s.parse(h[0],d),y:a.parse(h[1],d)};return o}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let d,h,f,m;for(d=0,h=i;d<h;++d)f=d+r,m=n[f],u[d]={x:s.parse(Lb(m,o),f),y:a.parse(Lb(m,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:BG(i,!0),values:n._stacks[e.axis]._visualValues};return cL(o,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,a=cL(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),l=sCe(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=tCe(o);let f,m;function p(){m=i[f];const y=m[o.axis];return!jr(m[e.axis])||d>y||h<y}for(f=0;f<a&&!(!p()&&(this.updateRangeFromParsed(u,e,m,l),s));++f);if(s){for(f=a-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],jr(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ZNe(tt(this.options.clip,QNe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,s,o,l),d=o;d<o+l;++d){const h=i[d];h.hidden||(h.active&&u?a.push(h):h.draw(e,s))}for(d=0;d<a.length;++d)a[d].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=iCe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=rCe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],l=this.enableOptionSharing&&Vb(r);if(o)return hL(o,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),m=Object.keys(yn.elements[e]),p=()=>this.getContext(r,i,n),y=u.resolveNamedOptions(f,m,p,h);return y.$shared&&(y.$shared=l,s[a]=Object.freeze(hL(y,l))),y}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,r,n))}const u=new FG(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||aE(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){aE(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!aE(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let o;const l=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Wf(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}De(Gm,"defaults",{}),De(Gm,"datasetElementType",null),De(Gm,"dataElementType",null);class Sv extends Gm{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=$Te(n,i,a);this._drawStart=o,this._drawCount=l,HTe(n)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(i,o,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i),f=a.axis,m=o.axis,{spanGaps:p,segment:y}=this.options,v=Kp(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||i==="none",w=n+r,_=e.length;let j=n>0&&this.getParsed(n-1);for(let E=0;E<_;++E){const I=e[E],k=b?I:{};if(E<n||E>=w){k.skip=!0;continue}const S=this.getParsed(E),P=Mt(S[m]),O=k[f]=a.getPixelForValue(S[f],E),N=k[m]=s||P?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,S,l):S[m],E);k.skip=isNaN(O)||isNaN(N)||P,k.stop=E>0&&Math.abs(S[f]-j[f])>v,y&&(k.parsed=S,k.raw=u.data[E]),h&&(k.options=d||this.resolveDataElementOptions(E,I.active?"active":i)),b||this.updateElement(I,E,k,i),j=S}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}De(Sv,"id","line"),De(Sv,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),De(Sv,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function rc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class CP{constructor(e){De(this,"options");this.options=e||{}}static override(e){Object.assign(CP.prototype,e)}init(){}formats(){return rc()}parse(){return rc()}format(){return rc()}add(){return rc()}diff(){return rc()}startOf(){return rc()}endOf(){return rc()}}var aCe={_date:CP};function oCe(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const u=o._reversePixels?LTe:kc;if(r){if(i._sharedOptions){const d=s[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(s,e,n-h),m=u(s,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const d=u(s,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,m=f.slice(0,d.lo+1).reverse().findIndex(y=>!Mt(y[h.axis]));d.lo-=Math.max(0,m);const p=f.slice(d.hi).findIndex(y=>!Mt(y[h.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:s.length-1}}function G1(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:u,data:d}=s[o],{lo:h,hi:f}=oCe(s[o],e,a,i);for(let m=h;m<=f;++m){const p=d[m];p.skip||r(p,u,m)}}}function lCe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function oE(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||G1(t,n,e,function(o,l,u){!i&&!Gp(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:l,index:u})},!0),s}function cCe(t,e,n,r){let i=[];function s(a,o,l){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:h}=RTe(a,{x:e.x,y:e.y});bG(h,u,d)&&i.push({element:a,datasetIndex:o,index:l})}return G1(t,n,e,s),i}function uCe(t,e,n,r,i,s){let a=[];const o=lCe(n);let l=Number.POSITIVE_INFINITY;function u(d,h,f){const m=d.inRange(e.x,e.y,i);if(r&&!m)return;const p=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!m)return;const v=o(e,p);v<l?(a=[{element:d,datasetIndex:h,index:f}],l=v):v===l&&a.push({element:d,datasetIndex:h,index:f})}return G1(t,n,e,u),a}function lE(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?cCe(t,e,n,i):uCe(t,e,n,r,i,s)}function fL(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return G1(t,n,e,(l,u,d)=>{l[a]&&l[a](e[n],i)&&(s.push({element:l,datasetIndex:u,index:d}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:s}var dCe={modes:{index(t,e,n,r){const i=pc(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?oE(t,i,s,r,a):lE(t,i,s,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,h=u.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,r){const i=pc(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?oE(t,i,s,r,a):lE(t,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:l,index:d})}return o},point(t,e,n,r){const i=pc(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return oE(t,i,s,r,a)},nearest(t,e,n,r){const i=pc(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return lE(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=pc(e,t);return fL(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=pc(e,t);return fL(t,i,"y",n.intersect,r)}}};const UG=["left","top","right","bottom"];function Kf(t,e){return t.filter(n=>n.pos===e)}function mL(t,e){return t.filter(n=>UG.indexOf(n.pos)===-1&&n.box.axis===e)}function Gf(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function hCe(t){const e=[];let n,r,i,s,a,o;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function fCe(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!UG.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function mCe(t,e){const n=fCe(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,u=n[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=d?d*i:l&&e.availableHeight)}return n}function pCe(t){const e=hCe(t),n=Gf(e.filter(u=>u.box.fullSize),!0),r=Gf(Kf(e,"left"),!0),i=Gf(Kf(e,"right")),s=Gf(Kf(e,"top"),!0),a=Gf(Kf(e,"bottom")),o=mL(e,"x"),l=mL(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Kf(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function pL(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function zG(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function gCe(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!ot(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&zG(a,s.getPadding());const o=Math.max(0,e.outerWidth-pL(a,t,"left","right")),l=Math.max(0,e.outerHeight-pL(a,t,"top","bottom")),u=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function yCe(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function vCe(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function pm(t,e,n,r){const i=[];let s,a,o,l,u,d;for(s=0,a=t.length,u=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,vCe(o.horizontal,e));const{same:h,other:f}=gCe(e,n,o,r);u|=h&&i.length,d=d||f,l.fullSize||i.push(o)}return u&&pm(i,e,n,r)||d}function Ry(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function gL(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,u=r[o.stack]||{placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const h=e.w*d,f=u.size||l.height;Vb(u.start)&&(a=u.start),l.fullSize?Ry(l,i.left,a,n.outerWidth-i.right-i.left,f):Ry(l,e.left+u.placed,a,h,f),u.start=a,u.placed+=h,a=l.bottom}else{const h=e.h*d,f=u.size||l.width;Vb(u.start)&&(s=u.start),l.fullSize?Ry(l,s,i.top,f,n.outerHeight-i.bottom-i.top):Ry(l,s,e.top+u.placed,f,h),u.start=s,u.placed+=h,s=l.right}}e.x=s,e.y=a}var qi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ji(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),o=pCe(t.boxes),l=o.vertical,u=o.horizontal;wt(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=l.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},i);zG(f,Ji(r));const m=Object.assign({maxPadding:f,w:s,h:a,x:i.left,y:i.top},i),p=mCe(l.concat(u),h);pm(o.fullSize,m,h,p),pm(l,m,h,p),pm(u,m,h,p)&&pm(l,m,h,p),yCe(m),gL(o.leftAndTop,m,h,p),m.x+=m.w,m.y+=m.h,gL(o.rightAndBottom,m,h,p),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},wt(o.chartArea,y=>{const v=y.box;Object.assign(v,t.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class $G{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class xCe extends $G{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ev="$chartjs",bCe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yL=t=>t===null||t==="";function wCe(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ev]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",yL(i)){const s=rL(t,"width");s!==void 0&&(t.width=s)}if(yL(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=rL(t,"height");s!==void 0&&(t.height=s)}return t}const HG=RNe?{passive:!0}:!1;function _Ce(t,e,n){t&&t.addEventListener(e,n,HG)}function SCe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,HG)}function ECe(t,e){const n=bCe[t.type]||t.type,{x:r,y:i}=pc(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Ub(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kCe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Ub(o.addedNodes,r),a=a&&!Ub(o.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function ACe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Ub(o.removedNodes,r),a=a&&!Ub(o.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Xp=new Map;let vL=0;function qG(){const t=window.devicePixelRatio;t!==vL&&(vL=t,Xp.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function jCe(t,e){Xp.size||window.addEventListener("resize",qG),Xp.set(t,e)}function TCe(t){Xp.delete(t),Xp.size||window.removeEventListener("resize",qG)}function NCe(t,e,n){const r=t.canvas,i=r&&NP(r);if(!i)return;const s=SG((o,l)=>{const u=i.clientWidth;n(o,l),u<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||s(u,d)});return a.observe(i),jCe(t,s),a}function cE(t,e,n){n&&n.disconnect(),e==="resize"&&TCe(t)}function CCe(t,e,n){const r=t.canvas,i=SG(s=>{t.ctx!==null&&n(ECe(s,t))},t);return _Ce(r,e,i),i}class PCe extends $G{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(wCe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ev])return!1;const r=n[Ev].initial;["height","width"].forEach(s=>{const a=r[s];Mt(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Ev],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:kCe,detach:ACe,resize:NCe}[n]||CCe;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:cE,detach:cE,resize:cE}[n]||SCe)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return INe(e,n,r,i)}isAttached(e){const n=e&&NP(e);return!!(n&&n.isConnected)}}function OCe(t){return!TP()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?xCe:PCe}var Yy;let Ou=(Yy=class{constructor(){De(this,"x");De(this,"y");De(this,"active",!1);De(this,"options");De(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Kp(this.x)&&Kp(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},De(Yy,"defaults",{}),De(Yy,"defaultRoutes"),Yy);function ICe(t,e){const n=t.options.ticks,r=RCe(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?DCe(e):[],a=s.length,o=s[0],l=s[a-1],u=[];if(a>i)return LCe(e,u,s,a/i),u;const d=MCe(s,e,i);if(a>0){let h,f;const m=a>1?Math.round((l-o)/(a-1)):null;for(My(e,u,d,Mt(m)?0:o-m,o),h=0,f=a-1;h<f;h++)My(e,u,d,s[h],s[h+1]);return My(e,u,d,l,Mt(m)?e.length:l+m),u}return My(e,u,d),u}function RCe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function MCe(t,e,n){const r=VCe(t),i=e.length/n;if(!r)return Math.max(i,1);const s=NTe(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function DCe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function LCe(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function My(t,e,n,r,i){const s=tt(r,0),a=Math.min(tt(i,t.length),t.length);let o=0,l,u,d;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),d=s;d<0;)o++,d=Math.round(s+o*n);for(u=Math.max(s,0);u<a;u++)u===d&&(e.push(t[u]),o++,d=Math.round(s+o*n))}function VCe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const FCe=t=>t==="left"?"right":t==="right"?"left":t,xL=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,bL=(t,e)=>Math.min(e||t,t);function wL(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function BCe(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-o||l>a+o)))return l}function UCe(t,e){wt(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Yf(t){return t.drawTicks?t.tickLength:0}function _L(t,e){if(!t.display)return 0;const n=Sr(t.font,e),r=Ji(t.padding);return(Mn(t.text)?t.text.length:1)*n.lineHeight+r.height}function zCe(t,e){return Pu(t,{scale:e,type:"scale"})}function $Ce(t,e,n){return Pu(t,{tick:n,index:e,type:"tick"})}function HCe(t,e,n){let r=SP(t);return(n&&e!=="right"||!n&&e==="right")&&(r=FCe(r)),r}function qCe(t,e,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:d}=l;let h=0,f,m,p;const y=a-i,v=o-s;if(t.isHorizontal()){if(m=pr(r,s,o),ot(n)){const b=Object.keys(n)[0],w=n[b];p=d[b].getPixelForValue(w)+y-e}else n==="center"?p=(u.bottom+u.top)/2+y-e:p=xL(t,n,e);f=o-s}else{if(ot(n)){const b=Object.keys(n)[0],w=n[b];m=d[b].getPixelForValue(w)-v+e}else n==="center"?m=(u.left+u.right)/2-v+e:m=xL(t,n,e);p=pr(r,a,i),h=n==="left"?-hs:hs}return{titleX:m,titleY:p,maxWidth:f,rotation:h}}class nf extends Ou{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Ps(e,Number.POSITIVE_INFINITY),n=Ps(n,Number.NEGATIVE_INFINITY),r=Ps(r,Number.POSITIVE_INFINITY),i=Ps(i,Number.NEGATIVE_INFINITY),{min:Ps(e,r),max:Ps(n,i),minDefined:jr(e),maxDefined:jr(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Ps(n,Ps(r,n)),max:Ps(r,Ps(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dNe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?wL(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=ICe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Bt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Bt(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=bL(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,o,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,m=Hi(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/r:m/(r-1),h+6>o&&(o=m/(r-(e.offset?.5:1)),l=this.maxHeight-Yf(e.grid)-n.padding-_L(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),a=ITe(Math.min(Math.asin(Hi((d.highest.height+6)/o,-1,1)),Math.asin(Hi(l/u,-1,1))-Math.asin(Hi(f/u,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=_L(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=Yf(s)+l):(e.height=this.maxHeight,e.width=Yf(s)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),m=r.padding*2,p=Ec(this.labelRotation),y=Math.cos(p),v=Math.sin(p);if(o){const b=r.mirror?0:v*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+b+m)}else{const b=r.mirror?0:y*h.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+b+m)}this._calculatePadding(u,d,v,y)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?u?(f=i*e.width,m=r*n.height):(f=r*e.height,m=i*n.width):s==="start"?m=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+a)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;s==="start"?(d=0,h=e.height):s==="end"&&(d=n.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Mt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=wL(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/bL(n,r));let u=0,d=0,h,f,m,p,y,v,b,w,_,j,E;for(h=0;h<n;h+=l){if(p=e[h].label,y=this._resolveTickFontOptions(h),i.font=v=y.string,b=s[v]=s[v]||{data:{},gc:[]},w=y.lineHeight,_=j=0,!Mt(p)&&!Mn(p))_=Z4(i,b.data,b.gc,_,p),j=w;else if(Mn(p))for(f=0,m=p.length;f<m;++f)E=p[f],!Mt(E)&&!Mn(E)&&(_=Z4(i,b.data,b.gc,_,E),j+=w);a.push(_),o.push(j),u=Math.max(_,u),d=Math.max(j,d)}UCe(s,n);const I=a.indexOf(u),k=o.indexOf(d),S=P=>({width:a[P]||0,height:o[P]||0});return{first:S(0),last:S(n-1),widest:S(I),highest:S(k),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return DTe(this._alignToPixels?nc(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=$Ce(this.getContext(),e,r))}return this.$context||(this.$context=zCe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ec(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Yf(s),m=[],p=o.setContext(this.getContext()),y=p.display?p.width:0,v=y/2,b=function(V){return nc(r,V,y)};let w,_,j,E,I,k,S,P,O,N,A,C;if(a==="top")w=b(this.bottom),k=this.bottom-f,P=w-v,N=b(e.top)+v,C=e.bottom;else if(a==="bottom")w=b(this.top),N=e.top,C=b(e.bottom)-v,k=w+v,P=this.top+f;else if(a==="left")w=b(this.right),I=this.right-f,S=w-v,O=b(e.left)+v,A=e.right;else if(a==="right")w=b(this.left),O=e.left,A=b(e.right)-v,I=w+v,S=this.left+f;else if(n==="x"){if(a==="center")w=b((e.top+e.bottom)/2+.5);else if(ot(a)){const V=Object.keys(a)[0],B=a[V];w=b(this.chart.scales[V].getPixelForValue(B))}N=e.top,C=e.bottom,k=w+v,P=k+f}else if(n==="y"){if(a==="center")w=b((e.left+e.right)/2);else if(ot(a)){const V=Object.keys(a)[0],B=a[V];w=b(this.chart.scales[V].getPixelForValue(B))}I=w-v,S=I-f,O=e.left,A=e.right}const F=tt(i.ticks.maxTicksLimit,h),M=Math.max(1,Math.ceil(h/F));for(_=0;_<h;_+=M){const V=this.getContext(_),B=s.setContext(V),D=o.setContext(V),U=B.lineWidth,H=B.color,X=D.dash||[],z=D.dashOffset,Q=B.tickWidth,re=B.tickColor,ue=B.tickBorderDash||[],Ce=B.tickBorderDashOffset;j=BCe(this,_,l),j!==void 0&&(E=nc(r,j,U),u?I=S=O=A=E:k=P=N=C=E,m.push({tx1:I,ty1:k,tx2:S,ty2:P,x1:O,y1:N,x2:A,y2:C,width:U,color:H,borderDash:X,borderDashOffset:z,tickWidth:Q,tickColor:re,tickBorderDash:ue,tickBorderDashOffset:Ce}))}return this._ticksLength=h,this._borderValue=w,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:d,mirror:h}=s,f=Yf(r.grid),m=f+d,p=h?-d:m,y=-Ec(this.labelRotation),v=[];let b,w,_,j,E,I,k,S,P,O,N,A,C="middle";if(i==="top")I=this.bottom-p,k=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+p,k=this._getXAxisLabelAlignment();else if(i==="left"){const M=this._getYAxisLabelAlignment(f);k=M.textAlign,E=M.x}else if(i==="right"){const M=this._getYAxisLabelAlignment(f);k=M.textAlign,E=M.x}else if(n==="x"){if(i==="center")I=(e.top+e.bottom)/2+m;else if(ot(i)){const M=Object.keys(i)[0],V=i[M];I=this.chart.scales[M].getPixelForValue(V)+m}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")E=(e.left+e.right)/2-m;else if(ot(i)){const M=Object.keys(i)[0],V=i[M];E=this.chart.scales[M].getPixelForValue(V)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?C="top":l==="end"&&(C="bottom"));const F=this._getLabelSizes();for(b=0,w=o.length;b<w;++b){_=o[b],j=_.label;const M=s.setContext(this.getContext(b));S=this.getPixelForTick(b)+s.labelOffset,P=this._resolveTickFontOptions(b),O=P.lineHeight,N=Mn(j)?j.length:1;const V=N/2,B=M.color,D=M.textStrokeColor,U=M.textStrokeWidth;let H=k;a?(E=S,k==="inner"&&(b===w-1?H=this.options.reverse?"left":"right":b===0?H=this.options.reverse?"right":"left":H="center"),i==="top"?u==="near"||y!==0?A=-N*O+O/2:u==="center"?A=-F.highest.height/2-V*O+O:A=-F.highest.height+O/2:u==="near"||y!==0?A=O/2:u==="center"?A=F.highest.height/2-V*O:A=F.highest.height-N*O,h&&(A*=-1),y!==0&&!M.showLabelBackdrop&&(E+=O/2*Math.sin(y))):(I=S,A=(1-N)*O/2);let X;if(M.showLabelBackdrop){const z=Ji(M.backdropPadding),Q=F.heights[b],re=F.widths[b];let ue=A-z.top,Ce=0-z.left;switch(C){case"middle":ue-=Q/2;break;case"bottom":ue-=Q;break}switch(k){case"center":Ce-=re/2;break;case"right":Ce-=re;break;case"inner":b===w-1?Ce-=re:b>0&&(Ce-=re/2);break}X={left:Ce,top:ue,width:re+z.width,height:Q+z.height,color:M.backdropColor}}v.push({label:j,font:P,textOffset:A,options:{rotation:y,color:B,strokeColor:D,strokeWidth:U,textAlign:H,textBaseline:C,translation:[E,I],backdrop:X}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ec(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let u,d;return n==="left"?i?(d=this.right+s,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-o,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+s,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+o,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const l=i[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=nc(e,this.left,a)-a/2,d=nc(e,this.right,o)+o/2,h=f=l):(h=nc(e,this.top,a)-a/2,f=nc(e,this.bottom,o)+o/2,u=d=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&q1(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,u=a.label,d=a.textOffset;Yp(r,u,0,d,l,o)}i&&W1(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Sr(r.font),a=Ji(r.padding),o=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ot(n)?(l+=a.bottom,Mn(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=qCe(this,l,n,o);Yp(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:f,textAlign:HCe(o,n,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=tt(e.grid&&e.grid.z,-1),i=tt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==nf.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Sr(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Dy{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;GCe(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,WCe(e,a,r),this.override&&yn.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in yn[i]&&(delete yn[i][r],this.override&&delete yu[r])}}function WCe(t,e,n){const r=Wp(Object.create(null),[n?yn.get(n):{},yn.get(e),t.defaults]);yn.set(e,r),t.defaultRoutes&&KCe(e,t.defaultRoutes),t.descriptors&&yn.describe(e,t.descriptors)}function KCe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");yn.route(s,i,l,o)})}function GCe(t){return"id"in t&&"defaults"in t}class YCe{constructor(){this.controllers=new Dy(Gm,"datasets",!0),this.elements=new Dy(Ou,"elements"),this.plugins=new Dy(Object,"plugins"),this.scales=new Dy(nf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):wt(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const i=wP(e);Bt(r["before"+i],[],r),n[e](r),Bt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ms=new YCe;class XCe{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],l=[n,i,s.options];if(Bt(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Mt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=tt(r.options&&r.options.plugins,{}),s=QCe(r);return i===!1&&!n?[]:JCe(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function QCe(t){const e={},n=[],r=Object.keys(Ms.plugins.items);for(let s=0;s<r.length;s++)n.push(Ms.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function ZCe(t,e){return!e&&t===!1?null:t===!0?{}:t}function JCe(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,u=ZCe(r[l],i);u!==null&&s.push({plugin:o,options:ePe(t.config,{plugin:o,local:n[l]},u,a)})}return s}function ePe(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vj(t,e){const n=yn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function tPe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function nPe(t,e){return t===e?"_index_":"_value_"}function SL(t){if(t==="x"||t==="y"||t==="r")return t}function rPe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function xj(t,...e){if(SL(t))return t;for(const n of e){const r=n.axis||rPe(n.position)||t.length>1&&SL(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function EL(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function iPe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return EL(t,"x",n[0])||EL(t,"y",n[0])}return{}}function sPe(t,e){const n=yu[t.type]||{scales:{}},r=e.scales||{},i=vj(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!ot(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=xj(a,o,iPe(a,t),yn.scales[o.type]),u=nPe(l,i),d=n.scales||{};s[a]=$m(Object.create(null),[{axis:l},o,d[l],d[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||vj(o,e),d=(yu[o]||{}).scales||{};Object.keys(d).forEach(h=>{const f=tPe(h,l),m=a[f+"AxisID"]||f;s[m]=s[m]||Object.create(null),$m(s[m],[{axis:f},r[m],d[h]])})}),Object.keys(s).forEach(a=>{const o=s[a];$m(o,[yn.scales[o.type],yn.scale])}),s}function WG(t){const e=t.options||(t.options={});e.plugins=tt(e.plugins,{}),e.scales=sPe(t,e)}function KG(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function aPe(t){return t=t||{},t.data=KG(t.data),WG(t),t}const kL=new Map,GG=new Set;function Ly(t,e){let n=kL.get(t);return n||(n=e(),kL.set(t,n),GG.add(n)),n}const Xf=(t,e,n)=>{const r=Lb(e,n);r!==void 0&&t.add(r)};class oPe{constructor(e){this._config=aPe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=KG(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),WG(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ly(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ly(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ly(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Ly(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>Xf(l,e,h))),d.forEach(h=>Xf(l,i,h)),d.forEach(h=>Xf(l,yu[s]||{},h)),d.forEach(h=>Xf(l,yn,h)),d.forEach(h=>Xf(l,pj,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),GG.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,yu[n]||{},yn.datasets[n]||{},{type:n},yn,pj]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=AL(this._resolverCache,e,i);let l=a;if(cPe(a,n)){s.$shared=!1,r=Il(r)?r():r;const u=this.createResolver(e,r,o);l=Eh(a,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,r=[""],i){const{resolver:s}=AL(this._resolverCache,e,r);return ot(n)?Eh(s,n,void 0,i):s}}function AL(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:kP(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const lPe=t=>ot(t)&&Object.getOwnPropertyNames(t).some(e=>Il(t[e]));function cPe(t,e){const{isScriptable:n,isIndexable:r}=TG(t);for(const i of e){const s=n(i),a=r(i),o=(a||s)&&t[i];if(s&&(Il(o)||lPe(o))||a&&Mn(o))return!0}return!1}var uPe="4.5.0";const dPe=["top","bottom","left","right","chartArea"];function jL(t,e){return t==="top"||t==="bottom"||dPe.indexOf(t)===-1&&e==="x"}function TL(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function NL(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Bt(n&&n.onComplete,[t],e)}function hPe(t){const e=t.chart,n=e.options.animation;Bt(n&&n.onProgress,[t],e)}function YG(t){return TP()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const kv={},CL=t=>{const e=YG(t);return Object.values(kv).filter(n=>n.canvas===e).pop()};function fPe(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function mPe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Ao;let Y1=(Ao=class{static register(...e){Ms.add(...e),PL()}static unregister(...e){Ms.remove(...e),PL()}constructor(e,n){const r=this.config=new oPe(n),i=YG(e),s=CL(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||OCe(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,d=l&&l.width;if(this.id=bTe(),this.ctx=o,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XCe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=UTe(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],kv[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ba.listen(this,"complete",NL),ba.listen(this,"progress",hPe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Mt(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ms}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nL(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return J4(this.canvas,this.ctx),this}stop(){return ba.stop(this),this}resize(e,n){ba.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,nL(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Bt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};wt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=xj(a,o),u=l==="r",d=l==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),wt(s,a=>{const o=a.options,l=o.id,u=xj(l,o),d=tt(o.type,a.dtype);(o.position===void 0||jL(o.position,u)!==jL(a.dposition))&&(o.position=a.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===d)h=r[l];else{const f=Ms.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(o,e)}),wt(i,(a,o)=>{a||delete r[o]}),wt(r,a=>{qi.configure(this,a,a.options),qi.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(TL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||vj(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Ms.getController(o),{datasetElementType:u,dataElementType:d}=yn.datasets[o];Object.assign(l,{dataElementType:Ms.getElement(d),datasetElementType:u&&Ms.getElement(u)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){wt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||wt(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(TL("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){wt(this.scales,e=>{qi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!$4(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;fPe(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!$4(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qi.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],wt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Il(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ba.has(this)?this.attached&&!ba.running(this)&&ba.start(this):(this.draw(),NL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=VG(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&q1(n,i),e.controller.draw(),i&&W1(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Gp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=dCe.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Pu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Vb(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ba.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),J4(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete kv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};wt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){wt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},wt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Mb(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=s(n,e),o=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,o=this._getActiveElements(e,i,r,a),l=ATe(e),u=mPe(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Bt(s.onHover,[e,o,this],this),l&&Bt(s.onClick,[e,o,this],this));const d=!Mb(o,i);return(d||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},De(Ao,"defaults",yn),De(Ao,"instances",kv),De(Ao,"overrides",yu),De(Ao,"registry",Ms),De(Ao,"version",uPe),De(Ao,"getChart",CL),Ao);function PL(){return wt(Y1.instances,t=>t._plugins.invalidate())}function XG(t,e,n=e){t.lineCap=tt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(tt(n.borderDash,e.borderDash)),t.lineDashOffset=tt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=tt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=tt(n.borderWidth,e.borderWidth),t.strokeStyle=tt(n.borderColor,e.borderColor)}function pPe(t,e,n){t.lineTo(n.x,n.y)}function gPe(t){return t.stepped?tNe:t.tension||t.cubicInterpolationMode==="monotone"?nNe:pPe}function QG(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=e,l=Math.max(i,a),u=Math.min(s,o),d=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function yPe(t,e,n,r){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:u}=QG(i,n,r),d=gPe(s);let{move:h=!0,reverse:f}=r||{},m,p,y;for(m=0;m<=u;++m)p=i[(o+(f?u-m:m))%a],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):d(t,y,p,f,s.stepped),y=p);return l&&(p=i[(o+(f?u:0))%a],d(t,y,p,f,s.stepped)),!!l}function vPe(t,e,n,r){const i=e.points,{count:s,start:a,ilen:o}=QG(i,n,r),{move:l=!0,reverse:u}=r||{};let d=0,h=0,f,m,p,y,v,b;const w=j=>(a+(u?o-j:j))%s,_=()=>{y!==v&&(t.lineTo(d,v),t.lineTo(d,y),t.lineTo(d,b))};for(l&&(m=i[w(0)],t.moveTo(m.x,m.y)),f=0;f<=o;++f){if(m=i[w(f)],m.skip)continue;const j=m.x,E=m.y,I=j|0;I===p?(E<y?y=E:E>v&&(v=E),d=(h*d+j)/++h):(_(),t.lineTo(j,E),p=I,h=0,y=v=E),b=E}_()}function bj(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?vPe:yPe}function xPe(t){return t.stepped?MNe:t.tension||t.cubicInterpolationMode==="monotone"?DNe:gc}function bPe(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),XG(t,e.options),t.stroke(i)}function wPe(t,e,n,r){const{segments:i,options:s}=e,a=bj(e);for(const o of i)XG(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const _Pe=typeof Path2D=="function";function SPe(t,e,n,r){_Pe&&!e.options.segment?bPe(t,e,n,r):wPe(t,e,n,r)}class rl extends Ou{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;jNe(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zNe(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,a=LG(this,{property:n,start:i,end:i});if(!a.length)return;const o=[],l=xPe(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],m=s[h],p=s[f];if(m===p){o.push(m);continue}const y=Math.abs((i-m[n])/(p[n]-m[n])),v=l(m,p,y,r.stepped);v[n]=e[n],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,n,r){return bj(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=bj(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)a&=s(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),SPe(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}De(rl,"id","line"),De(rl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),De(rl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),De(rl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function OL(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Av extends Ou{constructor(n){super();De(this,"parsed");De(this,"skip");De(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return OL(this,n,"x",r)}inYRange(n,r){return OL(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Gp(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,gj(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}De(Av,"id","point"),De(Av,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),De(Av,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function EPe(t,e,n){const r=t.segments,i=t.points,s=e.points,a=[];for(const o of r){let{start:l,end:u}=o;u=X1(l,u,i);const d=wj(n,i[l],i[u],o.loop);if(!e.segments){a.push({source:o,target:d,start:i[l],end:i[u]});continue}const h=LG(e,d);for(const f of h){const m=wj(n,s[f.start],s[f.end],f.loop),p=DG(o,i,m);for(const y of p)a.push({source:y,target:f,start:{[n]:IL(d,m,"start",Math.max)},end:{[n]:IL(d,m,"end",Math.min)}})}}return a}function wj(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=Ls(i),s=Ls(s)),{property:t,start:i,end:s}}function kPe(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=X1(a,o,i);const l=i[a],u=i[o];r!==null?(s.push({x:l.x,y:r}),s.push({x:u.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:u.y}))}),s}function X1(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function IL(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function ZG(t,e){let n=[],r=!1;return Mn(t)?(r=!0,n=t):n=kPe(t,e),n.length?new rl({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function RL(t){return t&&t.fill!==!1}function APe(t,e,n){let i=t[e].fill;const s=[e];let a;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!jr(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function jPe(t,e,n){const r=PPe(t);if(ot(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return jr(i)&&Math.floor(i)===i?TPe(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function TPe(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function NPe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ot(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function CPe(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:ot(t)?r=t.value:r=e.getBaseValue(),r}function PPe(t){const e=t.options,n=e.fill;let r=tt(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function OPe(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,a=r.points,o=IPe(e,n);o.push(ZG({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const u=s[l];for(let d=u.start;d<=u.end;d++)RPe(i,a[d],o)}return new rl({points:i,options:{}})}function IPe(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function RPe(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:a,last:o,point:l}=MPe(s,e,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(t.push(l),!o)break}}t.push(...r)}function MPe(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,a=t.points;let o=!1,l=!1;for(let u=0;u<s.length;u++){const d=s[u],h=a[d.start][n],f=a[d.end][n];if(fd(i,h,f)){o=i===h,l=i===f;break}}return{first:o,last:l,point:r}}class JG{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:a}=this;return n=n||{start:0,end:ps},e.arc(i,s,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function DPe(t){const{chart:e,fill:n,line:r}=t;if(jr(n))return LPe(e,n);if(n==="stack")return OPe(t);if(n==="shape")return!0;const i=VPe(t);return i instanceof JG?i:ZG(i,r)}function LPe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function VPe(t){return(t.scale||{}).getPointPositionForValue?BPe(t):FPe(t)}function FPe(t){const{scale:e={},fill:n}=t,r=NPe(n,e);if(jr(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function BPe(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,a=CPe(n,e,s),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new JG({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function uE(t,e,n){const r=DPe(e),{chart:i,index:s,line:a,scale:o,axis:l}=e,u=a.options,d=u.fill,h=u.backgroundColor,{above:f=h,below:m=h}=d||{},p=i.getDatasetMeta(s),y=VG(i,p);r&&a.points.length&&(q1(t,n),UPe(t,{line:a,target:r,above:f,below:m,area:n,scale:o,axis:l,clip:y}),W1(t))}function UPe(t,e){const{line:n,target:r,above:i,below:s,area:a,scale:o,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let d=s;s!==i&&(u==="x"?(ML(t,r,a.top),dE(t,{line:n,target:r,color:i,scale:o,property:u,clip:l}),t.restore(),t.save(),ML(t,r,a.bottom)):u==="y"&&(DL(t,r,a.left),dE(t,{line:n,target:r,color:s,scale:o,property:u,clip:l}),t.restore(),t.save(),DL(t,r,a.right),d=i)),dE(t,{line:n,target:r,color:d,scale:o,property:u,clip:l}),t.restore()}function ML(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:u}=o,d=i[l],h=i[X1(l,u,i)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function DL(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:u}=o,d=i[l],h=i[X1(l,u,i)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function dE(t,e){const{line:n,target:r,property:i,color:s,scale:a,clip:o}=e,l=EPe(n,r,i);for(const{source:u,target:d,start:h,end:f}of l){const{style:{backgroundColor:m=s}={}}=u,p=r!==!0;t.save(),t.fillStyle=m,zPe(t,a,o,p&&wj(i,h,f)),t.beginPath();const y=!!n.pathSegment(t,u);let v;if(p){y?t.closePath():LL(t,r,f,i);const b=!!r.pathSegment(t,d,{move:y,reverse:!0});v=y&&b,v||LL(t,r,h,i)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function zPe(t,e,n,r){const i=e.chart.chartArea,{property:s,start:a,end:o}=r||{};if(s==="x"||s==="y"){let l,u,d,h;s==="x"?(l=a,u=i.top,d=o,h=i.bottom):(l=i.left,u=a,d=i.right,h=o),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),h=Math.min(h,n.bottom)),t.rect(l,u,d-l,h-u),t.clip()}}function LL(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var $Pe={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<r;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof rl&&(l={visible:t.isDatasetVisible(a),index:a,fill:jPe(o,a,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=APe(i,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),r&&o.fill&&uE(t.ctx,o,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;RL(s)&&uE(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!RL(r)||n.drawTime!=="beforeDatasetDraw"||uE(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const VL=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},HPe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class FL extends Ou{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Bt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Sr(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=VL(r,s);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,s,o,l)+10):(d=this.maxHeight,u=this._fitCols(a,i,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+o;let h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((p,y)=>{const v=r+n/2+s.measureText(p.text).width;(y===0||u[u.length-1]+v+2*o>a)&&(h+=d,u[u.length-(y>0?0:1)]=0,m+=d,f++),l[y]={left:0,top:m,row:f,width:v,height:i},u[u.length-1]+=v+o}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let h=o,f=0,m=0,p=0,y=0;return this.legendItems.forEach((v,b)=>{const{itemWidth:w,itemHeight:_}=qPe(r,n,s,v,i);b>0&&m+_+2*o>d&&(h+=f+o,u.push({width:f,height:m}),p+=f+o,y++,f=m=0),l[b]={left:p,top:m,col:y,width:w,height:_},f=Math.max(f,w),m+=_+o}),h+=f,u.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Dd(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=pr(r,this.left+i,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,l=pr(r,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+i}else{let o=0,l=pr(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,l=pr(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;q1(e,this),this._draw(),W1(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=yn.color,l=Dd(e.rtl,this.left,this.width),u=Sr(a.font),{padding:d}=a,h=u.size,f=h/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:y,itemHeight:v}=VL(a,h),b=function(I,k,S){if(isNaN(p)||p<=0||isNaN(y)||y<0)return;i.save();const P=tt(S.lineWidth,1);if(i.fillStyle=tt(S.fillStyle,o),i.lineCap=tt(S.lineCap,"butt"),i.lineDashOffset=tt(S.lineDashOffset,0),i.lineJoin=tt(S.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=tt(S.strokeStyle,o),i.setLineDash(tt(S.lineDash,[])),a.usePointStyle){const O={radius:y*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:P},N=l.xPlus(I,p/2),A=k+f;AG(i,O,N,A,a.pointStyleWidth&&p)}else{const O=k+Math.max((h-y)/2,0),N=l.leftForLtr(I,p),A=Km(S.borderRadius);i.beginPath(),Object.values(A).some(C=>C!==0)?yj(i,{x:N,y:O,w:p,h:y,radius:A}):i.rect(N,O,p,y),i.fill(),P!==0&&i.stroke()}i.restore()},w=function(I,k,S){Yp(i,S.text,I,k+v/2,u,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},_=this.isHorizontal(),j=this._computeTitleHeight();_?m={x:pr(s,this.left+d,this.right-r[0]),y:this.top+d+j,line:0}:m={x:this.left+d,y:pr(s,this.top+j+d,this.bottom-n[0].height),line:0},IG(this.ctx,e.textDirection);const E=v+d;this.legendItems.forEach((I,k)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const S=i.measureText(I.text).width,P=l.textAlign(I.textAlign||(I.textAlign=a.textAlign)),O=p+f+S;let N=m.x,A=m.y;l.setWidth(this.width),_?k>0&&N+O+d>this.right&&(A=m.y+=E,m.line++,N=m.x=pr(s,this.left+d,this.right-r[m.line])):k>0&&A+E>this.bottom&&(N=m.x=N+n[m.line].width+d,m.line++,A=m.y=pr(s,this.top+j+d,this.bottom-n[m.line].height));const C=l.x(N);if(b(C,A,I),N=zTe(P,N+p+f,_?N+O:this.right,e.rtl),w(l.x(N),A,I),_)m.x+=O+d;else if(typeof I.text!="string"){const F=u.lineHeight;m.y+=eY(I,F)+d}else m.y+=E}),RG(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Sr(n.font),i=Ji(n.padding);if(!n.display)return;const s=Dd(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,u=i.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=pr(e.align,h,this.right-f);else{const p=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);d=u+pr(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const m=pr(o,h,h+f);a.textAlign=s.textAlign(SP(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,Yp(a,n.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,n=Sr(e.font),r=Ji(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(fd(e,this.left,this.right)&&fd(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],fd(e,i.left,i.left+i.width)&&fd(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!GPe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=HPe(i,r);i&&!s&&Bt(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Bt(n.onHover,[e,r,this],this)}else r&&Bt(n.onClick,[e,r,this],this)}}function qPe(t,e,n,r,i){const s=WPe(r,t,e,n),a=KPe(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function WPe(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function KPe(t,e,n){let r=t;return typeof e.text!="string"&&(r=eY(e,n)),r}function eY(t,e){const n=t.text?t.text.length:0;return e*n}function GPe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var YPe={id:"legend",_element:FL,start(t,e,n){const r=t.legend=new FL({ctx:t.ctx,options:n,chart:t});qi.configure(t,r,n),qi.addBox(t,r)},stop(t){qi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;qi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=Ji(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class tY extends Ou{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Mn(r.text)?r.text.length:1;this._padding=Ji(r.padding);const s=i*Sr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,o=a.align;let l=0,u,d,h;return this.isHorizontal()?(d=pr(o,r,s),h=n+e,u=s-r):(a.position==="left"?(d=r+e,h=pr(o,i,n),l=Xn*-.5):(d=s-e,h=pr(o,n,i),l=Xn*.5),u=i-n),{titleX:d,titleY:h,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Sr(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(s);Yp(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:SP(n.align),textBaseline:"middle",translation:[a,o]})}}function XPe(t,e){const n=new tY({ctx:t.ctx,options:e,chart:t});qi.configure(t,n,e),qi.addBox(t,n),t.titleBlock=n}var QPe={id:"title",_element:tY,start(t,e,n){XPe(t,n)},stop(t){const e=t.titleBlock;qi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;qi.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gm={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=mj(e,u);d<i&&(i=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Rs(t,e){return e&&(Mn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function wa(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ZPe(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function BL(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=Sr(e.bodyFont),u=Sr(e.titleFont),d=Sr(e.footerFont),h=s.length,f=i.length,m=r.length,p=Ji(e.padding);let y=p.height,v=0,b=r.reduce((j,E)=>j+E.before.length+E.lines.length+E.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const j=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;y+=m*j+(b-m)*l.lineHeight+(b-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let w=0;const _=function(j){v=Math.max(v,n.measureText(j).width+w)};return n.save(),n.font=u.string,wt(t.title,_),n.font=l.string,wt(t.beforeBody.concat(t.afterBody),_),w=e.displayColors?a+2+e.boxPadding:0,wt(r,j=>{wt(j.before,_),wt(j.lines,_),wt(j.after,_)}),w=0,n.font=d.string,wt(t.footer,_),n.restore(),v+=p.width,{width:v,height:y}}function JPe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function eOe(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function tOe(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return r==="center"?u=i<=(o+l)/2?"left":"right":i<=s/2?u="left":i>=a-s/2&&(u="right"),eOe(u,t,e,n)&&(u="center"),u}function UL(t,e,n){const r=n.yAlign||e.yAlign||JPe(t,n);return{xAlign:n.xAlign||e.xAlign||tOe(t,e,n,r),yAlign:r}}function nOe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function rOe(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function zL(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,u=i+s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=Km(a);let p=nOe(e,o);const y=rOe(e,l,u);return l==="center"?o==="left"?p+=u:o==="right"&&(p-=u):o==="left"?p-=Math.max(d,f)+i:o==="right"&&(p+=Math.max(h,m)+i),{x:Hi(p,0,r.width-e.width),y:Hi(y,0,r.height-e.height)}}function Vy(t,e,n){const r=Ji(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function $L(t){return Rs([],wa(t))}function iOe(t,e,n){return Pu(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function HL(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const nY={beforeTitle:ya,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:ya,beforeBody:ya,beforeLabel:ya,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Mt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ya,afterBody:ya,beforeFooter:ya,footer:ya,afterFooter:ya};function Br(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?nY[e].call(n,r):i}class _j extends Ou{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new FG(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=iOe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Br(r,"beforeTitle",this,e),s=Br(r,"title",this,e),a=Br(r,"afterTitle",this,e);let o=[];return o=Rs(o,wa(i)),o=Rs(o,wa(s)),o=Rs(o,wa(a)),o}getBeforeBody(e,n){return $L(Br(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return wt(e,s=>{const a={before:[],lines:[],after:[]},o=HL(r,s);Rs(a.before,wa(Br(o,"beforeLabel",this,s))),Rs(a.lines,Br(o,"label",this,s)),Rs(a.after,wa(Br(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return $L(Br(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Br(r,"beforeFooter",this,e),s=Br(r,"footer",this,e),a=Br(r,"afterFooter",this,e);let o=[];return o=Rs(o,wa(i)),o=Rs(o,wa(s)),o=Rs(o,wa(a)),o}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,u;for(l=0,u=n.length;l<u;++l)o.push(ZPe(this.chart,n[l]));return e.filter&&(o=o.filter((d,h,f)=>e.filter(d,h,f,r))),e.itemSort&&(o=o.sort((d,h)=>e.itemSort(d,h,r))),wt(o,d=>{const h=HL(e.callbacks,d);i.push(Br(h,"labelColor",this,d)),s.push(Br(h,"labelPointStyle",this,d)),a.push(Br(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=gm[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=BL(this,r),u=Object.assign({},o,l),d=UL(this.chart,r,u),h=zL(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=Km(o),{x:f,y:m}=e,{width:p,height:y}=n;let v,b,w,_,j,E;return s==="center"?(j=m+y/2,i==="left"?(v=f,b=v-a,_=j+a,E=j-a):(v=f+p,b=v+a,_=j-a,E=j+a),w=v):(i==="left"?b=f+Math.max(l,d)+a:i==="right"?b=f+p-Math.max(u,h)-a:b=this.caretX,s==="top"?(_=m,j=_-a,v=b-a,w=b+a):(_=m+y,j=_+a,v=b+a,w=b-a),E=_),{x1:v,x2:b,x3:w,y1:_,y2:j,y3:E}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,o,l;if(s){const u=Dd(r.rtl,this.x,this.width);for(e.x=Vy(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",a=Sr(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,d=Sr(s.bodyFont),h=Vy(this,"left",s),f=i.x(h),m=l<d.lineHeight?(d.lineHeight-l)/2:0,p=n.y+m;if(s.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(f,u)+u/2,b=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,gj(e,y,v,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,gj(e,y,v,b)}else{e.lineWidth=ot(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=i.leftForLtr(f,u),v=i.leftForLtr(i.xPlus(f,1),u-2),b=Km(a.borderRadius);Object.values(b).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,yj(e,{x:y,y:p,w:u,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),yj(e,{x:v,y:p+1,w:u-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,p,u,l),e.strokeRect(y,p,u,l),e.fillStyle=a.backgroundColor,e.fillRect(v,p+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:d}=r,h=Sr(r.bodyFont);let f=h.lineHeight,m=0;const p=Dd(r.rtl,this.x,this.width),y=function(S){n.fillText(S,p.x(e.x+m),e.y+f/2),e.y+=f+s},v=p.textAlign(a);let b,w,_,j,E,I,k;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=Vy(this,v,r),n.fillStyle=r.bodyColor,wt(this.beforeBody,y),m=o&&v!=="right"?a==="center"?u/2+d:u+2+d:0,j=0,I=i.length;j<I;++j){for(b=i[j],w=this.labelTextColors[j],n.fillStyle=w,wt(b.before,y),_=b.lines,o&&_.length&&(this._drawColorBox(n,e,j,p,r),f=Math.max(h.lineHeight,l)),E=0,k=_.length;E<k;++E)y(_[E]),f=h.lineHeight;wt(b.after,y)}m=0,f=h.lineHeight,wt(this.afterBody,y),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,o;if(s){const l=Dd(r.rtl,this.x,this.width);for(e.x=Vy(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=Sr(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:d}=r,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:p}=Km(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+h,l),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(o+u-f,l),n.quadraticCurveTo(o+u,l,o+u,l+f),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(o+u,l+d-p),n.quadraticCurveTo(o+u,l+d,o+u-p,l+d),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(o+m,l+d),n.quadraticCurveTo(o,l+d,o,l+d-m),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(o,l+h),n.quadraticCurveTo(o,l,o+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=gm[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=BL(this,e),l=Object.assign({},a,this._size),u=UL(n,e,l),d=zL(e,l,u,n);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ji(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),IG(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),RG(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),s=!Mb(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),o=this._positionChanged(a,e),l=n||!Mb(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=gm[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}De(_j,"positioners",gm);var sOe={id:"tooltip",_element:_j,positioners:gm,afterInit(t,e,n){n&&(t.tooltip=new _j({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nY},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const aOe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function oOe(t,e,n,r){const i=t.indexOf(e);if(i===-1)return aOe(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const lOe=(t,e)=>t===null?null:Hi(Math.round(t),0,e);function qL(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Sj extends nf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Mt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:oOe(r,e,tt(n,e),this._addedLabels),lOe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return qL.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}De(Sj,"id","category"),De(Sj,"defaults",{ticks:{callback:qL}});function cOe(t,e){const n=[],{bounds:i,step:s,min:a,max:o,precision:l,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,m=s||1,p=d-1,{min:y,max:v}=e,b=!Mt(a),w=!Mt(o),_=!Mt(u),j=(v-y)/(h+1);let E=q4((v-y)/p/m)*m,I,k,S,P;if(E<1e-14&&!b&&!w)return[{value:y},{value:v}];P=Math.ceil(v/E)-Math.floor(y/E),P>p&&(E=q4(P*E/p/m)*m),Mt(l)||(I=Math.pow(10,l),E=Math.ceil(E*I)/I),i==="ticks"?(k=Math.floor(y/E)*E,S=Math.ceil(v/E)*E):(k=y,S=v),b&&w&&s&&PTe((o-a)/s,E/1e3)?(P=Math.round(Math.min((o-a)/E,d)),E=(o-a)/P,k=a,S=o):_?(k=b?a:k,S=w?o:S,P=u-1,E=(S-k)/P):(P=(S-k)/E,Hm(P,Math.round(P),E/1e3)?P=Math.round(P):P=Math.ceil(P));const O=Math.max(W4(E),W4(k));I=Math.pow(10,Mt(l)?O:l),k=Math.round(k*I)/I,S=Math.round(S*I)/I;let N=0;for(b&&(f&&k!==a?(n.push({value:a}),k<a&&N++,Hm(Math.round((k+N*E)*I)/I,a,WL(a,j,t))&&N++):k<a&&N++);N<P;++N){const A=Math.round((k+N*E)*I)/I;if(w&&A>o)break;n.push({value:A})}return w&&f&&S!==o?n.length&&Hm(n[n.length-1].value,o,WL(o,j,t))?n[n.length-1].value=o:n.push({value:o}):(!w||S===o)&&n.push({value:S}),n}function WL(t,e,{horizontal:n,minRotation:r}){const i=Ec(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class uOe extends nf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Mt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=n?i:l,o=l=>s=r?s:l;if(e){const l=Sh(i),u=Sh(s);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=cOe(i,s);return e.bounds==="ticks"&&OTe(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return EG(e,this.chart.options.locale,this.options.ticks.format)}}class Ej extends uOe{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jr(e)?e:0,this.max=jr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ec(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}De(Ej,"id","linear"),De(Ej,"defaults",{ticks:{callback:kG.formatters.numeric}});const Q1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kr=Object.keys(Q1);function KL(t,e){return t-e}function GL(t,e){if(Mt(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),jr(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Kp(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function YL(t,e,n,r){const i=Kr.length;for(let s=Kr.indexOf(t);s<i-1;++s){const a=Q1[Kr[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return Kr[s]}return Kr[i-1]}function dOe(t,e,n,r,i){for(let s=Kr.length-1;s>=Kr.indexOf(n);s--){const a=Kr[s];if(Q1[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return Kr[n?Kr.indexOf(n):0]}function hOe(t){for(let e=Kr.indexOf(t)+1,n=Kr.length;e<n;++e)if(Q1[Kr[e]].common)return Kr[e]}function XL(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=_P(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function fOe(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function QL(t,e,n){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!n?r:fOe(t,r,i,n)}class zb extends nf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new aCe._date(e.adapters.date);i.init(n),$m(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:GL(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=jr(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=jr(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=VTe(i,s,a);return this._unit=n.unit||(r.autoSkip?YL(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):dOe(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:hOe(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),QL(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Hi(n,0,a),r=Hi(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||YL(s.minUnit,n,r,this._getLabelCapacity(n)),o=tt(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=Kp(l)||l===!0,d={};let h=n,f,m;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<r;f=+e.add(f,o,a),m++)XL(d,f,p);return(f===r||i.bounds==="ticks"||m===1)&&XL(d,f,p),Object.keys(d).sort(KL).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return Bt(a,[e,n,r],this);const o=s.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&o[l],h=u&&o[u],f=r[n],m=u&&h&&f&&f.major;return this._adapter.format(e,i||(m?h:d))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Ec(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,QL(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(GL(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return BTe(e.sort(KL))}}De(zb,"id","time"),De(zb,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fy(t,e,n){let r=0,i=t.length-1,s,a,o,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=kc(t,"pos",e)),{pos:s,time:o}=t[r],{pos:a,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=kc(t,"time",e)),{time:s,pos:o}=t[r],{time:a,pos:l}=t[i]);const u=a-s;return u?o+(l-o)*(e-s)/u:o}class ZL extends zb{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Fy(n,this.min),this._tableRange=Fy(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,o,l,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)d=i[a+1],l=i[a-1],u=i[a],Math.round((d+l)/2)!==u&&s.push({time:u,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Fy(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Fy(this._table,r*this._tableRange+this._minPos,!0)}}De(ZL,"id","timeseries"),De(ZL,"defaults",zb.defaults);const rY="label";function JL(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function mOe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function iY(t,e){t.labels=e}function sY(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rY;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function pOe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rY;const n={labels:[],datasets:[]};return iY(n,t.labels),sY(n,t.datasets,e),n}function gOe(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,m=x.useRef(null),p=x.useRef(null),y=()=>{m.current&&(p.current=new Y1(m.current,{type:a,data:pOe(o,s),options:l&&{...l},plugins:u}),JL(e,p.current))},v=()=>{JL(e,null),p.current&&(p.current.destroy(),p.current=null)};return x.useEffect(()=>{!i&&p.current&&l&&mOe(p.current,l)},[i,l]),x.useEffect(()=>{!i&&p.current&&iY(p.current.config.data,o.labels)},[i,o.labels]),x.useEffect(()=>{!i&&p.current&&o.datasets&&sY(p.current.config.data,o.datasets,s)},[i,o.datasets]),x.useEffect(()=>{p.current&&(i?(v(),setTimeout(y)):p.current.update(h))},[i,l,o.labels,o.datasets,h]),x.useEffect(()=>{p.current&&(v(),setTimeout(y))},[a]),x.useEffect(()=>(y(),()=>v()),[]),ag.createElement("canvas",{ref:m,role:"img",height:n,width:r,...f},d)}const yOe=x.forwardRef(gOe);function vOe(t,e){return Y1.register(e),x.forwardRef((n,r)=>ag.createElement(yOe,{...n,ref:r,type:t}))}const xOe=vOe("line",Sv);Y1.register(Sj,Ej,Av,rl,QPe,sOe,YPe,$Pe);function $b({initialWallet:t="ALL"}){const{incomes:e,expenses:n,projects:r,totals:i,byFunder:s}=vt(),{currency:a}=lt(),{isDark:o}=da(),[l,u]=x.useState({labels:[],datasets:[]}),[d,h]=x.useState(7),f=x.useRef(null),[m,p]=x.useState(null),[y,v]=x.useState({lastValue:0,valuePct:0}),[b,w]=x.useState(t),[_,j]=x.useState({total:!0,igp:!0,income:!0});x.useEffect(()=>{const S=new Date,P=new Date;P.setDate(S.getDate()-d);const O=$=>$?new Date($):new Date,N=(e||[]).filter($=>$.status==="posted").map($=>({date:O($.date||$.createdAt||$.timestamp),delta:Number($.amount||0),projectId:$.projectId,walletId:$.walletId||null})),A=(n||[]).filter($=>$.status==="posted").map($=>({date:O($.date||$.createdAt||$.timestamp),delta:-Number($.amount||0),projectId:$.projectId,walletId:$.walletId||null})),C=[...N,...A].filter($=>$.date>=P&&$.date<=S).sort(($,je)=>$.date-je.date),F=b==="ALL"?C:C.filter($=>$.walletId?$.walletId===b:!0),M=new Map;F.forEach($=>{const je=$.date.toISOString().slice(0,10);M.set(je,(M.get(je)||0)+$.delta)});const V=[],B=new Date(P);B.setHours(0,0,0,0);const D=new Date(S);for(D.setHours(0,0,0,0);B<=D;)V.push(B.toISOString().slice(0,10)),B.setDate(B.getDate()+1);const U=new Map;(e||[]).filter($=>$.status==="posted"&&($.date?new Date($.date)>=P&&new Date($.date)<=S:!0)).forEach($=>{const je=($.date?new Date($.date):new Date).toISOString().slice(0,10);U.set(je,(U.get(je)||0)+Number($.amount||0))});let H=0;const X=[];for(const $ of V)H+=U.get($)||0,X.push({date:$,value:H});const z=X.length?X.map($=>$.date):[],Q=z.map($=>Ib(new Date($),"MMM d")),re=(e||[]).filter($=>$.status==="posted").reduce(($,je)=>$+Number(je.amount||0),0);if(X.length){const $=X.length-1,je=Number(X[$].value||0);Math.abs(je-re)>1e-4&&(X[$].value=re)}const ue=X.length?X[X.length-1].value:re||0,Ce=X.length?X[0].value:ue,xe=Ce?(ue-Ce)/Math.abs(Ce||1)*100:0;v({lastValue:ue,valuePct:xe});const Je=X.length?X.map($=>$.value):Q.map(()=>ue),se=new Set((r||[]).filter($=>$.type==="igp").map($=>$.id)),me=new Map;(e||[]).filter($=>$.status==="posted"&&($.date?new Date($.date)>=P&&new Date($.date)<=S:!0)&&se.has($.projectId)).forEach($=>{const je=($.date?new Date($.date):new Date).toISOString().slice(0,10);me.set(je,(me.get(je)||0)+Number($.amount||0))});let le=0,ee=V.map($=>(le+=me.get($)||0,le));const kt=(e||[]).filter($=>$.status==="posted"&&se.has($.projectId)).reduce(($,je)=>$+Number(je.amount||0),0);ee.length&&(ee[ee.length-1]=kt);const Be=new Map;(e||[]).filter($=>$.status==="posted"&&($.date?new Date($.date)>=P&&new Date($.date)<=S:!0)).forEach($=>{const je=(r||[]).find(Ht=>Ht.id===$.projectId);if(($.walletId||(je==null?void 0:je.funderId)||"ORG")==="ORG")return;const Me=($.date?new Date($.date):new Date).toISOString().slice(0,10);Be.set(Me,(Be.get(Me)||0)+Number($.amount||0))});let te=0,ae=V.map($=>(te+=Be.get($)||0,te));const $e=(e||[]).filter($=>$.status==="posted").reduce(($,je)=>{const et=(r||[]).find(Ht=>Ht.id===je.projectId);return(je.walletId||(et==null?void 0:et.funderId)||"ORG")==="ORG"?$:$+Number(je.amount||0)},0);ae.length&&(ae[ae.length-1]=$e);const W=[];_.total&&W.push({label:"Total Funds (All Income)",data:Je,borderColor:"#2563eb",backgroundColor:$=>{const je=$.chart,{ctx:et,chartArea:Me}=je;if(!Me)return"rgba(37,99,235,0.12)";const Ht=et.createLinearGradient(0,Me.bottom,0,Me.top);return Ht.addColorStop(0,"rgba(37,99,235,0)"),Ht.addColorStop(1,"rgba(37,99,235,0.20)"),Ht},fill:!0,tension:.6,cubicInterpolationMode:"default",borderWidth:2,pointRadius:$=>$.dataIndex===$.dataset.data.length-1?4:0,pointBackgroundColor:$=>$.dataIndex===$.dataset.data.length-1?"#2563eb":"rgba(37,99,235,0.6)",pointHoverRadius:6,hoverBorderWidth:3,borderCapStyle:"round",borderJoinStyle:"round"}),_.igp&&W.push({label:"IGP Income",data:ee,borderColor:"#059669",backgroundColor:$=>{const je=$.chart,{ctx:et,chartArea:Me}=je;if(!Me)return"rgba(5,150,105,0.12)";const Ht=et.createLinearGradient(0,Me.bottom,0,Me.top);return Ht.addColorStop(0,"rgba(5,150,105,0)"),Ht.addColorStop(1,"rgba(5,150,105,0.18)"),Ht},fill:!0,tension:.6,borderWidth:2,pointRadius:0}),_.income&&W.push({label:"Funding Income (Donors)",data:ae,borderColor:"#d97706",borderDash:[6,4],fill:!1,tension:.6,borderWidth:2,pointRadius:0}),u({labels:Q,datasets:W}),p($=>({...$||{},animation:{duration:600,easing:"easeOutCubic"}}));const oe=[];Je&&Je.length&&oe.push(...Je),_.igp&&ee&&ee.length&&oe.push(...ee),_.income&&ae&&ae.length&&oe.push(...ae),oe.length===0&&oe.push(0);const ve=Math.min(...oe),Ee=Math.max(...oe),Ve=Math.max(1,Ee-ve),Ot=ve-Ve*.25;p({responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!0,position:"bottom",labels:{usePointStyle:!0,boxWidth:8,boxHeight:8,color:o?"#cbd5e1":"#0f172a"}},tooltip:{backgroundColor:o?"rgba(15,23,42,0.95)":"white",titleColor:o?"#e2e8f0":"#0f172a",bodyColor:o?"#e2e8f0":"#0f172a",padding:10,boxPadding:6,borderWidth:1,borderColor:o?"#334155":"#e6eefc",callbacks:{title:$=>Ib(new Date(z[$[0].dataIndex]||new Date),"MMM d, yyyy"),label:$=>`${$.dataset.label}: ${he($.parsed.y,a)}`}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,color:o?"#94a3b8":void 0},offset:!0},y:{beginAtZero:!1,suggestedMin:Ot,grid:{display:!1},ticks:{color:o?"#94a3b8":void 0,callback:$=>he($,a)},grace:"20%"}}})},[e,n,r,b,d,i,s]),x.useEffect(()=>{try{const S=f.current,P=(S==null?void 0:S.chartInstance)||(S==null?void 0:S.chart)||S;P&&typeof P.update=="function"?P.update():S&&typeof S.forceUpdate=="function"&&S.forceUpdate()}catch{}},[l]);const E={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1}}},I=(e||[]).filter(S=>S.status==="posted").reduce((S,P)=>S+Number(P.amount||0),0),k=(e||[]).filter(S=>S.status==="posted").reduce((S,P)=>{const O=(r||[]).find(A=>A.id===P.projectId);return(P.walletId||(O==null?void 0:O.funderId)||"ORG")==="ORG"?S:S+Number(P.amount||0)},0);return c.jsxs("div",{className:"bg-white/80 backdrop-blur p-6 rounded-2xl border border-slate-200 shadow-sm dark:bg-slate-900/70 dark:border-slate-800 dark:shadow-none dark:text-slate-100",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-3 min-w-0",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Funds Overview"}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap justify-end",children:[c.jsxs("div",{className:"inline-flex items-center rounded-full bg-slate-100 p-1 shadow-inner dark:bg-slate-800",children:[c.jsx("button",{onClick:()=>h(7),className:`px-3 py-1.5 text-sm font-medium rounded-full transition-colors duration-200 focus:outline-none ${d===7?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"}`,children:"7 Days"}),c.jsx("button",{onClick:()=>h(30),className:`px-3 py-1.5 text-sm font-medium rounded-full transition-colors duration-200 focus:outline-none ${d===30?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"}`,children:"30 Days"}),c.jsx("button",{onClick:()=>h(90),className:`px-3 py-1.5 text-sm font-medium rounded-full transition-colors duration-200 focus:outline-none ${d===90?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"}`,children:"90 Days"})]}),c.jsxs("div",{className:"hidden sm:inline-flex items-center rounded-full bg-slate-100 p-1 shadow-inner dark:bg-slate-800",children:[c.jsx("button",{onClick:()=>j(S=>({...S,total:!S.total})),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors duration-200 ${_.total?"bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"}`,children:"Total"}),c.jsx("button",{onClick:()=>j(S=>({...S,igp:!S.igp})),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors duration-200 ${_.igp?"bg-white dark:bg-slate-700 text-emerald-700 dark:text-emerald-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"}`,children:"IGP"}),c.jsx("button",{onClick:()=>j(S=>({...S,income:!S.income})),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-colors duration-200 ${_.income?"bg-white dark:bg-slate-700 text-amber-700 dark:text-amber-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"}`,children:"Funding"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-4 border shadow-sm transform transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 group",style:{background:o?"linear-gradient(180deg, #1E293B, #0F172A)":"linear-gradient(180deg, #FFFFFF, #F8FAFF)",borderColor:o?"#312E81":"#E7E9FF",boxShadow:o?"0 0 20px rgba(99, 102, 241, 0.3)":"0 0 10px rgba(99, 102, 241, 0.1)"},children:[c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-tr-xl rounded-br-xl group-hover:w-2 transition-all duration-300",style:{background:"linear-gradient(180deg, #6366F1, #8B5CF6)"}}),c.jsxs("div",{className:"flex items-center gap-3 z-10 relative",children:[c.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-lg transform transition-all duration-300 group-hover:scale-105",style:{background:"linear-gradient(135deg,#6366F1,#8B5CF6)",color:"white"},children:c.jsx(lu,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-xs font-bold tracking-wide",style:{color:o?"#A5B4FC":"#312E81",letterSpacing:"0.04em"},children:"Total Funds"}),c.jsx("div",{className:"mt-1 font-bold text-[clamp(1rem,2.5vw,1.25rem)] whitespace-nowrap overflow-hidden text-ellipsis",style:{color:o?"#F1F5F9":"#0f172a"},children:he(I,a)}),c.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs",style:{color:o?"#94A3B8":"#475569"},children:[c.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium transition-colors duration-200 ${y.valuePct>=0?o?"bg-indigo-950 text-indigo-300":"bg-indigo-50 text-indigo-700":o?"bg-rose-950 text-rose-300":"bg-rose-50 text-rose-700"}`,children:[y.valuePct>=0?c.jsx(Pz,{className:"h-3 w-3 mr-1",style:{color:o?"#A78BFA":"#4F46E5"}}):c.jsx(hN,{className:"h-3 w-3 mr-1",style:{color:o?"#FCA5A5":"#EF4444"}}),`${Math.abs(y.valuePct).toFixed(1)}%`]}),c.jsxs("div",{className:"text-xs",style:{color:o?"#64748B":"#9CA3AF"},children:["in last ",d," days"]})]})]})]})]}),c.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-4 border shadow-sm transform transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 group",style:{background:o?"linear-gradient(180deg, #1E293B, #0F172A)":"linear-gradient(180deg, #FFFFFF, #F8FFFE)",borderColor:o?"#064E3B":"#E6FFFA",boxShadow:o?"0 0 20px rgba(6, 182, 212, 0.3)":"0 0 10px rgba(6, 182, 212, 0.1)"},children:[c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-tr-xl rounded-br-xl group-hover:w-2 transition-all duration-300",style:{background:"linear-gradient(180deg, #06B6D4, #14B8A6)"}}),c.jsxs("div",{className:"flex items-center gap-3 z-10 relative",children:[c.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-lg transform transition-all duration-300 group-hover:scale-105",style:{background:"linear-gradient(135deg,#06B6D4,#14B8A6)",color:"white"},children:c.jsx(Dg,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-xs font-bold tracking-wide",style:{color:o?"#5EEAD4":"#064E3B",letterSpacing:"0.04em"},children:"Funding Sources"}),c.jsx("div",{className:"mt-1 font-bold text-[clamp(1rem,2.5vw,1.25rem)] whitespace-nowrap overflow-hidden text-ellipsis",style:{color:o?"#F1F5F9":"#0f172a"},children:he(k,a)}),c.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs",style:{color:o?"#94A3B8":"#475569"},children:[c.jsxs("div",{className:"text-xs",style:{color:o?"#94A3B8":"#9CA3AF"},children:["Across ",(s==null?void 0:s.length)||0," funders"]}),c.jsx("div",{className:"ml-auto text-xs font-semibold",style:{color:o?"#5EEAD4":"#064E3B"},children:"Total"})]})]})]})]})]}),c.jsxs("div",{className:"h-80 relative",children:[c.jsx("div",{className:"absolute right-4 top-4 z-10",children:c.jsxs("div",{className:"bg-white/80 px-3 py-1 rounded-full text-xs text-slate-600 shadow dark:bg-slate-800/80 dark:text-slate-200",children:[d," days"]})}),c.jsx("div",{className:"h-full",children:l.labels&&l.labels.length>0?c.jsx(xOe,{ref:f,options:m||E,data:l}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"No data available for the selected time range."})})})]})]})}const bOe=["#6366F1","#06B6D4","#F59E0B","#EF4444","#10B981","#0EA5E9","#8B5CF6","#84CC16","#14B8A6","#F97316"];function kj(t,e="USD"){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:e,maximumFractionDigits:0}).format(t||0)}catch{return new Intl.NumberFormat().format(Math.round(t||0))}}const wOe=({active:t,payload:e,label:n,currency:r})=>{if(t&&e&&e.length){const i=e.reduce((s,a)=>s+(Number(a.value)||0),0);return c.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200 min-w-[220px] dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-800 mb-1 dark:text-slate-100",children:n}),c.jsx("div",{className:"space-y-1",children:e.map(s=>c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:s.color}}),c.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:s.name})]}),c.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100",children:kj(s.value,r)})]},s.dataKey))}),c.jsxs("div",{className:"border-t border-slate-100 mt-2 pt-2 text-xs flex items-center justify-between dark:border-slate-700",children:[c.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total"}),c.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:kj(i,r)})]})]})}return null};function Ym({className:t="",timeRange:e="All",compact:n=!1}){var S,P;const{expenses:r,projects:i}=vt(),{orgs:s,activeOrgId:a,currency:o}=lt(),{isDark:l}=da(),u=x.useMemo(()=>{const N=(z=>{switch(z){case"1M":return 30;case"3M":return 90;case"6M":return 180;case"1Y":return 365;default:return 1/0}})(e),A=new Date,C=Number.isFinite(N)?new Date(A.getTime()-N*24*60*60*1e3):null,F=z=>z?new Date(z):null,M=(r||[]).filter(z=>z.status==="posted").filter(z=>{if(!C)return!0;const Q=F(z.date||z.createdAt||z.timestamp);return Q?Q>=C&&Q<=A:!0}),V=(s==null?void 0:s.find(z=>z.id===a))||null,B=Array.isArray(V==null?void 0:V.internalCategories)?V.internalCategories.map(z=>(z||"").trim()).filter(Boolean):[],D=new Set(B);M.forEach(z=>{z.category&&D.add(z.category)});const U=Array.from(D.size?D:new Set(["Other"])),H=new Map;M.forEach(z=>{const Q=(i||[]).find(se=>se.id===z.projectId),re=(Q==null?void 0:Q.name)||"Unassigned",ue=(Q==null?void 0:Q.id)||"UNASSIGNED",Ce=Math.abs(Number(z.amount||0)),xe=z.category||"Other";if(!H.has(ue)){const se={name:re};U.forEach(me=>se[me]=0),H.set(ue,se)}const Je=H.get(ue);Je[xe]=(Je[xe]||0)+Ce});const X=[];for(const[,z]of H.entries()){const Q={project:z.name};U.forEach(re=>{Q[re]=z[re]||0}),Q.total=U.reduce((re,ue)=>re+(Q[ue]||0),0),X.push(Q)}return X.sort((z,Q)=>(Q.total||0)-(z.total||0)),{rows:X,categoriesList:U}},[r,i,s,a,e]),[d,h]=x.useState(new Set),[f,m]=x.useState(!1),p=u.categoriesList||[],y=p.filter(O=>!d.has(O)),v=10,b=f?p:p.slice(0,v),w=O=>{h(N=>{const A=new Set(N);return A.has(O)?A.delete(O):A.add(O),A})};if(!(u&&u.rows&&u.rows.length))return c.jsxs("div",{className:`bg-white p-4 rounded-2xl shadow-sm border border-gray-100 ${t} dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100`,children:[c.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700 dark:text-slate-100",children:"Project Expenses"}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No expense data yet."})]});const _=((S=u.rows)==null?void 0:S.length)>6?-25:0,j=n?28:36,E=Math.max(n?380:520,(((P=u.rows)==null?void 0:P.length)||0)*j),I=bOe,k=(u.categoriesList||[]).reduce((O,N,A)=>(O[N]=I[A%I.length],O),{});return c.jsxs("div",{className:`overflow-hidden rounded-3xl bg-gradient-to-b from-white/95 to-white/80 backdrop-blur-xl ring-1 ring-gray-200 shadow-sm hover:shadow-md transition-shadow ${t} dark:from-slate-900/80 dark:to-slate-900/60 dark:ring-slate-800 dark:text-slate-100`,children:[c.jsxs("div",{className:"px-5 pt-5 pb-3 flex items-center justify-between border-b border-slate-100/70 dark:border-slate-800",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-9 w-9 rounded-xl bg-blue-500/10 text-blue-600 dark:text-blue-300 flex items-center justify-center",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3v18h18M7 13h6m-6-4h10m-10 8h4"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Project Expenses"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Stacked by category"})]})]}),c.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:"Live"})]}),c.jsxs("div",{className:"px-5 py-4",children:[c.jsx("div",{className:`${n?"h-36 lg:h-44":"h-48 lg:h-60"} overflow-x-auto`,children:c.jsx("div",{style:{minWidth:E},className:"h-full lg:max-w-4xl",children:c.jsx(pu,{width:"100%",height:"100%",children:c.jsxs(yP,{data:u.rows,margin:{top:10,right:8,bottom:6,left:8},barCategoryGap:"10%",barGap:6,children:[c.jsxs("defs",{children:[y.map((O,N)=>{const A=`grad-project-${O.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase()}`,C=k[O];return c.jsxs("linearGradient",{id:A,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:C,stopOpacity:"1"}),c.jsx("stop",{offset:"100%",stopColor:C,stopOpacity:"0.75"})]},A)}),c.jsx("filter",{id:"barShadowP",x:"-20%",y:"-20%",width:"140%",height:"140%",children:c.jsx("feDropShadow",{dx:"0",dy:"6",stdDeviation:"8",floodColor:"#0ea5e9",floodOpacity:"0.07"})})]}),c.jsx(fP,{strokeDasharray:"2 4",vertical:!1,stroke:l?"#334155":"#e5e7eb"}),c.jsx(z1,{dataKey:"project",tick:{fontSize:12,fill:l?"#cbd5e1":"#475569"},interval:0,angle:_,height:_?70:50,dy:_?12:10}),c.jsx($1,{tick:{fontSize:12,fill:l?"#cbd5e1":"#475569"},tickFormatter:O=>kj(O,o)}),c.jsx(bh,{content:c.jsx(wOe,{currency:o}),cursor:{fill:"rgba(2,132,199,0.06)"}}),y.map((O,N)=>{const A=`grad-project-${O.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase()}`;return c.jsx(U1,{dataKey:O,name:O,stackId:"a",fill:`url(#${A})`,radius:[12,12,12,12],barSize:14,stroke:"#ffffff",strokeWidth:2,filter:"url(#barShadowP)"},O)})]})})})}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[b.map(O=>{const N=d.has(O);return c.jsxs("button",{type:"button",onClick:()=>w(O),"aria-pressed":!N,title:N?`Show ${O}`:`Hide ${O}`,className:`flex items-center gap-2 text-xs md:text-sm px-2.5 py-1.5 rounded-full border transition ${N?"bg-white/70 text-slate-400 border-slate-200 dark:bg-slate-900/50 dark:text-slate-500 dark:border-slate-700":"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700"}`,children:[c.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full ring-2 ring-white",style:{background:k[O],opacity:N?.35:1}}),c.jsx("span",{className:"truncate max-w-[140px]",children:O})]},O)}),p.length>v&&c.jsx("button",{type:"button",className:"text-xs md:text-sm px-2 py-1 rounded-full bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-300",onClick:()=>m(O=>!O),children:f?"Show less":`Show all (${p.length})`})]})]})]})}const Os=["#4F46E5","#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16","#14B8A6","#6366F1","#EC4899","#F43F5E","#0EA5E9","#22C55E"];function Zu(t,e="USD"){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:e,maximumFractionDigits:0}).format(t||0)}catch{return new Intl.NumberFormat().format(Math.round(t||0))}}const _Oe=({title:t,amount:e,share:n,currency:r})=>c.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[c.jsx("div",{className:"font-semibold",children:t}),c.jsxs("div",{className:"text-sm",children:["Amount: ",c.jsx("span",{className:"font-medium",children:Zu(e,r)})]}),c.jsxs("div",{className:"text-sm",children:["Share: ",c.jsxs("span",{className:"font-medium",children:[(n*100).toFixed(1),"%"]})]})]}),e6=({active:t,payload:e,currency:n})=>{if(t&&e&&e.length){const r=e[0];return c.jsx(_Oe,{title:r.name,amount:r.value,share:r.payload.percent,currency:n})}return null},t6=({name:t,percent:e,cx:n,cy:r,midAngle:i,outerRadius:s,fill:a,value:o})=>{if(e<.03)return null;const l=Math.PI/180,u=s*1.1,d=n+u*Math.cos(-i*l),h=r+u*Math.sin(-i*l),f=d>n?"start":"end",m=(e*100).toFixed(0)+"%";return c.jsxs("g",{children:[c.jsx("line",{x1:n+s*.7*Math.cos(-i*l),y1:r+s*.7*Math.sin(-i*l),x2:d-(d>n?5:-5),y2:h,stroke:a,strokeWidth:1.5,strokeDasharray:"2 2"}),c.jsxs("text",{x:d+(d>n?5:-5),y:h+4,fill:"#374151",textAnchor:f,dominantBaseline:"middle",fontSize:11,fontWeight:500,children:[t,": ",m]})]})},Xm=({data:t,compact:e=!1})=>{const{expenses:n}=vt(),{orgs:r,activeOrgId:i,currency:s}=lt(),{data:a,total:o}=x.useMemo(()=>{const l=t&&t.length?t:n||[],u=new Map;(l||[]).forEach(v=>{const b=(v.category||"Miscellaneous").trim()||"Miscellaneous",w=Math.abs(Number(v.amount||0));u.set(b,(u.get(b)||0)+w)});const d=(r==null?void 0:r.find(v=>v.id===i))||null,h=Array.isArray(d==null?void 0:d.internalCategories)&&d.internalCategories.length?d.internalCategories.map(v=>v.trim()).filter(Boolean):null,f=Array.from(u.entries()).map(([v,b])=>({name:v,value:b})).filter(v=>Number(v.value)>0),m=h?[...f.filter(v=>h.includes(v.name)).sort((v,b)=>h.indexOf(v.name)-h.indexOf(b.name)),...f.filter(v=>!h.includes(v.name)).sort((v,b)=>b.value-v.value)]:f.sort((v,b)=>b.value-v.value),p=m.reduce((v,b)=>v+b.value,0);return{data:m.map(v=>({...v,percent:p?v.value/p:0,change:0,pctChange:0})).sort((v,b)=>v.percent-b.percent),total:p}},[n,t,r,i]);return!a||a.length===0?c.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700 dark:text-slate-100",children:"Expenses by Category"}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No expenses yet."})]}):e?c.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white/90 backdrop-blur ring-1 ring-gray-200 shadow-sm p-4 max-w-[16rem] sm:max-w-[18rem] dark:bg-slate-900/70 dark:ring-slate-800 dark:text-slate-100",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3 dark:text-slate-100",children:"Expenses Breakdown"}),c.jsxs("div",{className:"h-48 relative",children:[c.jsx(pu,{width:"100%",height:"100%",children:c.jsxs(hj,{children:[c.jsx("defs",{children:a.map((l,u)=>c.jsxs("linearGradient",{id:`gradient-${u}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:Os[u%Os.length],stopOpacity:.9}),c.jsx("stop",{offset:"100%",stopColor:Os[u%Os.length],stopOpacity:.7})]},`gradient-${u}`))}),c.jsx(Eb,{data:a,dataKey:"value",cx:"50%",cy:"50%",innerRadius:"70%",outerRadius:"90%",paddingAngle:1,startAngle:90,endAngle:-270,isAnimationActive:!0,animationDuration:1200,animationEasing:"ease-out",labelLine:!1,label:t6,children:a.map((l,u)=>c.jsx(wh,{fill:`url(#gradient-${u})`,stroke:"#fff",strokeWidth:1,style:{transition:"opacity 0.3s",cursor:"pointer",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}},`cell-${u}`))}),c.jsx(bh,{content:c.jsx(e6,{currency:s})})]})}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Spent"}),c.jsx("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:Zu(o,s)})]})]}),c.jsxs("div",{className:"mt-2 text-xs text-slate-600 dark:text-slate-300",children:[c.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total: "}),c.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Zu(o,s)})]}),c.jsx("div",{className:"mt-2 space-y-1.5 max-h-32 overflow-auto pr-1",children:a.map((l,u)=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"inline-block h-2 w-5 rounded-full",style:{background:Os[u%Os.length]}}),c.jsx("span",{className:"text-[11px] text-slate-700 truncate dark:text-slate-200",children:l.name})]}),c.jsxs("div",{className:"text-[11px] text-slate-500 whitespace-nowrap dark:text-slate-400",children:[c.jsxs("span",{className:"font-medium text-slate-800 mr-1 dark:text-slate-100",children:[(l.percent*100).toFixed(0),"%"]}),Zu(l.value,s)]})]},l.name))})]}):c.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100 flex flex-col md:flex-row gap-4 items-stretch dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100",children:[c.jsx("div",{className:"flex-1 min-h-[220px] flex items-center justify-center",children:c.jsxs("div",{className:"w-full max-w-md h-56 relative flex items-center justify-center",children:[c.jsx(pu,{width:"100%",height:"100%",children:c.jsxs(hj,{children:[c.jsx(Eb,{data:a,dataKey:"value",cx:"45%",cy:"50%",innerRadius:68,outerRadius:102,paddingAngle:2,startAngle:90,endAngle:-270,isAnimationActive:!0,animationDuration:900,labelLine:!0,label:t6,children:a.map((l,u)=>c.jsx(wh,{fill:Os[u%Os.length]},`cell-${u}`))}),c.jsx(bh,{content:c.jsx(e6,{currency:s})})]})}),c.jsxs("div",{className:"absolute pointer-events-none flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Expenses"}),c.jsx("div",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:Zu(o,s)})]})]})}),c.jsxs("div",{className:"w-full md:w-80 flex-shrink-0",children:[c.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3 dark:text-slate-200",children:"Breakdown"}),c.jsx("div",{className:"space-y-3",children:a.map((l,u)=>c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-3 w-8 rounded-full shadow-sm",style:{background:Os[u%Os.length]}}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:l.name}),c.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-400",children:[Zu(l.value,s),"  ",(l.percent*100).toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"text-sm font-medium text-slate-400 dark:text-slate-400",children:[(l.percent*100).toFixed(1),"%"]})]},l.name))})]})]})},SOe=["#6366F1","#06B6D4","#F59E0B","#EF4444","#10B981","#0EA5E9","#8B5CF6","#84CC16","#14B8A6","#F97316"];function Aj(t,e="USD"){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:e,maximumFractionDigits:0}).format(t||0)}catch{return new Intl.NumberFormat().format(Math.round(t||0))}}const EOe=({active:t,payload:e,label:n,currency:r})=>{if(t&&e&&e.length){const i=e.reduce((s,a)=>s+(Number(a.value)||0),0);return c.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200 min-w-[220px] dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-800 mb-1 dark:text-slate-100",children:n}),c.jsx("div",{className:"space-y-1",children:e.map(s=>c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:s.color}}),c.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:s.name})]}),c.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100",children:Aj(s.value,r)})]},s.dataKey))}),c.jsxs("div",{className:"border-t border-slate-100 mt-2 pt-2 text-xs flex items-center justify-between dark:border-slate-700",children:[c.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total"}),c.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Aj(i,r)})]})]})}return null};function kOe({className:t="",timeRange:e="All"}){const{expenses:n,projects:r,funders:i}=vt(),{orgs:s,activeOrgId:a,currency:o}=lt(),{isDark:l}=da(),{data:u,categories:d}=x.useMemo(()=>{const O=(X=>{switch(X){case"1M":return 30;case"3M":return 90;case"6M":return 180;case"1Y":return 365;default:return 1/0}})(e),N=new Date,A=Number.isFinite(O)?new Date(N.getTime()-O*24*60*60*1e3):null,C=X=>X?new Date(X):null,F=(n||[]).filter(X=>X.status==="posted").filter(X=>{if(!A)return!0;const z=C(X.date||X.createdAt||X.timestamp);return z?z>=A&&z<=N:!0}),M=(s==null?void 0:s.find(X=>X.id===a))||null,V=Array.isArray(M==null?void 0:M.internalCategories)?M.internalCategories.map(X=>(X||"").trim()).filter(Boolean):[],B=new Set(V);F.forEach(X=>{X.category&&B.add(X.category)});const D=Array.from(B.size?B:new Set(["Other"])),U=new Map;F.forEach(X=>{var Je;const z=(r||[]).find(se=>se.id===X.projectId),Q=X.walletId||(z==null?void 0:z.funderId)||"ORG",re=((Je=(i||[]).find(se=>se.id===Q))==null?void 0:Je.name)||(Q==="ORG"?"Organization":Q),ue=Math.abs(Number(X.amount||0)),Ce=X.category||"Other";if(!U.has(Q)){const se={funder:re};D.forEach(me=>se[me]=0),U.set(Q,se)}const xe=U.get(Q);xe[Ce]=(xe[Ce]||0)+ue});const H=[];for(const[,X]of U.entries()){const z={funder:X.funder};D.forEach(Q=>{z[Q]=X[Q]||0}),z.total=D.reduce((Q,re)=>Q+(z[re]||0),0),H.push(z)}return H.sort((X,z)=>(z.total||0)-(X.total||0)),{data:H,categories:D}},[n,r,s,a,e,i]),[h,f]=x.useState(new Set),[m,p]=x.useState(!1),y=d||[],v=y.filter(P=>!h.has(P)),b=10,w=m?y:y.slice(0,b),_=P=>{f(O=>{const N=new Set(O);return N.has(P)?N.delete(P):N.add(P),N})};if(!(u!=null&&u.length))return c.jsxs("div",{className:`bg-white p-4 rounded-2xl shadow-sm border border-gray-100 ${t} dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100`,children:[c.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700 dark:text-slate-100",children:"Funders Expenses Breakdown"}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No expense data yet."})]});const j=(u==null?void 0:u.length)>6?-25:0,I=Math.max(520,((u==null?void 0:u.length)||0)*36),k=SOe,S=(d||[]).reduce((P,O,N)=>(P[O]=k[N%k.length],P),{});return c.jsxs("div",{className:`overflow-hidden rounded-3xl bg-gradient-to-b from-white/95 to-white/80 backdrop-blur-xl ring-1 ring-gray-200 shadow-sm hover:shadow-md transition-shadow ${t} dark:from-slate-900/80 dark:to-slate-900/60 dark:ring-slate-800 dark:text-slate-100`,children:[c.jsxs("div",{className:"px-5 pt-5 pb-3 flex items-center justify-between border-b border-slate-100/70 dark:border-slate-800",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-9 w-9 rounded-xl bg-emerald-500/10 text-emerald-600 dark:text-emerald-300 flex items-center justify-center",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7h18M7 11h10M7 15h6"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Funders Expenses"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Stacked by category"})]})]}),c.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:"Live"})]}),c.jsxs("div",{className:"px-5 py-4",children:[c.jsx("div",{className:"h-48 lg:h-60 overflow-x-auto",children:c.jsx("div",{style:{minWidth:I},className:"h-full lg:max-w-4xl",children:c.jsx(pu,{width:"100%",height:"100%",children:c.jsxs(yP,{data:u,margin:{top:10,right:8,bottom:6,left:8},barCategoryGap:"10%",barGap:6,children:[c.jsxs("defs",{children:[v.map(P=>{const O=`grad-funder-${P.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase()}`,N=S[P];return c.jsxs("linearGradient",{id:O,x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:N,stopOpacity:"1"}),c.jsx("stop",{offset:"100%",stopColor:N,stopOpacity:"0.75"})]},O)}),c.jsx("filter",{id:"barShadowF",x:"-20%",y:"-20%",width:"140%",height:"140%",children:c.jsx("feDropShadow",{dx:"0",dy:"6",stdDeviation:"8",floodColor:"#0ea5e9",floodOpacity:"0.07"})})]}),c.jsx(fP,{strokeDasharray:"2 4",vertical:!1,stroke:l?"#334155":"#e5e7eb"}),c.jsx(z1,{dataKey:"funder",tick:{fontSize:12,fill:l?"#cbd5e1":"#475569"},interval:0,angle:j,height:j?70:50,dy:j?12:10}),c.jsx($1,{tick:{fontSize:12,fill:l?"#cbd5e1":"#475569"},tickFormatter:P=>Aj(P,o)}),c.jsx(bh,{content:c.jsx(EOe,{currency:o}),cursor:{fill:"rgba(2,132,199,0.06)"}}),v.map(P=>{const O=`grad-funder-${P.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase()}`;return c.jsx(U1,{dataKey:P,name:P,stackId:"a",fill:`url(#${O})`,radius:[12,12,12,12],barSize:14,stroke:"#ffffff",strokeWidth:2,filter:"url(#barShadowF)"},P)})]})})})}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[w.map(P=>{const O=h.has(P);return c.jsxs("button",{type:"button",onClick:()=>_(P),"aria-pressed":!O,title:O?`Show ${P}`:`Hide ${P}`,className:`flex items-center gap-2 text-xs md:text-sm px-2.5 py-1.5 rounded-full border transition ${O?"bg-white/70 text-slate-400 border-slate-200 dark:bg-slate-900/50 dark:text-slate-500 dark:border-slate-700":"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700"}`,children:[c.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full ring-2 ring-white",style:{background:S[P],opacity:O?.35:1}}),c.jsx("span",{className:"truncate max-w-[140px]",children:P})]},P)}),y.length>b&&c.jsx("button",{type:"button",className:"text-xs md:text-sm px-2 py-1 rounded-full bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-300",onClick:()=>p(P=>!P),children:m?"Show less":`Show all (${y.length})`})]})]})]})}function aY({children:t}){const{role:e}=lt();return e==="admin"?c.jsx(c.Fragment,{children:t}):null}function AOe(t){try{return new Date(t).toLocaleString()}catch{return t}}function Hb({full:t=!1}){const{logs:e=[],removeItem:n,softRemoveLog:r,restoreLog:i,finalizeRemoveLog:s}=vt(),{activeOrg:a,role:o}=lt(),{user:l}=Vt(),u=Number(import.meta.env.REACT_APP_UNDO_WINDOW_MS)||6e3,d=I=>{const k=String(I||"").toLowerCase();return k.startsWith("log_")||k==="item_removed"},h=(e||[]).filter(I=>!I.deleted).filter(I=>!d(I.action)).slice(0,20),[f,m]=x.useState({}),[p,y]=x.useState({open:!1,title:"",message:"",onConfirm:null,hasItem:!1}),[v,b]=x.useState([]);function w(I){const k=(I||"").toLowerCase();return k.includes("income")?"incomes":k.includes("expense")?"expenses":k.includes("project")?"projects":k.includes("funder")?"funders":null}function _(I){y({open:!0,...I})}function j(){y({open:!1,title:"",message:"",onConfirm:null})}x.useEffect(()=>{let I=!0;const k=(e||[]).filter(P=>!P.byEmail&&P.by&&!P.deleted).map(P=>P.by).filter(Boolean),S=Array.from(new Set(k)).filter(P=>!f[P]);return S.length===0?()=>{I=!1}:((async()=>{const P={};await Promise.all(S.map(async O=>{try{let N=null;if(a&&Array.isArray(a.memberships)){const A=a.memberships.find(C=>C.userId===O||C.userId===(O||""));A&&A.email&&(N=A.email)}if(N){P[O]=N;return}try{const A=mt(Ye,"users",O),C=await En(A);if(C.exists()){const F=C.data();P[O]=(F==null?void 0:F.email)||(F==null?void 0:F.name)||null;return}}catch{}P[O]=null}catch{P[O]=null}})),I&&m(O=>({...O,...P}))})(),()=>{I=!1})},[e,a]);function E(I){const k=(I||"").toLowerCase();return k.includes("income")?{label:(I||"").replace(/_/g," "),border:"border-l-4 border-green-500",badgeBg:"bg-green-100",badgeText:"text-green-800",cardBg:"bg-green-50",cardBgDark:"bg-green-900/20"}:k.includes("expense")?{label:(I||"").replace(/_/g," "),border:"border-l-4 border-red-500",badgeBg:"bg-red-100",badgeText:"text-red-800",cardBg:"bg-red-50",cardBgDark:"bg-red-900/20"}:k.includes("approve")||k.includes("approval")?{label:(I||"").replace(/_/g," "),border:"border-l-4 border-sky-500",badgeBg:"bg-sky-100",badgeText:"text-sky-800",cardBg:"bg-sky-50",cardBgDark:"bg-sky-900/20"}:{label:(I||"").replace(/_/g," "),border:"border-l-4 border-gray-200",badgeBg:"bg-gray-100",badgeText:"text-gray-800",cardBg:"bg-white/60",cardBgDark:"bg-slate-900/60"}}return c.jsxs("div",{className:`recent-activities-card w-full ${t?"lg:w-full":""} overflow-hidden rounded-3xl bg-white/90 backdrop-blur ring-1 ring-gray-200 px-4 py-4 shadow-sm sm:p-6 min-w-0 dark:bg-slate-900/70 dark:ring-slate-800`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Recent activities"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Timeline of recent actions"})]}),c.jsx(be,{to:"/audit",className:"text-xs text-sky-700 hover:underline self-start",children:"View all"})]}),c.jsxs("div",{className:"max-h-[520px] overflow-auto",children:[h.length===0&&c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400 p-4",children:"No recent activity"}),c.jsx("div",{className:"space-y-3",children:h.map(I=>{const k=I.byEmail||I.byName||f[I.by]||I.by||"Unknown",S=I.byRole||I.role||"",P=k.charAt(0).toUpperCase(),O=E(I.action),N=w(I.action);return c.jsx("div",{className:`${O.border} rounded-2xl ${O.cardBg} dark:${O.cardBgDark} p-3 shadow-sm hover:shadow-md transition transform-gpu`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white font-semibold",children:P})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`px-3 py-0.5 rounded-full text-xs font-semibold ${O.badgeBg} ${O.badgeText}`,children:O.label}),c.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100 truncate",children:k})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-xs text-gray-400 dark:text-slate-500",children:AOe(I.at)}),c.jsx(aY,{children:c.jsx("button",{title:"Delete activity",onClick:()=>_({title:"Delete activity",message:N&&I.refId?`Delete the referenced ${N.replace(/s$/,"")} (id: ${I.refId}) or just remove this activity?`:"Remove this activity from the timeline?",hasItem:!!(N&&I.refId),onConfirm:async A=>{try{if(A==="log"){r(I.id);const C=setTimeout(()=>{try{s(I.id)}catch(F){console.error(F)}b(F=>F.filter(M=>M.id!==I.id))},u);b(F=>[...F,{id:I.id,timer:C}]),j();return}if((A==="item"||A==="both")&&N&&I.refId&&await n(N,I.refId),A==="both"){r(I.id);const C=setTimeout(()=>{try{s(I.id)}catch(F){console.error(F)}b(F=>F.filter(M=>M.id!==I.id))},u);b(F=>[...F,{id:I.id,timer:C}])}}catch(C){console.error("delete failed",C)}j()}}),className:"h-8 w-8 rounded-full flex items-center justify-center bg-white shadow-sm text-rose-600 hover:bg-rose-50 dark:bg-slate-800 dark:text-rose-400",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18M8 6v12a2 2 0 002 2h4a2 2 0 002-2V6m-5 2v8"})})})}),l!=null&&l.id&&l.id===I.by||o==="admin"?c.jsx("button",{title:"Remove activity",onClick:async()=>{if(window.confirm("Remove this activity from the timeline? You can undo for 6 seconds."))try{r(I.id);const A=setTimeout(()=>{try{s(I.id)}catch(C){console.error(C)}b(C=>C.filter(F=>F.id!==I.id))},u);b(C=>[...C,{id:I.id,timer:A}])}catch(A){console.error("remove activity failed",A);try{window.alert("Failed to remove activity")}catch{}}},className:"h-7 w-7 rounded-md flex items-center justify-center text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-800",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M1 7h22M10 3h4a1 1 0 011 1v2H9V4a1 1 0 011-1z"})})}):null]})]}),c.jsxs("div",{className:"mt-1 text-xs text-gray-500 dark:text-slate-400 flex items-center justify-between",children:[c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:S||""}),c.jsx("span",{className:"text-[12px] text-gray-400",children:I.refId?`ref: ${I.refId}`:""})]})]})]})},I.id)})})]}),p.open&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:j}),c.jsxs("div",{className:"relative bg-white dark:bg-slate-900 rounded-xl shadow-lg max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:p.title}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-2",children:p.message}),c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx("button",{className:"px-3 py-2 rounded-md bg-white border border-gray-200 text-sm text-gray-700 hover:bg-gray-50",onClick:j,children:"Cancel"}),p.hasItem?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"px-3 py-2 rounded-md bg-rose-600 text-sm text-white",onClick:()=>p.onConfirm("log"),children:"Delete activity"}),c.jsx("button",{className:"px-3 py-2 rounded-md bg-yellow-500 text-sm text-white",onClick:()=>p.onConfirm("item"),children:"Delete referenced item"}),c.jsx("button",{className:"px-3 py-2 rounded-md bg-red-700 text-sm text-white",onClick:()=>p.onConfirm("both"),children:"Delete both"})]}):c.jsx("button",{className:"px-3 py-2 rounded-md bg-rose-600 text-sm text-white",onClick:()=>p.onConfirm("log"),children:"Delete activity"})]})]})]}),v.length>0&&c.jsx("div",{className:"fixed right-4 bottom-4 z-50 space-y-2",children:v.map(I=>c.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-md px-3 py-2 shadow ring-1 ring-slate-200 dark:bg-slate-800 dark:ring-slate-700",children:[c.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-100",children:"Activity removed"}),c.jsx("button",{onClick:()=>{clearTimeout(I.timer),i(I.id),b(k=>k.filter(S=>S.id!==I.id))},className:"text-sm text-sky-700 hover:underline",children:"Undo"})]},I.id))})]})}function jOe({segments:t=[],className:e="",height:n=10,animateSequence:r=!0,duration:i=600,stagger:s=120}){const[a,o]=x.useState(()=>t.map(()=>0)),l=x.useRef([]),u=x.useRef([]);return x.useEffect(()=>{l.current.forEach(h=>clearTimeout(h)),l.current=[];const d=t.map(h=>Math.max(0,Math.min(100,Number(h.percent)||0)));if(o(h=>t.map((m,p)=>typeof h[p]=="number"?h[p]:0)),r)d.forEach((h,f)=>{const m=f*s+20,p=setTimeout(()=>{o(y=>{const v=[...y];return v[f]=h,v})},m);l.current.push(p)});else{const h=setTimeout(()=>o(d),20);l.current.push(h)}return u.current=d,()=>{l.current.forEach(h=>clearTimeout(h)),l.current=[]}},[t,r,s]),c.jsxs("div",{className:`progressive-bar-container ${e}`,style:{height:n},role:"progressbar","aria-valuemin":0,"aria-valuemax":100,children:[c.jsx("div",{className:"progressive-bar-track",style:{height:n},children:t.map((d,h)=>{const f=a[h]??0,m=d.leftRounded?"0.75rem":0,p=d.rightRounded?"0.75rem":0,y=`width ${i}ms cubic-bezier(.2,.9,.2,1), filter 160ms`;return c.jsx("div",{className:"progressive-bar-segment",title:`${d.key||""}: ${Math.round(Number(d.percent||0))}%`,style:{width:`${f}%`,background:d.background||"#000",borderTopLeftRadius:m,borderBottomLeftRadius:m,borderTopRightRadius:p,borderBottomRightRadius:p,transition:y,display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.95)",fontSize:"11px",fontWeight:600,overflow:"hidden",whiteSpace:"nowrap"},children:f>8?`${Math.round(f)}%`:null},d.key||h)})}),c.jsx("style",{children:`
        .progressive-bar-container { width: 100%; border-radius: 0.75rem; overflow: hidden; }
        .progressive-bar-track { width: 100%; background: rgba(15,23,42,0.04); display: flex; align-items: center; border-radius: 0.75rem; overflow: hidden; }
        .progressive-bar-segment { height: 100%; }
        .progressive-bar-container:hover .progressive-bar-segment { filter: brightness(1.06); }
      `})]})}const n6={primary:"bg-sky-700 hover:bg-sky-800 text-white shadow-sm",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-100",success:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-sm",danger:"bg-rose-600 hover:bg-rose-700 text-white shadow-sm",outline:"bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100 dark:hover:bg-slate-700"},r6={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5"};function st({children:t,className:e="",variant:n="primary",size:r="md",type:i="button",disabled:s=!1,onClick:a}){const l=["inline-flex items-center rounded-md transition-colors duration-150 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",n6[n]||n6.primary,r6[r]||r6.md,e].filter(Boolean).join(" ");return c.jsx("button",{type:i,onClick:a,className:l,disabled:s,children:t})}const TOe=()=>{const[t,e]=x.useState("6M"),[n,r]=x.useState(""),[i,s]=x.useState(""),[a,o]=x.useState("available"),[l,u]=x.useState(!1),{currency:d}=lt(),{paymentMethods:h,deletePaymentMethod:f,setDefaultPaymentMethod:m}=Cz(),{stats:p=[],fundingRows:y={rows:[]},byFunder:v=[],byProject:b=[],seriesMap:w={}}=vt(),_=E=>window.location.pathname.includes(`/app/dashboard/${E}`),j=h.find(E=>E.isDefault)||h[0]||null;return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Dashboard"}),c.jsxs("nav",{className:"mt-2 flex space-x-3",children:[c.jsx(be,{to:"/app/dashboard/overview",className:`px-3 py-1 rounded-md text-sm ${_("overview")?"button-brand":"text-gray-600 bg-white border border-gray-100 dark:text-slate-300 dark:bg-slate-800 dark:border-slate-700"}`,children:"Overview"}),c.jsx(be,{to:"/app/dashboard/funders",className:`px-3 py-1 rounded-md text-sm ${_("funders")?"button-brand":"text-gray-600 bg-white border border-gray-100 dark:text-slate-300 dark:bg-slate-800 dark:border-slate-700"}`,children:"Funders"}),c.jsx(be,{to:"/app/dashboard/projects",className:`px-3 py-1 rounded-md text-sm ${_("projects")?"button-brand":"text-gray-600 bg-white border border-gray-100 dark:text-slate-300 dark:bg-slate-800 dark:border-slate-700"}`,children:"Projects"})]})]})}),_("overview")&&c.jsxs("div",{children:[h.length>0?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-w-0",children:[c.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-white to-gray-50 dark:from-slate-800 dark:to-slate-900 p-6 ring-1 ring-gray-200 dark:ring-slate-700 shadow-lg hover:shadow-xl transition-shadow duration-300 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-slate-100",children:"Payment Method"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Funds receiver"})]}),c.jsx(be,{to:"/app/integration",className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-colors",children:c.jsx(Ux,{className:"h-5 w-5"})})]}),j&&c.jsxs("div",{className:"space-y-5",children:[c.jsx(mG,{payment:j,onDelete:f,onSetDefault:m,size:"small"}),c.jsxs("div",{className:"space-y-2 pt-3 border-t border-gray-200 dark:border-slate-700",children:[c.jsx(be,{to:"/app/integration",className:"block w-full text-center px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-700 dark:from-indigo-500 dark:to-indigo-600 text-white rounded-xl font-bold text-sm hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Manage Methods"}),c.jsxs("p",{className:"text-center text-xs text-gray-500 dark:text-slate-400",children:[h.length," method",h.length!==1?"s":""," saved"]})]})]})]}),c.jsx("div",{className:"lg:col-span-2 rounded-2xl bg-gradient-to-br from-white to-gray-50 dark:from-slate-800 dark:to-slate-900 p-8 ring-1 ring-gray-200 dark:ring-slate-700 shadow-lg hover:shadow-xl transition-shadow duration-300 min-w-0",children:c.jsx("div",{className:"grid grid-cols-2 gap-5",children:p.slice(0,4).map(E=>c.jsx(Rb,{title:E.name,value:E.value,rawValue:E.raw,variant:E.variant,series:w[E.name]},E.name))})})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"rounded-xl bg-white dark:bg-slate-900 p-4 shadow-md border border-slate-200 dark:border-slate-800 flex flex-col items-start justify-center w-full",style:{minHeight:120},children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-slate-100 mb-1",children:"Complete Your Payment Setup"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Add a debit card or M-Pesa account to start receiving funds from donors. This is required to display your payment details on the dashboard."}),c.jsx(be,{to:"/app/integration",children:c.jsx("button",{className:"inline-flex items-center gap-2 px-5 py-2 bg-sky-600 text-white rounded-lg font-semibold hover:bg-sky-700 transition-all duration-200 shadow",children:"Add Payment Method Now"})})]}),c.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-white to-gray-50 dark:from-slate-800 dark:to-slate-900 p-8 ring-1 ring-gray-200 dark:ring-slate-700 shadow-lg min-w-0 relative",style:{overflow:"hidden"},children:[c.jsx("div",{className:"absolute top-0 right-0 pointer-events-none",style:{width:120,height:120,borderRadius:"50%",background:"radial-gradient(circle, #2563eb55 0%, #2563eb00 80%)",filter:"blur(16px)",zIndex:0}}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 relative z-10",children:p.slice(0,4).map(E=>c.jsx(Rb,{title:E.name,value:E.value,rawValue:E.raw,variant:E.variant,series:w[E.name]},E.name))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-3 min-w-0 mt-6",children:[c.jsx("div",{className:"lg:col-span-2 min-w-0",children:$b?c.jsx($b,{}):c.jsx("div",{className:"p-4",children:"FundsChart missing"})}),c.jsx("div",{className:"overflow-hidden rounded-2xl bg-white/90 backdrop-blur-sm ring-1 ring-gray-200/50 shadow-sm hover:shadow-md transition-all duration-300 dark:bg-slate-900/80 dark:ring-slate-700/50",children:c.jsxs("div",{className:"px-5 pt-5 pb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Funding Sources"}),c.jsx("div",{className:"flex space-x-1 p-0.5 bg-gray-100 dark:bg-slate-800 rounded-lg",children:["income","expenses","available"].map(E=>c.jsx("button",{onClick:()=>o(E),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${a===E?"bg-white dark:bg-slate-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]}),y.rows.length===0?c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400 text-center py-4",children:"No funding sources available"}):c.jsxs("div",{className:"space-y-4",children:[y.rows.slice(0,l?y.rows.length:5).map(E=>{const I=Number(E[y.metric]||0);Math.round(Math.abs(I)/(y.maxVal||1)*100);const k=y.metric==="available"&&I<0,S=Math.abs(E.income)+Math.abs(E.expenses)+Math.abs(E.available),P=S>0?Math.abs(E.income)/S*100:0,O=S>0?Math.abs(E.expenses)/S*100:0,N=S>0?Math.abs(E.available)/S*100:0,A="linear-gradient(90deg, #10B981, #34D399)",C="linear-gradient(90deg, #EF4444, #F97316)",F=k?"linear-gradient(90deg, #EF4444, #FB7185)":"linear-gradient(90deg, #3B82F6, #8B5CF6)";return c.jsxs("div",{className:"group",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-slate-100 truncate",title:E.funder.name,children:E.funder.name})}),c.jsx("div",{className:`ml-2 text-right text-sm font-semibold whitespace-nowrap ${k?"text-rose-600 dark:text-rose-400":"text-gray-700 dark:text-slate-200"}`,children:he(I,d)})]}),c.jsx("div",{className:"relative",children:c.jsx(jOe,{height:10,segments:[{key:"income",percent:P,background:A,leftRounded:!0,rightRounded:P>=100},{key:"expenses",percent:O,background:C,leftRounded:P<=0,rightRounded:P+O>=100},{key:"available",percent:N,background:F,leftRounded:P+O<=0,rightRounded:!0}]})})]},E.funder.id)}),y.rows.length>5&&c.jsx("button",{onClick:()=>u(!l),className:"w-full py-2 text-xs font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200 mt-2",children:l?"Show less":`Show all ${y.rows.length} sources`})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-3 mt-6 min-w-0",children:[c.jsx("div",{className:"lg:col-span-2 min-w-0",children:Ym?c.jsx(Ym,{timeRange:t,compact:!0}):c.jsx("div",{className:"p-4",children:"ProjectExpensesStackedBar missing"})}),c.jsx("div",{children:Xm?c.jsx(Xm,{compact:!0}):c.jsx("div",{className:"p-4",children:"ExpensePieChart missing"})})]}),c.jsx("div",{className:"mt-8",children:Hb?c.jsx(Hb,{full:!0}):c.jsx("div",{className:"p-4",children:"RecentActivities missing"})})]}),_("funders")&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Funders"}),c.jsx("div",{className:"pt-2",children:c.jsx("input",{value:n,onChange:E=>r(E.target.value),placeholder:"Search funders",className:"w-full px-3 py-2 rounded-md ring-1 ring-gray-200 bg-white text-sm placeholder:text-gray-400 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700"})}),c.jsx("div",{className:"mt-4",children:c.jsx(kOe,{timeRange:t})}),(v||[]).filter(E=>!n||(E.funder.name||"").toLowerCase().includes(n.toLowerCase())).length?c.jsx("div",{className:"grid grid-cols-1 gap-3",children:(v||[]).filter(E=>!n||(E.funder.name||"").toLowerCase().includes(n.toLowerCase())).map(E=>c.jsxs("div",{className:"rounded-lg border border-gray-200 p-4 bg-white flex justify-between items-center gap-3 min-w-0 dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100",children:[c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"font-medium text-gray-900 truncate dark:text-slate-100",title:E.funder.name,children:E.funder.name}),c.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-300",children:["Allocation: ",he(E.allocation,d)]}),c.jsxs("div",{className:"space-y-2 mt-3",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-1",children:[c.jsx("span",{children:"Budget Used"}),c.jsxs("span",{className:"font-medium",children:[Math.round(E.used/E.allocation*100),"%"]})]}),c.jsx("div",{className:"h-2 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-500 ease-out",style:{width:`${Math.min(E.used/E.allocation*100,100)}%`,minWidth:"4px"}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-1",children:[c.jsx("span",{children:"Expense Ratio"}),c.jsxs("span",{className:"font-medium",children:[E.income>0?Math.round(E.expenses/E.income*100):0,"%"]})]}),c.jsx("div",{className:"h-2 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 to-amber-600 transition-all duration-500 ease-out",style:{width:`${Math.min(E.expenses/(E.income||1)*100,100)}%`,minWidth:"4px"}})})]})]})]}),c.jsx("div",{className:"text-right text-sm text-gray-700 dark:text-slate-200 font-semibold whitespace-nowrap overflow-hidden text-ellipsis",title:he(E.available,d),children:he(E.available,d)})]},E.funder.id))}):c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No funders match your search."})]}),_("projects")&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),c.jsx("div",{className:"pt-2",children:c.jsx("input",{value:i,onChange:E=>s(E.target.value),placeholder:"Search projects",className:"w-full px-3 py-2 rounded-md ring-1 ring-gray-200 bg-white text-sm placeholder:text-gray-400 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700"})}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsx(Ym,{timeRange:t,compact:!0}),c.jsx(Xm,{compact:!0})]}),(b||[]).filter(E=>!i||(E.project.name||"").toLowerCase().includes(i.toLowerCase())).length?c.jsx("div",{className:"grid grid-cols-1 gap-3",children:(b||[]).filter(E=>!i||(E.project.name||"").toLowerCase().includes(i.toLowerCase())).map(E=>c.jsxs("div",{className:"rounded-lg border border-gray-200 p-4 bg-white flex justify-between items-center gap-3 min-w-0 dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-medium text-gray-900 truncate dark:text-slate-100",title:E.project.name,children:E.project.name}),c.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-300",children:["Budget: ",he(Number(E.project.allocation||0),d)]})]}),c.jsxs("div",{className:"text-right text-sm text-gray-700 dark:text-slate-200 font-semibold whitespace-nowrap overflow-hidden text-ellipsis",title:he(E.available,d),children:["Available: ",he(E.available,d)]})]},E.project.id))}):c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No projects match your search."})]})]})},Ze=x.forwardRef(({label:t,id:e,error:n,className:r="",...i},s)=>c.jsxs("div",{className:`form-field mb-4 ${r}`,children:[t&&c.jsx("label",{htmlFor:e,className:"form-label block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:t}),c.jsx("input",{id:e,ref:s,className:`form-control w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus-ring-brand ring-1 ring-gray-100 dark:ring-0
          ${n?"border-red-500":"border-gray-300"}
          bg-white text-gray-900 placeholder:text-gray-400
          dark:bg-slate-800 dark:text-slate-100 dark:placeholder:text-slate-400 dark:border-slate-700`,...i}),n&&c.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-rose-300",children:n})]}));Ze.displayName="FormInput";function He({className:t="",children:e}){return c.jsx("div",{className:`bg-white/90 backdrop-blur rounded-2xl border border-slate-200 shadow-sm ${t} dark:bg-slate-900/70 dark:border-slate-800 dark:shadow-none`,children:e})}function ct({className:t="",children:e}){return c.jsx("div",{className:`px-5 py-4 border-b border-slate-100 flex items-center justify-between ${t} dark:border-slate-800`,children:e})}function dt({children:t,className:e=""}){return c.jsx("h3",{className:`text-base md:text-lg font-semibold text-slate-900 dark:text-slate-100 ${e}`,children:t})}function Ke({className:t="",children:e}){return c.jsx("div",{className:`p-5 ${t} dark:text-slate-100`,children:e})}const NOe=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[a,o]=x.useState(!1),{login:l}=Vt(),u=Fr(),{search:d}=window.location,f=new URLSearchParams(d).get("redirect")||"/",m=async p=>{if(p.preventDefault(),s(""),!t||!n){s("Please fill in all fields");return}try{o(!0);const{success:y,error:v}=await l(t,n);y?u(f&&f!=="/"?f:"/app/dashboard/overview"):s(v||"Failed to log in. Please check your credentials.")}catch(y){s("An error occurred. Please try again."),console.error("Login error:",y)}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-base bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-50 via-white to-blue-100 py-12 px-4 sm:px-6 lg:px-8 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-gray-900 dark:text-slate-100",children:"Sign in to your account"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-slate-300",children:["Or"," ",c.jsx(be,{to:"/register",className:"font-medium brand-text hover:underline",children:"create a new account"})]})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Sign in"})}),c.jsxs(Ke,{children:[i&&c.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4 dark:bg-rose-900/20 dark:border-rose-700",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-amber-500 dark:text-amber-300",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-red-700 dark:text-rose-300",children:i})})]})}),c.jsxs("form",{className:"space-y-6",onSubmit:m,children:[c.jsx(Ze,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,label:"Email address",value:t,onChange:p=>e(p.target.value)}),c.jsx(Ze,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,label:"Password",value:n,onChange:p=>r(p.target.value)}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 brand-emerald focus:ring-0 border-gray-300 rounded dark:border-slate-600"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900 dark:text-slate-100",children:"Remember me"})]}),c.jsx("div",{className:"text-sm",children:c.jsx(be,{to:"/forgot",className:"font-medium brand-text hover:underline dark:text-slate-200",children:"Forgot your password?"})})]}),c.jsx("div",{children:c.jsx(st,{type:"submit",disabled:a,className:"w-full justify-center",variant:"primary",children:a?"Signing in...":"Sign in"})})]})]})]})]})})},PP=x.createContext({});function rf(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const OP=typeof window<"u",Z1=OP?x.useLayoutEffect:x.useEffect,J1=x.createContext(null);function IP(t,e){t.indexOf(e)===-1&&t.push(e)}function RP(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oa=(t,e,n)=>n>e?e:n<t?t:n;let Qp=()=>{};const ao={},oY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lY(t){return typeof t=="object"&&t!==null}const cY=t=>/^0[^.\s]+$/u.test(t);function MP(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zr=t=>t,COe=(t,e)=>n=>e(t(n)),f0=(...t)=>t.reduce(COe),Ah=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class DP{constructor(){this.subscriptions=[]}add(e){return IP(this.subscriptions,e),()=>RP(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ea=t=>t*1e3,Wi=t=>t/1e3;function LP(t,e){return e?t*(1e3/e):0}const uY=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,POe=1e-7,OOe=12;function IOe(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=uY(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>POe&&++o<OOe);return a}function m0(t,e,n,r){if(t===e&&n===r)return Zr;const i=s=>IOe(s,0,1,t,n);return s=>s===0||s===1?s:uY(i(s),e,r)}const dY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hY=t=>e=>1-t(1-e),fY=m0(.33,1.53,.69,.99),VP=hY(fY),mY=dY(VP),pY=t=>(t*=2)<1?.5*VP(t):.5*(2-Math.pow(2,-10*(t-1))),FP=t=>1-Math.sin(Math.acos(t)),gY=hY(FP),yY=dY(FP),ROe=m0(.42,0,1,1),MOe=m0(0,0,.58,1),vY=m0(.42,0,.58,1),DOe=t=>Array.isArray(t)&&typeof t[0]!="number",xY=t=>Array.isArray(t)&&typeof t[0]=="number",LOe={linear:Zr,easeIn:ROe,easeInOut:vY,easeOut:MOe,circIn:FP,circInOut:yY,circOut:gY,backIn:VP,backInOut:mY,backOut:fY,anticipate:pY},VOe=t=>typeof t=="string",i6=t=>{if(xY(t)){Qp(t.length===4);const[e,n,r,i]=t;return m0(e,n,r,i)}else if(VOe(t))return LOe[t];return t},By=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FOe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,h=!1,f=!1)=>{const p=f&&i?n:r;return h&&a.add(d),p.has(d)||p.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const BOe=40;function bY(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=By.reduce((_,j)=>(_[j]=FOe(s),_),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:p}=a,y=()=>{const _=ao.useManualTiming?i.timestamp:performance.now();n=!1,ao.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,BOe),1)),i.timestamp=_,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),m.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},v=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:By.reduce((_,j)=>{const E=a[j];return _[j]=(I,k=!1,S=!1)=>(n||v(),E.schedule(I,k,S)),_},{}),cancel:_=>{for(let j=0;j<By.length;j++)a[By[j]].cancel(_)},state:i,steps:a}}const{schedule:Et,cancel:bs,state:zn,steps:hE}=bY(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zr,!0);let jv;function UOe(){jv=void 0}const Yr={now:()=>(jv===void 0&&Yr.set(zn.isProcessing||ao.useManualTiming?zn.timestamp:performance.now()),jv),set:t=>{jv=t,queueMicrotask(UOe)}},wY=t=>e=>typeof e=="string"&&e.startsWith(t),BP=wY("--"),zOe=wY("var(--"),UP=t=>zOe(t)?$Oe.test(t.split("/*")[0].trim()):!1,$Oe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zp={...sf,transform:t=>oa(0,1,t)},Uy={...sf,default:1},Qm=t=>Math.round(t*1e5)/1e5,zP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HOe(t){return t==null}const qOe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$P=(t,e)=>n=>!!(typeof n=="string"&&qOe.test(n)&&n.startsWith(t)||e&&!HOe(n)&&Object.prototype.hasOwnProperty.call(n,e)),_Y=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(zP);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},WOe=t=>oa(0,255,t),fE={...sf,transform:t=>Math.round(WOe(t))},Ac={test:$P("rgb","red"),parse:_Y("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fE.transform(t)+", "+fE.transform(e)+", "+fE.transform(n)+", "+Qm(Zp.transform(r))+")"};function KOe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const jj={test:$P("#"),parse:KOe,transform:Ac.transform},p0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),No=p0("deg"),ta=p0("%"),Te=p0("px"),GOe=p0("vh"),YOe=p0("vw"),s6={...ta,parse:t=>ta.parse(t)/100,transform:t=>ta.transform(t*100)},md={test:$P("hsl","hue"),parse:_Y("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ta.transform(Qm(e))+", "+ta.transform(Qm(n))+", "+Qm(Zp.transform(r))+")"},_n={test:t=>Ac.test(t)||jj.test(t)||md.test(t),parse:t=>Ac.test(t)?Ac.parse(t):md.test(t)?md.parse(t):jj.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ac.transform(t):md.transform(t),getAnimatableNone:t=>{const e=_n.parse(t);return e.alpha=0,_n.transform(e)}},XOe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QOe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(zP))==null?void 0:e.length)||0)+(((n=t.match(XOe))==null?void 0:n.length)||0)>0}const SY="number",EY="color",ZOe="var",JOe="var(",a6="${}",eIe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(eIe,l=>(_n.test(l)?(r.color.push(s),i.push(EY),n.push(_n.parse(l))):l.startsWith(JOe)?(r.var.push(s),i.push(ZOe),n.push(l)):(r.number.push(s),i.push(SY),n.push(parseFloat(l))),++s,a6)).split(a6);return{values:n,split:o,indexes:r,types:i}}function kY(t){return Jp(t).values}function AY(t){const{split:e,types:n}=Jp(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===SY?s+=Qm(i[a]):o===EY?s+=_n.transform(i[a]):s+=i[a]}return s}}const tIe=t=>typeof t=="number"?0:_n.test(t)?_n.getAnimatableNone(t):t;function nIe(t){const e=kY(t);return AY(t)(e.map(tIe))}const Rl={test:QOe,parse:kY,createTransformer:AY,getAnimatableNone:nIe};function mE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rIe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=mE(l,o,t+1/3),s=mE(l,o,t),a=mE(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function qb(t,e){return n=>n>0?e:t}const en=(t,e,n)=>t+(e-t)*n,pE=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},iIe=[jj,Ac,md],sIe=t=>iIe.find(e=>e.test(t));function o6(t){const e=sIe(t);if(!e)return!1;let n=e.parse(t);return e===md&&(n=rIe(n)),n}const l6=(t,e)=>{const n=o6(t),r=o6(e);if(!n||!r)return qb(t,e);const i={...n};return s=>(i.red=pE(n.red,r.red,s),i.green=pE(n.green,r.green,s),i.blue=pE(n.blue,r.blue,s),i.alpha=en(n.alpha,r.alpha,s),Ac.transform(i))},Tj=new Set(["none","hidden"]);function aIe(t,e){return Tj.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function oIe(t,e){return n=>en(t,e,n)}function HP(t){return typeof t=="number"?oIe:typeof t=="string"?UP(t)?qb:_n.test(t)?l6:uIe:Array.isArray(t)?jY:typeof t=="object"?_n.test(t)?l6:lIe:qb}function jY(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>HP(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function lIe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=HP(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function cIe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const uIe=(t,e)=>{const n=Rl.createTransformer(e),r=Jp(t),i=Jp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Tj.has(t)&&!i.values.length||Tj.has(e)&&!r.values.length?aIe(t,e):f0(jY(cIe(r,i),i.values),n):qb(t,e)};function TY(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?en(t,e,n):HP(t)(t,e)}const dIe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Et.update(e,n),stop:()=>bs(e),now:()=>zn.isProcessing?zn.timestamp:Yr.now()}},NY=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Wb=2e4;function qP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Wb;)e+=n,r=t.next(e);return e>=Wb?1/0:e}function hIe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(qP(r),Wb);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Wi(i)}}const fIe=5;function CY(t,e,n){const r=Math.max(e-fIe,0);return LP(n-t(r),e-r)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gE=.001;function mIe({duration:t=an.duration,bounce:e=an.bounce,velocity:n=an.velocity,mass:r=an.mass}){let i,s,a=1-e;a=oa(an.minDamping,an.maxDamping,a),t=oa(an.minDuration,an.maxDuration,Wi(t)),a<1?(i=u=>{const d=u*a,h=d*t,f=d-n,m=Nj(u,a),p=Math.exp(-h);return gE-f/m*p},s=u=>{const h=u*a*t,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,p=Math.exp(-h),y=Nj(Math.pow(u,2),a);return(-i(u)+gE>0?-1:1)*((f-m)*p)/y}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-gE+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const o=5/t,l=gIe(i,s,o);if(t=ea(t),isNaN(l))return{stiffness:an.stiffness,damping:an.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const pIe=12;function gIe(t,e,n){let r=n;for(let i=1;i<pIe;i++)r=r-t(r)/e(r);return r}function Nj(t,e){return t*Math.sqrt(1-e*e)}const yIe=["duration","bounce"],vIe=["stiffness","damping","mass"];function c6(t,e){return e.some(n=>t[n]!==void 0)}function xIe(t){let e={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...t};if(!c6(t,vIe)&&c6(t,yIe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*oa(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:an.mass,stiffness:i,damping:s}}else{const n=mIe(t);e={...e,...n,mass:an.mass},e.isResolvedFromDuration=!0}return e}function Kb(t=an.visualDuration,e=an.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=xIe({...n,velocity:-Wi(n.velocity||0)}),p=f||0,y=u/(2*Math.sqrt(l*d)),v=a-s,b=Wi(Math.sqrt(l/d)),w=Math.abs(v)<5;r||(r=w?an.restSpeed.granular:an.restSpeed.default),i||(i=w?an.restDelta.granular:an.restDelta.default);let _;if(y<1){const E=Nj(b,y);_=I=>{const k=Math.exp(-y*b*I);return a-k*((p+y*b*v)/E*Math.sin(E*I)+v*Math.cos(E*I))}}else if(y===1)_=E=>a-Math.exp(-b*E)*(v+(p+b*v)*E);else{const E=b*Math.sqrt(y*y-1);_=I=>{const k=Math.exp(-y*b*I),S=Math.min(E*I,300);return a-k*((p+y*b*v)*Math.sinh(S)+E*v*Math.cosh(S))/E}}const j={calculatedDuration:m&&h||null,next:E=>{const I=_(E);if(m)o.done=E>=h;else{let k=E===0?p:0;y<1&&(k=E===0?ea(p):CY(_,E,I));const S=Math.abs(k)<=r,P=Math.abs(a-I)<=i;o.done=S&&P}return o.value=o.done?a:I,o},toString:()=>{const E=Math.min(qP(j),Wb),I=NY(k=>j.next(E*k).value,E,30);return E+"ms "+I},toTransition:()=>{}};return j}Kb.applyToOptions=t=>{const e=hIe(t,100,Kb);return t.ease=e.ease,t.duration=ea(e.duration),t.type="keyframes",t};function Cj({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=S=>o!==void 0&&S<o||l!==void 0&&S>l,p=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let y=n*e;const v=h+y,b=a===void 0?v:a(v);b!==v&&(y=b-h);const w=S=>-y*Math.exp(-S/r),_=S=>b+w(S),j=S=>{const P=w(S),O=_(S);f.done=Math.abs(P)<=u,f.value=f.done?b:O};let E,I;const k=S=>{m(f.value)&&(E=S,I=Kb({keyframes:[f.value,p(f.value)],velocity:CY(_,S,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:S=>{let P=!1;return!I&&E===void 0&&(P=!0,j(S),k(S)),E!==void 0&&S>=E?I.next(S-E):(!P&&j(S),f)}}}function bIe(t,e,n){const r=[],i=n||ao.mix||TY,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Zr:e;o=f0(l,o)}r.push(o)}return r}function WP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Qp(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=bIe(e,r,i),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Ah(t[h],t[h+1],d);return o[h](f)};return n?d=>u(oa(t[0],t[s-1],d)):u}function wIe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ah(0,e,r);t.push(en(n,1,i))}}function PY(t){const e=[0];return wIe(e,t.length-1),e}function _Ie(t,e){return t.map(n=>n*e)}function SIe(t,e){return t.map(()=>e||vY).splice(0,t.length-1)}function Zm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=DOe(r)?r.map(i6):i6(r),s={done:!1,value:e[0]},a=_Ie(n&&n.length===e.length?n:PY(e),t),o=WP(a,e,{ease:Array.isArray(i)?i:SIe(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const EIe=t=>t!==null;function KP(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(EIe),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const kIe={decay:Cj,inertia:Cj,tween:Zm,keyframes:Zm,spring:Kb};function OY(t){typeof t.type=="string"&&(t.type=kIe[t.type])}class GP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const AIe=t=>t/100;class YP extends GP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Yr.now()&&this.tick(Yr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OY(e);const{type:n=Zm,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Zm;l!==Zm&&typeof o[0]!="number"&&(this.mixKeyframes=f0(AIe,TY(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=qP(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:p,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,j=r;if(h){const S=Math.min(this.currentTime,i)/o;let P=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(f==="reverse"?(O=1-O,m&&(O-=m/o)):f==="mirror"&&(j=a)),_=oa(0,1,O)*o}const E=w?{done:!1,value:d[0]}:j.next(_);s&&(E.value=s(E.value));let{done:I}=E;!w&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return k&&p!==Cj&&(E.value=KP(d,this.options,v,this.speed)),y&&y(E.value),k&&this.finish(),E}then(e,n){return this.finished.then(e,n)}get duration(){return Wi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wi(e)}get time(){return Wi(this.currentTime)}set time(e){var n;e=ea(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wi(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=dIe,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function jIe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const jc=t=>t*180/Math.PI,Pj=t=>{const e=jc(Math.atan2(t[1],t[0]));return Oj(e)},TIe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Pj,rotateZ:Pj,skewX:t=>jc(Math.atan(t[1])),skewY:t=>jc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Oj=t=>(t=t%360,t<0&&(t+=360),t),u6=Pj,d6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),h6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),NIe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:d6,scaleY:h6,scale:t=>(d6(t)+h6(t))/2,rotateX:t=>Oj(jc(Math.atan2(t[6],t[5]))),rotateY:t=>Oj(jc(Math.atan2(-t[2],t[0]))),rotateZ:u6,rotate:u6,skewX:t=>jc(Math.atan(t[4])),skewY:t=>jc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ij(t){return t.includes("scale")?1:0}function Rj(t,e){if(!t||t==="none")return Ij(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=NIe,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=TIe,i=o}if(!i)return Ij(e);const s=r[e],a=i[1].split(",").map(PIe);return typeof s=="function"?s(a):a[s]}const CIe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Rj(n,e)};function PIe(t){return parseFloat(t.trim())}const af=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],of=new Set(af),f6=t=>t===sf||t===Te,OIe=new Set(["x","y","z"]),IIe=af.filter(t=>!OIe.has(t));function RIe(t){const e=[];return IIe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Yc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Rj(e,"x"),y:(t,{transform:e})=>Rj(e,"y")};Yc.translateX=Yc.x;Yc.translateY=Yc.y;const Xc=new Set;let Mj=!1,Dj=!1,Lj=!1;function IY(){if(Dj){const t=Array.from(Xc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=RIe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dj=!1,Mj=!1,Xc.forEach(t=>t.complete(Lj)),Xc.clear()}function RY(){Xc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dj=!0)})}function MIe(){Lj=!0,RY(),IY(),Lj=!1}class XP{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Xc.add(this),Mj||(Mj=!0,Et.read(RY),Et.resolveKeyframes(IY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}jIe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xc.delete(this)}cancel(){this.state==="scheduled"&&(Xc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const DIe=t=>t.startsWith("--");function LIe(t,e,n){DIe(e)?t.style.setProperty(e,n):t.style[e]=n}const MY=MP(()=>window.ScrollTimeline!==void 0),VIe={};function FIe(t,e){const n=MP(t);return()=>VIe[e]??n()}const DY=FIe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ym=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,m6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ym([0,.65,.55,1]),circOut:ym([.55,0,1,.45]),backIn:ym([.31,.01,.66,-.59]),backOut:ym([.33,1.53,.69,.99])};function LY(t,e){if(t)return typeof t=="function"?DY()?NY(t,e):"ease-out":xY(t)?ym(t):Array.isArray(t)?t.map(n=>LY(n,e)||m6.easeOut):m6[t]}function BIe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const h=LY(o,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function VY(t){return typeof t=="function"&&"applyToOptions"in t}function UIe({type:t,...e}){return VY(t)&&DY()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zIe extends GP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Qp(typeof e.type!="string");const u=UIe(e);this.animation=BIe(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=KP(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):LIe(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wi(e)}get time(){return Wi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ea(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&MY()?(this.animation.timeline=e,Zr):n(this)}}const FY={anticipate:pY,backInOut:mY,circInOut:yY};function $Ie(t){return t in FY}function HIe(t){typeof t.ease=="string"&&$Ie(t.ease)&&(t.ease=FY[t.ease])}const p6=10;class qIe extends zIe{constructor(e){HIe(e),OY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new YP({...a,autoplay:!1}),l=ea(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-p6).value,o.sample(l).value,p6),o.stop()}}const g6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rl.test(t)||t==="0")&&!t.startsWith("url("));function WIe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KIe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=g6(i,e),o=g6(s,e);return!a||!o?!1:WIe(t)||(n==="spring"||VY(n))&&r}function Vj(t){t.duration=0,t.type="keyframes"}const GIe=new Set(["opacity","clipPath","filter","transform"]),YIe=MP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XIe(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return YIe()&&n&&GIe.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const QIe=40;class ZIe extends GP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:d,...h}){var p;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Yr.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||XP;this.keyframeResolver=new m(o,(y,v,b)=>this.onKeyframesResolved(y,v,f,!b),l,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Yr.now(),KIe(e,s,a,o)||((ao.instantAnimations||!l)&&(d==null||d(KP(e,r,n))),e[0]=e[e.length-1],Vj(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>QIe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&XIe(f)?new qIe({...f,element:f.motionValue.owner.current}):new YP(f);m.finished.then(()=>this.notifyFinished()).catch(Zr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),MIe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const JIe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eRe(t){const e=JIe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function BY(t,e,n=1){const[r,i]=eRe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return oY(a)?parseFloat(a):a}return UP(i)?BY(i,e,n+1):i}function QP(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const UY=new Set(["width","height","top","left","right","bottom",...af]),tRe={test:t=>t==="auto",parse:t=>t},zY=t=>e=>e.test(t),$Y=[sf,Te,ta,No,YOe,GOe,tRe],y6=t=>$Y.find(zY(t));function nRe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cY(t):!0}const rRe=new Set(["brightness","contrast","saturate","opacity"]);function iRe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zP)||[];if(!r)return t;const i=n.replace(r,"");let s=rRe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const sRe=/\b([a-z-]*)\(.*?\)/gu,Fj={...Rl,getAnimatableNone:t=>{const e=t.match(sRe);return e?e.map(iRe).join(" "):t}},v6={...sf,transform:Math.round},aRe={rotate:No,rotateX:No,rotateY:No,rotateZ:No,scale:Uy,scaleX:Uy,scaleY:Uy,scaleZ:Uy,skew:No,skewX:No,skewY:No,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Zp,originX:s6,originY:s6,originZ:Te},ZP={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...aRe,zIndex:v6,fillOpacity:Zp,strokeOpacity:Zp,numOctaves:v6},oRe={...ZP,color:_n,backgroundColor:_n,outlineColor:_n,fill:_n,stroke:_n,borderColor:_n,borderTopColor:_n,borderRightColor:_n,borderBottomColor:_n,borderLeftColor:_n,filter:Fj,WebkitFilter:Fj},HY=t=>oRe[t];function qY(t,e){let n=HY(t);return n!==Fj&&(n=Rl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lRe=new Set(["auto","none","0"]);function cRe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!lRe.has(s)&&Jp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=qY(n,i)}class uRe extends XP{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),UP(u))){const d=BY(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!UY.has(r)||e.length!==2)return;const[i,s]=e,a=y6(i),o=y6(s);if(a!==o)if(f6(a)&&f6(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Yc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||nRe(e[i]))&&r.push(i);r.length&&cRe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Yc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function WY(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const KY=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function JP(t){return lY(t)&&"offsetHeight"in t}const x6=30,dRe=t=>!isNaN(parseFloat(t)),Jm={current:void 0};class hRe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Yr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dRe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new DP);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Jm.current&&Jm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>x6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,x6);return LP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fs(t,e){return new hRe(t,e)}const{schedule:eO}=bY(queueMicrotask,!1),rs={x:!1,y:!1};function GY(){return rs.x||rs.y}function fRe(t){return t==="x"||t==="y"?rs[t]?null:(rs[t]=!0,()=>{rs[t]=!1}):rs.x||rs.y?null:(rs.x=rs.y=!0,()=>{rs.x=rs.y=!1})}function YY(t,e){const n=WY(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function b6(t){return!(t.pointerType==="touch"||GY())}function mRe(t,e,n={}){const[r,i,s]=YY(t,n),a=o=>{if(!b6(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const d=h=>{b6(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const XY=(t,e)=>e?t===e?!0:XY(t,e.parentElement):!1,tO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pRe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gRe(t){return pRe.has(t.tagName)||t.tabIndex!==-1}const Tv=new WeakSet;function w6(t){return e=>{e.key==="Enter"&&t(e)}}function yE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yRe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=w6(()=>{if(Tv.has(n))return;yE(n,"down");const i=w6(()=>{yE(n,"up")}),s=()=>yE(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function _6(t){return tO(t)&&!GY()}function vRe(t,e,n={}){const[r,i,s]=YY(t,n),a=o=>{const l=o.currentTarget;if(!_6(o))return;Tv.add(l);const u=e(l,o),d=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Tv.has(l)&&Tv.delete(l),_6(m)&&typeof u=="function"&&u(m,{success:p})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||XY(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),JP(o)&&(o.addEventListener("focus",u=>yRe(u,i)),!gRe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function nO(t){return lY(t)&&"ownerSVGElement"in t}const Nv=new WeakMap;let Co;const QY=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:nO(r)&&"getBBox"in r?r.getBBox()[e]:r[n],xRe=QY("inline","width","offsetWidth"),bRe=QY("block","height","offsetHeight");function wRe({target:t,borderBoxSize:e}){var n;(n=Nv.get(t))==null||n.forEach(r=>{r(t,{get width(){return xRe(t,e)},get height(){return bRe(t,e)}})})}function _Re(t){t.forEach(wRe)}function SRe(){typeof ResizeObserver>"u"||(Co=new ResizeObserver(_Re))}function ERe(t,e){Co||SRe();const n=WY(t);return n.forEach(r=>{let i=Nv.get(r);i||(i=new Set,Nv.set(r,i)),i.add(e),Co==null||Co.observe(r)}),()=>{n.forEach(r=>{const i=Nv.get(r);i==null||i.delete(e),i!=null&&i.size||Co==null||Co.unobserve(r)})}}const Cv=new Set;let pd;function kRe(){pd=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Cv.forEach(e=>e(t))},window.addEventListener("resize",pd)}function ARe(t){return Cv.add(t),pd||kRe(),()=>{Cv.delete(t),!Cv.size&&typeof pd=="function"&&(window.removeEventListener("resize",pd),pd=void 0)}}function jRe(t,e){return typeof t=="function"?ARe(t):ERe(t,e)}function ZY(t,e){let n;const r=()=>{const{currentTime:i}=e,a=(i===null?0:i.value)/100;n!==a&&t(a),n=a};return Et.preUpdate(r,!0),()=>bs(r)}function TRe(t){return nO(t)&&t.tagName==="svg"}function NRe(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],a=t[3+n],o=WP(i,s,a);return e?o(r):o}const Er=t=>!!(t&&t.getVelocity),CRe=[...$Y,_n,Rl],PRe=t=>CRe.find(zY(t)),e_=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function S6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ORe(...t){return e=>{let n=!1;const r=t.map(i=>{const s=S6(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():S6(t[i],null)}}}}function IRe(...t){return x.useCallback(ORe(...t),t)}class RRe extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=JP(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function MRe({children:t,isPresent:e,anchorX:n,root:r}){const i=x.useId(),s=x.useRef(null),a=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=x.useContext(e_),l=IRe(s,t==null?void 0:t.ref);return x.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=a.current;if(e||!s.current||!u||!d)return;const p=n==="left"?`left: ${f}`:`right: ${m}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");o&&(y.nonce=o);const v=r??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${h}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[e]),c.jsx(RRe,{isPresent:e,childRef:s,sizeRef:a,children:x.cloneElement(t,{ref:l})})}const DRe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const u=rf(LRe),d=x.useId();let h=!0,f=x.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return s&&h&&(f={...f}),x.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[n]),x.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=c.jsx(MRe,{isPresent:n,anchorX:o,root:l,children:t})),c.jsx(J1.Provider,{value:f,children:t})};function LRe(){return new Map}function JY(t=!0){const e=x.useContext(J1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=x.useId();x.useEffect(()=>{if(t)return i(s)},[t]);const a=x.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const zy=t=>t.key||"";function E6(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const VRe=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,d]=JY(a),h=x.useMemo(()=>E6(t),[t]),f=a&&!u?[]:h.map(zy),m=x.useRef(!0),p=x.useRef(h),y=rf(()=>new Map),[v,b]=x.useState(h),[w,_]=x.useState(h);Z1(()=>{m.current=!1,p.current=h;for(let I=0;I<w.length;I++){const k=zy(w[I]);f.includes(k)?y.delete(k):y.get(k)!==!0&&y.set(k,!1)}},[w,f.length,f.join("-")]);const j=[];if(h!==v){let I=[...h];for(let k=0;k<w.length;k++){const S=w[k],P=zy(S);f.includes(P)||(I.splice(k,0,S),j.push(S))}return s==="wait"&&j.length&&(I=j),_(E6(I)),b(h),null}const{forceRender:E}=x.useContext(PP);return c.jsx(c.Fragment,{children:w.map(I=>{const k=zy(I),S=a&&!u?!1:h===w||f.includes(k),P=()=>{if(y.has(k))y.set(k,!0);else return;let O=!0;y.forEach(N=>{N||(O=!1)}),O&&(E==null||E(),_(p.current),a&&(d==null||d()),r&&r())};return c.jsx(DRe,{isPresent:S,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:S?void 0:P,anchorX:o,children:I},k)})})},eX=x.createContext({strict:!1}),k6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jh={};for(const t in k6)jh[t]={isEnabled:e=>k6[t].some(n=>!!e[n])};function FRe(t){for(const e in t)jh[e]={...jh[e],...t[e]}}const BRe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BRe.has(t)}let tX=t=>!Gb(t);function URe(t){typeof t=="function"&&(tX=e=>e.startsWith("on")?!Gb(e):t(e))}try{URe(require("@emotion/is-prop-valid").default)}catch{}function zRe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(tX(i)||n===!0&&Gb(i)||!e&&!Gb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const t_=x.createContext({});function n_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function eg(t){return typeof t=="string"||Array.isArray(t)}const rO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iO=["initial",...rO];function r_(t){return n_(t.animate)||iO.some(e=>eg(t[e]))}function nX(t){return!!(r_(t)||t.variants)}function $Re(t,e){if(r_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||eg(n)?n:void 0,animate:eg(r)?r:void 0}}return t.inherit!==!1?e:{}}function HRe(t){const{initial:e,animate:n}=$Re(t,x.useContext(t_));return x.useMemo(()=>({initial:e,animate:n}),[A6(e),A6(n)])}function A6(t){return Array.isArray(t)?t.join(" "):t}const tg={};function qRe(t){for(const e in t)tg[e]=t[e],BP(e)&&(tg[e].isCSSVariable=!0)}function rX(t,{layout:e,layoutId:n}){return of.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!tg[t]||t==="opacity")}const WRe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KRe=af.length;function GRe(t,e,n){let r="",i=!0;for(let s=0;s<KRe;s++){const a=af[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=KY(o,ZP[a]);if(!l){i=!1;const d=WRe[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function sO(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(of.has(l)){a=!0;continue}else if(BP(l)){i[l]=u;continue}else{const d=KY(u,ZP[l]);l.startsWith("origin")?(o=!0,s[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=GRe(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const aO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iX(t,e,n){for(const r in e)!Er(e[r])&&!rX(r,n)&&(t[r]=e[r])}function YRe({transformTemplate:t},e){return x.useMemo(()=>{const n=aO();return sO(n,e,t),Object.assign({},n.vars,n.style)},[e])}function XRe(t,e){const n=t.style||{},r={};return iX(r,n,t),Object.assign(r,YRe(t,e)),r}function QRe(t,e){const n={},r=XRe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const ZRe={offset:"stroke-dashoffset",array:"stroke-dasharray"},JRe={offset:"strokeDashoffset",array:"strokeDasharray"};function eMe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?ZRe:JRe;t[s.offset]=Te.transform(-r);const a=Te.transform(e),o=Te.transform(n);t[s.array]=`${a} ${o}`}function sX(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,u,d){if(sO(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&eMe(h,i,s,a,!1)}const aX=()=>({...aO(),attrs:{}}),oX=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tMe(t,e,n,r){const i=x.useMemo(()=>{const s=aX();return sX(s,e,oX(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};iX(s,t.style,t),i.style={...s,...i.style}}return i}const nMe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oO(t){return typeof t!="string"||t.includes("-")?!1:!!(nMe.indexOf(t)>-1||/[A-Z]/u.test(t))}function rMe(t,e,n,{latestValues:r},i,s=!1){const o=(oO(t)?tMe:QRe)(e,r,i,t),l=zRe(e,typeof t=="string",s),u=t!==x.Fragment?{...l,...o,ref:n}:{},{children:d}=e,h=x.useMemo(()=>Er(d)?d.get():d,[d]);return x.createElement(t,{...u,children:h})}function j6(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function lO(t,e,n,r){if(typeof e=="function"){const[i,s]=j6(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=j6(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Pv(t){return Er(t)?t.get():t}function iMe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:sMe(n,r,i,t),renderState:e()}}function sMe(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Pv(s[f]);let{initial:a,animate:o}=t;const l=r_(t),u=nX(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!n_(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const p=lO(t,f[m]);if(p){const{transitionEnd:y,transition:v,...b}=p;for(const w in b){let _=b[w];if(Array.isArray(_)){const j=d?_.length-1:0;_=_[j]}_!==null&&(i[w]=_)}for(const w in y)i[w]=y[w]}}}return i}const lX=t=>(e,n)=>{const r=x.useContext(t_),i=x.useContext(J1),s=()=>iMe(t,e,r,i);return n?s():rf(s)};function cO(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Er(r[a])||e.style&&Er(e.style[a])||rX(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const aMe=lX({scrapeMotionValuesFromProps:cO,createRenderState:aO});function cX(t,e,n){const r=cO(t,e,n);for(const i in t)if(Er(t[i])||Er(e[i])){const s=af.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const oMe=lX({scrapeMotionValuesFromProps:cX,createRenderState:aX}),lMe=Symbol.for("motionComponentSymbol");function gd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cMe(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):gd(n)&&(n.current=r))},[e])}const uO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uMe="framerAppearId",uX="data-"+uO(uMe),dX=x.createContext({});function dMe(t,e,n,r,i){var y,v;const{visualElement:s}=x.useContext(t_),a=x.useContext(eX),o=x.useContext(J1),l=x.useContext(e_).reducedMotion,u=x.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=x.useContext(dX);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&hMe(u.current,n,i,h);const f=x.useRef(!1);x.useInsertionEffect(()=>{d&&f.current&&d.update(n,o)});const m=n[uX],p=x.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return Z1(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function hMe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hX(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&gd(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function hX(t){if(t)return t.options.allowProjection!==!1?t.projection:hX(t.parent)}function vE(t,{forwardMotionProps:e=!1}={},n,r){n&&FRe(n);const i=oO(t)?oMe:aMe;function s(o,l){let u;const d={...x.useContext(e_),...o,layoutId:fMe(o)},{isStatic:h}=d,f=HRe(o),m=i(o,h);if(!h&&OP){mMe();const p=pMe(d);u=p.MeasureLayout,f.visualElement=dMe(t,m,d,r,p.ProjectionNode)}return c.jsxs(t_.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,rMe(t,o,cMe(m,f.visualElement,l),m,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=x.forwardRef(s);return a[lMe]=t,a}function fMe({layoutId:t}){const e=x.useContext(PP).id;return e&&t!==void 0?e+"-"+t:t}function mMe(t,e){x.useContext(eX).strict}function pMe(t){const{drag:e,layout:n}=jh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function gMe(t,e){if(typeof Proxy>"u")return vE;const n=new Map,r=(s,a)=>vE(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,vE(a,void 0,t,e)),n.get(a))})}function fX({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function yMe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vMe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xE(t){return t===void 0||t===1}function Bj({scale:t,scaleX:e,scaleY:n}){return!xE(t)||!xE(e)||!xE(n)}function yc(t){return Bj(t)||mX(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mX(t){return T6(t.x)||T6(t.y)}function T6(t){return t&&t!=="0%"}function Yb(t,e,n){const r=t-n,i=e*r;return n+i}function N6(t,e,n,r,i){return i!==void 0&&(t=Yb(t,i,r)),Yb(t,n,r)+e}function Uj(t,e=0,n=1,r,i){t.min=N6(t.min,e,n,r,i),t.max=N6(t.max,e,n,r,i)}function pX(t,{x:e,y:n}){Uj(t.x,e.translate,e.scale,e.originPoint),Uj(t.y,n.translate,n.scale,n.originPoint)}const C6=.999999999999,P6=1.0000000000001;function xMe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&vd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,pX(t,a)),r&&yc(s.latestValues)&&vd(t,s.latestValues))}e.x<P6&&e.x>C6&&(e.x=1),e.y<P6&&e.y>C6&&(e.y=1)}function yd(t,e){t.min=t.min+e,t.max=t.max+e}function O6(t,e,n,r,i=.5){const s=en(t.min,t.max,i);Uj(t,e,n,s,r)}function vd(t,e){O6(t.x,e.x,e.scaleX,e.scale,e.originX),O6(t.y,e.y,e.scaleY,e.scale,e.originY)}function gX(t,e){return fX(vMe(t.getBoundingClientRect(),e))}function bMe(t,e,n){const r=gX(t,n),{scroll:i}=e;return i&&(yd(r.x,i.offset.x),yd(r.y,i.offset.y)),r}const I6=()=>({translate:0,scale:1,origin:0,originPoint:0}),xd=()=>({x:I6(),y:I6()}),R6=()=>({min:0,max:0}),mn=()=>({x:R6(),y:R6()}),Xb={current:null},dO={current:!1};function yX(){if(dO.current=!0,!!OP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xb.current=t.matches;t.addEventListener("change",e),e()}else Xb.current=!1}const wMe=new WeakMap;function _Me(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Er(i))t.addValue(r,i);else if(Er(s))t.addValue(r,fs(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,fs(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const M6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SMe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Yr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Et.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=r_(n),this.isVariantNode=nX(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Er(m)&&m.set(l[f])}}mount(e){var n;this.current=e,wMe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),dO.current||yX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),bs(this.notifyUpdate),bs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=of.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jh){const n=jh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<M6.length;r++){const i=M6[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=_Me(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=fs(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(oY(r)||cY(r))?r=parseFloat(r):!PRe(r)&&Rl.test(n)&&(r=qY(e,n)),this.setBaseTarget(e,Er(r)?r.get():r)),Er(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=lO(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Er(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new DP),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){eO.render(this.render)}}class vX extends SMe{constructor(){super(...arguments),this.KeyframeResolver=uRe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Er(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xX(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function EMe(t){return window.getComputedStyle(t)}class kMe extends vX{constructor(){super(...arguments),this.type="html",this.renderInstance=xX}readValueFromInstance(e,n){var r;if(of.has(n))return(r=this.projection)!=null&&r.isProjecting?Ij(n):CIe(e,n);{const i=EMe(e),s=(BP(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gX(e,n)}build(e,n,r){sO(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cO(e,n,r)}}const bX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AMe(t,e,n,r){xX(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(bX.has(i)?i:uO(i),e.attrs[i])}class jMe extends vX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(of.has(n)){const r=HY(n);return r&&r.default||0}return n=bX.has(n)?n:uO(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return cX(e,n,r)}build(e,n,r){sX(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){AMe(e,n,r,i)}mount(e){this.isSVGTag=oX(e.tagName),super.mount(e)}}const TMe=(t,e)=>oO(t)?new jMe(e):new kMe(e,{allowProjection:t!==x.Fragment});function Ld(t,e,n){const r=t.getProps();return lO(r,e,n!==void 0?n:r.custom,t)}const zj=t=>Array.isArray(t);function NMe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fs(n))}function CMe(t){return zj(t)?t[t.length-1]||0:t}function PMe(t,e){const n=Ld(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=CMe(s[a]);NMe(t,a,o)}}function OMe(t){return!!(Er(t)&&t.add)}function $j(t,e){const n=t.getValue("willChange");if(OMe(n))return n.add(e);if(!n&&ao.WillChange){const r=new ao.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function wX(t){return t.props[uX]}const IMe=t=>t!==null;function RMe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(IMe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const MMe={type:"spring",stiffness:500,damping:25,restSpeed:10},DMe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LMe={type:"keyframes",duration:.8},VMe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FMe=(t,{keyframes:e})=>e.length>2?LMe:of.has(t)?t.startsWith("scale")?DMe(e[1]):MMe:VMe;function BMe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const hO=(t,e,n,r={},i,s)=>a=>{const o=QP(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ea(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};BMe(o)||Object.assign(d,FMe(t,d)),d.duration&&(d.duration=ea(d.duration)),d.repeatDelay&&(d.repeatDelay=ea(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Vj(d),d.delay===0&&(h=!0)),(ao.instantAnimations||ao.skipAnimations)&&(h=!0,Vj(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!s&&e.get()!==void 0){const f=RMe(d.keyframes,o);if(f!==void 0){Et.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new YP(d):new ZIe(d)};function UMe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _X(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const h=t.getValue(d,t.latestValues[d]??null),f=o[d];if(f===void 0||u&&UMe(u,d))continue;const m={delay:n,...QP(s||{},d)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const b=wX(t);if(b){const w=window.MotionHandoffAnimation(b,d,Et);w!==null&&(m.startTime=w,y=!0)}}$j(t,d),h.start(hO(d,h,f,t.shouldReduceMotion&&UY.has(d)?{type:!1}:m,t,y));const v=h.animation;v&&l.push(v)}return a&&Promise.all(l).then(()=>{Et.update(()=>{a&&PMe(t,a)})}),l}function SX(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function Hj(t,e,n={}){var l;const r=Ld(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(_X(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return zMe(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,d]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function zMe(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(Hj(l,e,{...a,delay:n+(typeof r=="function"?0:r)+SX(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function $Me(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Hj(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Hj(t,e,n);else{const i=typeof e=="function"?Ld(t,e,n.custom):e;r=Promise.all(_X(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function EX(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const HMe=iO.length;function kX(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?kX(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<HMe;n++){const r=iO[n],i=t.props[r];(eg(i)||i===!1)&&(e[r]=i)}return e}const qMe=[...rO].reverse(),WMe=rO.length;function KMe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$Me(t,n,r)))}function GMe(t){let e=KMe(t),n=D6(),r=!0;const i=l=>(u,d)=>{var f;const h=Ld(t,d,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:p,...y}=h;u={...u,...y,...p}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,d=kX(t.parent)||{},h=[],f=new Set;let m={},p=1/0;for(let v=0;v<WMe;v++){const b=qMe[v],w=n[b],_=u[b]!==void 0?u[b]:d[b],j=eg(_),E=b===l?w.isActive:null;E===!1&&(p=v);let I=_===d[b]&&_!==u[b]&&j;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),w.protectedKeys={...m},!w.isActive&&E===null||!_&&!w.prevProp||n_(_)||typeof _=="boolean")continue;const k=YMe(w.prevProp,_);let S=k||b===l&&w.isActive&&!I&&j||v>p&&j,P=!1;const O=Array.isArray(_)?_:[_];let N=O.reduce(i(b),{});E===!1&&(N={});const{prevResolvedValues:A={}}=w,C={...A,...N},F=B=>{S=!0,f.has(B)&&(P=!0,f.delete(B)),w.needsAnimating[B]=!0;const D=t.getValue(B);D&&(D.liveStyle=!1)};for(const B in C){const D=N[B],U=A[B];if(m.hasOwnProperty(B))continue;let H=!1;zj(D)&&zj(U)?H=!EX(D,U):H=D!==U,H?D!=null?F(B):f.add(B):D!==void 0&&f.has(B)?F(B):w.protectedKeys[B]=!0}w.prevProp=_,w.prevResolvedValues=N,w.isActive&&(m={...m,...N}),r&&t.blockInitialAnimation&&(S=!1);const M=I&&k;S&&(!M||P)&&h.push(...O.map(B=>{const D={type:b};if(typeof B=="string"&&r&&!M&&t.manuallyAnimateOnMount&&t.parent){const{parent:U}=t,H=Ld(U,B);if(U.enteringChildren&&H){const{delayChildren:X}=H.transition||{};D.delay=SX(U.enteringChildren,t,X)}}return{animation:B,options:D}}))}if(f.size){const v={};if(typeof u.initial!="boolean"){const b=Ld(t,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(v.transition=b.transition)}f.forEach(b=>{const w=t.getBaseTarget(b),_=t.getValue(b);_&&(_.liveStyle=!0),v[b]=w??null}),h.push({animation:v})}let y=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function o(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=D6()}}}function YMe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EX(e,t):!1}function ic(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function D6(){return{animate:ic(!0),whileInView:ic(),whileHover:ic(),whileTap:ic(),whileDrag:ic(),whileFocus:ic(),exit:ic()}}class ql{constructor(e){this.isMounted=!1,this.node=e}update(){}}class XMe extends ql{constructor(e){super(e),e.animationState||(e.animationState=GMe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();n_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let QMe=0;class ZMe extends ql{constructor(){super(...arguments),this.id=QMe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const JMe={animation:{Feature:XMe},exit:{Feature:ZMe}};function ng(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function g0(t){return{point:{x:t.pageX,y:t.pageY}}}const eDe=t=>e=>tO(e)&&t(e,g0(e));function ep(t,e,n,r){return ng(t,e,eDe(n),r)}const AX=1e-4,tDe=1-AX,nDe=1+AX,jX=.01,rDe=0-jX,iDe=0+jX;function Lr(t){return t.max-t.min}function sDe(t,e,n){return Math.abs(t-e)<=n}function L6(t,e,n,r=.5){t.origin=r,t.originPoint=en(e.min,e.max,t.origin),t.scale=Lr(n)/Lr(e),t.translate=en(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tDe&&t.scale<=nDe||isNaN(t.scale))&&(t.scale=1),(t.translate>=rDe&&t.translate<=iDe||isNaN(t.translate))&&(t.translate=0)}function tp(t,e,n,r){L6(t.x,e.x,n.x,r?r.originX:void 0),L6(t.y,e.y,n.y,r?r.originY:void 0)}function V6(t,e,n){t.min=n.min+e.min,t.max=t.min+Lr(e)}function aDe(t,e,n){V6(t.x,e.x,n.x),V6(t.y,e.y,n.y)}function F6(t,e,n){t.min=e.min-n.min,t.max=t.min+Lr(e)}function np(t,e,n){F6(t.x,e.x,n.x),F6(t.y,e.y,n.y)}function Pi(t){return[t("x"),t("y")]}const TX=({current:t})=>t?t.ownerDocument.defaultView:null,B6=(t,e)=>Math.abs(t-e);function oDe(t,e){const n=B6(t.x,e.x),r=B6(t.y,e.y);return Math.sqrt(n**2+r**2)}class NX{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=wE(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=oDe(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:y}=f,{timestamp:v}=zn;this.history.push({...y,timestamp:v});const{onStart:b,onMove:w}=this.handlers;m||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=bE(m,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=wE(f.type==="pointercancel"?this.lastMoveEventInfo:bE(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),y&&y(f,b)},!tO(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=g0(e),l=bE(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=zn;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,wE(l,this.history)),this.removeListeners=f0(ep(this.contextWindow,"pointermove",this.handlePointerMove),ep(this.contextWindow,"pointerup",this.handlePointerUp),ep(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bs(this.updatePoint)}}function bE(t,e){return e?{point:e(t.point)}:t}function U6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wE({point:t},e){return{point:t,delta:U6(t,CX(e)),offset:U6(t,lDe(e)),velocity:cDe(e,.1)}}function lDe(t){return t[0]}function CX(t){return t[t.length-1]}function cDe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=CX(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ea(e)));)n--;if(!r)return{x:0,y:0};const s=Wi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uDe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?en(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?en(n,t,r.max):Math.min(t,n)),t}function z6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dDe(t,{top:e,left:n,bottom:r,right:i}){return{x:z6(t.x,n,i),y:z6(t.y,e,r)}}function $6(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hDe(t,e){return{x:$6(t.x,e.x),y:$6(t.y,e.y)}}function fDe(t,e){let n=.5;const r=Lr(t),i=Lr(e);return i>r?n=Ah(e.min,e.max-r,t.min):r>i&&(n=Ah(t.min,t.max-i,e.min)),oa(0,1,n)}function mDe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qj=.35;function pDe(t=qj){return t===!1?t=0:t===!0&&(t=qj),{x:H6(t,"left","right"),y:H6(t,"top","bottom")}}function H6(t,e,n){return{min:q6(t,e),max:q6(t,n)}}function q6(t,e){return typeof t=="number"?t:t[e]||0}const gDe=new WeakMap;class yDe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(g0(h).point)},a=(h,f)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fRe(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi(b=>{let w=this.getAxisMotionValue(b).get()||0;if(ta.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const j=_.layout.layoutBox[b];j&&(w=Lr(j)*(parseFloat(w)/100))}}this.originPoint[b]=w}),y&&Et.postRender(()=>y(h,f)),$j(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=vDe(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Pi(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new NX(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:TX(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Et.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!$y(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=uDe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&gd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=dDe(r.layoutBox,e):this.constraints=!1,this.elastic=pDe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Pi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=mDe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=bMe(r,i.root,this.visualElement.getTransformPagePoint());let a=hDe(i.layout.layoutBox,s);if(n){const o=n(yMe(a));this.hasMutatedConstraints=!!o,o&&(a=fX(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Pi(d=>{if(!$y(d,n,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $j(this.visualElement,e),r.start(hO(e,r,0,n,this.visualElement,!1))}stopAnimation(){Pi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Pi(n=>{const{drag:r}=this.getProps();if(!$y(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-en(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Pi(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=fDe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pi(a=>{if(!$y(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(en(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;gDe.set(this.visualElement,this);const e=this.visualElement.current,n=ep(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();gd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Et.read(r);const a=ng(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Pi(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=qj,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function $y(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vDe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xDe extends ql{constructor(e){super(e),this.removeGroupControls=Zr,this.removeListeners=Zr,this.controls=new yDe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const W6=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class bDe extends ql{constructor(){super(...arguments),this.removePointerDownListener=Zr}onPointerDown(e){this.session=new NX(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:W6(e),onStart:W6(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Et.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ep(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ov={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=K6(t,e.target.x),r=K6(t,e.target.y);return`${n}% ${r}%`}},wDe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Rl.parse(t);if(i.length>5)return r;const s=Rl.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=en(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let _E=!1;class _De extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;qRe(SDe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),_E&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ov.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,_E=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Et.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;_E=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PX(t){const[e,n]=JY(),r=x.useContext(PP);return c.jsx(_De,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(dX),isPresent:e,safeToRemove:n})}const SDe={borderRadius:{...Qf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qf,borderTopRightRadius:Qf,borderBottomLeftRadius:Qf,borderBottomRightRadius:Qf,boxShadow:wDe};function EDe(t,e,n){const r=Er(t)?t:fs(t);return r.start(hO("",r,e,n)),r.animation}const kDe=(t,e)=>t.depth-e.depth;class ADe{constructor(){this.children=[],this.isDirty=!1}add(e){IP(this.children,e),this.isDirty=!0}remove(e){RP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kDe),this.isDirty=!1,this.children.forEach(e)}}function jDe(t,e){const n=Yr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(bs(r),t(s-e))};return Et.setup(r,!0),()=>bs(r)}const OX=["TopLeft","TopRight","BottomLeft","BottomRight"],TDe=OX.length,G6=t=>typeof t=="string"?parseFloat(t):t,Y6=t=>typeof t=="number"||Te.test(t);function NDe(t,e,n,r,i,s){i?(t.opacity=en(0,n.opacity??1,CDe(r)),t.opacityExit=en(e.opacity??1,0,PDe(r))):s&&(t.opacity=en(e.opacity??1,n.opacity??1,r));for(let a=0;a<TDe;a++){const o=`border${OX[a]}Radius`;let l=X6(e,o),u=X6(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Y6(l)===Y6(u)?(t[o]=Math.max(en(G6(l),G6(u),r),0),(ta.test(u)||ta.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=en(e.rotate||0,n.rotate||0,r))}function X6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const CDe=IX(0,.5,gY),PDe=IX(.5,.95,Zr);function IX(t,e,n){return r=>r<t?0:r>e?1:n(Ah(t,e,r))}function Q6(t,e){t.min=e.min,t.max=e.max}function Ni(t,e){Q6(t.x,e.x),Q6(t.y,e.y)}function Z6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function J6(t,e,n,r,i){return t-=e,t=Yb(t,1/n,r),i!==void 0&&(t=Yb(t,1/i,r)),t}function ODe(t,e=0,n=1,r=.5,i,s=t,a=t){if(ta.test(e)&&(e=parseFloat(e),e=en(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=en(s.min,s.max,r);t===s&&(o-=e),t.min=J6(t.min,e,n,o,i),t.max=J6(t.max,e,n,o,i)}function eV(t,e,[n,r,i],s,a){ODe(t,e[n],e[r],e[i],e.scale,s,a)}const IDe=["x","scaleX","originX"],RDe=["y","scaleY","originY"];function tV(t,e,n,r){eV(t.x,e,IDe,n?n.x:void 0,r?r.x:void 0),eV(t.y,e,RDe,n?n.y:void 0,r?r.y:void 0)}function nV(t){return t.translate===0&&t.scale===1}function RX(t){return nV(t.x)&&nV(t.y)}function rV(t,e){return t.min===e.min&&t.max===e.max}function MDe(t,e){return rV(t.x,e.x)&&rV(t.y,e.y)}function iV(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MX(t,e){return iV(t.x,e.x)&&iV(t.y,e.y)}function sV(t){return Lr(t.x)/Lr(t.y)}function aV(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class DDe{constructor(){this.members=[]}add(e){IP(this.members,e),e.scheduleRender()}remove(e){if(RP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LDe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const SE=["","X","Y","Z"],VDe=1e3;let FDe=0;function EE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DX(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wX(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DX(r)}function LX({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=FDe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zDe),this.nodes.forEach(WDe),this.nodes.forEach(KDe),this.nodes.forEach($De)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ADe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new DP),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=nO(a)&&!TRe(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Et.read(()=>{h=window.innerWidth}),t(a,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=jDe(f,250),Ov.hasAnimatedSinceResize&&(Ov.hasAnimatedSinceResize=!1,this.nodes.forEach(cV)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||ZDe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!MX(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...QP(p,"layout"),onPlay:y,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(d,w)}else h||cV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GDe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oV);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lV);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qDe),this.nodes.forEach(BDe),this.nodes.forEach(UDe)):this.nodes.forEach(lV),this.clearAllSnapshots();const o=Yr.now();zn.delta=oa(0,1e3/60,o-zn.timestamp),zn.timestamp=o,zn.isProcessing=!0,hE.update.process(zn),hE.preRender.process(zn),hE.render.process(zn),zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HDe),this.sharedNodes.forEach(YDe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Lr(this.snapshot.measuredBox.x)&&!Lr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!RX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||yc(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),JDe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return mn();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(e5e))){const{scroll:d}=this.root;d&&(yd(o.x,d.offset.x),yd(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=mn();if(Ni(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ni(o,a),yd(o.x,h.offset.x),yd(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=mn();Ni(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vd(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),yc(d.latestValues)&&vd(l,d.latestValues)}return yc(this.latestValues)&&vd(l,this.latestValues),l}removeTransform(a){const o=mn();Ni(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!yc(u.latestValues))continue;Bj(u.latestValues)&&u.updateSnapshot();const d=mn(),h=u.measurePageBox();Ni(d,h),tV(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return yc(this.latestValues)&&tV(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=zn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),np(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mn(),this.targetWithTransforms=mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aDe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ni(this.target,this.layout.layoutBox),pX(this.target,this.targetDelta)):Ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),np(this.relativeTargetOrigin,this.target,m.target),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bj(this.parent.latestValues)||mX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===zn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ni(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;xMe(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=mn());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z6(this.prevProjectionDelta.x,this.projectionDelta.x),Z6(this.prevProjectionDelta.y,this.projectionDelta.y)),tp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!aV(this.projectionDelta.x,this.prevProjectionDelta.x)||!aV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xd(),this.projectionDelta=xd(),this.projectionDeltaWithTransform=xd()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=xd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=mn(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,y=m!==p,v=this.getStack(),b=!v||v.members.length<=1,w=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(QDe));this.animationProgress=0;let _;this.mixTargetDelta=j=>{const E=j/1e3;uV(h.x,a.x,E),uV(h.y,a.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(np(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XDe(this.relativeTarget,this.relativeTargetOrigin,f,E),_&&MDe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=mn()),Ni(_,this.relativeTarget)),y&&(this.animationValues=d,NDe(d,u,this.latestValues,E,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Ov.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fs(0)),this.currentAnimation=EDe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VDe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&VX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mn();const h=Lr(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const f=Lr(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Ni(o,l),vd(o,d),tp(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new DDe),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&EE("z",a,u,this.animationValues);for(let d=0;d<SE.length;d++)EE(`rotate${SE[d]}`,a,u,this.animationValues),EE(`skew${SE[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Pv(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Pv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!yc(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=LDe(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),a.transform=h;const{x:f,y:m}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in tg){if(d[p]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:b}=tg[p],w=h==="none"?d[p]:y(d[p],u);if(v){const _=v.length;for(let j=0;j<_;j++)a[v[j]]=w}else b?this.options.visualElement.renderState.vars[p]=w:a[p]=w}this.options.layoutId&&(a.pointerEvents=u===this?Pv(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(oV),this.root.sharedNodes.clear()}}}function BDe(t){t.updateLayout()}function UDe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Pi(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],m=Lr(f);f.min=r[h].min,f.max=f.min+m}):VX(s,e.layoutBox,r)&&Pi(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],m=Lr(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=xd();tp(o,r,e.layoutBox);const l=xd();a?tp(l,t.applyTransform(i,!0),e.measuredBox):tp(l,r,e.layoutBox);const u=!RX(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=mn();np(p,e.layoutBox,f.layoutBox);const y=mn();np(y,r,m.layoutBox),MX(p,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zDe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $De(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HDe(t){t.clearSnapshot()}function oV(t){t.clearMeasurements()}function lV(t){t.isLayoutDirty=!1}function qDe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cV(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function WDe(t){t.resolveTargetDelta()}function KDe(t){t.calcProjection()}function GDe(t){t.resetSkewAndRotation()}function YDe(t){t.removeLeadSnapshot()}function uV(t,e,n){t.translate=en(e.translate,0,n),t.scale=en(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function dV(t,e,n,r){t.min=en(e.min,n.min,r),t.max=en(e.max,n.max,r)}function XDe(t,e,n,r){dV(t.x,e.x,n.x,r),dV(t.y,e.y,n.y,r)}function QDe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ZDe={duration:.45,ease:[.4,0,.1,1]},hV=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fV=hV("applewebkit/")&&!hV("chrome/")?Math.round:Zr;function mV(t){t.min=fV(t.min),t.max=fV(t.max)}function JDe(t){mV(t.x),mV(t.y)}function VX(t,e,n){return t==="position"||t==="preserve-aspect"&&!sDe(sV(e),sV(n),.2)}function e5e(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const t5e=LX({attachResizeListener:(t,e)=>ng(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kE={current:void 0},FX=LX({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kE.current){const t=new t5e({});t.mount(window),t.setOptions({layoutScroll:!0}),kE.current=t}return kE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n5e={pan:{Feature:bDe},drag:{Feature:xDe,ProjectionNode:FX,MeasureLayout:PX}};function pV(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Et.postRender(()=>s(e,g0(e)))}class r5e extends ql{mount(){const{current:e}=this.node;e&&(this.unmount=mRe(e,(n,r)=>(pV(this.node,r,"Start"),i=>pV(this.node,i,"End"))))}unmount(){}}class i5e extends ql{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=f0(ng(this.node.current,"focus",()=>this.onFocus()),ng(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gV(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Et.postRender(()=>s(e,g0(e)))}class s5e extends ql{mount(){const{current:e}=this.node;e&&(this.unmount=vRe(e,(n,r)=>(gV(this.node,r,"Start"),(i,{success:s})=>gV(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wj=new WeakMap,AE=new WeakMap,a5e=t=>{const e=Wj.get(t.target);e&&e(t)},o5e=t=>{t.forEach(a5e)};function l5e({root:t,...e}){const n=t||document;AE.has(n)||AE.set(n,{});const r=AE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(o5e,{root:t,...e})),r[i]}function c5e(t,e,n){const r=l5e(e);return Wj.set(t,n),r.observe(t),()=>{Wj.delete(t),r.unobserve(t)}}const u5e={some:0,all:1};class d5e extends ql{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:u5e[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return c5e(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(h5e(e,n))&&this.startObserver()}unmount(){}}function h5e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const f5e={inView:{Feature:d5e},tap:{Feature:s5e},focus:{Feature:i5e},hover:{Feature:r5e}},m5e={layout:{ProjectionNode:FX,MeasureLayout:PX}},p5e={...JMe,...f5e,...n5e,...m5e},Nr=gMe(p5e,TMe),g5e=50,yV=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),y5e=()=>({time:0,x:yV(),y:yV()}),v5e={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function vV(t,e,n,r){const i=n[e],{length:s,position:a}=v5e[e],o=i.current,l=n.time;i.current=t[`scroll${a}`],i.scrollLength=t[`scroll${s}`]-t[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Ah(0,i.scrollLength,i.current);const u=r-l;i.velocity=u>g5e?0:LP(i.current-o,u)}function x5e(t,e,n){vV(t,"x",e,n),vV(t,"y",e,n),e.time=n}function b5e(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(JP(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let a=null,o=r.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=r.parentNode;r=a}else break;return n}const Kj={start:0,center:.5,end:1};function xV(t,e,n=0){let r=0;if(t in Kj&&(t=Kj[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const w5e=[0,0];function _5e(t,e,n,r){let i=Array.isArray(t)?t:w5e,s=0,a=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,Kj[t]?t:"0"]),s=xV(i[0],n,r),a=xV(i[1],e),s-a}const S5e={All:[[0,0],[1,1]]},E5e={x:0,y:0};function k5e(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function A5e(t,e,n){const{offset:r=S5e.All}=n,{target:i=t,axis:s="y"}=n,a=s==="y"?"height":"width",o=i!==t?b5e(i,t):E5e,l=i===t?{width:t.scrollWidth,height:t.scrollHeight}:k5e(i),u={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let d=!e[s].interpolate;const h=r.length;for(let f=0;f<h;f++){const m=_5e(r[f],u[a],l[a],o[s]);!d&&m!==e[s].interpolatorOffsets[f]&&(d=!0),e[s].offset[f]=m}d&&(e[s].interpolate=WP(e[s].offset,PY(r),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=oa(0,1,e[s].interpolate(e[s].current))}function j5e(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function T5e(t,e,n,r={}){return{measure:i=>{j5e(t,r.target,n),x5e(t,n,i),(r.offset||r.target)&&A5e(t,n,r)},notify:()=>e(n)}}const Zf=new WeakMap,bV=new WeakMap,jE=new WeakMap,wV=t=>t===document.scrollingElement?window:t;function BX(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Zr;let r=jE.get(e);r||(r=new Set,jE.set(e,r));const i=y5e(),s=T5e(e,t,i,n);if(r.add(s),!Zf.has(e)){const o=()=>{for(const h of r)h.measure(zn.timestamp);Et.preUpdate(l)},l=()=>{for(const h of r)h.notify()},u=()=>Et.read(o);Zf.set(e,u);const d=wV(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&bV.set(e,jRe(e,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=Zf.get(e);return Et.read(a,!1,!0),()=>{var u;bs(a);const o=jE.get(e);if(!o||(o.delete(s),o.size))return;const l=Zf.get(e);Zf.delete(e),l&&(wV(e).removeEventListener("scroll",l),(u=bV.get(e))==null||u(),window.removeEventListener("resize",l))}}const _V=new Map;function N5e(t){const e={value:0},n=BX(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function UX({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=_V.get(e)??new Map;_V.set(e,i);const s=n.target??"self",a=i.get(s)??{},o=r+(n.offset??[]).join(",");return a[o]||(a[o]=!n.target&&MY()?new ScrollTimeline({source:e,axis:r}):N5e({container:e,...n})),a[o]}function C5e(t,e){const n=UX(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),ZY(i=>{r.time=r.iterationDuration*i},n))})}function P5e(t){return t.length===2}function O5e(t,e){return P5e(t)?BX(n=>{t(n[e.axis].progress,n)},e):ZY(t,UX(e))}function I5e(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return Zr;const i={axis:e,container:n,...r};return typeof t=="function"?O5e(t,i):C5e(t,i)}const R5e=()=>({scrollX:fs(0),scrollY:fs(0),scrollXProgress:fs(0),scrollYProgress:fs(0)}),Hy=t=>t?!t.current:!1;function M5e({container:t,target:e,...n}={}){const r=rf(R5e),i=x.useRef(null),s=x.useRef(!1),a=x.useCallback(()=>(i.current=I5e((o,{x:l,y:u})=>{r.scrollX.set(l.current),r.scrollXProgress.set(l.progress),r.scrollY.set(u.current),r.scrollYProgress.set(u.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var o;(o=i.current)==null||o.call(i)}),[t,e,JSON.stringify(n.offset)]);return Z1(()=>{if(s.current=!1,Hy(t)||Hy(e)){s.current=!0;return}else return a()},[a]),x.useEffect(()=>{if(s.current)return Qp(!Hy(t)),Qp(!Hy(e)),a()},[a]),r}function D5e(t){const e=rf(()=>fs(t)),{isStatic:n}=x.useContext(e_);if(n){const[,r]=x.useState(t);x.useEffect(()=>e.on("change",r),[])}return e}function zX(t,e){const n=D5e(e()),r=()=>n.set(e());return r(),Z1(()=>{const i=()=>Et.preRender(r,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),bs(r)}}),n}function L5e(t){Jm.current=[],t();const e=zX(Jm.current,t);return Jm.current=void 0,e}function SV(t,e,n,r){if(typeof t=="function")return L5e(t);const i=typeof e=="function"?e:NRe(e,n,r);return Array.isArray(t)?EV(t,i):EV([t],([s])=>i(s))}function EV(t,e){const n=rf(()=>[]);return zX(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function V5e(){!dO.current&&yX();const[t]=x.useState(Xb.current);return t}function F5e(){const{isDark:t,toggleTheme:e}=da();return c.jsx("button",{onClick:e,"aria-label":"Toggle theme",className:"px-3 py-2 rounded-md bg-white/80 ring-1 ring-slate-200 hover:shadow transition hidden sm:inline-flex items-center gap-2 dark:bg-slate-800 dark:text-slate-100",children:t?" Dark":" Light"})}function B5e(){const{isDark:t}=da(),{scrollYProgress:e}=M5e(),n=V5e(),r="A modern way to manage grants and funds",[i,s]=x.useState(n?r:""),[a,o]=x.useState(!1);x.useEffect(()=>{if(n)return;let m;const p=a?80:120;return!a&&i.length<r.length?m=setTimeout(()=>s(r.slice(0,i.length+1)),p):!a&&i.length===r.length?m=setTimeout(()=>o(!0),4e3):a&&i.length>0?m=setTimeout(()=>s(r.slice(0,i.length-1)),p):a&&i.length===0&&(m=setTimeout(()=>o(!1),4e3)),()=>clearTimeout(m)},[i,a,n]);const l=SV(e,[0,1],[0,n?0:12]),u=SV(e,[0,1],[0,n?0:-12]),d={hidden:{opacity:0,y:24},show:{opacity:1,y:0,transition:{staggerChildren:.08,duration:.5}}},h={hidden:{opacity:0,y:16},show:{opacity:1,y:0,transition:{type:"spring",stiffness:70,damping:16,mass:.8}}},f={initial:{opacity:0,y:12},in:{opacity:1,y:0,transition:{duration:.5}},float:n?{}:{y:[0,-4,0],transition:{duration:6,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}};return c.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-50 via-white to-slate-100 text-[var(--text,#0f172a)] dark:bg-gradient-to-b dark:from-[#071022] dark:via-[#081427] dark:to-[#071022] dark:text-slate-100",children:[c.jsx("div",{className:`absolute -top-40 -left-40 w-[560px] h-[560px] ${t?"bg-gradient-to-br from-[var(--brand-primary)] to-[var(--accent-sky)]":"bg-gradient-to-br from-indigo-400 to-purple-500"} ${t?"opacity-12":"opacity-20"} rounded-full blur-3xl transform rotate-[15deg] pointer-events-none z-0`}),",",c.jsx("div",{className:`absolute -bottom-40 -right-40 w-[480px] h-[480px] ${t?"bg-gradient-to-br from-[var(--accent-sky)] to-[var(--accent-coral)]":"bg-gradient-to-br from-emerald-300 to-teal-400"} ${t?"opacity-8":"opacity-15"} rounded-full blur-3xl transform -rotate-12 pointer-events-none z-0`}),c.jsxs("header",{className:"relative z-30 max-w-6xl mx-auto px-6 py-8 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-sky-500 to-indigo-600 shadow-sm","aria-hidden":"true"}),c.jsx("div",{className:"font-semibold text-lg tracking-tight brand-logo",children:"Fundify"})]}),c.jsxs("nav",{className:"flex items-center gap-4 text-sm text-slate-700",children:[c.jsx("a",{href:"#features",className:"px-3 py-2 rounded-md nav-link",children:"Features"}),c.jsx(be,{to:"/how",className:"px-3 py-2 rounded-md nav-link",children:"How it works"}),c.jsx(be,{to:"/pricing",className:"px-3 py-2 rounded-md nav-link",children:"Pricing"}),c.jsx(be,{to:"/login",className:"px-3 py-2 rounded-md button-outline",children:"Log in"}),c.jsx(be,{to:"/register",className:"button-brand",children:"Get started"}),c.jsx(F5e,{})]})]}),c.jsxs("main",{className:"relative z-10 max-w-6xl mx-auto px-6 py-28",children:[c.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 items-start",children:[c.jsxs("div",{className:"lg:col-span-7",children:[c.jsxs(Nr.h1,{initial:n?{opacity:1,y:0}:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:70,damping:15},className:"text-5xl md:text-6xl font-extrabold leading-tight tracking-tight",children:[i,!n&&c.jsx("span",{className:"inline-block ml-1 align-middle w-[2px] h-[1.2em] bg-slate-900 dark:bg-slate-100 animate-pulse","aria-hidden":"true"})]}),c.jsx(Nr.p,{initial:n?{opacity:1}:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.08,type:"spring",stiffness:60,damping:16},className:"mt-6 text-lg md:text-xl text-slate-600 dark:text-slate-300 dark:text-slate-300 max-w-2xl",children:"Simple workflows, clear approvals, and transparent reporting for NGOs, corporate social responsibility teams, and small organizations. Built for collaboration and accountability."}),c.jsxs(Nr.div,{initial:n?{opacity:1,y:0}:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.16,type:"spring",stiffness:70,damping:15},className:"mt-8 flex items-center gap-4",children:[c.jsx(Nr.div,{whileHover:{scale:1.03},whileTap:{scale:.98},children:c.jsx(be,{to:"/register",className:"inline-flex items-center gap-2 px-6 py-4 rounded-full button-brand shadow-lg",children:"Get started free"})}),c.jsx(Nr.div,{whileHover:{scale:1.03},whileTap:{scale:.98},children:c.jsx(be,{to:"#",className:"inline-flex items-center gap-2 px-5 py-4 rounded-full button-outline shadow-sm",children:" Watch demo"})})]})]}),c.jsx("div",{className:"lg:col-span-5 relative",children:c.jsxs(Nr.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.45},className:"bg-card-modern border rounded-3xl shadow-2xl p-6 dark:bg-slate-900/80 relative z-10",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Overview"}),c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 dark:border dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:"/income.png",alt:"Income",className:"w-5 h-5 opacity-80"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Funds"})]}),c.jsx("div",{className:"text-xl font-semibold mt-1",children:"KES 12,400"})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 dark:border dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:"/expences.png",alt:"Expenses",className:"w-5 h-5 opacity-80"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Expenses"})]}),c.jsx("div",{className:"text-xl font-semibold mt-1",children:"KES 3,100"})]}),c.jsxs("div",{className:"col-span-2 mt-2 p-4 rounded-xl bg-white border border-slate-100 dark:bg-gradient-to-b dark:from-slate-800/60 dark:to-slate-900/60",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("div",{className:"font-semibold",children:"Last 30 days"}),c.jsx("div",{className:"text-xs text-slate-500",children:"KSh"})]}),c.jsx("div",{className:"mt-3 h-44 rounded-lg overflow-hidden",children:c.jsx("img",{src:"/reports.png",alt:"Financial Reports",className:"w-full h-full object-cover"})})]})]})]})})]}),c.jsx("div",{className:"-mx-6 sm:-mx-8 lg:-mx-10",children:c.jsxs("div",{className:"relative overflow-hidden w-full max-w-none rounded-2xl border border-slate-200/70 bg-white/60 dark:bg-slate-800/40 dark:border-slate-700/60 py-1.5 md:py-2 px-3 sm:px-4",children:[c.jsx("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs uppercase tracking-wide text-slate-500",children:c.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Trusted by"})}),n?c.jsx("div",{className:"mt-1.5 flex flex-wrap gap-3",children:["NGO","Community Org","CSR","Health Fund","Education Trust"].map(m=>c.jsx("div",{className:"px-3 md:px-4 py-1 rounded-none bg-white/70 shadow-sm backdrop-blur-sm dark:bg-slate-900/40 text-slate-700 dark:text-slate-200",children:m},m))}):c.jsxs("div",{className:"mt-1.5 relative",children:[c.jsx(Nr.div,{className:"flex gap-4 md:gap-6",animate:{x:["0%","-50%"]},transition:{duration:22,repeat:1/0,ease:"linear"},children:["NGO","Community Org","CSR","Health Fund","Education Trust","Relief Network","Climate Alliance","Local Council"].concat(["NGO","Community Org","CSR","Health Fund","Education Trust","Relief Network","Climate Alliance","Local Council"]).map((m,p)=>c.jsx("div",{className:"px-3 md:px-4 py-1 rounded-none bg-white/70 shadow-sm backdrop-blur-sm dark:bg-slate-900/40 text-slate-700 dark:text-slate-200",children:m},m+p))}),c.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-24 bg-gradient-to-r from-white/80 to-transparent dark:from-slate-800/60"}),c.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-24 bg-gradient-to-l from-white/80 to-transparent dark:from-slate-800/60"})]})]})}),c.jsx("section",{id:"features",className:"mt-8 md:mt-16",children:[{tag:"Feature 01",title:"Stay in control of your income streams.",text:"From donor grants to internal projects, Fundify helps you record, categorize, and monitor every shilling that comes in so you always know where your funds stand.",mock:"Income dashboard"},{tag:"Feature 02",title:"See where every coin goes.",text:"Track expenses across categories like salaries, rent, transport, and field operations  complete with real-time breakdowns and smart spending insights.",mock:"Expense breakdown"},{tag:"Feature 03",title:"Handle multiple projects effortlessly.",text:"Each donor or project gets its own workspace. Fundify keeps all their transactions, budgets, and reports separate but easy to access in one platform.",mock:"Projects & donors"},{tag:"Feature 04",title:"Visualize impact instantly.",text:"Interactive dashboards and auto-generated reports help you share clear, credible data with your team and funders  without spending hours in Excel.",mock:"Analytics & reports"},{tag:"Feature 05",title:"Your financial data always safe.",text:"Built with Firebase security and encrypted access, Fundify ensures your organizations finances are protected yet accessible anytime, anywhere.",mock:"Secure platform"}].map((m,p)=>c.jsx(Nr.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.6},className:"py-24",children:c.jsxs("div",{className:`mx-auto max-w-6xl grid md:grid-cols-2 gap-10 items-center ${p%2===1?"md:[&>div:first-child]:order-2":""}`,children:[c.jsxs(Nr.div,{variants:d,initial:"hidden",whileInView:"show",viewport:{once:!0,margin:"-80px"},children:[c.jsx(Nr.div,{variants:h,className:"uppercase tracking-wider text-xs font-semibold text-sky-600 dark:text-sky-400",children:m.tag}),c.jsx(Nr.h3,{variants:h,className:"mt-2 text-4xl md:text-5xl font-semibold text-gray-900 dark:text-slate-100",children:m.title}),c.jsx(Nr.p,{variants:h,className:"mt-4 text-lg text-gray-600 dark:text-slate-300 leading-relaxed max-w-xl",children:m.text})]}),c.jsxs(Nr.div,{className:"relative",variants:f,initial:"initial",whileInView:"in",animate:n?void 0:"float",viewport:{once:!0},style:{y:p%2===1?l:u},children:[p%2===1&&c.jsx("div",{className:"pointer-events-none absolute -inset-6 -z-10 rounded-3xl bg-gradient-to-br from-sky-300/30 to-indigo-300/20 blur-2xl dark:from-sky-500/10 dark:to-indigo-500/10"}),c.jsxs(Nr.div,{whileHover:{scale:1.02,rotate:.2},className:"rounded-2xl shadow-lg overflow-hidden bg-gradient-to-br from-gray-50 to-white dark:from-slate-800/40 dark:to-slate-900/40 border border-slate-100/80 dark:border-slate-700/50",children:[c.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center gap-2",children:[c.jsx("div",{className:"h-3 w-3 rounded-full bg-rose-400"}),c.jsx("div",{className:"h-3 w-3 rounded-full bg-amber-400"}),c.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-400"}),c.jsx("div",{className:"ml-3 text-xs text-slate-500 dark:text-slate-400",children:m.mock})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"relative h-40 rounded-lg overflow-hidden",children:[p===0&&c.jsx("img",{src:"/dashbord.png",alt:"Income Dashboard",className:"w-full h-full object-cover"}),p===1&&c.jsx("img",{src:"/expences.png",alt:"Expense Tracking",className:"w-full h-full object-contain"}),p===2&&c.jsx("img",{src:"/reports.png",alt:"Project Management",className:"w-full h-full object-cover"}),p===3&&c.jsx("img",{src:"/dashbord2.png",alt:"Analytics Dashboard",className:"w-full h-full object-cover"}),p===4&&c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:c.jsxs("div",{className:"text-center p-4",children:[c.jsx("div",{className:"text-4xl mb-2",children:""}),c.jsx("div",{className:"text-sm font-medium",children:"Bank-Grade Security"})]})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3",children:[c.jsx("div",{className:"h-16 rounded-md bg-slate-50 dark:bg-slate-800/60 flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:p===0?"Grants":p===1?"Expenses":p===2?"Projects":p===3?"Charts":"99.9%"})}),c.jsx("div",{className:"h-16 rounded-md bg-slate-50 dark:bg-slate-800/60 flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:p===0?"Donations":p===1?"Categories":p===2?"Donors":p===3?"Reports":"Uptime"})}),c.jsx("div",{className:"h-16 rounded-md bg-slate-50 dark:bg-slate-800/60 flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:p===0?"Projects":p===1?"Trends":p===2?"Budgets":p===3?"Export":"Secure"})})]})]})]})]})]})},m.tag))}),c.jsx("section",{id:"screenshots",className:"mt-20",children:c.jsx("div",{className:"max-w-7xl mx-auto px-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[c.jsx("div",{className:"lg:col-span-9",children:c.jsx("div",{role:"img","aria-label":"Dashboard screenshot",className:"rounded-3xl overflow-hidden shadow-2xl border border-slate-100 dark:border-0 dark:shadow-none dark:bg-transparent bg-card-modern",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:"/dashbord.png",alt:"Dashboard overview showing financial metrics and charts",className:"w-full h-[420px] md:h-[520px] lg:h-[680px] object-cover rounded-2xl opacity-95 dark:opacity-90 dark:brightness-75 transition-all duration-300 hover:opacity-100"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none"})]})})}),c.jsxs("div",{className:"lg:col-span-3 lg:self-start lg:sticky lg:top-24",children:[c.jsx("h3",{className:"text-2xl font-semibold",children:"What you'll see"}),c.jsx("p",{className:"mt-3 text-slate-600 dark:text-slate-300",children:"A unified dashboard showing funds, expenses, approvals and quick insights. Use this view to monitor cash flow, spot anomalies, and export reports for stakeholders."}),c.jsxs("div",{className:"mt-6 space-y-3 text-sm text-slate-600 dark:text-slate-400",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1 text-emerald-500",children:""}),c.jsx("div",{children:"Live dashboards & CSV exports"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1 text-amber-500",children:""}),c.jsx("div",{children:"Approval workflow preview"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1 text-sky-500",children:""}),c.jsx("div",{children:"Project-level budget view"})]})]}),c.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[c.jsx(be,{to:"/register",className:"px-5 py-3 rounded-md button-brand",children:"Get started"}),c.jsx(be,{to:"#",className:"px-4 py-3 rounded-md button-outline",children:"Watch demo"})]})]})]})})}),c.jsx("section",{className:"mt-12 py-12 rounded-2xl bg-gradient-to-r from-sky-600 to-indigo-600 text-white",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold",children:"Ready to start managing funds with clarity?"}),c.jsx("div",{className:"mt-1 text-sm opacity-90",children:"Start for free  onboard your team and import your first project in minutes."})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(be,{to:"/register",className:"px-5 py-3 rounded-md bg-white text-sky-700 font-semibold hover:opacity-95",children:"Get started free"}),c.jsx(be,{to:"#",className:"px-4 py-3 rounded-md border border-white/30 hover:bg-white/10",children:"Watch demo"})]})]})}),c.jsx("footer",{className:"mt-20 pt-12 pb-6 text-sm text-slate-700 dark:text-slate-300",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 pb-8 border-b border-slate-100 dark:border-slate-800",children:[c.jsxs("div",{className:"md:col-span-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-sky-500 to-indigo-600 shadow-sm","aria-hidden":"true"}),c.jsx("div",{className:"font-semibold text-lg brand-logo dark:text-slate-100",children:"Fundify"})]}),c.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400 max-w-sm",children:"Manage grants, donors, and projects with clarity. Secure, collaborative, and built for accountability."})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Product"}),c.jsxs("ul",{className:"mt-3 space-y-2",children:[c.jsx("li",{children:c.jsx(be,{to:"/how",className:"footer-link",children:"How it works"})}),c.jsx("li",{children:c.jsx(be,{to:"/pricing",className:"footer-link",children:"Pricing"})}),c.jsx("li",{children:c.jsx(be,{to:"/register",className:"footer-link",children:"Get started"})})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Company"}),c.jsxs("ul",{className:"mt-3 space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"footer-link",children:"About"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"footer-link",children:"Careers"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"footer-link",children:"Contact"})})]})]}),c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Stay updated"}),c.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"Get product updates and tips to run your programs better."}),c.jsxs("form",{className:"mt-4 flex gap-2 max-w-md",onSubmit:m=>m.preventDefault(),children:[c.jsx("input",{"aria-label":"Email",type:"email",placeholder:"Your email",className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100"}),c.jsx("button",{className:"px-4 py-2 rounded-md button-brand",children:"Subscribe"})]}),c.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[c.jsx("a",{href:"#","aria-label":"Twitter",className:"p-2 rounded-md bg-white/80 dark:bg-slate-800/60 footer-social",children:"T"}),c.jsx("a",{href:"#","aria-label":"LinkedIn",className:"p-2 rounded-md bg-white/80 dark:bg-slate-800/60 footer-social",children:"in"}),c.jsx("a",{href:"#","aria-label":"GitHub",className:"p-2 rounded-md bg-white/80 dark:bg-slate-800/60 footer-social",children:"GH"})]})]})]}),c.jsxs("div",{className:"mt-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"text-xs text-slate-500",children:[" ",new Date().getFullYear()," Fundify  Simple fund management for organizations."]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(be,{to:"/login",className:"footer-link",children:"Log in"}),c.jsx(be,{to:"/privacy",className:"footer-link",children:"Privacy"}),c.jsx(be,{to:"/terms",className:"footer-link",children:"Terms"})]})]})]})})]})]})}const U5e=()=>{const t=ii(),e=new URLSearchParams(t.search),n=e.get("orgId"),r=e.get("token"),i=e.get("name")||"",s=e.get("email")||"",a=e.get("redirect")||null,o=s||null,[l,u]=x.useState({name:i,email:s,password:"",confirmPassword:""}),[d,h]=x.useState(""),[f,m]=x.useState(!1),{register:p,login:y}=Vt(),{switchOrg:v}=lt(),b=Fr(),w=j=>{const{name:E,value:I}=j.target;E==="email"&&o||u(k=>({...k,[E]:I}))},_=async j=>{j.preventDefault(),h("");const{name:E,email:I,password:k,confirmPassword:S}=l;if(!E||!I||!k||!S){h("Please fill in all fields");return}if(k!==S){h("Passwords do not match");return}if(k.length<8){h("Password must be at least 8 characters long");return}try{m(!0);const{success:P,error:O,user:N}=await p({name:E,email:I,password:k},new URLSearchParams(t.search).get("orgId")?{profile:{hasCompletedSetup:!0,isUserProfile:!0},createProfile:!0}:{});if(P){try{await y(I,k)}catch(A){console.warn("Auto-login after registration failed:",(A==null?void 0:A.message)||A)}try{const A=new URLSearchParams(t.search),C=A.get("orgId"),F=A.get("token");if(C&&F&&N){const M=mt(Ye,"orgs",C),V=await En(M);if(V.exists()){const B=V.data(),D=Array.isArray(B.invites)?B.invites:[],U=D.find(H=>H.token===F);if(U){const H=N.id;if(U.email&&U.email.toLowerCase()!==(N.email||"").toLowerCase()){h("Your account email does not match the invited email. Please sign in with the invited email to accept."),b("/login");return}const X=Array.isArray(B.memberships)?B.memberships:[],z=X.some(le=>le.userId===H),Q=U.role==="finance"?"financial_officer":U.role||"viewer",re={userId:H,email:N.email||"",role:Q,addedAt:new Date().toISOString()},ue=z?X.map(le=>le.userId===H?{...le,role:Q||le.role}:le):[...X,re],Ce=Array.isArray(B.members)?z?B.members:Array.from(new Set([...B.members||[],H])):[H],xe=D.filter(le=>le.token!==F);console.log("Register: Accepting invitation for user:",H,"org:",C),console.log("Register: New membership:",re),console.log("Register: Next memberships:",ue),console.log("Register: Next members:",Ce);const Je={id:H,name:(U==null?void 0:U.name)||(N.email||"").split("@")[0]||"Funder",email:N.email||(U==null?void 0:U.email)||"",status:"active",createdAt:new Date().toISOString()},me=[...(Array.isArray(B.funders)?B.funders:[]).filter(le=>le&&le.id!==Je.id),Je];await Or(M,{memberships:ue,members:Ce,invites:xe,funders:me}),console.log("Register: Successfully updated organization with new member and funder"),v(C),console.log("Register: Switched to organization:",C),a?b(a,{replace:!0}):b(`/donor/dashboard/${H}`,{replace:!0});return}}}}catch(A){console.error("Accept invite after signup failed",A);try{const C=new URLSearchParams(t.search).get("orgId");C&&v(C);const F=N&&N.id?N.id:"me";b(`/donor/dashboard/${F}`,{replace:!0});return}catch{}}if(a)b(a);else{const C=new URLSearchParams(t.search).get("orgId");if(C){try{v(C)}catch{}b(`/donor/dashboard/${N&&N.id?N.id:"me"}`,{replace:!0})}else b(`/donor/dashboard/${N&&N.id?N.id:"me"}`,{replace:!0})}}else h(O||"Failed to register. Please try again.")}catch(P){h("An error occurred. Please try again."),console.error("Registration error:",P)}finally{m(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-base bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-50 via-white to-blue-100 py-12 px-4 sm:px-6 lg:px-8 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-slate-100",children:"Create a new account"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-slate-300",children:["Or"," ",c.jsx(be,{to:"/login",className:"font-medium brand-text hover:underline",children:"sign in to your existing account"})]})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Create account"})}),c.jsxs(Ke,{children:[d&&c.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4 dark:bg-rose-900/20 dark:border-rose-700",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-amber-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-red-700 dark:text-rose-300",children:d})})]})}),c.jsxs("form",{className:"space-y-6",onSubmit:_,children:[n&&r?c.jsx(Ze,{id:"name",name:"name",type:"text",required:!0,label:"Your Name",value:l.name,onChange:w}):c.jsx(Ze,{id:"name",name:"name",type:"text",required:!0,label:"Organization Name",value:l.name,onChange:w}),c.jsx(Ze,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,label:"Email address",value:l.email,onChange:w,disabled:!!o}),c.jsx(Ze,{id:"password",name:"password",type:"password",required:!0,label:"Password",value:l.password,onChange:w,minLength:"8"}),c.jsx(Ze,{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,label:"Confirm Password",value:l.confirmPassword,onChange:w,minLength:"8"}),c.jsx("div",{children:c.jsx(st,{type:"submit",disabled:f,className:"w-full justify-center",variant:"primary",children:f?"Creating account...":"Create Account"})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300 dark:border-slate-700"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500 dark:bg-slate-900 dark:text-slate-400",children:"Already have an account?"})})]}),c.jsx("div",{className:"mt-6",children:c.jsx(be,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-slate-300 rounded-md shadow-sm text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 focus:outline-none dark:border-slate-700 dark:text-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700",children:"Sign in"})})]})]})]})]})})};function z5e(){return c.jsx("main",{className:"min-h-screen bg-neutral-base dark:bg-[#071022] py-20",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[c.jsx("h1",{className:"text-4xl font-extrabold mb-6 text-slate-900 dark:text-slate-100",children:"Pricing"}),c.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-3xl",children:"Choose a plan that fits your team's size and needs. Upgrade anytime."}),c.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"p-6 bg-card-modern rounded-xl shadow-sm dark:bg-slate-800/60",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Starter"}),c.jsx("div",{className:"mt-4 text-3xl font-bold",children:"Free"}),c.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:"Basic fund tracking for small teams"}),c.jsx("div",{className:"mt-6",children:c.jsx(be,{to:"/register",className:"px-4 py-2 rounded-full bg-primary text-white",children:"Get started"})})]}),c.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm border-2 border-primary dark:bg-slate-800/60 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Pro"}),c.jsx("div",{className:"mt-4 text-3xl font-bold",children:"KES 2,499/mo"}),c.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:"Advanced features for organizations"}),c.jsx("div",{className:"mt-6",children:c.jsx(be,{to:"/register",className:"px-4 py-2 rounded-full bg-primary text-white",children:"Start Pro"})})]}),c.jsxs("div",{className:"p-6 bg-card-modern rounded-xl shadow-sm dark:bg-slate-800/60",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Enterprise"}),c.jsx("div",{className:"mt-4 text-3xl font-bold",children:"Custom"}),c.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:"Custom plans and integrations"}),c.jsx("div",{className:"mt-6",children:c.jsx(be,{to:"/register",className:"px-4 py-2 rounded-full border border-slate-200 dark:border-slate-600",children:"Contact Sales"})})]})]})]})})}function $5e(){return c.jsx("main",{className:"min-h-screen bg-neutral-base dark:bg-[#071022] py-20",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[c.jsx("h1",{className:"text-4xl font-extrabold mb-6 text-slate-900 dark:text-slate-100",children:"How it works"}),c.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-3xl",children:"A clear four-step flow to get your projects funded, tracked, and reported with confidence."}),c.jsxs("div",{className:"mt-10 grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"p-6 rounded-xl bg-card-modern dark:bg-slate-800/60 shadow-sm",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"1. Create projects"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Define budgets, assign funders and teams."})]}),c.jsxs("div",{className:"p-6 rounded-xl bg-card-modern dark:bg-slate-800/60 shadow-sm",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"2. Record income"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Record and allocate incoming funds."})]}),c.jsxs("div",{className:"p-6 rounded-xl bg-card-modern dark:bg-slate-800/60 shadow-sm",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"3. Approve expenses"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Use approval flows for governance."})]}),c.jsxs("div",{className:"p-6 rounded-xl bg-card-modern dark:bg-slate-800/60 shadow-sm",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"4. Share reports"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Export CSVs or share clean dashboards."})]})]}),c.jsx("div",{className:"mt-12",children:c.jsx(be,{to:"/register",className:"inline-block bg-primary text-white px-6 py-3 rounded-full",children:"Get started"})})]})})}function H5e(){const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[a,o]=x.useState(!1),{resetPassword:l}=Vt(),u=async d=>{if(d.preventDefault(),r(""),s(""),!t){r("Please enter your email address");return}try{o(!0);const h=await l(t);h!=null&&h.success?s("If an account exists for this email, a password reset link has been sent."):r((h==null?void 0:h.error)||"Failed to send reset email")}catch(h){r("Failed to send reset email"),console.error(h)}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-base bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-50 via-white to-blue-100 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-gray-900",children:"Reset your password"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Remembered it?"," ",c.jsx(be,{to:"/login",className:"font-medium brand-text hover:underline",children:"Back to sign in"})]})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Forgot password"})}),c.jsxs(Ke,{children:[n&&c.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:c.jsx("p",{className:"text-sm text-red-700",children:n})}),i&&c.jsx("div",{className:"mb-4 bg-emerald-50 border-l-4 border-emerald-400 p-4",children:c.jsx("p",{className:"text-sm text-emerald-700",children:i})}),c.jsxs("form",{className:"space-y-6",onSubmit:u,children:[c.jsx(Ze,{id:"email",name:"email",type:"email",label:"Email address",value:t,onChange:d=>e(d.target.value),required:!0}),c.jsx("div",{children:c.jsx(st,{type:"submit",disabled:a,className:"w-full justify-center",children:a?"Sending...":"Send reset link"})})]})]})]})]})})}const kV=["NGO","Nonprofit","SME","Social Enterprise","Other"],TE=["Grant","Donation","Internal Project","Other"],q5e=["Salaries","Office Rent","Utilities","Transport"];function NE(){return Math.random().toString(36).slice(2,10)}function W5e(){var F;const{user:t,updateUser:e}=Vt(),n=Fr(),[r,i]=x.useState(1),[s,a]=x.useState(!1),[o,l]=x.useState({}),[u,d]=x.useState({name:(t==null?void 0:t.name)||"",sector:kV[0],country:"",currency:((F=t==null?void 0:t.orgSettings)==null?void 0:F.currency)||"USD"}),[h,f]=x.useState([{id:NE(),name:"",type:TE[0],initialBalance:""}]),[m,p]=x.useState([]),[y,v]=x.useState([...q5e]),b=5,w=x.useMemo(()=>Math.round((r-1)/(b-1)*100),[r]),_=M=>{const V={};return M===1&&(u.name.trim()||(V.name="Organization name is required"),u.country.trim()||(V.country="Country is required"),u.currency.trim()||(V.currency="Currency is required")),M===2&&(h.some(D=>D.name.trim())||(V.funders="Add at least one funder/donor")),l(V),Object.keys(V).length===0},j=()=>{_(r)&&i(M=>Math.min(b,M+1))},E=()=>i(M=>Math.max(1,M-1)),I=()=>i(M=>Math.min(b,M+1)),k=()=>f(M=>[...M,{id:NE(),name:"",type:TE[0],initialBalance:""}]),S=M=>f(V=>V.filter(B=>B.id!==M)),P=()=>p(M=>{var V;return[...M,{id:NE(),name:"",funderId:((V=h[0])==null?void 0:V.id)||"",budget:"",startDate:"",endDate:""}]}),O=M=>p(V=>V.filter(B=>B.id!==M)),N=()=>v(M=>[...M,""]),A=M=>v(V=>V.filter((B,D)=>D!==M)),C=async()=>{if(!_(1)||!_(2)){i(1);return}a(!0);try{const M=h.filter(U=>U.name.trim()).map(U=>({id:U.id,name:U.name.trim(),type:U.type,initialBalance:Number(U.initialBalance||0)})),V=new Set(M.map(U=>U.id)),B=m.filter(U=>U.name.trim()&&(!U.funderId||V.has(U.funderId))).map(U=>({id:U.id,name:U.name.trim(),funderId:U.funderId||"",budget:Number(U.budget||0),startDate:U.startDate||"",endDate:U.endDate||""})),D=y.map(U=>U.trim()).filter(Boolean);await e({name:u.name.trim(),sector:u.sector,country:u.country.trim(),orgSettings:{currency:u.currency},funders:M,projects:B,internalCategories:D,hasCompletedSetup:!0,updatedAt:new Date().toISOString()}),a(!1),n("/")}catch{a(!1),alert("Failed to save. Please try again.")}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#F9FAFB] relative overflow-hidden py-10 px-4 dark:bg-slate-950",children:[c.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[c.jsx("div",{className:"absolute -left-32 -top-24 w-96 h-96 bg-gradient-to-tr from-gray-100 to-gray-200 opacity-60 rounded-full filter blur-3xl transform rotate-12 animate-pulse"}),c.jsx("div",{className:"absolute -right-24 -bottom-20 w-80 h-80 bg-gradient-to-br from-gray-100 to-gray-200 opacity-50 rounded-full filter blur-2xl transform -rotate-12"}),c.jsx("svg",{className:"absolute right-0 top-0 -mt-20 -mr-20 w-[600px] opacity-10",viewBox:"0 0 600 600",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("g",{transform:"translate(300,300)",children:c.jsx("path",{d:"M120,-160C150,-120,170,-80,180,-40C190,0,190,40,170,80C150,120,120,160,80,180C40,200,0,200,-40,190C-80,180,-120,160,-150,120C-180,80,-200,40,-200,0C-200,-40,-180,-80,-150,-120C-120,-160,-80,-190,-40,-200C0,-210,40,-200,80,-180C120,-160,120,-160,120,-160Z",fill:"#1E3A8A"})})}),c.jsx("div",{className:"absolute left-10 top-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-pink-100 via-purple-100 to-indigo-100 opacity-30 rounded-full filter blur-2xl animate-pulse"})]}),c.jsxs("div",{className:"w-full max-w-3xl bg-white/80 supports-[backdrop-filter]:bg-white/60 backdrop-blur-sm rounded-2xl shadow-xl ring-1 ring-black/5 dark:bg-slate-900/80 dark:supports-[backdrop-filter]:bg-slate-900/60 dark:ring-slate-700 dark:text-slate-100 dark:shadow-none",children:[c.jsxs("div",{className:"px-6 sm:px-8 pt-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Step ",r," of ",b]}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-1 dark:text-slate-100",children:"Organization Setup"})]})}),c.jsx("div",{className:"mt-4 h-2 w-full bg-gray-100 rounded-full overflow-hidden dark:bg-slate-800",children:c.jsx("div",{className:"h-full brand-accent transition-all",style:{width:`${w}%`}})})]}),c.jsxs("div",{className:"px-6 sm:px-8 py-6",children:[r===1&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Organization Name"}),c.jsx("input",{className:`w-full border ${o.name?"border-red-500":"border-gray-300"} rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:focus:ring-slate-700`,value:u.name,onChange:M=>d({...u,name:M.target.value})}),o.name&&c.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-rose-300",children:o.name})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Sector"}),c.jsx("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:u.sector,onChange:M=>d({...u,sector:M.target.value}),children:kV.map(M=>c.jsx("option",{value:M,children:M},M))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Country"}),c.jsx("input",{className:`w-full border ${o.country?"border-red-500":"border-gray-300"} rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:focus:ring-slate-700`,value:u.country,onChange:M=>d({...u,country:M.target.value})}),o.country&&c.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-rose-300",children:o.country})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Currency"}),c.jsxs("select",{className:`w-full border ${o.currency?"border-red-500":"border-gray-300"} rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:focus:ring-slate-700`,value:u.currency,onChange:M=>d({...u,currency:M.target.value}),children:[c.jsx("option",{value:"USD",children:"USD ($)"}),c.jsx("option",{value:"EUR",children:"EUR ()"}),c.jsx("option",{value:"GBP",children:"GBP ()"}),c.jsx("option",{value:"KES",children:"KES (KSh)"}),c.jsx("option",{value:"NGN",children:"NGN ()"})]}),o.currency&&c.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-rose-300",children:o.currency})]})]}),r===2&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Funding Sources"}),c.jsx(st,{size:"sm",onClick:k,children:"Add Funder"})]}),o.funders&&c.jsx("p",{className:"mb-3 text-sm text-red-600 dark:text-rose-300",children:o.funders}),c.jsx("div",{className:"space-y-4",children:h.map((M,V)=>c.jsxs("div",{className:"rounded-lg border border-gray-200 p-4 bg-white dark:border-slate-700 dark:bg-slate-900/70 dark:text-slate-100",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-3",children:[c.jsxs("div",{className:"sm:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Funder/Donor Name"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:M.name,onChange:B=>f(D=>D.map(U=>U.id===M.id?{...U,name:B.target.value}:U))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Funding Type"}),c.jsx("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:M.type,onChange:B=>f(D=>D.map(U=>U.id===M.id?{...U,type:B.target.value}:U)),children:TE.map(B=>c.jsx("option",{value:B,children:B},B))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Initial Balance (optional)"}),c.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:M.initialBalance,onChange:B=>f(D=>D.map(U=>U.id===M.id?{...U,initialBalance:B.target.value}:U))})]}),c.jsx("div",{className:"flex items-end justify-end",children:h.length>1&&c.jsx(st,{variant:"outline",size:"sm",onClick:()=>S(M.id),children:"Remove"})})]}),V===h.length-1&&c.jsx("div",{className:"mt-3",children:c.jsx("button",{onClick:k,className:"text-sm text-sky-700 hover:underline",children:"+ Add another funder"})})]},M.id))})]}),r===3&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Projects Setup (optional)"}),c.jsxs("div",{className:"space-x-2",children:[c.jsx(st,{onClick:P,disabled:h.filter(M=>M.name.trim()).length===0,size:"sm",children:"Add Project"}),c.jsx(st,{variant:"secondary",size:"sm",onClick:I,children:"Skip for now"})]})]}),h.filter(M=>M.name.trim()).length===0&&c.jsx("p",{className:"text-sm text-gray-600 mb-3 dark:text-slate-400",children:"Add at least one funder in the previous step to tie projects."}),c.jsxs("div",{className:"space-y-4",children:[m.map(M=>c.jsx("div",{className:"rounded-lg border border-gray-200 p-4 bg-white dark:border-slate-700 dark:bg-slate-900/70 dark:text-slate-100",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-6 gap-3",children:[c.jsxs("div",{className:"sm:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project Name"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:M.name,onChange:V=>p(B=>B.map(D=>D.id===M.id?{...D,name:V.target.value}:D))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Funder"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:M.funderId,onChange:V=>p(B=>B.map(D=>D.id===M.id?{...D,funderId:V.target.value}:D)),children:[c.jsx("option",{value:"",children:"Select funder"}),h.filter(V=>V.name.trim()).map(V=>c.jsx("option",{value:V.id,children:V.name},V.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Budget"}),c.jsx("input",{type:"number",min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:M.budget,onChange:V=>p(B=>B.map(D=>D.id===M.id?{...D,budget:V.target.value}:D))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Start"}),c.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:M.startDate,onChange:V=>p(B=>B.map(D=>D.id===M.id?{...D,startDate:V.target.value}:D))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"End"}),c.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:M.endDate,onChange:V=>p(B=>B.map(D=>D.id===M.id?{...D,endDate:V.target.value}:D))})]}),c.jsx("div",{className:"flex items-end justify-end",children:c.jsx(st,{variant:"outline",size:"sm",onClick:()=>O(M.id),children:"Remove"})})]})},M.id)),m.length===0&&c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"No projects added yet."})]})]}),r===4&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Internal Operations (optional)"}),c.jsxs("div",{className:"space-x-2",children:[c.jsx(st,{size:"sm",onClick:N,children:"Add Category"}),c.jsx(st,{variant:"secondary",size:"sm",onClick:I,children:"Skip for now"})]})]}),c.jsxs("div",{className:"space-y-3",children:[y.map((M,V)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:M,onChange:B=>v(D=>D.map((U,H)=>H===V?B.target.value:U))}),c.jsx(st,{variant:"outline",size:"sm",onClick:()=>A(V),children:"Remove"})]},V)),y.length===0&&c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"No categories added yet."})]})]}),r===5&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Review & Finish"}),c.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-slate-700 dark:bg-slate-900/70",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-0",children:[c.jsxs("div",{className:"p-4 border-b sm:border-b-0 sm:border-r border-gray-200 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Organization"}),c.jsxs("div",{className:"mt-2 text-gray-900 dark:text-slate-100",children:[c.jsx("div",{className:"font-medium",children:u.name}),c.jsxs("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:[u.sector,"  ",u.country]}),c.jsxs("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:["Currency: ",u.currency]})]})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Internal Operations"}),c.jsx("div",{className:"mt-2 text-gray-900 text-sm dark:text-slate-100",children:y.length?y.join(", "):"None"})]})]}),c.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm text-gray-500 mb-2 dark:text-slate-400",children:"Funders"}),h.filter(M=>M.name.trim()).length?c.jsx("div",{className:"space-y-1",children:h.filter(M=>M.name.trim()).map(M=>c.jsxs("div",{className:"text-sm text-gray-900 dark:text-slate-100",children:[M.name,"  ",M.type," ",M.initialBalance?` ${he(Number(M.initialBalance||0))}`:""]},M.id))}):c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"None"})]}),c.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm text-gray-500 mb-2 dark:text-slate-400",children:"Projects"}),m.filter(M=>M.name.trim()).length?c.jsx("div",{className:"space-y-1",children:m.filter(M=>M.name.trim()).map(M=>{var V;return c.jsxs("div",{className:"text-sm text-gray-900 dark:text-slate-100",children:[M.name,"  ",((V=h.find(B=>B.id===M.funderId))==null?void 0:V.name)||"No funder"," ",M.budget?` ${he(Number(M.budget||0))}`:""]},M.id)})}):c.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"None"})]})]})]})]}),c.jsxs("div",{className:"px-6 sm:px-8 pb-6 flex items-center justify-between",children:[c.jsx("div",{children:r>1&&c.jsx(st,{variant:"outline",onClick:E,children:"Back"})}),c.jsxs("div",{className:"space-x-2",children:[r<5&&c.jsxs(c.Fragment,{children:[r===3&&c.jsx(st,{variant:"secondary",onClick:I,children:"Skip for now"}),r===4&&c.jsx(st,{variant:"secondary",onClick:I,children:"Skip for now"}),c.jsx(st,{onClick:j,children:"Next"})]}),r===5&&c.jsx(st,{variant:"success",onClick:C,disabled:s,children:s?"Saving...":"Confirm & Go to Dashboard"})]})]})]})]})}async function K5e(t){if(!t)throw new Error("No file provided");const e=import.meta.env.REACT_APP_CLOUDINARY_CLOUD_NAME,n=import.meta.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET;if(!e||!n)throw new Error("Cloudinary not configured. Set REACT_APP_CLOUDINARY_CLOUD_NAME and REACT_APP_CLOUDINARY_UPLOAD_PRESET");const r=`https://api.cloudinary.com/v1_1/${e}/upload`,i=new FormData;i.append("file",t),i.append("upload_preset",n);const s=await fetch(r,{method:"POST",body:i});if(!s.ok){const o=await s.text();throw new Error(`Cloudinary upload failed: ${s.status} ${o}`)}const a=await s.json();return{url:a.secure_url,public_id:a.public_id,raw:a}}async function rg(t=[]){const e=Array.from(t||[]),n=[];for(const r of e)if(r&&typeof r=="object"&&"size"in r){const i=await K5e(r);n.push(i)}return n}const G5e=(t,e)=>{if(!Array.isArray(t))return[];try{return t.map(e)}catch(n){return console.error("Error mapping array:",n),[]}},AV=(t,e)=>{if(!Array.isArray(t))return[];try{return t.filter(e)}catch(n){return console.error("Error filtering array:",n),[]}};function Y5e(){const[t,e]=x.useState({name:"",contact:"",notes:""}),[n,r]=x.useState(!0),[i,s]=x.useState(null),[a,o]=x.useState(!1),{addFunder:l,addIncome:u,byFunder:d=[],projects:h=[],wallets:f=[],funders:m=[],removeItem:p}=vt(),{currency:y="USD",role:v="user"}=lt();x.useEffect(()=>{try{r(!1),s(null)}catch{s("Failed to load funders. Please try again later."),r(!1)}},[m]);const b=Array.isArray(m)?m:[],w=Array.isArray(d)?d:[],_=Array.isArray(h)?h:[],[j,E]=x.useState(!1),[I,k]=x.useState(null),[S,P]=x.useState({projectId:"",amount:"",date:"",description:""}),[O,N]=x.useState([]),[A,C]=x.useState(!1),F=x.useMemo(()=>{try{return G5e(b,M=>{if(!M||typeof M!="object")return null;const V=AV(_,D=>(D==null?void 0:D.funderId)===(M==null?void 0:M.id)),B=AV(w,D=>{var U;return((U=D==null?void 0:D.funder)==null?void 0:U.id)===(M==null?void 0:M.id)}).reduce((D,U)=>({allocation:(D.allocation||0)+(U.allocation||0),income:(D.income||0)+(U.income||0),expenses:(D.expenses||0)+(U.expenses||0),available:(D.available||0)+(U.available||0)}),{allocation:0,income:0,expenses:0,available:0});return{id:M.id,name:M.name||"",projects:V.length,allocation:B.allocation||0,income:B.income||0,expenses:B.expenses||0,available:B.available||0}}).filter(Boolean)}catch(M){return console.error("Error calculating rows:",M),[]}},[b,w,_]);return n?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i?c.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg",children:[c.jsx("h2",{className:"font-bold",children:"Error Loading Funders"}),c.jsx("p",{children:i}),c.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-red-100 hover:bg-red-200 rounded",children:"Retry"})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-slate-100",children:"Funders"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Manage funder profiles, their wallets, and contributions."})]}),c.jsx(be,{to:"/app/funders/add",className:"px-4 py-2 rounded-md bg-sky-700 hover:bg-sky-800 text-white font-medium shadow-sm",children:"Add Funder"})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Funder summary"})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Name"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Projects"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Allocation"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Income"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Expenses"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Available"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[F.map(M=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 dark:text-slate-100",children:M.name}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:M.projects}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-900 dark:text-slate-100",children:he(M.allocation,y)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700 dark:text-slate-300",children:he(M.income,y)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-red-600",children:he(M.expenses,y)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium dark:text-slate-100",children:he(M.available,y)}),c.jsx("td",{className:"px-3 py-2 text-sm",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(be,{to:`/app/reports/funder/${M.id}`,className:"px-2 py-1 rounded-md bg-sky-700 text-white text-sm",children:"Report"}),c.jsx(be,{to:`/app/funders/portal/${M.id}`,className:"px-2 py-1 rounded-md bg-indigo-600 text-white text-sm",children:"View Details"}),v==="admin"?c.jsx("button",{onClick:()=>{window.confirm("Delete this funder and all associated data? This cannot be undone.")&&p("funders",M.id)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Delete"}):c.jsx("span",{className:"text-sm text-gray-400",children:""})]})})]},M.id)),F.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:7,children:"No funders yet."})})]})]})})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Wallets"})}),c.jsx(Ke,{children:c.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.map(M=>c.jsxs("div",{className:"rounded-xl ring-1 ring-gray-100 p-4 flex items-center justify-between bg-white dark:bg-slate-900/70 dark:ring-slate-800 dark:text-slate-100",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-slate-100",children:M.name}),c.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-300",children:["Type: ",M.type]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:he(M.balance||0,y)}),c.jsx("div",{className:"mt-2 flex items-center gap-2",children:c.jsx("button",{onClick:()=>{k(M),P({projectId:"",amount:"",date:"",description:""}),N([]),E(!0)},className:"px-3 py-1 rounded-md bg-sky-700 hover:bg-sky-800 text-white text-sm shadow-sm",children:"Add income"})})]})]},M.id)),f.length===0&&c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No wallets yet."})]})})]}),j&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>E(!1)}),c.jsxs("div",{className:"relative w-full max-w-md bg-white/95 backdrop-blur rounded-2xl border border-slate-200 shadow-xl p-6 dark:bg-slate-900/90 dark:border-slate-700 dark:text-slate-100",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:["Add income to ",I==null?void 0:I.name]}),c.jsxs("form",{onSubmit:async M=>{if(M.preventDefault(),!S.amount)return alert("Amount is required");C(!0);try{let V=[];O&&O.length&&(V=(await rg(O)).map(U=>({url:U.url,id:U.public_id})));const B={walletId:I==null?void 0:I.id,projectId:S.projectId||null,amount:Number(S.amount),date:S.date||new Date().toISOString(),description:S.description||"",attachments:V};u(B),E(!1),alert("Income added")}catch(V){console.error(V),alert(V.message||"Failed to upload attachments")}finally{C(!1)}},className:"mt-4 space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project (optional)"}),c.jsxs("select",{value:S.projectId,onChange:M=>P({...S,projectId:M.target.value}),className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[c.jsx("option",{value:"",children:"-- None --"}),h.filter(M=>M.funderId===(I==null?void 0:I.id)||M.type==="igp").map(M=>c.jsx("option",{value:M.id,children:M.name},M.id))]})]}),c.jsx("div",{children:c.jsx(Ze,{id:"i-amount",name:"i-amount",type:"number",label:"Amount",value:S.amount,onChange:M=>P({...S,amount:M.target.value}),required:!0})}),c.jsx("div",{children:c.jsx(Ze,{id:"i-date",name:"i-date",type:"date",label:"Date",value:S.date,onChange:M=>P({...S,date:M.target.value})})}),c.jsx("div",{children:c.jsx(Ze,{id:"i-desc",name:"i-desc",label:"Description",value:S.description,onChange:M=>P({...S,description:M.target.value})})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),c.jsx("input",{type:"file",multiple:!0,onChange:M=>N(M.target.files),className:"w-full"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-100",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:A,className:"px-3 py-2 rounded-md bg-sky-700 hover:bg-sky-800 text-white shadow-sm",children:A?"Saving...":"Add income"})]})]})]})]})]})}function X5e(){const{projects:t=[],addIncome:e,incomes:n=[],wallets:r=[],removeItem:i}=vt(),{currency:s,role:a}=lt(),[o,l]=x.useState({projectId:"",amount:"",date:"",description:""}),[u,d]=x.useState({walletId:"ORG",amount:"",date:"",description:""}),[h,f]=x.useState([]),[m,p]=x.useState([]),[y,v]=x.useState(!1),[b,w]=x.useState(!1),_=a==="admin"||a==="financial_officer",j=async k=>{if(k.preventDefault(),!(!o.projectId||!o.amount)){v(!0);try{let S=[];h&&h.length&&(S=(await rg(h)).map(N=>({url:N.url,id:N.public_id})));const P=e({projectId:o.projectId,amount:Number(o.amount),date:o.date||new Date().toISOString(),description:o.description,attachments:S});(P==null?void 0:P.success)===!1?alert((P==null?void 0:P.error)||"You do not have permission to add income."):(l({projectId:"",amount:"",date:"",description:""}),f([]))}catch(S){console.error("Upload error",S),alert(S.message||"Upload failed")}finally{setTimeout(()=>v(!1),200)}}},E=async k=>{if(k.preventDefault(),!!u.amount){w(!0);try{let S=[];m&&m.length&&(S=(await rg(m)).map(N=>({url:N.url,id:N.public_id})));const P=e({walletId:u.walletId==="ORG"?null:u.walletId,amount:Number(u.amount),date:u.date||new Date().toISOString(),description:u.description,attachments:S});(P==null?void 0:P.success)===!1?alert((P==null?void 0:P.error)||"You do not have permission to add income."):(d({walletId:"ORG",amount:"",date:"",description:""}),p([]))}catch(S){console.error("Upload error",S),alert(S.message||"Upload failed")}finally{setTimeout(()=>w(!1),200)}}},I=x.useMemo(()=>Array.isArray(n)?n.slice(0,50):[],[n]);return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Income"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Record new income for projects or organization wallets and view recent activity."})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Record project income"})}),c.jsx(Ke,{children:_?c.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project"}),c.jsxs("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:o.projectId,onChange:k=>l({...o,projectId:k.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select project"}),(t||[]).map(k=>c.jsx("option",{value:k.id,children:k.name},k.id))]})]}),c.jsx("div",{children:c.jsx(Ze,{id:"pi-amount",name:"pi-amount",type:"number",min:"0",step:"0.01",label:"Amount",value:o.amount,onChange:k=>l({...o,amount:k.target.value}),required:!0})}),c.jsx("div",{children:c.jsx(Ze,{id:"pi-date",name:"pi-date",type:"date",label:"Date",value:o.date,onChange:k=>l({...o,date:k.target.value})})}),c.jsx("div",{className:"md:col-span-2",children:c.jsx(Ze,{id:"pi-desc",name:"pi-desc",label:"Description",value:o.description,onChange:k=>l({...o,description:k.target.value})})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),c.jsx("input",{type:"file",multiple:!0,onChange:k=>f(k.target.files),className:"w-full"})]}),c.jsx("div",{className:"md:col-span-2",children:c.jsx("button",{type:"submit",disabled:y,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:y?"Saving...":"Add Income"})})]}):c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"You dont have permission to add income. Contact an admin."})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Record wallet income"})}),c.jsx(Ke,{children:_?c.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Wallet"}),c.jsxs("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:u.walletId,onChange:k=>d({...u,walletId:k.target.value}),children:[c.jsx("option",{value:"ORG",children:"Organization"}),(r||[]).map(k=>k.id!=="ORG"?c.jsx("option",{value:k.id,children:k.name},k.id):null)]})]}),c.jsx("div",{children:c.jsx(Ze,{id:"oi-amount",name:"oi-amount",type:"number",min:"0",step:"0.01",label:"Amount",value:u.amount,onChange:k=>d({...u,amount:k.target.value}),required:!0})}),c.jsx("div",{children:c.jsx(Ze,{id:"oi-date",name:"oi-date",type:"date",label:"Date",value:u.date,onChange:k=>d({...u,date:k.target.value})})}),c.jsx("div",{className:"md:col-span-2",children:c.jsx(Ze,{id:"oi-desc",name:"oi-desc",label:"Description",value:u.description,onChange:k=>d({...u,description:k.target.value})})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),c.jsx("input",{type:"file",multiple:!0,onChange:k=>p(k.target.files),className:"w-full"})]}),c.jsx("div",{className:"md:col-span-2",children:c.jsx("button",{type:"submit",disabled:b,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:b?"Saving...":"Add Income"})})]}):c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"You dont have permission to add income. Contact an admin."})})]})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Recent incomes"})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project / Wallet"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Date"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Amount"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Attachments"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Description"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[I.map(k=>{var S,P;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:k.projectId?((S=t.find(O=>O.id===k.projectId))==null?void 0:S.name)||"-":k.walletId&&((P=r.find(O=>O.id===k.walletId))==null?void 0:P.name)||"Organization"}),c.jsx("td",{className:"px-3 py-2 text-sm",children:new Date(k.date).toLocaleDateString()}),c.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium",children:he(k.amount,s)}),c.jsx("td",{className:"px-3 py-2 text-sm",children:Array.isArray(k.attachments)&&k.attachments.length?c.jsx("div",{className:"flex items-center gap-2",children:k.attachments.map((O,N)=>c.jsx("a",{href:O.url,target:"_blank",rel:"noreferrer",className:"text-sm text-sky-600 underline",children:"View"},N))}):c.jsx("div",{className:"text-sm text-gray-400 dark:text-slate-500",children:""})}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:k.description}),c.jsx("td",{className:"px-3 py-2 text-sm",children:a==="admin"?c.jsx("button",{onClick:()=>{window.confirm("Delete this income? This cannot be undone.")&&i("incomes",k.id)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Delete"}):c.jsx("span",{className:"text-sm text-gray-400",children:""})})]},k.id)}),I.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:6,children:"No incomes yet."})})]})]})})})]})]})}function Q5e(){const{funders:t,addProject:e,byProject:n,removeItem:r}=vt(),{role:i}=lt(),[s,a]=x.useState({name:"",type:"igp",funderId:"",allocation:"",startDate:"",endDate:"",notes:""}),[o,l]=x.useState(!1),u=h=>{if(h.preventDefault(),!!s.name.trim()){if(s.type==="donor"&&!s.funderId)return alert("Please select a funder for funder-funded project");l(!0),e({...s,allocation:Number(s.allocation||0)}),a({name:"",type:"igp",funderId:"",allocation:"",startDate:"",endDate:"",notes:""}),setTimeout(()=>l(!1),200)}},d=x.useMemo(()=>n,[n]);return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Projects"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Create IGP or funder-funded projects and track their budgets."})]})}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Create project"})}),c.jsx(Ke,{children:c.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsx(Ze,{id:"name",name:"name",label:"Name",value:s.name,onChange:h=>a({...s,name:h.target.value}),required:!0})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project type"}),c.jsxs("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:s.type,onChange:h=>a({...s,type:h.target.value}),children:[c.jsx("option",{value:"igp",children:"IGP (Org income project)"}),c.jsx("option",{value:"donor",children:"Funder-funded project"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Funder"}),c.jsxs("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:s.funderId,onChange:h=>a({...s,funderId:h.target.value}),disabled:s.type==="igp",children:[c.jsx("option",{value:"",children:"Select funder"}),t.map(h=>c.jsx("option",{value:h.id,children:h.name},h.id))]})]}),c.jsx("div",{children:c.jsx(Ze,{id:"allocation",name:"allocation",label:"Allocation",type:"number",min:"0",value:s.allocation,onChange:h=>a({...s,allocation:h.target.value})})}),c.jsx("div",{children:c.jsx(Ze,{id:"startDate",name:"startDate",type:"date",label:"Start date",value:s.startDate,onChange:h=>a({...s,startDate:h.target.value})})}),c.jsx("div",{children:c.jsx(Ze,{id:"endDate",name:"endDate",type:"date",label:"End date",value:s.endDate,onChange:h=>a({...s,endDate:h.target.value})})}),c.jsx("div",{className:"md:col-span-6",children:c.jsx(Ze,{id:"notes",name:"notes",label:"Notes",value:s.notes,onChange:h=>a({...s,notes:h.target.value})})}),c.jsx("div",{className:"md:col-span-6",children:c.jsx("button",{type:"submit",disabled:o,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:o?"Saving...":"Create Project"})})]})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Projects overview"})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Funder"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Budget"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Income"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Expenses"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Available"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[d.map(({project:h,income:f,expenses:m,available:p})=>{var b;const y=Number(h.allocation||0),v=m>y&&y>0;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 dark:text-slate-100",children:h.name}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:((b=t.find(w=>w.id===h.funderId))==null?void 0:b.name)||"-"}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-900 dark:text-slate-100",children:he(y)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700 dark:text-slate-300",children:he(f)}),c.jsx("td",{className:`px-3 py-2 text-sm text-right ${v?"text-rose-700 font-semibold":"text-red-600"}`,children:he(m)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium dark:text-slate-100",children:he(p)}),c.jsx("td",{className:"px-3 py-2 text-sm",children:i==="admin"?c.jsx("button",{onClick:()=>{window.confirm("Delete this project? This action will remove the project and its references.")&&r("projects",h.id)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Delete"}):c.jsx("span",{className:"text-sm text-gray-400",children:""})})]},h.id)}),d.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:7,children:"No projects yet."})})]})]})})})]})]})}const jV=["Salaries","Operations","Transport","Utilities","Training","Supplies","Other"];function Z5e(){const{projects:t,addExpense:e,expenses:n,approveExpense:r,rejectExpense:i,wallets:s,removeItem:a}=vt(),o=t||[],l=s||[],u=Array.isArray(n)?n:[],{currency:d,role:h}=lt(),[f,m]=x.useState({projectId:"",category:"Operations",amount:"",date:"",description:""}),[p,y]=x.useState({walletId:"ORG",category:"Operations",amount:"",date:"",description:""}),[v,b]=x.useState([]),[w,_]=x.useState([]),[j,E]=x.useState(!1),[I,k]=x.useState(!1),S=async N=>{if(N.preventDefault(),!(!f.projectId||!f.amount)){E(!0);try{let A=[];v&&v.length&&(A=(await rg(v)).map(M=>({url:M.url,id:M.public_id})));const C=e({scope:"project",...f,amount:Number(f.amount||0),attachments:A});C&&C.success===!1?alert(C.error||"Failed to add expense"):(m({projectId:"",category:"Operations",amount:"",date:"",description:""}),b([]))}catch(A){console.error("Upload error",A),alert(A.message||"Upload failed")}finally{setTimeout(()=>E(!1),200)}}},P=async N=>{if(N.preventDefault(),!!p.amount){k(!0);try{let A=[];w&&w.length&&(A=(await rg(w)).map(M=>({url:M.url,id:M.public_id})));const C=e({scope:"wallet",walletId:p.walletId==="ORG"?null:p.walletId,projectId:null,category:p.category,amount:Number(p.amount||0),date:p.date||new Date().toISOString(),description:p.description,attachments:A});C&&C.success===!1?alert(C.error||"Failed to add expense"):(y({walletId:"ORG",category:"Operations",amount:"",date:"",description:""}),_([]))}catch(A){console.error("Upload error",A),alert(A.message||"Upload failed")}finally{setTimeout(()=>k(!1),200)}}},O=x.useMemo(()=>u.slice(0,50),[u]);return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Expenses"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Log new expenses for projects or the organization and manage approvals."})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Log project expense"})}),c.jsx(Ke,{children:c.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project"}),c.jsxs("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:f.projectId,onChange:N=>m({...f,projectId:N.target.value}),required:!0,children:[c.jsx("option",{value:"",children:"Select project"}),o.map(N=>c.jsx("option",{value:N.id,children:N.name},N.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Category"}),c.jsx("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:f.category,onChange:N=>m({...f,category:N.target.value}),children:jV.map(N=>c.jsx("option",{value:N,children:N},N))})]}),c.jsx("div",{children:c.jsx(Ze,{id:"p-amount",name:"p-amount",type:"number",min:"0",step:"0.01",label:"Amount",value:f.amount,onChange:N=>m({...f,amount:N.target.value}),required:!0})}),c.jsx("div",{children:c.jsx(Ze,{id:"p-date",name:"p-date",type:"date",label:"Date",value:f.date,onChange:N=>m({...f,date:N.target.value})})}),c.jsx("div",{className:"md:col-span-2",children:c.jsx(Ze,{id:"p-desc",name:"p-desc",label:"Description",value:f.description,onChange:N=>m({...f,description:N.target.value})})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),c.jsx("input",{type:"file",multiple:!0,onChange:N=>b(N.target.files),className:"w-full"})]}),c.jsx("div",{className:"md:col-span-2",children:c.jsx("button",{type:"submit",disabled:j,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:j?"Saving...":"Add Expense"})})]})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Record wallet expense"})}),c.jsx(Ke,{children:c.jsxs("form",{onSubmit:P,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Wallet"}),c.jsxs("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:p.walletId,onChange:N=>y({...p,walletId:N.target.value}),children:[c.jsx("option",{value:"ORG",children:"Organization"}),l.map(N=>N.id!=="ORG"?c.jsx("option",{value:N.id,children:N.name},N.id):null)]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Category"}),c.jsx("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:p.category,onChange:N=>y({...p,category:N.target.value}),children:jV.map(N=>c.jsx("option",{value:N,children:N},N))})]}),c.jsx("div",{children:c.jsx(Ze,{id:"w-amount",name:"w-amount",type:"number",min:"0",step:"0.01",label:"Amount",value:p.amount,onChange:N=>y({...p,amount:N.target.value}),required:!0})}),c.jsx("div",{children:c.jsx(Ze,{id:"w-date",name:"w-date",type:"date",label:"Date",value:p.date,onChange:N=>y({...p,date:N.target.value})})}),c.jsx("div",{className:"md:col-span-2",children:c.jsx(Ze,{id:"w-desc",name:"w-desc",label:"Description",value:p.description,onChange:N=>y({...p,description:N.target.value})})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),c.jsx("input",{type:"file",multiple:!0,onChange:N=>_(N.target.files),className:"w-full"})]}),c.jsx("div",{className:"md:col-span-2",children:c.jsx("button",{type:"submit",disabled:I,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:I?"Saving...":"Add Expense"})})]})})]})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Recent expenses"})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Scope"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Wallet"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Category"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Amount"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Date"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Status"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Attachments"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Description"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[O.map(N=>{var A,C;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm",children:N.projectId?"Project":N.walletId&&N.walletId!=="ORG"?"Funder":"Organization"}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:N.walletId?((A=l.find(F=>F.id===N.walletId))==null?void 0:A.name)||N.walletId:N.projectId?(()=>{var V;const F=o.find(B=>B.id===N.projectId),M=(F==null?void 0:F.funderId)||"ORG";return((V=l.find(B=>B.id===M))==null?void 0:V.name)||(M==="ORG"?"Organization":M)})():"Organization"}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:N.projectId&&((C=o.find(F=>F.id===N.projectId))==null?void 0:C.name)||"-"}),c.jsx("td",{className:"px-3 py-2 text-sm",children:N.category}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-red-600",children:he(N.amount,d)}),c.jsx("td",{className:"px-3 py-2 text-sm",children:new Date(N.date).toLocaleDateString()}),c.jsx("td",{className:"px-3 py-2 text-sm",children:N.status}),c.jsxs("td",{className:"px-3 py-2 text-sm",children:[N.status==="pending"?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>r(N.id),className:"px-2 py-1 rounded-md bg-green-600 text-white text-sm",children:"Approve"}),c.jsx("button",{onClick:()=>{const F=window.prompt("Rejection reason (optional)");i(N.id,F)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Reject"})]}):c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-300",children:N.status}),h==="admin"&&c.jsx("div",{className:"mt-2",children:c.jsx("button",{onClick:()=>{window.confirm("Delete this expense? This cannot be undone.")&&a("expenses",N.id)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Delete"})})]}),c.jsx("td",{className:"px-3 py-2 text-sm",children:Array.isArray(N.attachments)&&N.attachments.length?c.jsx("div",{className:"flex items-center gap-2",children:N.attachments.map((F,M)=>c.jsx("a",{href:F.url,target:"_blank",rel:"noreferrer",className:"text-sm text-sky-600 underline",children:"View"},M))}):c.jsx("div",{className:"text-sm text-gray-400 dark:text-slate-500",children:""})}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:N.description})]},N.id)}),O.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:10,children:"No expenses yet."})})]})]})})})]})]})}const TV=()=>{const[t,e]=x.useState("Testing..."),[n,r]=x.useState(null),[i,s]=x.useState(""),[a,o]=x.useState(!0),[l,u]=x.useState(null);return x.useEffect(()=>{(async()=>{try{const h=mt(Ye,"_test","connection"),f=await En(h),m=$o.currentUser;s(f.exists()?f.data():"No test data found"),r(m),e(" Connected to Firebase")}catch(h){console.error("Firebase test failed:",h),e(" Connection failed"),u(h.message||String(h))}finally{o(!1)}})()},[]),a?c.jsx("div",{children:"Testing Firebase connection..."}):c.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px",maxWidth:"600px",margin:"20px auto",fontFamily:"Arial, sans-serif"},children:[c.jsx("h2",{children:"Firebase Connection Test"}),c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("strong",{children:"Status:"})," ",t]}),c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("strong",{children:"Firestore Test:"}),c.jsx("pre",{style:{background:"#f5f5f5",padding:"10px",borderRadius:"4px",overflowX:"auto"},children:JSON.stringify(i,null,2)})]}),c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("strong",{children:"Auth Status:"}),c.jsx("pre",{style:{background:"#f5f5f5",padding:"10px",borderRadius:"4px",overflowX:"auto"},children:n?`Logged in as: ${n.email||n.uid}`:"Not logged in"})]}),l&&c.jsxs("div",{style:{color:"red",padding:"10px",background:"#ffebee",borderRadius:"4px",marginTop:"10px"},children:[c.jsx("strong",{children:"Error:"})," ",l]}),c.jsxs("div",{style:{marginTop:"20px",fontSize:"0.9em",color:"#666"},children:[c.jsx("p",{children:"If you see a green checkmark () above, Firebase is connected successfully!"}),c.jsx("p",{children:"If you see a red X (), please check your console for detailed error messages."})]})]})};function J5e(){const{expenses:t,incomes:e,approveExpense:n,rejectExpense:r,approveIncome:i,rejectIncome:s,projects:a}=vt(),{currency:o,role:l}=lt(),u=x.useMemo(()=>t.filter(f=>f.status==="pending"),[t]),d=x.useMemo(()=>e.filter(f=>f.status==="pending"),[e]);return l==="admin"?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Approvals"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Review and approve or reject pending incomes and expenses."})]})}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Pending expenses"})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Expense"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Wallet"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Amount"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Attachments"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[u.map(f=>{var m;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:f.description||""}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:f.projectId&&((m=a.find(p=>p.id===f.projectId))==null?void 0:m.name)||"-"}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:f.walletId||"ORG"}),c.jsx("td",{className:"px-3 py-2 text-sm text-red-600",children:he(f.amount,o)}),c.jsx("td",{className:"px-3 py-2 text-sm",children:Array.isArray(f.attachments)&&f.attachments.length?f.attachments.map((p,y)=>c.jsx("a",{href:p.url,target:"_blank",rel:"noreferrer",className:"text-sky-600 underline mr-2",children:"View"},y)):c.jsx("span",{className:"text-sm text-gray-400 dark:text-slate-500",children:""})}),c.jsx("td",{className:"px-3 py-2 text-sm",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>n(f.id),className:"px-3 py-1 rounded-md bg-emerald-600 hover:bg-emerald-700 text-white text-sm shadow-sm",children:"Approve"}),c.jsx("button",{onClick:()=>{const p=window.prompt("Rejection reason (optional)");r(f.id,p)},className:"px-3 py-1 rounded-md bg-rose-600 hover:bg-rose-700 text-white text-sm shadow-sm",children:"Reject"})]})})]},f.id)}),u.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:6,children:"No pending expenses."})})]})]})})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Pending incomes"})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Income"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Wallet"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Amount"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Attachments"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[d.map(f=>{var m;return c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:f.description||""}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:f.projectId&&((m=a.find(p=>p.id===f.projectId))==null?void 0:m.name)||"-"}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:f.walletId||"ORG"}),c.jsx("td",{className:"px-3 py-2 text-sm text-emerald-700",children:he(f.amount,o)}),c.jsx("td",{className:"px-3 py-2 text-sm",children:Array.isArray(f.attachments)&&f.attachments.length?f.attachments.map((p,y)=>c.jsx("a",{href:p.url,target:"_blank",rel:"noreferrer",className:"text-sky-600 underline mr-2",children:"View"},y)):c.jsx("span",{className:"text-sm text-gray-400 dark:text-slate-500",children:""})}),c.jsx("td",{className:"px-3 py-2 text-sm",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>i(f.id),className:"px-3 py-1 rounded-md bg-emerald-600 hover:bg-emerald-700 text-white text-sm shadow-sm",children:"Approve"}),c.jsx("button",{onClick:()=>{const p=window.prompt("Rejection reason (optional)");s(f.id,p)},className:"px-3 py-1 rounded-md bg-rose-600 hover:bg-rose-700 text-white text-sm shadow-sm",children:"Reject"})]})})]},f.id)}),d.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:6,children:"No pending incomes."})})]})]})})})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Approvals"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Only organization admins can approve or reject items."})]})}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Access denied"})}),c.jsx(Ke,{children:c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Ask an admin to grant you access or to review pending items."})})]})]})}function e3e(){const{logs:t,removeItem:e,softRemoveLog:n,finalizeRemoveLog:r,restoreLog:i}=vt(),{activeOrg:s,role:a}=lt(),o=x.useMemo(()=>(t||[]).filter(p=>!p.deleted),[t]),[l,u]=x.useState({}),[d,h]=x.useState({open:!1,id:null,title:"",message:""}),[f,m]=x.useState([]);return x.useEffect(()=>{let p=!0;const y=(o||[]).filter(b=>!b.byEmail&&b.by&&!b.deleted).map(b=>b.by).filter(Boolean),v=Array.from(new Set(y)).filter(b=>!l[b]);return v.length===0?()=>{p=!1}:((async()=>{const b={};await Promise.all(v.map(async w=>{try{let _=null;if(s&&Array.isArray(s.memberships)){const j=s.memberships.find(E=>E.userId===w||E.userId===(w||""));j&&j.email&&(_=j.email)}if(_){b[w]=_;return}try{const j=mt(Ye,"users",w),E=await En(j);if(E.exists()){const I=E.data();b[w]=(I==null?void 0:I.email)||(I==null?void 0:I.name)||null;return}}catch{}b[w]=null}catch{b[w]=null}})),p&&u(w=>({...w,...b}))})(),()=>{p=!1})},[t,s]),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Audit Trail"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"System activity logs for transparency and traceability."})]})}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Recent actions"})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"When"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Who"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Action"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200",children:[o.map(p=>{const y=p.byEmail||l[p.by]||p.byName||p.by||"Unknown",v=p.byRole||p.role||"";return c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800",children:[c.jsx("td",{className:"px-3 py-3 text-sm text-gray-600 dark:text-slate-300 w-48",children:new Date(p.at).toLocaleString()}),c.jsx("td",{className:"px-3 py-3 text-sm text-gray-700 dark:text-slate-100",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium text-gray-900 dark:text-slate-100 truncate",title:y,children:y}),c.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:v||""})]})}),c.jsx("td",{className:"px-3 py-3 text-sm text-gray-900",children:(p.action||"").replace(/_/g," ")}),c.jsxs("td",{className:"px-3 py-3 text-sm text-gray-700",children:[c.jsx(aY,{children:c.jsxs("button",{onClick:()=>h({open:!0,id:p.id,title:"Delete audit log",message:"Remove this audit log? You can undo for 6 seconds."}),className:"px-2 py-1 rounded-md bg-white border border-gray-200 text-rose-600 text-sm hover:bg-rose-50 dark:bg-slate-800 dark:text-rose-400",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 inline-block mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18M8 6v12a2 2 0 002 2h4a2 2 0 002-2V6m-5 2v8"})}),"Delete"]})}),v!=="admin"&&c.jsx("span",{className:"text-sm text-gray-400",children:""})]})]},p.id)}),o.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500",colSpan:4,children:"No audit logs yet."})})]})]})})})]}),d.open&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>h({open:!1,id:null,title:"",message:""})}),c.jsxs("div",{className:"relative bg-white dark:bg-slate-900 rounded-xl shadow-lg max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:d.title}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-2",children:d.message}),c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx("button",{className:"px-3 py-2 rounded-md bg-white border border-gray-200 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>h({open:!1,id:null,title:"",message:""}),children:"Cancel"}),c.jsx("button",{className:"px-3 py-2 rounded-md bg-rose-600 text-sm text-white",onClick:()=>{try{n(d.id);const p=Number(import.meta.env.REACT_APP_UNDO_WINDOW_MS)||6e3,y=setTimeout(()=>{try{r(d.id)}catch(v){console.error(v)}m(v=>v.filter(b=>b.id!==d.id))},p);m(v=>[...v,{id:d.id,timer:y}])}catch(p){console.error("audit delete failed",p)}h({open:!1,id:null,title:"",message:""})},children:"Delete"})]})]})]}),f.length>0&&c.jsx("div",{className:"fixed right-4 bottom-4 z-50 space-y-2",children:f.map(p=>c.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-md px-3 py-2 shadow ring-1 ring-slate-200 dark:bg-slate-800 dark:ring-slate-700",children:[c.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-100",children:"Audit log removed"}),c.jsx("button",{onClick:()=>{clearTimeout(p.timer),i(p.id),m(y=>y.filter(v=>v.id!==p.id))},className:"text-sm text-sky-700 hover:underline",children:"Undo"})]},p.id))})]})}function t3e(t){if(!t.length)return"";const e=Object.keys(t[0]),n=i=>'"'+String(i??"").replace(/"/g,'""')+'"',r=t.map(i=>e.map(s=>n(i[s])).join(","));return[e.join(","),...r].join(`
`)}function NV(t,e){const n=t3e(e),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.setAttribute("download",t),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}function n3e(){const{totals:t,byFunder:e,byProject:n}=vt(),r=t||{totalIncome:0,totalExpenses:0,totalAvailable:0},i=Array.isArray(e)?e:[],s=Array.isArray(n)?n:[],a=x.useMemo(()=>i.map(l=>{var u;return{funder:((u=l.funder)==null?void 0:u.name)||"-",allocation:l.allocation||0,income:l.income||0,expenses:l.expenses||0,available:l.available||0}}),[i]),o=x.useMemo(()=>s.map(l=>{var u;return{project:((u=l.project)==null?void 0:u.name)||"-",income:l.income||0,expenses:l.expenses||0,available:l.available||0}}),[s]);return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Reports"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Key totals and downloadable summaries by funder and project."})]})}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsx(He,{children:c.jsxs(Ke,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total income"}),c.jsx("div",{className:"text-2xl font-semibold text-gray-700",children:he(r.totalIncome||0)})]})}),c.jsx(He,{children:c.jsxs(Ke,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total expenses"}),c.jsx("div",{className:"text-2xl font-semibold text-red-600",children:he(r.totalExpenses||0)})]})}),c.jsx(He,{children:c.jsxs(Ke,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Funds available"}),c.jsx("div",{className:"text-2xl font-semibold",children:he(r.totalAvailable||0)})]})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsx(dt,{children:"By funder"}),c.jsx("button",{onClick:()=>NV("by_funder.csv",a),className:"text-sm font-medium text-slate-700 hover:underline",children:"Export CSV"})]})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Funder"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Allocation"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Income"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Expenses"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Available"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.map(l=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm",children:l.funder}),c.jsx("td",{className:"px-3 py-2 text-sm text-right",children:he(l.allocation)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:he(l.income)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-red-600",children:he(l.expenses)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium",children:he(l.available)})]},l.funder)),a.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500",colSpan:5,children:"No data."})})]})]})})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsx(dt,{children:"By project"}),c.jsx("button",{onClick:()=>NV("by_project.csv",o),className:"text-sm font-medium text-slate-700 hover:underline",children:"Export CSV"})]})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Project"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Income"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Expenses"}),c.jsx("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Available"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200",children:[o.map(l=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm",children:l.project}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:he(l.income)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right text-red-600",children:he(l.expenses)}),c.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium",children:he(l.available)})]},l.project)),o.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500",colSpan:4,children:"No data."})})]})]})})})]})]})}function r3e(t,e){if(!e||!e.length)return;const n=Object.keys(e[0]),r=[n.join(",")].concat(e.map(o=>n.map(l=>JSON.stringify(o[l]??"")).join(","))).join(`
`),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),a=URL.createObjectURL(i);s.setAttribute("href",a),s.setAttribute("download",t),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}function i3e(){const{id:t}=xw(),{incomes:e,expenses:n,projects:r,funders:i}=vt(),{currency:s}=lt(),a=i.find(u=>u.id===t),o=x.useMemo(()=>{const u=(e||[]).filter(m=>{const p=r.find(v=>v.id===m.projectId);return(m.walletId||(p==null?void 0:p.funderId)||"ORG")===t}),d=(n||[]).filter(m=>{const p=r.find(v=>v.id===m.projectId);return(m.walletId||m.projectId&&(p==null?void 0:p.funderId)||"ORG")===t}),h=u.reduce((m,p)=>m+(p.amount||0),0),f=d.reduce((m,p)=>m+(p.amount||0),0);return{inc:u,exp:d,totalInc:h,totalExp:f,balance:h-f}},[t,e,n,r]),l=()=>{try{const u=`Funder report  ${(a==null?void 0:a.name)||t}`,d=new Date().toLocaleString(),h=`
        <h2 style="margin:0 0 8px;">${u}</h2>
        <div style="margin-bottom:12px;color:#6b7280;">Generated: ${d}</div>
        <table style="width:100%;border-collapse:collapse;margin-bottom:16px;">
          <tr>
            <td style="padding:8px;border:1px solid #e5e7eb;">Total income</td>
            <td style="padding:8px;border:1px solid #e5e7eb;">${o.totalInc} ${s}</td>
          </tr>
          <tr>
            <td style="padding:8px;border:1px solid #e5e7eb;">Total expenses</td>
            <td style="padding:8px;border:1px solid #e5e7eb;">${o.totalExp} ${s}</td>
          </tr>
          <tr>
            <td style="padding:8px;border:1px solid #e5e7eb;">Available</td>
            <td style="padding:8px;border:1px solid #e5e7eb;">${o.balance} ${s}</td>
          </tr>
        </table>
      `,f=o.inc.map(v=>`
        <tr>
          <td style="padding:8px;border:1px solid #e5e7eb">${v.date?new Date(v.date).toLocaleDateString():""}</td>
          <td style="padding:8px;border:1px solid #e5e7eb">${(v.description||"Income").replace(/</g,"&lt;")}</td>
          <td style="padding:8px;border:1px solid #e5e7eb;text-align:right">${v.amount} ${v.currency||s}</td>
        </tr>
      `).join(""),m=o.exp.map(v=>`
        <tr>
          <td style="padding:8px;border:1px solid #e5e7eb">${v.date?new Date(v.date).toLocaleDateString():""}</td>
          <td style="padding:8px;border:1px solid #e5e7eb">${(v.category||"").replace(/</g,"&lt;")}</td>
          <td style="padding:8px;border:1px solid #e5e7eb">${(v.description||"Expense").replace(/</g,"&lt;")}</td>
          <td style="padding:8px;border:1px solid #e5e7eb;text-align:right">${v.amount} ${v.currency||s}</td>
        </tr>
      `).join(""),p=`<!doctype html>
        <html>
        <head>
          <meta charset="utf-8" />
          <title>${u}</title>
          <style>
            body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#0f172a;padding:20px}
            h2{font-size:18px;margin:0 0 4px}
            table{width:100%;border-collapse:collapse}
            th,td{padding:8px;border:1px solid #e5e7eb}
            th{background:#f8fafc;text-align:left}
          </style>
        </head>
        <body>
          ${h}

          <h3 style="margin-top:8px;">Incomes</h3>
          <table>
            <thead>
              <tr><th style="padding:8px;border:1px solid #e5e7eb">Date</th><th style="padding:8px;border:1px solid #e5e7eb">Description</th><th style="padding:8px;border:1px solid #e5e7eb">Amount</th></tr>
            </thead>
            <tbody>
              ${f||'<tr><td colspan="3" style="padding:8px">No income transactions.</td></tr>'}
            </tbody>
          </table>

          <h3 style="margin-top:12px;">Expenses</h3>
          <table>
            <thead>
              <tr><th style="padding:8px;border:1px solid #e5e7eb">Date</th><th style="padding:8px;border:1px solid #e5e7eb">Category</th><th style="padding:8px;border:1px solid #e5e7eb">Description</th><th style="padding:8px;border:1px solid #e5e7eb">Amount</th></tr>
            </thead>
            <tbody>
              ${m||'<tr><td colspan="4" style="padding:8px">No expense transactions.</td></tr>'}
            </tbody>
          </table>

        </body>
        </html>`,y=window.open("","_blank");if(!y)return alert("Unable to open print window  please allow popups.");y.document.write(p),y.document.close(),setTimeout(()=>{try{y.focus(),y.print()}catch(v){console.error(v)}},500)}catch(u){console.error("Export PDF failed",u),alert("Failed to generate PDF: "+((u==null?void 0:u.message)||u))}};return t?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-slate-100",children:["Funder report  ",(a==null?void 0:a.name)||t]}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Summary of posted transactions for this funder."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(be,{to:"/app/funders",className:"px-3 py-2 rounded-md bg-white ring-1 ring-gray-200 dark:bg-slate-800 dark:text-slate-100",children:"Back"}),c.jsx("button",{onClick:()=>r3e(`funder-report-${t}.csv`,[{metric:"Total income",value:o.totalInc,currency:s},{metric:"Total expenses",value:o.totalExp,currency:s},{metric:"Balance",value:o.balance,currency:s}]),className:"px-3 py-2 rounded-md bg-sky-700 text-white",children:"Download summary CSV"}),c.jsx("button",{onClick:l,className:"px-3 py-2 rounded-md bg-gray-800 text-white",children:"Export PDF"})]})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Summary"})}),c.jsx(Ke,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"rounded-xl ring-1 ring-gray-100 p-4 bg-white dark:bg-slate-900/70",children:[c.jsx("div",{className:"text-sm text-slate-500",children:"Total income"}),c.jsxs("div",{className:"text-xl font-semibold",children:[o.totalInc," ",s]})]}),c.jsxs("div",{className:"rounded-xl ring-1 ring-gray-100 p-4 bg-white dark:bg-slate-900/70",children:[c.jsx("div",{className:"text-sm text-slate-500",children:"Total expenses"}),c.jsxs("div",{className:"text-xl font-semibold text-rose-600",children:[o.totalExp," ",s]})]}),c.jsxs("div",{className:"rounded-xl ring-1 ring-gray-100 p-4 bg-white dark:bg-slate-900/70",children:[c.jsx("div",{className:"text-sm text-slate-500",children:"Available"}),c.jsxs("div",{className:"text-xl font-semibold",children:[o.balance," ",s]})]})]})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Transactions"})}),c.jsx(Ke,{className:"pt-0",children:c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Incomes"}),c.jsxs("div",{className:"mt-2 space-y-2",children:[o.inc.map(u=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md ring-1 ring-gray-100 bg-white dark:ring-slate-700 dark:bg-slate-800/80 dark:text-slate-100",children:[c.jsx("div",{className:"text-sm text-gray-700 dark:text-slate-300",children:u.description||"Income"}),c.jsxs("div",{className:"text-sm font-medium",children:[u.amount," ",u.currency||s]})]},u.id)),o.inc.length===0&&c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No income transactions."})]}),c.jsx("h4",{className:"mt-4 text-sm font-medium text-gray-700 dark:text-slate-300",children:"Expenses"}),c.jsxs("div",{className:"mt-2 space-y-2",children:[o.exp.map(u=>c.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md ring-1 ring-gray-100 bg-white dark:ring-slate-700 dark:bg-slate-800/80 dark:text-slate-100",children:[c.jsx("div",{className:"text-sm text-gray-700 dark:text-slate-300",children:u.description||"Expense"}),c.jsxs("div",{className:"text-sm font-medium text-rose-600",children:[u.amount," ",u.currency||s]})]},u.id)),o.exp.length===0&&c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No expense transactions."})]})]})})]})]}):c.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No funder specified."})}const fO="-",s3e=t=>{const e=o3e(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(fO);return o[0]===""&&o.length!==1&&o.shift(),$X(o,e)||a3e(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},$X=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?$X(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(fO);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},CV=/^\[(.+)\]$/,a3e=t=>{if(CV.test(t)){const e=CV.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},o3e=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Gj(n[i],r,i,e);return r},Gj=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:PV(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(l3e(i)){Gj(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Gj(a,PV(e,s),n,r)})})},PV=(t,e)=>{let n=t;return e.split(fO).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},l3e=t=>t.isThemeGetter,c3e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},Yj="!",Xj=":",u3e=Xj.length,d3e=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,o=0,l=0,u;for(let p=0;p<i.length;p++){let y=i[p];if(a===0&&o===0){if(y===Xj){s.push(i.slice(l,p)),l=p+u3e;continue}if(y==="/"){u=p;continue}}y==="["?a++:y==="]"?a--:y==="("?o++:y===")"&&o--}const d=s.length===0?i:i.substring(l),h=h3e(d),f=h!==d,m=u&&u>l?u-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(e){const i=e+Xj,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},h3e=t=>t.endsWith(Yj)?t.substring(0,t.length-1):t.startsWith(Yj)?t.substring(1):t,f3e=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},m3e=t=>({cache:c3e(t.cacheSize),parseClassName:d3e(t),sortModifiers:f3e(t),...s3e(t)}),p3e=/\s+/,g3e=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(p3e);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:y}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let v=!!y,b=r(v?p.substring(0,y):p);if(!b){if(!v){l=d+(l.length>0?" "+l:l);continue}if(b=r(p),!b){l=d+(l.length>0?" "+l:l);continue}v=!1}const w=s(f).join(":"),_=m?w+Yj:w,j=_+b;if(a.includes(j))continue;a.push(j);const E=i(b,v);for(let I=0;I<E.length;++I){const k=E[I];a.push(_+k)}l=d+(l.length>0?" "+l:l)}return l};function y3e(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=HX(e))&&(r&&(r+=" "),r+=n);return r}const HX=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=HX(t[r]))&&(n&&(n+=" "),n+=e);return n};function v3e(t,...e){let n,r,i,s=a;function a(l){const u=e.reduce((d,h)=>h(d),t());return n=m3e(u),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=g3e(l,n);return i(l,d),d}return function(){return s(y3e.apply(null,arguments))}}const Pn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qX=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,WX=/^\((?:(\w[\w-]*):)?(.+)\)$/i,x3e=/^\d+\/\d+$/,b3e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w3e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_3e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,S3e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E3e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zu=t=>x3e.test(t),Ue=t=>!!t&&!Number.isNaN(Number(t)),ko=t=>!!t&&Number.isInteger(Number(t)),CE=t=>t.endsWith("%")&&Ue(t.slice(0,-1)),va=t=>b3e.test(t),k3e=()=>!0,A3e=t=>w3e.test(t)&&!_3e.test(t),KX=()=>!1,j3e=t=>S3e.test(t),T3e=t=>E3e.test(t),N3e=t=>!ge(t)&&!ye(t),C3e=t=>lf(t,XX,KX),ge=t=>qX.test(t),sc=t=>lf(t,QX,A3e),PE=t=>lf(t,M3e,Ue),OV=t=>lf(t,GX,KX),P3e=t=>lf(t,YX,T3e),qy=t=>lf(t,ZX,j3e),ye=t=>WX.test(t),Jf=t=>cf(t,QX),O3e=t=>cf(t,D3e),IV=t=>cf(t,GX),I3e=t=>cf(t,XX),R3e=t=>cf(t,YX),Wy=t=>cf(t,ZX,!0),lf=(t,e,n)=>{const r=qX.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},cf=(t,e,n=!1)=>{const r=WX.exec(t);return r?r[1]?e(r[1]):n:!1},GX=t=>t==="position"||t==="percentage",YX=t=>t==="image"||t==="url",XX=t=>t==="length"||t==="size"||t==="bg-size",QX=t=>t==="length",M3e=t=>t==="number",D3e=t=>t==="family-name",ZX=t=>t==="shadow",L3e=()=>{const t=Pn("color"),e=Pn("font"),n=Pn("text"),r=Pn("font-weight"),i=Pn("tracking"),s=Pn("leading"),a=Pn("breakpoint"),o=Pn("container"),l=Pn("spacing"),u=Pn("radius"),d=Pn("shadow"),h=Pn("inset-shadow"),f=Pn("text-shadow"),m=Pn("drop-shadow"),p=Pn("blur"),y=Pn("perspective"),v=Pn("aspect"),b=Pn("ease"),w=Pn("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...j(),ye,ge],I=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[ye,ge,l],P=()=>[zu,"full","auto",...S()],O=()=>[ko,"none","subgrid",ye,ge],N=()=>["auto",{span:["full",ko,ye,ge]},ko,ye,ge],A=()=>[ko,"auto",ye,ge],C=()=>["auto","min","max","fr",ye,ge],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...S()],B=()=>[zu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],D=()=>[t,ye,ge],U=()=>[...j(),IV,OV,{position:[ye,ge]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",I3e,C3e,{size:[ye,ge]}],z=()=>[CE,Jf,sc],Q=()=>["","none","full",u,ye,ge],re=()=>["",Ue,Jf,sc],ue=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Ue,CE,IV,OV],Je=()=>["","none",p,ye,ge],se=()=>["none",Ue,ye,ge],me=()=>["none",Ue,ye,ge],le=()=>[Ue,ye,ge],ee=()=>[zu,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[va],breakpoint:[va],color:[k3e],container:[va],"drop-shadow":[va],ease:["in","out","in-out"],font:[N3e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[va],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[va],shadow:[va],spacing:["px",Ue],text:[va],"text-shadow":[va],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zu,ge,ye,v]}],container:["container"],columns:[{columns:[Ue,ge,ye,o]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[ko,"auto",ye,ge]}],basis:[{basis:[zu,"full","auto",o,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,zu,"auto","initial","none",ge]}],grow:[{grow:["",Ue,ye,ge]}],shrink:[{shrink:["",Ue,ye,ge]}],order:[{order:[ko,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[o,"screen",...B()]}],"min-w":[{"min-w":[o,"screen","none",...B()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,Jf,sc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ye,PE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",CE,ge]}],"font-family":[{font:[O3e,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ye,ge]}],"line-clamp":[{"line-clamp":[Ue,"none",ye,PE]}],leading:[{leading:[s,...S()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",ye,sc]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Ue,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ko,ye,ge],radial:["",ye,ge],conic:[ko,ye,ge]},R3e,P3e]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,ye,ge]}],"outline-w":[{outline:["",Ue,Jf,sc]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",d,Wy,qy]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",h,Wy,qy]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Ue,sc]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",f,Wy,qy]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Ue,ye,ge]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:Je()}],brightness:[{brightness:[Ue,ye,ge]}],contrast:[{contrast:[Ue,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",m,Wy,qy]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Ue,ye,ge]}],"hue-rotate":[{"hue-rotate":[Ue,ye,ge]}],invert:[{invert:["",Ue,ye,ge]}],saturate:[{saturate:[Ue,ye,ge]}],sepia:[{sepia:["",Ue,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":Je()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",Ue,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",ye,ge]}],ease:[{ease:["linear","initial",b,ye,ge]}],delay:[{delay:[Ue,ye,ge]}],animate:[{animate:["none",w,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ye,ge]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ee()}],"translate-x":[{"translate-x":ee()}],"translate-y":[{"translate-y":ee()}],"translate-z":[{"translate-z":ee()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Ue,Jf,sc,PE]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},V3e=v3e(L3e);function F3e(...t){return V3e(ht(t))}const bd=ag.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:F3e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));bd.displayName="Input";function B3e({funderId:t,funderName:e,onSuccess:n}){const[r,i]=x.useState(""),[s,a]=x.useState("viewer"),[o,l]=x.useState(!1),[u,d]=x.useState(""),{sendInvitation:h}=vt(),f=async m=>{if(m.preventDefault(),!r||!s){d("Please fill in all fields");return}l(!0),d("");try{await h({email:r,role:s,funderId:t,funderName:e})?(i(""),n==null||n()):d("Failed to send invitation. Please try again.")}catch(p){console.error("Error sending invitation:",p),d("An error occurred while sending the invitation.")}finally{l(!1)}};return c.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Invite Funder"}),c.jsxs("form",{onSubmit:f,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email Address"}),c.jsx(bd,{id:"email",type:"email",value:r,onChange:m=>i(m.target.value),placeholder:"funder@example.com",required:!0,className:"w-full"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"role",children:"Role"}),c.jsxs("select",{id:"role",value:s,onChange:m=>a(m.target.value),className:"w-full",required:!0,children:[c.jsx("option",{value:"viewer",children:"Viewer"}),c.jsx("option",{value:"editor",children:"Editor"}),c.jsx("option",{value:"admin",children:"Admin"})]})]}),u&&c.jsx("div",{className:"error-message",children:u}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{type:"submit",className:"button button-primary w-full",disabled:o,children:o?"Sending...":"Send Invitation"})})]})]})}function U3e(){const{addFunder:t,byFunder:e}=vt(),n=Fr(),[r,i]=x.useState({name:"",contact:"",notes:""}),[s,a]=x.useState(!1),[o,l]=x.useState(!1),[u,d]=x.useState(null),h=async y=>{if(y.preventDefault(),!!r.name.trim()){a(!0);try{const v=await t(r);d(v),l(!0),i({name:"",contact:"",notes:""})}catch(v){console.error("Error adding funder:",v)}finally{a(!1)}}},f=()=>{l(!1),n("/app/funders")},m=(e||[]).slice().sort((y,v)=>{const b=y.funder.createdAt?new Date(y.funder.createdAt).getTime():0;return(v.funder.createdAt?new Date(v.funder.createdAt).getTime():0)-b}).slice(0,5),p=({isOpen:y,onClose:v,children:b,title:w})=>y?c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:w}),c.jsx("button",{onClick:v,className:"close-button",children:""})]}),c.jsx("div",{className:"modal-content",children:b})]})}):null;return c.jsxs("div",{className:"page-container",children:[c.jsxs("div",{className:"page-header",children:[c.jsxs("div",{children:[c.jsx("h2",{children:"Add Funder"}),c.jsx("p",{children:"Create a new funder profile to track their contributions and allocations."})]}),c.jsx(be,{to:"/app/funders",className:"back-button",children:"Back to Funders"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-slate-100",children:"Add New Funder"})}),c.jsx(Ke,{children:c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(Ze,{id:"name",name:"name",label:"Funder Name",value:r.name,onChange:y=>i({...r,name:y.target.value}),required:!0,placeholder:"Enter funder name",className:"w-full"}),c.jsx(Ze,{id:"contact",name:"contact",label:"Contact (email/phone)",value:r.contact,onChange:y=>i({...r,contact:y.target.value}),placeholder:"example@email.com or +1234567890",className:"w-full"}),c.jsx(Ze,{id:"notes",name:"notes",label:"Notes",type:"textarea",rows:3,value:r.notes,onChange:y=>i({...r,notes:y.target.value}),placeholder:"Additional information about the funder",className:"w-full"})]}),c.jsx("div",{className:"flex justify-end pt-2",children:c.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-sky-700 hover:bg-sky-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:opacity-50",children:s?"Saving...":"Add Funder"})})]})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-slate-100",children:"Recently Created Funders"})}),c.jsx(Ke,{children:m.length===0?c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:"No funders have been added yet."}):c.jsx("ul",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:m.map(y=>c.jsx("li",{className:"py-3 px-1 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-md transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",children:y.funder.name}),y.funder.contact&&c.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400 truncate",children:y.funder.contact})]}),y.funder.createdAt&&c.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:c.jsx("p",{className:"text-xs text-slate-400",children:new Date(y.funder.createdAt).toLocaleDateString()})})]})},y.funder.id))})})]})]}),c.jsx(p,{isOpen:o,onClose:()=>l(!1),title:"Invite Funder",children:u?c.jsx(B3e,{funderId:u,funderName:r.name,onSuccess:f}):c.jsx("div",{children:"Loading funder information..."})})]})}function z3e({onClose:t}){const{login:e}=Vt(),n=Fr(),[r,i]=x.useState(""),[s,a]=x.useState(""),[o,l]=x.useState(""),[u,d]=x.useState(!1),h=async f=>{if(f.preventDefault(),l(""),!r||!s)return l("Please fill in both fields");try{d(!0);const{success:m,error:p}=await e(r,s);m?(t==null||t(),n("/app/dashboard/overview")):l(p||"Login failed")}catch{l("An error occurred")}finally{d(!1)}};return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:t}),c.jsx("div",{className:"relative z-10 w-full max-w-md mx-4",children:c.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-lg ring-1 ring-black/5 dark:bg-slate-900 dark:ring-slate-700 dark:text-slate-100",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Sign in"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1 dark:text-slate-400",children:"Enter your credentials to continue"}),o&&c.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-3 text-sm text-red-700 dark:bg-rose-900/20 dark:border-rose-700 dark:text-rose-300",children:o}),c.jsxs("form",{onSubmit:h,className:"mt-4 space-y-3",children:[c.jsx(Ze,{id:"modal-email",label:"Email address",type:"email",value:r,onChange:f=>i(f.target.value)}),c.jsx(Ze,{id:"modal-password",label:"Password",type:"password",value:s,onChange:f=>a(f.target.value)}),c.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[c.jsx("button",{type:"button",onClick:t,className:"px-3 py-2 rounded-md bg-gray-100 text-gray-700 dark:bg-slate-700 dark:text-slate-100",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 rounded-md button-brand disabled:opacity-50",children:u?"Signing in...":"Sign in"})]})]})]})})]})}function $3e(){const{activeOrg:t,role:e,inviteMember:n,revokeInvite:r,updateMemberRole:i,restoreMemberRole:s,removeMember:a}=lt(),{user:o}=Vt(),[l,u]=x.useState(""),[d,h]=x.useState("financial_officer"),[f,m]=x.useState(!1),[p,y]=x.useState(""),[v,b]=x.useState(!1),[w,_]=x.useState(null),j=x.useMemo(()=>Array.isArray(t==null?void 0:t.invites)?t.invites:[],[t==null?void 0:t.invites]),E=x.useMemo(()=>Array.isArray(t==null?void 0:t.memberships)?t.memberships:[],[t==null?void 0:t.memberships]),I=e==="admin",k=async A=>{if(A.preventDefault(),!l)return;m(!0);const C=await n(l,d);m(!1),C!=null&&C.success?(y(C.link||""),u("")):alert((C==null?void 0:C.error)||"Failed to send invite")},S=async A=>{const C=await r(A);C!=null&&C.success||alert((C==null?void 0:C.error)||"Failed to revoke invite")},P=async(A,C)=>{if(!I)return;if(A===(o==null?void 0:o.id)&&C!=="admin"){alert("You cannot change your own admin role. Ask another admin to modify your role.");return}const F=await i(A,C);F!=null&&F.success||alert((F==null?void 0:F.error)||"Failed to update role")},O=async A=>{if(!I||!window.confirm("Remove this member from the organization?"))return;const C=await a(A);C!=null&&C.success||alert((C==null?void 0:C.error)||"Failed to remove member")},N=A=>A==="admin"?"Admin":A==="finance"||A==="financial_officer"?"Finance":"Viewer";return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Accounts"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Invite accounts and manage access for your organization."})]})}),I&&c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Invite accounts"})}),c.jsxs(Ke,{children:[c.jsxs("form",{onSubmit:k,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Email"}),c.jsx("input",{type:"email",value:l,onChange:A=>u(A.target.value),required:!0,className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",placeholder:"person@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Role"}),c.jsxs("select",{value:d,onChange:A=>h(A.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"financial_officer",children:"Finance"}),c.jsx("option",{value:"viewer",children:"Viewer"})]})]}),c.jsx("div",{className:"md:self-end",children:c.jsx("button",{type:"submit",disabled:f,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:f?"Sending":"Send invite"})})]}),p&&c.jsxs("div",{className:"mt-3 text-sm",children:[c.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Share invite link:"})," ",c.jsx("a",{href:p,className:"text-sky-600 underline",target:"_blank",rel:"noreferrer",children:p})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Pending invites"})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Email"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Role"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[j.map(A=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:A.email}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:N(A.role)}),c.jsx("td",{className:"px-3 py-2 text-sm",children:I?c.jsx("button",{onClick:()=>S(A.id),className:"px-3 py-1 rounded-md bg-rose-600 hover:bg-rose-700 text-white text-sm shadow-sm",children:"Revoke"}):c.jsx("span",{className:"text-slate-400",children:""})})]},A.id)),j.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:3,children:"No pending invites."})})]})]})})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Accounts"})}),c.jsx(Ke,{className:"pt-0",children:c.jsx("div",{className:"mt-4 overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"User"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Role"}),c.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[E.map(A=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:A.email||A.userId}),c.jsx("td",{className:"px-3 py-2 text-sm",children:I?c.jsxs("select",{value:A.role==="finance"?"financial_officer":A.role,onChange:C=>P(A.userId,C.target.value),className:"border border-gray-200 rounded px-2 py-1 bg-white dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"financial_officer",children:"Finance"}),c.jsx("option",{value:"viewer",children:"Viewer"})]}):c.jsx("span",{className:"text-gray-500 dark:text-slate-300",children:N(A.role)})}),c.jsx("td",{className:"px-3 py-2 text-sm",children:I&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{_(A.userId),b(!0)},className:"px-2 py-1 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-sm",children:"History"}),A.userId!==(o==null?void 0:o.id)?c.jsx("button",{onClick:()=>O(A.userId),className:"px-3 py-1 rounded-md bg-rose-600 hover:bg-rose-700 text-white text-sm shadow-sm",children:"Remove"}):c.jsx("span",{className:"text-slate-400",children:""})]})})]},A.userId)),E.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:3,children:"No members yet."})})]})]})})})]})]}),v&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>b(!1)}),c.jsxs("div",{className:"relative w-full max-w-2xl bg-white/95 backdrop-blur rounded-2xl border border-slate-200 shadow-xl p-6 dark:bg-slate-900/90 dark:border-slate-700 dark:text-slate-100",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Role history"}),c.jsx("div",{className:"mt-4",children:Array.isArray(t==null?void 0:t.roleHistory)?c.jsxs("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[t.roleHistory.filter(A=>A.userId===w).map(A=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md ring-1 ring-gray-100 bg-white dark:ring-slate-700 dark:bg-slate-800/80",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("strong",{children:A.previousRole||"none"}),"  ",c.jsx("strong",{children:A.newRole})]}),c.jsxs("div",{className:"text-xs text-slate-500",children:["Changed by: ",A.byEmail||A.by,"  ",new Date(A.at).toLocaleString()]})]}),c.jsx("div",{children:c.jsx("button",{onClick:async()=>{const C=await s(w,A.id);C!=null&&C.success?(alert("Role restored"),b(!1)):alert((C==null?void 0:C.error)||"Failed to restore role")},className:"px-3 py-1 rounded-md bg-sky-700 hover:bg-sky-800 text-white text-sm",children:"Restore"})})]},A.id)),t.roleHistory.filter(A=>A.userId===w).length===0&&c.jsx("div",{className:"text-sm text-slate-500",children:"No role history for this user."})]}):c.jsx("div",{className:"text-sm text-slate-500",children:"No role history available."})}),c.jsx("div",{className:"mt-4 text-right",children:c.jsx("button",{onClick:()=>b(!1),className:"px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600",children:"Close"})})]})]})]})}function H3e(){const{orgId:t,token:e}=xw(),n=Fr(),{user:r,logout:i}=Vt(),{switchOrg:s}=lt(),[a,o]=x.useState(!0),[l,u]=x.useState(""),[d,h]=x.useState(null),[f,m]=x.useState(""),[p,y]=x.useState(!1),[v,b]=x.useState(t),[w,_]=x.useState(!1),j=O=>O==="financial_officer"||O==="finance"?"Finance":O==="admin"?"Admin":"Viewer",E=O=>typeof O=="string"&&O.includes("@"),I=O=>typeof O=="string"&&/^[A-Za-z0-9_-]{8,}$/.test(O)&&O.length>8,k=(O,N)=>O&&typeof O=="string"&&!E(O)&&!I(O)&&O.trim().length?O:N&&typeof N=="string"&&!E(N)&&!I(N)&&N.trim().length?N:"Organization";x.useEffect(()=>{(async()=>{try{o(!0);let O=t;try{const V=mt(Ye,"invites",e),B=await En(V);if(B.exists()){const D=B.data();if(D!=null&&D.expiresAt&&new Date>new Date(D.expiresAt)){u("This invitation has expired."),o(!1);return}O=D.orgId||O,b(O)}}catch{}const N=mt(Ye,"orgs",O),A=await En(N);if(!A.exists()){try{const V=mt(Ye,"invites",e),B=await En(V);if(B.exists()){const D=B.data();if(D!=null&&D.expiresAt&&new Date>new Date(D.expiresAt)){u("This invitation has expired."),o(!1);return}m(k(D==null?void 0:D.organization,O)),h(D),o(!1);return}}catch{}u("Organization not found"),o(!1);return}const C=A.data();m(k(C==null?void 0:C.name,O));const M=(Array.isArray(C.invites)?C.invites:[]).find(V=>V.token===e)||null;if(!M){try{const V=mt(Ye,"invites",e),B=await En(V);if(B.exists()){const D=B.data();if(D!=null&&D.expiresAt&&new Date>new Date(D.expiresAt)){u("This invitation has expired."),o(!1);return}h(D),o(!1);return}}catch{}u("Invalid or expired invite link"),o(!1);return}if(M!=null&&M.expiresAt&&new Date>new Date(M.expiresAt)){u("This invitation has expired."),o(!1);return}h(M)}catch(O){const N=(O==null?void 0:O.code)==="permission-denied"||((O==null?void 0:O.message)||"").toLowerCase().includes("permission")?"Please sign in with the invited email to view and accept this invite.":(O==null?void 0:O.message)||"Failed to load invite";u(N)}finally{o(!1)}})()},[t,e,r]),x.useEffect(()=>{a||!d||!r||w||p||l||d!=null&&d.email&&(r!=null&&r.email)&&d.email.toLowerCase()!==r.email.toLowerCase()||(_(!0),S().catch(()=>{}))},[a,d,r,w,p,l]);const S=async()=>{if(r){if(d!=null&&d.email&&r.email&&d.email.toLowerCase()!==r.email.toLowerCase()){u("You must be signed in as the invited email to accept this invitation. Please sign out and sign in with the invited email.");return}try{o(!0);const O=mt(Ye,"orgs",v);let N=await En(O),A=N.exists()?N.data()||{}:{};if(!N.exists()){const z={name:k(d==null?void 0:d.organization,v),createdAt:new Date().toISOString(),members:[],memberships:[],invites:d?[d]:[]};await Id(O,z),N=await En(O),A=N.exists()?N.data()||{}:z}const C=Array.isArray(A.invites)?A.invites:[],F=C.find(z=>z.token===e)||d;if(!F)throw new Error("Invalid or expired invite");const M=Array.isArray(A.memberships)?A.memberships:[],V=M.some(z=>z.userId===r.id),B=F.role==="finance"?"financial_officer":F.role||"viewer",D={userId:r.id,email:r.email||"",role:B,addedAt:new Date().toISOString()},U=V?M.map(z=>z.userId===r.id?{...z,role:B||z.role}:z):[...M,D],H=Array.isArray(A.members)?V?A.members:Array.from(new Set([...A.members||[],r.id])):[r.id],X=C.filter(z=>z.token!==e);try{const z=(r==null?void 0:r.email)||(d==null?void 0:d.email)||"",Q={id:(r==null?void 0:r.id)||`funder-${Date.now()}`,name:(d==null?void 0:d.name)||(r==null?void 0:r.displayName)||z.split("@")[0]||"Funder",email:z,contact:z,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ue=[...(Array.isArray(A.funders)?A.funders:[]).filter(Ce=>Ce&&Ce.id!==Q.id),Q];await Or(O,{memberships:U,members:H,invites:X,funders:ue});try{await OD(mt(Ye,"invites",e))}catch{}try{const Ce=`${window.location.origin}/app/donor-dashboard/${Q.id}`,xe=`${f}: your funder portal is ready`,Je={to:[Q.email||(d==null?void 0:d.email)].filter(Boolean),message:{subject:xe,text:`Your funder portal is ready. Open: ${Ce}`,html:`<div style="font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;">
                <h3 style="color:#0f172a">Welcome to ${f}</h3>
                <p>Your funder portal has been created. Click the button below to open your portal and view contributions, projects, and invoices.</p>
                <p style="margin:18px 0"><a href="${Ce}" style="background:#0ea5e9;color:#fff;padding:10px 14px;border-radius:8px;text-decoration:none;">Open your funder portal</a></p>
                <p style="font-size:13px;color:#6b7280">If the button doesn't work, copy and paste this link into your browser: <br/><a href="${Ce}" style="color:#0ea5e9">${Ce}</a></p>
              </div>`}};(Je.to||[]).length&&await dN(Mx(Ye,"mail"),Je)}catch(Ce){console.warn("Failed to enqueue funder portal email",Ce)}try{s(v)}catch{}y(!0),n(`/donor/dashboard/${Q.id}`,{replace:!0});return}catch{try{await Or(O,{memberships:U,members:H,invites:X});try{await OD(mt(Ye,"invites",e))}catch{}}catch(Q){console.error("Failed to finalize invite acceptance",Q)}y(!0),n(`/donor/dashboard/${(r==null?void 0:r.id)||"me"}`,{replace:!0});return}}catch(O){const N=((O==null?void 0:O.message)||"").toLowerCase();if((O==null?void 0:O.code)==="permission-denied"||N.includes("permission")||N.includes("insufficient"))try{try{s(v)}catch{}const C=(r==null?void 0:r.id)||`funder-${Date.now()}`;y(!0),n(`/donor/dashboard/${C}`,{replace:!0});return}catch{u("Invite accepted, but we could not finalize membership due to permissions. Please ask an admin to confirm your access.")}else u((O==null?void 0:O.message)||"Failed to accept invite")}finally{o(!1)}}},P=async()=>{try{await i(),n(`/register?orgId=${t}&token=${e}${d!=null&&d.email?`&email=${encodeURIComponent(d.email)}`:""}${d!=null&&d.name?`&name=${encodeURIComponent(d.name)}`:""}&redirect=${encodeURIComponent("/donor/funding")}`)}catch{u("Failed to sign out.")}};return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900 dark:text-white",children:"Accept Invitation"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300",children:d?`Join ${f||"this organization"} to continue`:"Join the organization and start collaborating."})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a&&c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading invitation details..."})]}),!a&&l&&c.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/30 p-4 mb-6",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),c.jsx("div",{className:"ml-3",children:c.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:l})})]})}),!a&&(!l||!r)&&c.jsx("div",{className:"space-y-6",children:r?c.jsx("div",{children:d?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Accept Invitation"}),c.jsxs("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:["You're invited to join ",c.jsx("span",{className:"font-medium",children:f})," as ",c.jsx("span",{className:"font-semibold",children:j(d.role)}),"."]})]}),d!=null&&d.email&&d.email.toLowerCase()!==(r.email||"").toLowerCase()?c.jsx("div",{className:"rounded-md bg-yellow-50 dark:bg-yellow-900/30 p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Email Mismatch"}),c.jsx("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-200",children:c.jsxs("p",{children:["You're signed in as ",c.jsx("span",{className:"font-medium",children:r.email}),", but this invite was sent to ",c.jsx("span",{className:"font-medium",children:d.email}),"."]})}),c.jsx("div",{className:"mt-4",children:c.jsxs("div",{className:"-mx-2 -my-1.5 flex",children:[c.jsxs("button",{type:"button",onClick:P,className:"rounded-md bg-yellow-50 dark:bg-yellow-900/50 px-2 py-1.5 text-sm font-medium text-yellow-800 dark:text-yellow-200 hover:bg-yellow-100 dark:hover:bg-yellow-900/70 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50 dark:focus:ring-offset-yellow-900/30",children:["Sign out and use ",d.email]}),c.jsx(be,{to:"/login",className:"ml-3 rounded-md bg-yellow-50 dark:bg-yellow-900/50 px-2 py-1.5 text-sm font-medium text-yellow-800 dark:text-yellow-200 hover:bg-yellow-100 dark:hover:bg-yellow-900/70 focus:outline-none focus:ring-2 focus:ring-yellow-600 focus:ring-offset-2 focus:ring-offset-yellow-50 dark:focus:ring-offset-yellow-900/30",children:"Switch account"})]})})]})]})}):c.jsxs("div",{className:"text-center",children:[c.jsx("button",{onClick:S,disabled:p,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${p?"bg-green-600 hover:bg-green-700":"bg-sky-600 hover:bg-sky-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500`,children:p?c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Accepting..."]}):"Accept Invitation"}),p&&c.jsx("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:"Invitation accepted! Redirecting you now..."})]})]}):c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Invitation Not Found"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"We couldn't find the invitation details. The link may be expired or invalid."}),c.jsx("div",{className:"mt-6",children:c.jsx(be,{to:"/",className:"text-sm font-medium text-sky-600 hover:text-sky-500 dark:text-sky-400 dark:hover:text-sky-300",children:"Return to home"})})]})}):c.jsxs("div",{children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["You're invited to join ",f||"this organization"]}),c.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:d!=null&&d.email?`Sign in or create an account with ${d.email} to accept this invitation.`:"Sign in or create an account to accept this invitation."}),(d==null?void 0:d.email)&&c.jsxs("div",{className:"mt-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-200 rounded-md inline-block text-sm",children:["Invited email: ",c.jsx("span",{className:"font-medium",children:d.email})]})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-3",children:[c.jsx(be,{to:`/register?orgId=${t}&token=${e}${d!=null&&d.email?`&email=${encodeURIComponent(d.email)}`:""}${d!=null&&d.name?`&name=${encodeURIComponent(d.name)}`:""}&redirect=${encodeURIComponent(window.location.pathname)}`,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",children:"Create account"}),c.jsxs("div",{className:"relative mt-4",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400",children:"or"})})]}),c.jsx(be,{to:`/login?redirect=${encodeURIComponent(window.location.pathname)}`,className:"w-full flex justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",children:"Sign in"})]})]})})]})})]})}function q3e(){var y;const{user:t,updateUser:e}=Vt(),{orgs:n,activeOrg:r,switchOrg:i}=lt(),{isDark:s,toggleTheme:a}=da(),[o,l]=x.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||""}),[u,d]=x.useState({currency:((y=t==null?void 0:t.orgSettings)==null?void 0:y.currency)||"USD"}),[h,f]=x.useState(!1),m=async()=>{f(!0);try{await e({name:o.name}),alert("Profile saved")}catch(v){console.error(v),alert("Failed to save profile")}finally{f(!1)}},p=async()=>{f(!0);try{await e({orgSettings:u}),alert("Organization settings updated")}catch(v){console.error(v),alert("Failed to save organization settings")}finally{f(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-slate-100",children:"Settings"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Manage your profile, organization settings and preferences."})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Profile"})}),c.jsxs(Ke,{children:[c.jsx(Ze,{label:"Name",id:"settings-name",value:o.name,onChange:v=>l({...o,name:v.target.value})}),c.jsx(Ze,{label:"Email",id:"settings-email",value:o.email,disabled:!0}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsx("button",{onClick:m,disabled:h,className:"px-4 py-2 rounded-md bg-sky-700 text-white",children:h?"Saving...":"Save"})})]})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Organization"})}),c.jsxs(Ke,{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Active organization"}),c.jsx("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white dark:bg-slate-800 dark:text-slate-100",value:(r==null?void 0:r.id)||"",onChange:v=>i(v.target.value),children:n&&n.map(v=>c.jsx("option",{value:v.id,children:v.name||v.id},v.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Currency"}),c.jsxs("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white dark:bg-slate-800 dark:text-slate-100",value:u.currency,onChange:v=>d({...u,currency:v.target.value}),children:[c.jsx("option",{value:"USD",children:"USD ($)"}),c.jsx("option",{value:"EUR",children:"EUR ()"}),c.jsx("option",{value:"GBP",children:"GBP ()"}),c.jsx("option",{value:"KES",children:"KES (KSh)"}),c.jsx("option",{value:"NGN",children:"NGN ()"})]})]}),c.jsx("div",{className:"mt-4 flex items-center justify-end",children:c.jsx("button",{onClick:p,disabled:h,className:"px-4 py-2 rounded-md bg-sky-700 text-white",children:h?"Saving...":"Save"})})]})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Preferences"})}),c.jsx(Ke,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-slate-100",children:"Theme"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Choose light or dark appearance"})]}),c.jsx("div",{children:c.jsx("button",{onClick:a,className:"px-3 py-2 rounded-md bg-white border border-gray-200 dark:bg-slate-800 dark:text-slate-100",children:s?"Switch to light":"Switch to dark"})})]})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Security"})}),c.jsx(Ke,{children:c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Manage authentication settings from your identity provider (password reset, 2FA). For password reset, use the forgot password flow on the login page."})})]})]})]})}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K3e=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),RV=t=>{const e=K3e(t);return e.charAt(0).toUpperCase()+e.slice(1)},JX=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),G3e=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y3e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3e=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>x.createElement("svg",{ref:l,...Y3e,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JX("lucide",i),...!s&&!G3e(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(X3e,{ref:s,iconNode:e,className:JX(`lucide-${W3e(RV(t))}`,`lucide-${t}`,r),...i}));return n.displayName=RV(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3e=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],MV=Ts("arrow-up-down",Q3e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3e=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],J3e=Ts("circle-check-big",Z3e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4e=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t4e=Ts("clock",e4e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],DV=Ts("download",n4e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4e=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],i4e=Ts("ellipsis",r4e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4e=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],a4e=Ts("link-2",s4e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4e=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],LV=Ts("mail",o4e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],c4e=Ts("search",l4e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4e=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VV=Ts("send",u4e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],FV=Ts("user-plus",d4e);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],BV=Ts("users",h4e);function OE(){var ee,kt,Be;const{id:t}=xw(),e=Fr(),n=ii(),{byFunder:r,funders:i,projects:s,inviteFunder:a,incomes:o,expenses:l}=vt(),{currency:u}=lt(),{user:d}=Vt(),[h,f]=x.useState("overview"),[m,p]=x.useState(!1),[y,v]=x.useState({subject:"",message:""}),b=new URLSearchParams(n.search),w=b.get("orgId"),_=b.get("token"),j=b.get("email"),E=b.get("name");let I="/app/funders/portal/me";const k=new URLSearchParams;w&&k.set("orgId",w),_&&k.set("token",_),[...k].length&&(I+=`?${k.toString()}`);const S=`/register?redirect=${encodeURIComponent(I)}${w?`&orgId=${encodeURIComponent(w)}`:""}${_?`&token=${encodeURIComponent(_)}`:""}${j?`&email=${encodeURIComponent(j)}`:""}${E?`&name=${encodeURIComponent(E)}`:""}`,P=`/login?redirect=${encodeURIComponent(I)}`,[O,N]=x.useState(!1),[A,C]=x.useState(""),[F,M]=x.useState("all"),[V,B]=x.useState(1),D=10,[U,H]=x.useState(null),X=[{label:"Total Funders",value:i.length,icon:c.jsx(BV,{className:"h-5 w-5 text-blue-500"})},{label:"Active Funders",value:i.filter(te=>te.status==="active").length,icon:c.jsx(J3e,{className:"h-5 w-5 text-green-500"})},{label:"Linked Projects",value:new Set(s.map(te=>te.funderId)).size,icon:c.jsx(a4e,{className:"h-5 w-5 text-purple-500"})},{label:"Pending Invites",value:0,icon:c.jsx(t4e,{className:"h-5 w-5 text-amber-500"})}],[z,Q]=x.useState({name:"",email:"",projectId:"",role:"viewer",message:""}),re=te=>{const{name:ae,value:$e}=te.target;Q(W=>({...W,[ae]:$e}))},ue=async te=>{if(te.preventDefault(),!z.name.trim()||!z.email.trim()){H({type:"error",text:"Name and email are required"}),setTimeout(()=>H(null),2500);return}if(i.some(ae=>(ae.email||"").toLowerCase()===z.email.trim().toLowerCase())){H({type:"warning",text:"Email already invited"}),setTimeout(()=>H(null),2500);return}try{const ae=await a({name:z.name.trim(),email:z.email.trim(),projectId:z.projectId||null,role:z.role||"funder",message:z.message||""});H({type:"success",text:`Invite sent to ${z.email}`}),setTimeout(()=>H(null),2500),N(!1),Q({name:"",email:"",projectId:"",role:"viewer",message:""})}catch(ae){console.error("Invite failed",ae),H({type:"error",text:(ae==null?void 0:ae.message)||"Failed to send invitation"}),setTimeout(()=>H(null),2500)}},Ce=te=>{try{const ae=r.find($=>$.funder.id===te.id),$e=o.filter($=>{const je=s.find(Me=>Me.id===$.projectId);return($.walletId||(je?je.funderId:null))===te.id}),W=l.filter($=>{const je=s.find(Me=>Me.id===$.projectId);return($.walletId||(je?je.funderId:null))===te.id}),oe={funderInfo:{name:te.name,email:te.email,status:te.status,createdAt:te.createdAt,totalContributed:(ae==null?void 0:ae.income)||0,totalExpenses:(ae==null?void 0:ae.expenses)||0,available:(ae==null?void 0:ae.available)||0},incomes:$e.map($=>({date:$.date,amount:$.amount,projectId:$.projectId,description:$.description,status:$.status})),expenses:W.map($=>({date:$.date,amount:$.amount,projectId:$.projectId,description:$.description,status:$.status}))},ve=[["Funder Data Export"],["Generated:",new Date().toISOString()],[],["Funder Information"],["Name",te.name],["Email",te.email],["Status",te.status],["Joined Date",te.createdAt],["Total Contributed",(ae==null?void 0:ae.income)||0],["Total Expenses",(ae==null?void 0:ae.expenses)||0],["Available",(ae==null?void 0:ae.available)||0],[],["Incomes"],["Date","Amount","Project","Description","Status"],...$e.map($=>[$.date,$.amount,$.projectId,$.description,$.status]),[],["Expenses"],["Date","Amount","Project","Description","Status"],...W.map($=>[$.date,$.amount,$.projectId,$.description,$.status])].map($=>$.map(je=>`"${String(je).replace(/"/g,'""')}"`).join(",")).join(`
`),Ee=new Blob([ve],{type:"text/csv"}),Ve=window.URL.createObjectURL(Ee),Ot=document.createElement("a");Ot.href=Ve,Ot.download=`${te.name}-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Ot),Ot.click(),document.body.removeChild(Ot),window.URL.revokeObjectURL(Ve),H({type:"success",text:"Data exported successfully"}),setTimeout(()=>H(null),2500)}catch(ae){console.error("Export failed",ae),H({type:"error",text:"Failed to export data"}),setTimeout(()=>H(null),2500)}},xe=async(te,ae)=>{if(te.preventDefault(),!y.subject.trim()||!y.message.trim()){H({type:"error",text:"Subject and message are required"}),setTimeout(()=>H(null),2500);return}try{H({type:"success",text:`Message sent to ${ae.name}`}),setTimeout(()=>H(null),2500),p(!1),v({subject:"",message:""})}catch($e){console.error("Message failed",$e),H({type:"error",text:"Failed to send message"}),setTimeout(()=>H(null),2500)}},Je=x.useMemo(()=>{const te=A.toLowerCase();return i.filter(ae=>{const $e=(ae.name||"").toLowerCase().includes(te)||(ae.email||"").toLowerCase().includes(te),W=F==="all"?!0:(ae.status||"pending")===F;return $e&&W})},[i,A,F]),se=Je.length,me=Math.max(1,Math.ceil(se/D)),le=x.useMemo(()=>{const te=(V-1)*D;return Je.slice(te,te+D)},[Je,V]);if(t){let te;if(t==="me"){if(te=i.find(ae=>ae.id===(d==null?void 0:d.id))||i.find(ae=>(ae.email||"").toLowerCase()===((d==null?void 0:d.email)||"").toLowerCase()),!d)return c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Please sign in to view your funder portal"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in or create an account to access your portal and join your organization's funder portal."}),c.jsxs("div",{className:"mt-4 flex gap-2",children:[c.jsx(st,{onClick:()=>e(P),children:"Sign in"}),c.jsx(st,{variant:"outline",onClick:()=>e(S),children:"Create account"})]})]})}else te=i.find(ae=>ae.id===t);return te?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Funder Details"}),c.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["View and manage ",te.name,"'s information"]})]}),c.jsx(st,{onClick:()=>e("/app/funders/portal"),variant:"outline",children:"Back to Funders"})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold",children:te.name.charAt(0).toUpperCase()}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:te.name}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:te.email}),c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1 ${te.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:te.status})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(st,{variant:"outline",onClick:()=>p(!0),children:[c.jsx(LV,{className:"h-4 w-4 mr-2"}),"Message"]}),c.jsxs(st,{onClick:()=>Ce(te),children:[c.jsx(DV,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})}),c.jsxs(Ke,{children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-8",children:[c.jsx("button",{onClick:()=>f("overview"),className:`${h==="overview"?"border-b-2 border-indigo-500 text-indigo-600 dark:text-indigo-400 dark:border-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Overview"}),c.jsx("button",{onClick:()=>f("transactions"),className:`${h==="transactions"?"border-b-2 border-indigo-500 text-indigo-600 dark:text-indigo-400 dark:border-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Transactions"}),c.jsx("button",{onClick:()=>f("reports"),className:`${h==="reports"?"border-b-2 border-indigo-500 text-indigo-600 dark:text-indigo-400 dark:border-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Reports"})]})}),h==="overview"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Funder Information"}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:te.email||"Not provided"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white capitalize",children:te.status||"N/A"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Joined Date"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(((kt=(ee=te.createdAt)==null?void 0:ee.toDate)==null?void 0:kt.call(ee))||new Date).toLocaleDateString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Contributed"}),c.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:he(((Be=r.find(ae=>ae.funder.id===te.id))==null?void 0:Be.income)||0,u)})]})]})})]}),h==="transactions"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Transactions"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Date"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Type"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Amount"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Project"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:(()=>{const ae=o.filter(oe=>{const ve=s.find(Ve=>Ve.id===oe.projectId);return(oe.walletId||(ve?ve.funderId:null))===te.id}),$e=l.filter(oe=>{const ve=s.find(Ve=>Ve.id===oe.projectId);return(oe.walletId||(ve?ve.funderId:null))===te.id}),W=[...ae.map(oe=>({...oe,type:"income",sign:1})),...$e.map(oe=>({...oe,type:"expense",sign:-1}))].sort((oe,ve)=>new Date(ve.date)-new Date(oe.date));return W.length>0?W.map((oe,ve)=>{var Ee;return c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(oe.date).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${oe.type==="income"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:oe.type})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:[oe.sign>0?"+":"-",he(Math.abs(oe.amount),u)]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:((Ee=s.find(Ve=>Ve.id===oe.projectId))==null?void 0:Ee.name)||"N/A"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${oe.status==="posted"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:oe.status})})]},ve)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:"No transactions found"})})})()})]})})]}),h==="reports"&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Reports"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(()=>{const ae=r.find(oe=>oe.funder.id===te.id),$e=o.filter(oe=>{const ve=s.find(Ve=>Ve.id===oe.projectId);return(oe.walletId||(ve?ve.funderId:null))===te.id}),W=l.filter(oe=>{const ve=s.find(Ve=>Ve.id===oe.projectId);return(oe.walletId||(ve?ve.funderId:null))===te.id});return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-900/40 p-6 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Contributed"}),c.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mt-2",children:he((ae==null?void 0:ae.income)||0,u)}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:[$e.length," transactions"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-900/40 p-6 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Expenses"}),c.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mt-2",children:he((ae==null?void 0:ae.expenses)||0,u)}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:[W.length," transactions"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-900/40 p-6 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Available Balance"}),c.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:he((ae==null?void 0:ae.available)||0,u)}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:"Remaining funds"})]})]})})()})]})]})]}),m&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>p(!1)}),c.jsxs("div",{className:"relative w-full max-w-lg bg-white/95 backdrop-blur rounded-2xl border border-slate-200 shadow-xl p-6 dark:bg-slate-900/90 dark:border-slate-700 dark:text-slate-100",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:["Send Message to ",te.name]}),c.jsxs("form",{onSubmit:ae=>xe(ae,te),className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),c.jsx(bd,{type:"text",value:y.subject,onChange:ae=>v({...y,subject:ae.target.value}),placeholder:"Message subject"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),c.jsx("textarea",{rows:"5",value:y.message,onChange:ae=>v({...y,message:ae.target.value}),placeholder:"Your message...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white p-2 border"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx(st,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),c.jsxs(st,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700",children:[c.jsx(VV,{className:"h-4 w-4 mr-2"}),"Send"]})]})]})]})]})]}):c.jsx("div",{children:"Funder not found"})}return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-white",children:"Funders Portal"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage and monitor your organizations funders. Invite new funders and view their contribution activity."})]}),c.jsxs(st,{onClick:()=>N(!O),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[c.jsx(FV,{className:"h-4 w-4 mr-2"}),"Invite Funder"]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:X.map(te=>c.jsx(He,{className:"hover:shadow-lg transition-shadow duration-200 hover:-translate-y-1",children:c.jsx(Ke,{className:"p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800",children:te.icon}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:te.label}),c.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:te.value})]})]})})},te.label))}),O&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>N(!1)}),c.jsxs("div",{className:"relative w-full max-w-2xl bg-white/95 backdrop-blur rounded-2xl border border-slate-200 shadow-xl p-6 dark:bg-slate-900/90 dark:border-slate-700 dark:text-slate-100",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Invite New Funder"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Send an invitation to a new funder to join your organization."})]}),c.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Funder Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(bd,{id:"name",name:"name",type:"text",required:!0,value:z.name,onChange:re,placeholder:"John Doe"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Email Address ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx(bd,{id:"email",name:"email",type:"email",required:!0,value:z.email,onChange:re,placeholder:"john@example.com"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"projectId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Assign Project"}),c.jsxs("select",{id:"projectId",name:"projectId",value:z.projectId,onChange:re,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[c.jsx("option",{value:"",children:"Select a project (optional)"}),s.map(te=>c.jsx("option",{value:te.id,children:te.name},te.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),c.jsxs("select",{id:"role",name:"role",value:z.role,onChange:re,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[c.jsx("option",{value:"viewer",children:"Viewer"}),c.jsx("option",{value:"contributor",children:"Contributor"})]})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Custom Message (optional)"}),c.jsx("textarea",{id:"message",name:"message",rows:3,value:z.message,onChange:re,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white",placeholder:"Add a personal message to include in the invitation email."})]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[c.jsx(st,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),c.jsxs(st,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700",children:[c.jsx(VV,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]})]})]}),c.jsxs(He,{children:[c.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[c.jsxs("div",{className:"relative w-full md:max-w-xs",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:c.jsx(c4e,{className:"h-4 w-4 text-gray-400"})}),c.jsx(bd,{type:"text",placeholder:"Search funders...",className:"pl-10",value:A,onChange:te=>C(te.target.value)})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("select",{value:F,onChange:te=>{B(1),M(te.target.value)},className:"rounded-md border-gray-300 text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[c.jsx("option",{value:"all",children:"All statuses"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"suspended",children:"Suspended"})]}),c.jsxs(st,{variant:"outline",size:"sm",children:[c.jsx(DV,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{children:"Funder"}),c.jsx(MV,{className:"h-3.5 w-3.5 text-gray-400"})]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Organization"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Projects"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("span",{children:"Total Funded"}),c.jsx(MV,{className:"h-3.5 w-3.5 text-gray-400"})]})}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Activity"}),c.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800",children:le.length>0?le.map(te=>{var ae;return c.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-medium flex-shrink-0",children:te.name?te.name.charAt(0).toUpperCase():"F"}),c.jsx("div",{className:"ml-4",children:c.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:te.name})})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:te.email||"N/A"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:te.organization||""})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.filter($e=>$e.funderId===te.id).length})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:he(((ae=r.find($e=>$e.funder.id===te.id))==null?void 0:ae.income)||0,u)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${te.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:te.status||"pending"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:(()=>{try{const $e=(o||[]).filter(W=>{const oe=s.find(Ee=>Ee.id===W.projectId);return(W.walletId||(oe?oe.funderId:null))===te.id}).map(W=>new Date(W.date).getTime());return $e.length?new Date(Math.max(...$e)).toLocaleDateString():""}catch{return""}})()})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[c.jsx(st,{variant:"ghost",size:"sm",onClick:()=>e(`/app/funders/portal/${te.id}`),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:"View"}),c.jsx(st,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c.jsx(LV,{className:"h-4 w-4"})}),c.jsx(st,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c.jsx(i4e,{className:"h-4 w-4"})})]})})]},te.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center",children:c.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[c.jsx(BV,{className:"h-12 w-12 text-gray-300 dark:text-gray-600"}),c.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"No funders found"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Get started by inviting a new funder."}),c.jsxs(st,{onClick:()=>N(!0),className:"mt-2",children:[c.jsx(FV,{className:"h-4 w-4 mr-2"}),"Invite Funder"]})]})})})})]})}),se>0&&c.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",c.jsx("span",{className:"font-medium",children:(V-1)*D+1})," to ",c.jsx("span",{className:"font-medium",children:Math.min(V*D,se)})," of"," ",c.jsx("span",{className:"font-medium",children:se})," results"]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(st,{variant:"outline",size:"sm",disabled:V<=1,onClick:()=>B(te=>Math.max(1,te-1)),children:"Previous"}),c.jsx(st,{variant:"outline",size:"sm",disabled:V>=me,onClick:()=>B(te=>Math.min(me,te+1)),children:"Next"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Funders by Status"})}),c.jsx(Ke,{style:{height:240},children:c.jsx(pu,{width:"100%",height:"100%",children:c.jsxs(hj,{children:[c.jsx(Eb,{dataKey:"value",data:[{name:"Active",value:i.filter(te=>(te.status||"pending")==="active").length,color:"#10B981"},{name:"Pending",value:i.filter(te=>(te.status||"pending")==="pending").length,color:"#F59E0B"},{name:"Suspended",value:i.filter(te=>(te.status||"pending")==="suspended").length,color:"#EF4444"}],cx:"50%",cy:"50%",outerRadius:70,label:!0,children:null}),c.jsx(bh,{})]})})})]}),c.jsxs(He,{children:[c.jsx(ct,{children:c.jsx(dt,{children:"Monthly Funds Received"})}),c.jsx(Ke,{style:{height:240},children:c.jsx(pu,{width:"100%",height:"100%",children:c.jsxs(yP,{data:(o||[]).filter(te=>te.status==="posted").reduce((te,ae)=>{const $e=new Date(ae.date),W=`${$e.getFullYear()}-${$e.getMonth()+1}`,oe=$e.toLocaleString(void 0,{month:"short",year:"2-digit"}),ve=te.find(Ee=>Ee.k===W);return ve?ve.amount+=ae.amount:te.push({k:W,label:oe,amount:ae.amount}),te},[]).sort((te,ae)=>te.k.localeCompare(ae.k)),children:[c.jsx(z1,{dataKey:"label"}),c.jsx($1,{}),c.jsx(bh,{}),c.jsx(U1,{dataKey:"amount",fill:"#14B8A6"})]})})})]})]}),U&&c.jsx("div",{className:`fixed right-4 bottom-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white ${U.type==="success"?"bg-emerald-600":U.type==="warning"?"bg-amber-600":"bg-rose-600"}`,children:U.text})]})}const UV=({limit:t=8})=>{const{incomes:e=[],expenses:n=[],funders:r=[],projects:i=[]}=vt(),{currency:s}=lt(),a=x.useMemo(()=>{const f={};return(r||[]).forEach(m=>{f[m.id]=m.name}),f},[r]),o=x.useMemo(()=>{const f={};return(i||[]).forEach(m=>{f[m.id]=m.name}),f},[i]),l=x.useMemo(()=>[...(e||[]).map(m=>({...m,type:"income",funderName:a[m.walletId]||"Organization",projectName:o[m.projectId]||null})),...(n||[]).map(m=>({...m,type:"expense",funderName:a[m.walletId]||"Organization",projectName:o[m.projectId]||null}))].sort((m,p)=>new Date(p.date)-new Date(m.date)).slice(0,t),[e,n,a,o,t]),u=f=>{switch(f){case"posted":return c.jsx(Kde,{className:"w-4 h-4 text-green-600 dark:text-green-400"});case"pending":return c.jsx(nhe,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"});case"rejected":return c.jsx(Che,{className:"w-4 h-4 text-red-600 dark:text-red-400"});default:return null}},d=f=>f==="income"?"bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500":"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500",h=f=>{try{return new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return f}};return c.jsxs("div",{className:"rounded-xl bg-white dark:bg-slate-800 p-4 ring-1 ring-gray-200 dark:ring-slate-700",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Recent Transactions"})}),l.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No transactions yet"})}):c.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:l.map(f=>c.jsxs("div",{className:`${d(f.type)} rounded-lg p-3 flex items-center justify-between`,children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-slate-100",children:f.type==="income"?" Income":" Expense"}),c.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-white dark:bg-slate-700 text-gray-700 dark:text-slate-200",children:f.status})]}),c.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300 truncate",children:f.description||`${f.type==="income"?"Payment from":"Payment to"} ${f.funderName}`}),f.projectName&&c.jsxs("p",{className:"text-xs text-gray-600 dark:text-slate-400 truncate mt-1",children:["Project: ",f.projectName]})]}),c.jsxs("div",{className:"flex items-center gap-3 ml-4 flex-shrink-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:`text-sm font-semibold ${f.type==="income"?"text-green-700 dark:text-green-400":"text-red-700 dark:text-red-400"}`,children:[f.type==="income"?"+":"-",he(f.amount,s)]}),c.jsx("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:h(f.date)})]}),u(f.status)]})]},`${f.type}-${f.id}`))})]})},f4e=()=>{var j;const[t,e]=x.useState(null),[n,r]=x.useState(!1),[i,s]=x.useState(null),a=async()=>{r(!0),s(null);try{if(!(await(await fetch("/api/paystack/create-subaccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orgId:"ORG_ID",name:"Organization Name"})})).json()).subaccount_id)throw new Error("Failed to create subaccount");e("active")}catch(E){s(E.message),e("error")}finally{r(!1)}},[o,l]=x.useState("6M"),{currency:u}=lt(),{paymentMethods:d,deletePaymentMethod:h,setDefaultPaymentMethod:f}=Cz(),{stats:m=[],fundingRows:p={rows:[]},byFunder:y=[],byProject:v=[],seriesMap:b={}}=vt(),w=d.find(E=>E.isDefault)||d[0]||null,_=[{id:1,title:"Funding Gap Alert",description:"Project Alpha is 15% over budget. Consider reallocating from Project Beta.",type:"warning",impact:"high"},{id:2,title:"Donor Retention Opportunity",description:"Top donors show 23% engagement increase. Schedule follow-up calls.",type:"opportunity",impact:"medium"},{id:3,title:"Expense Optimization",description:"Administrative costs can be reduced by 8% through vendor negotiation.",type:"savings",impact:"low"}];return c.jsx(Layout,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payment Integration"}),c.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-300",children:"Connect your organization to Paystack for secure payments and real-time dashboard updates."}),t==="active"?c.jsx("div",{className:"text-green-600 font-medium mb-2",children:"Integration Active"}):c.jsx(st,{onClick:a,disabled:n,children:n?"Setting Up...":"Setup Paystack Integration"}),i&&c.jsx("div",{className:"text-red-600 mt-2",children:i}),c.jsx("div",{className:"mt-4",children:c.jsx(be,{to:"/PAYMENT_SETUP_GUIDE.md",className:"text-blue-500 underline text-sm",children:"View Setup Guide"})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Admin Dashboard"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Comprehensive overview of your organization's financial health and donor relationships."})]}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("select",{value:o,onChange:E=>l(E.target.value),className:"px-3 py-2 rounded-lg bg-white ring-1 ring-gray-200 text-sm focus:outline-none dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:[c.jsx("option",{value:"1M",children:"Last Month"}),c.jsx("option",{value:"3M",children:"Last 3 Months"}),c.jsx("option",{value:"6M",children:"Last 6 Months"}),c.jsx("option",{value:"1Y",children:"Last Year"})]})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:_.map(E=>c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-700 rounded-xl p-4 ring-1 ring-blue-100 dark:ring-slate-600",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(bhe,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100",children:E.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-300 mt-1",children:E.description}),c.jsx("div",{className:"flex items-center gap-2 mt-2",children:c.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${E.impact==="high"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":E.impact==="medium"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:[E.impact," impact"]})})]})]})},E.id))}),d.length>0?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-w-0",children:[c.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-white to-gray-50 dark:from-slate-800 dark:to-slate-900 p-6 ring-1 ring-gray-200 dark:ring-slate-700 shadow-lg hover:shadow-xl transition-shadow duration-300 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-slate-100",children:"Payment Method"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Funds receiver"})]}),c.jsx(be,{to:"/app/integration",className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-colors",children:c.jsx(Ux,{className:"h-5 w-5"})})]}),w&&c.jsxs("div",{className:"space-y-5",children:[c.jsx(mG,{payment:w,onDelete:h,onSetDefault:f,size:"small"}),c.jsxs("div",{className:"space-y-2 pt-3 border-t border-gray-200 dark:border-slate-700",children:[c.jsx(be,{to:"/app/integration",className:"block w-full text-center px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-700 dark:from-indigo-500 dark:to-indigo-600 text-white rounded-xl font-bold text-sm hover:shadow-lg transition-all duration-200 transform hover:scale-105",children:"Manage Methods"}),c.jsxs("p",{className:"text-center text-xs text-gray-500 dark:text-slate-400",children:[d.length," method",d.length!==1?"s":""," saved"]})]})]})]}),c.jsxs("div",{className:"lg:col-span-2 rounded-2xl bg-gradient-to-br from-white to-gray-50 dark:from-slate-800 dark:to-slate-900 p-8 ring-1 ring-gray-200 dark:ring-slate-700 shadow-lg hover:shadow-xl transition-shadow duration-300 min-w-0",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-slate-100",children:"Financial Overview"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Key metrics and performance"})]}),c.jsx("div",{className:"grid grid-cols-2 gap-5",children:m.slice(0,4).map(E=>c.jsx(Rb,{title:E.name,value:E.value,rawValue:E.raw,variant:E.variant,series:b[E.name]},E.name))})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-600 to-indigo-700 dark:from-indigo-500 dark:to-indigo-600 p-8 text-white shadow-xl overflow-hidden relative",children:[c.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full blur-3xl -mr-48 -mt-48"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-white/10 rounded-full blur-3xl -ml-36 -mb-36"}),c.jsx("div",{className:"relative z-10 max-w-2xl",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-md flex-shrink-0",children:c.jsx(lu,{className:"h-8 w-8 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Complete Your Payment Setup"}),c.jsx("p",{className:"text-indigo-100 mb-4",children:"Add a debit card or M-Pesa account to start receiving funds from donors. This is required to display your payment details on the dashboard."}),c.jsx(be,{to:"/app/integration",children:c.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-indigo-600 rounded-xl font-bold hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[c.jsx(Ux,{className:"h-5 w-5"}),"Add Payment Method Now"]})})]})]})})]}),c.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-white to-gray-50 dark:from-slate-800 dark:to-slate-900 p-8 ring-1 ring-gray-200 dark:ring-slate-700 shadow-lg min-w-0",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-slate-100",children:"Financial Overview"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Key metrics and performance"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:m.slice(0,4).map(E=>c.jsx(Rb,{title:E.name,value:E.value,rawValue:E.raw,variant:E.variant,series:b[E.name]},E.name))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-3 min-w-0",children:[c.jsx("div",{className:"lg:col-span-2 min-w-0",children:$b?c.jsx($b,{}):c.jsx("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-slate-700",children:"FundsChart component"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"rounded-xl bg-white dark:bg-slate-800 p-4 ring-1 ring-gray-200 dark:ring-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100 mb-3",children:"Quick Actions"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(be,{to:"/app/income",className:"flex items-center gap-3 p-3 rounded-lg bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[c.jsx(lu,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),c.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Add Income"})]}),c.jsxs(be,{to:"/app/expenses",className:"flex items-center gap-3 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[c.jsx(Qw,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),c.jsx("span",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Add Expense"})]}),c.jsxs(be,{to:"/app/funders",className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[c.jsx(Bz,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),c.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Manage Donors"})]})]})]}),c.jsxs("div",{className:"rounded-xl bg-white dark:bg-slate-800 p-4 ring-1 ring-gray-200 dark:ring-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100 mb-3",children:"Funding Overview"}),c.jsx("div",{className:"space-y-3",children:(j=p.rows)==null?void 0:j.slice(0,3).map(E=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-slate-100 truncate",children:E.funder.name})}),c.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-slate-200",children:he(E.available||0,u)})]},E.funder.id))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-3 mt-6 min-w-0",children:[c.jsx("div",{className:"lg:col-span-2 min-w-0",children:Ym?c.jsx(Ym,{timeRange:o,compact:!0}):c.jsx("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-slate-700",children:"ProjectExpensesStackedBar component"})}),c.jsx("div",{children:Xm?c.jsx(Xm,{compact:!0}):c.jsx("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-slate-700",children:"PieCharts component"})})]}),c.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6 min-w-0",children:[c.jsx("div",{className:"min-w-0",children:UV?c.jsx(UV,{limit:10}):c.jsx("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-slate-700",children:"RecentTransactions component"})}),c.jsx("div",{className:"min-w-0",children:Hb?c.jsx(Hb,{full:!0}):c.jsx("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-slate-700",children:"RecentActivities component"})})]})]})})};let Ky=null;function m4e(){return typeof window>"u"?Promise.reject(new Error("No window")):window.PaystackPop?Promise.resolve(window.PaystackPop):Ky||(Ky=new Promise((t,e)=>{const n=document.createElement("script");n.src="https://js.paystack.co/v1/inline.js",n.async=!0,n.onload=()=>t(window.PaystackPop),n.onerror=()=>e(new Error("Failed to load Paystack script")),document.head.appendChild(n)}),Ky)}async function p4e({key:t,email:e,amount:n,currency:r="KES",reference:i,metadata:s={},onSuccess:a,onCancel:o}){const l=await m4e();if(!l)throw new Error("Paystack not available");const u=Math.round(Number(n||0)*100);if(!t)throw new Error("Missing Paystack public key");if(!e)throw new Error("Missing payer email");if(!u)throw new Error("Invalid amount");l.setup({key:t,email:e,amount:u,currency:r||"KES",ref:i,metadata:s,callback:function(h){try{typeof a=="function"&&a(h)}catch{}},onClose:function(){try{typeof o=="function"&&o()}catch{}}}).openIframe()}const IE=({onSuccess:t,onClose:e,funderId:n})=>{const{user:r}=Vt(),{refreshData:i}=vt(),{activeOrgId:s,currency:a}=lt(),[o,l]=x.useState(""),[u,d]=x.useState(!1),[h,f]=x.useState(""),m=async p=>{if(p.preventDefault(),f(""),!s){f("Organization information is missing. Please refresh and try again.");return}if(!(r!=null&&r.email)){f("Your email is required to process payment. Please log in again.");return}const y=parseFloat(o);if(isNaN(y)||y<=0){f("Please enter a valid amount greater than 0");return}d(!0);try{const v=`DONATION_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;await p4e({key:import.meta.env.REACT_APP_PAYSTACK_PUBLIC_KEY,email:(r==null?void 0:r.email)||"",amount:y*100,currency:a||"NGN",reference:v,metadata:{orgId:s,walletId:n||"ORG",funderId:n||"ORG",userId:r==null?void 0:r.uid,email:r==null?void 0:r.email,name:(r==null?void 0:r.displayName)||"Anonymous Donor",description:`Contribution from ${(r==null?void 0:r.displayName)||(r==null?void 0:r.email)}`},onSuccess:async b=>{console.log("Payment successful:",b),t&&t(b),e&&e(),i&&setTimeout(()=>{i()},2e3)},onCancel:()=>{console.log("Payment cancelled"),d(!1)}})}catch(v){console.error("Payment error:",v),f(v.message||"An error occurred while processing your payment"),d(!1)}};return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Make a Contribution"}),c.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",disabled:u,children:""})]}),h&&c.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:h}),c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount (",a||"NGN",")"]}),c.jsx("input",{type:"number",id:"amount",value:o,onChange:p=>l(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount",min:"1",step:"0.01",required:!0,disabled:u})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[c.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:u,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",disabled:u||!o,children:u?"Processing...":"Proceed to Pay"})]})]})]})},g4e=()=>{var ae,$e;const{user:t}=Vt(),{currency:e,activeOrgId:n}=lt(),{byFunder:r,incomes:i,expenses:s,projects:a,addProject:o,addIncome:l}=vt(),[u,d]=x.useState("Month"),[h,f]=x.useState(""),[m,p]=x.useState(!1),[y,v]=x.useState(!1),[b,w]=x.useState(!1),[_,j]=x.useState(!1),[E,I]=x.useState(!1),[k,S]=x.useState({name:"",funderId:"",allocation:""}),[P,O]=x.useState({amount:"",walletId:"",projectId:"",description:""}),[N,A]=x.useState(""),[C,F]=x.useState(!1),M=W=>{console.log("Contribution successful:",W)},V=()=>c.jsxs("button",{onClick:()=>F(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[c.jsx(lu,{className:"w-5 h-5 mr-2"}),"Make a Contribution"]});x.useEffect(()=>{if(t!=null&&t.id)try{const W=`donor_greeted_${t.id}`;localStorage.getItem(W)==="1"?p(!1):(p(!0),localStorage.setItem(W,"1"))}catch{}},[t==null?void 0:t.id]);const B=x.useMemo(()=>r.find(W=>{var oe;return((oe=W==null?void 0:W.funder)==null?void 0:oe.contact)===(t==null?void 0:t.email)})||r[0]||null,[r,t]),D=(ae=B==null?void 0:B.funder)==null?void 0:ae.id,U=x.useMemo(()=>{if(!D)return{incomes:[],expenses:[]};const W=i.filter(ve=>ve.status==="posted"&&ve.walletId===D),oe=s.filter(ve=>ve.status==="posted"&&ve.walletId===D);return{incomes:W,expenses:oe}},[D,i,s]),H=x.useMemo(()=>{if(!D)return[];const W=a.filter(ve=>ve.funderId===D);if(!h)return W;const oe=h.toLowerCase();return W.filter(ve=>(ve.name||"").toLowerCase().includes(oe)||String(ve.projectName||"").toLowerCase().includes(oe))},[D,a,h]),X=x.useMemo(()=>{const W=U.incomes.reduce((Ee,Ve)=>Ee+(Ve.amount||0),0),oe=U.expenses.reduce((Ee,Ve)=>Ee+(Ve.amount||0),0),ve=(B==null?void 0:B.available)??Math.max(W-oe,0);return{totalDonated:W,totalSpent:oe,remaining:ve,activeProjects:H.length,sparkline:U.expenses.slice(-12).map(Ee=>Ee.amount||0)}},[U,H.length,B]),z=x.useMemo(()=>{const W=[...U.incomes,...U.expenses];if(!h)return W;const oe=h.toLowerCase();return W.filter(ve=>String(ve.projectName||"").toLowerCase().includes(oe)||String(ve.category||"").toLowerCase().includes(oe)||String(ve.description||"").toLowerCase().includes(oe))},[U,h]),Q=Array.isArray(r)?r.map(W=>W==null?void 0:W.funder).filter(Boolean):[],re=[{id:"ORG",name:"Organization"},...Q.map(W=>({id:W.id,name:W.name||W.id}))],ue=async()=>{if(A(""),!k.name||!(k.funderId||k.funderId==="ORG")){A("Please provide a name and select a funding source.");return}try{j(!0);const W=await o({name:k.name,funderId:k.funderId||"ORG",allocation:Number(k.allocation||0)});W!=null&&W.success?(v(!1),S({name:"",funderId:"",allocation:""})):A((W==null?void 0:W.error)||"Failed to create project")}finally{j(!1)}},Ce=async()=>{if(A(""),!P.amount||!P.walletId){A("Please enter amount and select a wallet.");return}try{I(!0);const W=await l({amount:Number(P.amount||0),walletId:P.walletId,projectId:P.projectId||null,description:P.description||""});W!=null&&W.success?(w(!1),O({amount:"",walletId:"",projectId:"",description:""})):A((W==null?void 0:W.error)||"Failed to create income")}finally{I(!1)}},xe=()=>{const W=["Date","Project","Category","Amount","Status"],oe=z.map($=>[$.date?new Date($.date).toISOString().split("T")[0]:"",$.projectName||"",$.category||($.amount>0?"Donation":"Expense"),String($.amount||0),$.status||"posted"]),ve=[W,...oe].map($=>$.map(je=>`"${String(je).replace(/"/g,'""')}"`).join(",")).join(`
`),Ee=new Blob([ve],{type:"text/csv;charset=utf-8;"}),Ve=URL.createObjectURL(Ee),Ot=document.createElement("a");Ot.href=Ve,Ot.download="transactions.csv",Ot.click(),URL.revokeObjectURL(Ve)},Je=!Array.isArray(r)||!B&&i.length===0&&s.length===0,se=()=>c.jsx("div",{className:"animate-pulse rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-slate-100 dark:bg-slate-800 h-28"}),me=()=>c.jsx("tr",{className:"animate-pulse",children:c.jsx("td",{colSpan:6,className:"py-3",children:c.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded"})})}),le=x.useMemo(()=>{const W={};U.expenses.forEach(ve=>{const Ee=ve.category||"Other";W[Ee]=(W[Ee]||0)+(ve.amount||0)});const oe=Object.values(W).reduce((ve,Ee)=>ve+Ee,0)||1;return Object.entries(W).map(([ve,Ee])=>({label:ve,value:Ee,pct:Ee/oe*100}))},[U]),ee=x.useMemo(()=>{const W={},oe=Ee=>{const Ve=new Date(Ee);return u==="Week"?`${Ve.getFullYear()}-W${Math.ceil(Ve.getDate()/7)}`:u==="Year"?`${Ve.getFullYear()}`:`${Ve.getFullYear()}-${String(Ve.getMonth()+1).padStart(2,"0")}`};return U.expenses.forEach(Ee=>{const Ve=oe(Ee.date||Ee.createdAt||Date.now());W[Ve]=(W[Ve]||0)+(Ee.amount||0)}),Object.entries(W).sort((Ee,Ve)=>Ee[0]>Ve[0]?1:-1).map(([Ee,Ve])=>({label:Ee,value:Ve}))},[U,u]),kt=({data:W=[],color:oe="#22c55e"})=>{const Ot=Math.max(1,...W),$=(120-4*2)/Math.max(1,W.length-1),et=W.map((Me,Ht)=>[4+Ht*$,28-Me/Ot*(32-4*2)]).map((Me,Ht)=>`${Ht?"L":"M"}${Me[0]},${Me[1]}`).join(" ");return c.jsx("svg",{width:120,height:32,className:"absolute right-2 bottom-2 opacity-30",children:c.jsx("path",{d:et,fill:"none",stroke:oe,strokeWidth:"2"})})},Be=({slices:W})=>{let Ot=0;const $=["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#f472b6"];return c.jsx("svg",{width:160,height:160,viewBox:"0 0 180 180",children:W.map((je,et)=>{const Me=je.pct/100*Math.PI*2,Ht=90+70*Math.cos(Ot),w0=90+70*Math.sin(Ot),_0=90+70*Math.cos(Ot+Me),c_=90+70*Math.sin(Ot+Me),Wl=Me>Math.PI?1:0,S0=`M 90 90 L ${Ht} ${w0} A 70 70 0 ${Wl} 1 ${_0} ${c_} Z`;return Ot+=Me,c.jsx("path",{d:S0,fill:$[et%$.length],opacity:.9},et)})})},te=({points:W})=>{const Ve=Math.max(1,...W.map(je=>je.value)),Ot=(420-24*2)/Math.max(1,W.length-1),$=W.map((je,et)=>{const Me=24+et*Ot,Ht=136-je.value/Ve*(160-24*2);return`${et?"L":"M"}${Me},${Ht}`}).join(" ");return c.jsx("svg",{width:420,height:160,className:"w-full",children:c.jsx("path",{d:$,fill:"none",stroke:"#6366f1",strokeWidth:"2"})})};return B?c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl dark:text-slate-100",children:[m?"Welcome":"Welcome back",", ",(($e=t==null?void 0:t.name)==null?void 0:$e.split(" ")[0])||"Funder"]}),c.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Your giving at a glance"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{value:h,onChange:W=>f(W.target.value),className:"hidden md:block bg-white dark:bg-slate-800 text-sm outline-none placeholder:text-slate-400 w-56 px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700",placeholder:"Search (projects, transactions)"}),c.jsx("button",{onClick:()=>{v(!0),A("")},className:"hidden sm:inline-flex items-center text-xs px-2 py-1 rounded-md ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700",children:"New Project"}),c.jsx("button",{onClick:()=>{w(!0),A("")},className:"hidden sm:inline-flex items-center text-xs px-2 py-1 rounded-md ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Record Income"}),V()]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"relative rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-gradient-to-br from-white to-sky-50 dark:from-slate-800 dark:to-slate-800/60 shadow-md hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(lu,{className:"h-7 w-7 text-emerald-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Total Funds Contributed"}),c.jsx("p",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:he(X.totalDonated,e)})]})]}),c.jsx(kt,{data:X.sparkline,color:"#10b981"})]}),c.jsxs("div",{className:"relative rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-gradient-to-br from-white to-indigo-50 dark:from-slate-800 dark:to-slate-800/60 shadow-md hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Qw,{className:"h-7 w-7 text-indigo-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Total Spent"}),c.jsx("p",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:he(X.totalSpent,e)})]})]}),c.jsx(kt,{data:X.sparkline,color:"#6366f1"})]}),c.jsxs("div",{className:"relative rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-gradient-to-br from-white to-amber-50 dark:from-slate-800 dark:to-slate-800/60 shadow-md hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(dhe,{className:"h-7 w-7 text-amber-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Remaining Balance"}),c.jsx("p",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:he(X.remaining,e)})]})]}),c.jsx(kt,{data:X.sparkline,color:"#f59e0b"})]}),c.jsxs("div",{className:"relative rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-gradient-to-br from-white to-rose-50 dark:from-slate-800 dark:to-slate-800/60 shadow-md hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(mA,{className:"h-7 w-7 text-pink-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Active Projects Supported"}),c.jsx("p",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:X.activeProjects})]})]}),c.jsx(kt,{data:X.sparkline,color:"#ec4899"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5 shadow-sm",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Funding Allocation"})}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx(Be,{slices:le}),c.jsxs("ul",{className:"text-sm space-y-2",children:[le.map((W,oe)=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-full ring-1 ring-slate-200 dark:ring-slate-700 bg-slate-50 dark:bg-slate-900/40",title:`${W.label}  ${he(W.value,e)}`,children:[c.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#f472b6"][oe%6]}}),c.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:W.label})]}),c.jsx("span",{className:"ml-auto text-slate-500",children:he(W.value,e)})]},oe)),le.length===0&&c.jsx("li",{className:"text-slate-500",children:"No spending yet."})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Spending Over Time"}),c.jsx("div",{className:"flex gap-2 text-xs",children:["Week","Month","Year"].map(W=>c.jsx("button",{onClick:()=>d(W),className:`px-2 py-1 rounded border ${u===W?"bg-slate-900 text-white dark:bg-slate-100 dark:text-slate-900":"border-slate-300 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,children:W},W))})]}),c.jsx(te,{points:ee})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5 shadow-sm",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Supported Projects"}),H.length?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:H.map(W=>{const oe=W.used||0,ve=W.allocation||0,Ee=ve?Math.min(100,Math.round(oe/ve*100)):0;return c.jsxs("div",{className:"rounded-lg ring-1 ring-slate-200 dark:ring-slate-700 p-4 bg-white dark:bg-slate-800 shadow-sm hover:shadow-lg transition-all duration-200 hover:-translate-y-0.5",children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:W.name}),c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Budget ",he(ve,e),"  Spent ",he(oe,e),"  Balance ",he(Math.max(ve-oe,0),e)]}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[Ee,"%"]})]}),c.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded",children:c.jsx("div",{className:"h-2 bg-gradient-to-r from-emerald-400 to-sky-500 rounded",style:{width:`${Ee}%`}})})]}),c.jsx("div",{className:"mt-3",children:c.jsx(be,{to:`/donor/projects/${W.id}`,className:"inline-flex items-center text-xs px-2 py-1 rounded-md ring-1 ring-slate-200 dark:ring-slate-700 text-sky-700 dark:text-sky-300 hover:bg-sky-50/60 dark:hover:bg-slate-800/60 transition",children:"View Details"})})]},W.id)})}):Je?c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[c.jsx("div",{className:"rounded-lg",children:c.jsx(se,{})}),c.jsx("div",{className:"rounded-lg",children:c.jsx(se,{})}),c.jsx("div",{className:"rounded-lg",children:c.jsx(se,{})})]}):c.jsx("div",{className:"text-sm text-slate-500",children:"No funded projects yet."})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Recent Transactions"}),c.jsxs("button",{onClick:xe,className:"flex items-center gap-2 text-xs px-2 py-1 rounded ring-1 ring-slate-200 dark:ring-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition",children:[c.jsx(ohe,{className:"h-4 w-4"})," Export CSV"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"text-left text-slate-500",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-2 pr-4",children:"Date"}),c.jsx("th",{className:"py-2 pr-4",children:"Project"}),c.jsx("th",{className:"py-2 pr-4",children:"Category"}),c.jsx("th",{className:"py-2 pr-4",children:"Amount"}),c.jsx("th",{className:"py-2 pr-4",children:"Status"}),c.jsx("th",{className:"py-2 pr-4",children:"Receipt"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[z.sort((W,oe)=>new Date(oe.date||0)-new Date(W.date||0)).slice(0,10).map(W=>c.jsxs("tr",{className:"odd:bg-slate-50/40 dark:odd:bg-slate-900/30 hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:[c.jsx("td",{className:"py-2 pr-4 text-slate-700 dark:text-slate-200",children:W.date?new Date(W.date).toLocaleDateString():"-"}),c.jsx("td",{className:"py-2 pr-4",children:W.projectName||""}),c.jsx("td",{className:"py-2 pr-4",children:W.category||(W.amount>0?"Donation":"Expense")}),c.jsxs("td",{className:`py-2 pr-4 font-medium ${W.amount>0?"text-emerald-600 dark:text-emerald-400":"text-rose-600 dark:text-rose-400"}`,children:[W.amount>0?"+":"",he(W.amount||0,e)]}),c.jsx("td",{className:"py-2 pr-4",children:W.status||"posted"}),c.jsx("td",{className:"py-2 pr-4",children:W.receiptUrl?c.jsx("a",{href:W.receiptUrl,target:"_blank",rel:"noreferrer",className:"text-sky-600 dark:text-sky-400 hover:underline",children:"View"}):c.jsx("span",{className:"text-slate-400",children:""})})]},W.id)),z.length===0&&(Je?c.jsx(me,{}):c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"py-6 text-center text-slate-500",children:"No transactions yet."})}))]})]})})]}),C&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>F(!1)}),c.jsx("div",{className:"relative z-10",children:c.jsx(IE,{onSuccess:M,onClose:()=>F(!1),funderId:D})})]})]}):c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"text-center py-12",children:[c.jsx(mA,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-slate-100",children:"No donor profile found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:"Please contact support if you believe this is an error."})]}),y&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>v(!1)}),c.jsxs("div",{className:"relative w-full max-w-md mx-auto bg-white dark:bg-slate-900 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5 shadow-lg",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Create Project"}),N&&c.jsx("div",{className:"mb-3 text-xs text-rose-600 dark:text-rose-400",children:N}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs mb-1 text-slate-600 dark:text-slate-300",children:"Name"}),c.jsx("input",{value:k.name,onChange:W=>S(oe=>({...oe,name:W.target.value})),className:"w-full text-sm px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs mb-1 text-slate-600 dark:text-slate-300",children:"Funding Source"}),c.jsxs("select",{value:k.funderId,onChange:W=>S(oe=>({...oe,funderId:W.target.value})),className:"w-full text-sm px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800",children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"ORG",children:"Organization"}),Q.map(W=>c.jsx("option",{value:W.id,children:W.name||W.id},W.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs mb-1 text-slate-600 dark:text-slate-300",children:"Allocation"}),c.jsx("input",{type:"number",min:"0",step:"0.01",value:k.allocation,onChange:W=>S(oe=>({...oe,allocation:W.target.value})),className:"w-full text-sm px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800"})]})]}),c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx("button",{onClick:()=>v(!1),className:"text-xs px-3 py-1.5 rounded-md ring-1 ring-slate-200 dark:ring-slate-700",children:"Cancel"}),c.jsx("button",{disabled:_,onClick:ue,className:"text-xs px-3 py-1.5 rounded-md bg-sky-600 text-white disabled:opacity-60",children:_?"Saving...":"Create Project"})]})]})]}),C&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>F(!1)}),c.jsx("div",{className:"relative z-10",children:c.jsx(IE,{onSuccess:M,onClose:()=>F(!1),funderId:D})})]}),b&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>w(!1)}),c.jsxs("div",{className:"relative w-full max-w-md mx-auto bg-white dark:bg-slate-900 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5 shadow-lg",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 mb-3",children:"Record Income"}),N&&c.jsx("div",{className:"mb-3 text-xs text-rose-600 dark:text-rose-400",children:N}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs mb-1 text-slate-600 dark:text-slate-300",children:"Amount"}),c.jsx("input",{type:"number",min:"0",step:"0.01",value:P.amount,onChange:W=>O(oe=>({...oe,amount:W.target.value})),className:"w-full text-sm px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs mb-1 text-slate-600 dark:text-slate-300",children:"Wallet"}),c.jsxs("select",{value:P.walletId,onChange:W=>O(oe=>({...oe,walletId:W.target.value})),className:"w-full text-sm px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800",children:[c.jsx("option",{value:"",children:"Select..."}),re.map(W=>c.jsx("option",{value:W.id,children:W.name},W.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs mb-1 text-slate-600 dark:text-slate-300",children:"Project (optional)"}),c.jsxs("select",{value:P.projectId,onChange:W=>O(oe=>({...oe,projectId:W.target.value})),className:"w-full text-sm px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800",children:[c.jsx("option",{value:"",children:"None"}),a.map(W=>c.jsx("option",{value:W.id,children:W.name},W.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs mb-1 text-slate-600 dark:text-slate-300",children:"Description"}),c.jsx("input",{value:P.description,onChange:W=>O(oe=>({...oe,description:W.target.value})),className:"w-full text-sm px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800"})]})]}),c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx("button",{onClick:()=>w(!1),className:"text-xs px-3 py-1.5 rounded-md ring-1 ring-slate-200 dark:ring-slate-700",children:"Cancel"}),c.jsx("button",{disabled:E,onClick:Ce,className:"text-xs px-3 py-1.5 rounded-md bg-sky-600 text-white disabled:opacity-60",children:E?"Saving...":"Record Income"})]})]})]}),C&&c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>F(!1)}),c.jsx("div",{className:"relative z-10",children:c.jsx(IE,{onSuccess:M,onClose:()=>F(!1),funderId:D})})]})]})},y4e=({slices:t})=>{let s=0;const a=["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#f472b6"];return c.jsx("svg",{width:200,height:200,viewBox:"0 0 200 200",children:t.map((o,l)=>{const u=o.pct/100*Math.PI*2,d=100+80*Math.cos(s),h=100+80*Math.sin(s),f=100+80*Math.cos(s+u),m=100+80*Math.sin(s+u),p=u>Math.PI?1:0,y=`M 100 100 L ${d} ${h} A 80 80 0 ${p} 1 ${f} ${m} Z`;return s+=u,c.jsx("path",{d:y,fill:a[l%a.length],opacity:.9},l)})})},v4e=({data:t})=>{const e=Math.max(1,...t.map(n=>n.value));return c.jsx("div",{className:"space-y-2",children:t.map((n,r)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[c.jsx("span",{children:n.label}),c.jsx("span",{children:n.value})]}),c.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded",children:c.jsx("div",{className:"h-2 bg-indigo-500 rounded",style:{width:`${n.value/e*100}%`}})})]},r))})};function x4e(){const{currency:t}=lt(),{incomes:e,expenses:n}=vt(),[r,i]=x.useState(null),s=x.useMemo(()=>e.filter(d=>d.status==="posted"&&(!r||d.walletId===r)),[e,r]),a=x.useMemo(()=>n.filter(d=>d.status==="posted"&&(!r||d.walletId===r)),[n,r]),o=x.useMemo(()=>{const d={};a.forEach(f=>{const m=f.category||"Other";d[m]=(d[m]||0)+(f.amount||0)});const h=Object.values(d).reduce((f,m)=>f+m,0)||1;return Object.entries(d).map(([f,m])=>({label:f,value:m,pct:m/h*100}))},[a]),l=x.useMemo(()=>o.map(d=>({label:d.label,value:d.value})),[o]),u=x.useMemo(()=>{const d=s.reduce((f,m)=>f+(m.amount||0),0),h=a.reduce((f,m)=>f+(m.amount||0),0);return{inc:d,exp:h,bal:d-h}},[s,a]);return c.jsxs("div",{className:"space-y-6 p-6",children:[c.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Funding Overview"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Fund Allocation"}),c.jsxs("div",{className:"flex items-start gap-6",children:[c.jsx(y4e,{slices:o}),c.jsxs("ul",{className:"text-sm space-y-1",children:[o.map((d,h)=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#f472b6"][h%6]}}),d.label,c.jsx("span",{className:"ml-auto text-slate-500",children:he(d.value,t)})]},h)),o.length===0&&c.jsx("li",{className:"text-slate-500",children:"No spending yet."})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Category Spending"}),c.jsx(v4e,{data:l})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Total Contributed"}),c.jsx("div",{className:"text-2xl font-semibold",children:he(u.inc,t)})]}),c.jsxs("div",{className:"rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Total Spent"}),c.jsx("div",{className:"text-2xl font-semibold",children:he(u.exp,t)})]}),c.jsxs("div",{className:"rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Remaining Balance"}),c.jsx("div",{className:"text-2xl font-semibold",children:he(u.bal,t)})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Contributions History"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"text-left text-slate-500",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-2 pr-4",children:"Date"}),c.jsx("th",{className:"py-2 pr-4",children:"Project"}),c.jsx("th",{className:"py-2 pr-4",children:"Amount"}),c.jsx("th",{className:"py-2 pr-4",children:"Status"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[s.slice(0,50).map(d=>c.jsxs("tr",{children:[c.jsx("td",{className:"py-2 pr-4",children:d.date?new Date(d.date).toLocaleDateString():"-"}),c.jsx("td",{className:"py-2 pr-4",children:d.projectName||""}),c.jsxs("td",{className:"py-2 pr-4 font-medium text-emerald-600",children:["+",he(d.amount||0,t)]}),c.jsx("td",{className:"py-2 pr-4",children:d.status})]},d.id)),s.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"py-6 text-center text-slate-500",children:"No contributions yet."})})]})]})})]})]})}function b4e(){var v;const{currency:t}=lt(),{expenses:e,incomes:n,projects:r}=vt(),[i,s]=x.useState(""),[a,o]=x.useState(""),[l,u]=x.useState(""),[d,h]=x.useState(""),[f,m]=x.useState(null),p=x.useMemo(()=>[...n.map(w=>({...w,kind:"income"})),...e.map(w=>({...w,kind:"expense"}))].filter(w=>(!i||(w.category||(w.amount>0?"Donation":"Expense"))===i)&&(!a||w.projectId===a)&&(!l||w.status===l)&&(!d||(w.date||"").startsWith(d))),[n,e,i,a,l,d]),y=x.useMemo(()=>Array.from(new Set(e.map(b=>b.category||"Expense"))),[e]);return c.jsxs("div",{className:"space-y-4 p-6",children:[c.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Transactions"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[c.jsxs("select",{value:i,onChange:b=>s(b.target.value),className:"rounded ring-1 ring-slate-300 dark:ring-slate-700 bg-white dark:bg-slate-800 p-2 text-sm",children:[c.jsx("option",{value:"",children:"All Categories"}),y.map((b,w)=>c.jsx("option",{value:b,children:b},w))]}),c.jsxs("select",{value:a,onChange:b=>o(b.target.value),className:"rounded ring-1 ring-slate-300 dark:ring-slate-700 bg-white dark:bg-slate-800 p-2 text-sm",children:[c.jsx("option",{value:"",children:"All Projects"}),r.map(b=>c.jsx("option",{value:b.id,children:b.name},b.id))]}),c.jsxs("select",{value:l,onChange:b=>u(b.target.value),className:"rounded ring-1 ring-slate-300 dark:ring-slate-700 bg-white dark:bg-slate-800 p-2 text-sm",children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{children:"posted"}),c.jsx("option",{children:"pending"}),c.jsx("option",{children:"rejected"})]}),c.jsx("input",{type:"date",value:d,onChange:b=>h(b.target.value),className:"rounded ring-1 ring-slate-300 dark:ring-slate-700 bg-white dark:bg-slate-800 p-2 text-sm"})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"text-left text-slate-500",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-2 pr-4",children:"Date"}),c.jsx("th",{className:"py-2 pr-4",children:"Category"}),c.jsx("th",{className:"py-2 pr-4",children:"Amount"}),c.jsx("th",{className:"py-2 pr-4",children:"Project"}),c.jsx("th",{className:"py-2 pr-4",children:"Status"}),c.jsx("th",{className:"py-2 pr-4",children:"Receipt"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[p.slice(0,100).map(b=>{var w;return c.jsxs("tr",{onClick:()=>m(b),className:"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[c.jsx("td",{className:"py-2 pr-4",children:b.date?new Date(b.date).toLocaleDateString():"-"}),c.jsx("td",{className:"py-2 pr-4",children:b.category||(b.kind==="income"?"Donation":"Expense")}),c.jsxs("td",{className:`py-2 pr-4 font-medium ${b.kind==="income"?"text-emerald-600":"text-rose-600"}`,children:[b.kind==="income"?"+":"",he(b.amount||0,t)]}),c.jsx("td",{className:"py-2 pr-4",children:((w=r.find(_=>_.id===b.projectId))==null?void 0:w.name)||""}),c.jsx("td",{className:"py-2 pr-4",children:b.status||"posted"}),c.jsx("td",{className:"py-2 pr-4",children:b.receiptUrl?c.jsx("a",{href:b.receiptUrl,target:"_blank",rel:"noreferrer",className:"text-sky-600 dark:text-sky-400 hover:underline",children:"View"}):c.jsx("span",{className:"text-slate-400",children:""})})]},b.id)}),p.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"py-6 text-center text-slate-500",children:"No transactions match your filters."})})]})]})})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50",onClick:()=>m(null),children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-lg p-5 ring-1 ring-slate-200 dark:ring-slate-700",onClick:b=>b.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Transaction Details"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Type:"})," ",f.kind]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Date:"})," ",f.date?new Date(f.date).toLocaleString():"-"]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Category:"})," ",f.category||(f.kind==="income"?"Donation":"Expense")]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Amount:"})," ",he(f.amount||0,t)]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Project:"})," ",((v=r.find(b=>b.id===f.projectId))==null?void 0:v.name)||""]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Status:"})," ",f.status||"posted"]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-500",children:"Description:"})," ",f.description||""]})]}),c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 text-sm rounded ring-1 ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Close"}),f.receiptUrl&&c.jsx("a",{href:f.receiptUrl,target:"_blank",rel:"noreferrer",className:"px-4 py-2 text-sm rounded bg-sky-600 text-white",children:"Open Receipt"})]})]})})]})}function w4e(){const{currency:t}=lt(),{projects:e,expenses:n}=vt(),r=x.useMemo(()=>{const i={};return e.forEach(s=>{i[s.id]={...s,used:0}}),n.filter(s=>s.status==="posted").forEach(s=>{s.projectId&&i[s.projectId]&&(i[s.projectId].used+=s.amount||0)}),Object.values(i)},[e,n]);return c.jsxs("div",{className:"space-y-4 p-6",children:[c.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Supported Projects"}),r.length?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:r.map(i=>{const s=i.allocation||0,a=i.used||0,o=s?Math.min(100,Math.round(a/s*100)):0;return c.jsxs("div",{className:"rounded-lg ring-1 ring-slate-200 dark:ring-slate-700 p-4 bg-white dark:bg-slate-800",children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:i.name}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:i.description||""}),c.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:["Budget ",he(s,t),"  Spent ",he(a,t),"  Balance ",he(Math.max(s-a,0),t)]}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[o,"%"]})]}),c.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded",children:c.jsx("div",{className:"h-2 bg-gradient-to-r from-emerald-400 to-sky-500 rounded",style:{width:`${o}%`}})})]}),c.jsx("div",{className:"mt-3",children:c.jsx(be,{to:`/donor/projects/${i.id}`,className:"text-xs text-sky-600 dark:text-sky-400 hover:underline",children:"View Details"})})]},i.id)})}):c.jsx("div",{className:"text-sm text-slate-500",children:"No projects found."})]})}const _4e=({slices:t})=>{let s=0;const a=["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#f472b6"];return c.jsx("svg",{width:180,height:180,viewBox:"0 0 180 180",children:t.map((o,l)=>{const u=o.pct/100*Math.PI*2,d=90+70*Math.cos(s),h=90+70*Math.sin(s),f=90+70*Math.cos(s+u),m=90+70*Math.sin(s+u),p=u>Math.PI?1:0,y=`M 90 90 L ${d} ${h} A 70 70 0 ${p} 1 ${f} ${m} Z`;return s+=u,c.jsx("path",{d:y,fill:a[l%a.length],opacity:.9},l)})})},S4e=({points:t})=>{const i=Math.max(1,...t.map(o=>o.value)),s=(420-24*2)/Math.max(1,t.length-1),a=t.map((o,l)=>{const u=24+l*s,d=136-o.value/i*(160-24*2);return`${l?"L":"M"}${u},${d}`}).join(" ");return c.jsx("svg",{width:420,height:160,className:"w-full",children:c.jsx("path",{d:a,fill:"none",stroke:"#6366f1",strokeWidth:"2"})})};function E4e(){const{id:t}=xw(),{currency:e}=lt(),{projects:n,expenses:r}=vt(),i=n.find(d=>d.id===t),s=r.filter(d=>d.projectId===t&&d.status==="posted"),a=x.useMemo(()=>{const d={};s.forEach(f=>{const m=f.category||"Other";d[m]=(d[m]||0)+(f.amount||0)});const h=Object.values(d).reduce((f,m)=>f+m,0)||1;return Object.entries(d).map(([f,m])=>({label:f,value:m,pct:m/h*100}))},[s]),o=x.useMemo(()=>{const d={};return s.forEach(h=>{const f=new Date(h.date||Date.now()),m=`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}`;d[m]=(d[m]||0)+(h.amount||0)}),Object.entries(d).sort((h,f)=>h[0]>f[0]?1:-1).map(([h,f])=>({label:h,value:f}))},[s]),l=s.reduce((d,h)=>d+(h.amount||0),0),u=(i==null?void 0:i.allocation)||0;return c.jsxs("div",{className:"space-y-6 p-6",children:[c.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:(i==null?void 0:i.name)||"Project"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Budget"}),c.jsx("div",{className:"text-2xl font-semibold",children:he(u,e)})]}),c.jsxs("div",{className:"rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Spent"}),c.jsx("div",{className:"text-2xl font-semibold",children:he(l,e)})]}),c.jsxs("div",{className:"rounded-xl p-5 ring-1 ring-slate-200 dark:ring-slate-700 bg-white dark:bg-slate-800",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Balance"}),c.jsx("div",{className:"text-2xl font-semibold",children:he(Math.max(u-l,0),e)})]})]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Category Breakdown"}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx(_4e,{slices:a}),c.jsxs("ul",{className:"text-sm space-y-1",children:[a.map((d,h)=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#f472b6"][h%6]}}),d.label,c.jsx("span",{className:"ml-auto text-slate-500",children:he(d.value,e)})]},h)),a.length===0&&c.jsx("li",{className:"text-slate-500",children:"No spending yet."})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Spending Timeline"}),c.jsx(S4e,{points:o})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Transactions"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"text-left text-slate-500",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-2 pr-4",children:"Date"}),c.jsx("th",{className:"py-2 pr-4",children:"Category"}),c.jsx("th",{className:"py-2 pr-4",children:"Amount"}),c.jsx("th",{className:"py-2 pr-4",children:"Status"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[s.map(d=>c.jsxs("tr",{children:[c.jsx("td",{className:"py-2 pr-4",children:d.date?new Date(d.date).toLocaleDateString():"-"}),c.jsx("td",{className:"py-2 pr-4",children:d.category||"Expense"}),c.jsxs("td",{className:"py-2 pr-4 font-medium text-rose-600",children:["-",he(d.amount||0,e)]}),c.jsx("td",{className:"py-2 pr-4",children:d.status})]},d.id)),s.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"py-6 text-center text-slate-500",children:"No expenses yet."})})]})]})})]})]})}function k4e(){const t=[{id:"monthly",name:"Monthly Report (PDF)"},{id:"project",name:"Project Report (Excel)"},{id:"annual",name:"Annual Impact Report (PDF)"}],e=n=>{alert(`Generating ${n} report... (placeholder)`)};return c.jsxs("div",{className:"space-y-4 p-6",children:[c.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Documents & Reports"}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5",children:c.jsx("ul",{className:"space-y-3",children:t.map(n=>c.jsxs("li",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm text-slate-800 dark:text-slate-200",children:n.name}),c.jsx("button",{onClick:()=>e(n.id),className:"px-3 py-1.5 text-xs rounded bg-sky-600 text-white",children:"Generate Report"})]},n.id))})})]})}function A4e(){const{user:t,updateUser:e,resetPassword:n}=Vt(),[r,i]=x.useState((t==null?void 0:t.name)||""),[s,a]=x.useState(!0),[o,l]=x.useState(""),u=async()=>{await e({name:r}),l("Profile updated")},d=async()=>{if(!(t!=null&&t.email))return;const h=await n(t.email);l(h!=null&&h.success?"Password reset email sent":(h==null?void 0:h.error)||"Failed to send reset email")};return c.jsxs("div",{className:"space-y-4 p-6",children:[c.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Account Settings"}),o&&c.jsx("div",{className:"text-sm text-emerald-600",children:o}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Full Name"}),c.jsx("input",{value:r,onChange:h=>i(h.target.value),className:"w-full rounded p-2 ring-1 ring-slate-300 dark:ring-slate-700 bg-white dark:bg-slate-900 text-sm"})]}),c.jsx("div",{children:c.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[c.jsx("input",{type:"checkbox",checked:s,onChange:h=>a(h.target.checked)})," Email Notifications"]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:u,className:"px-4 py-2 text-sm rounded bg-sky-600 text-white",children:"Save"}),c.jsx("button",{onClick:d,className:"px-4 py-2 text-sm rounded ring-1 ring-slate-300 dark:ring-slate-700",children:"Change Password"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl ring-1 ring-slate-200 dark:ring-slate-700 p-5",children:[c.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Connected Organizations"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Coming soon."})]})]})}function zV({collapsed:t,onToggleCollapse:e,onNavigate:n}){const r=ii(),{user:i,logout:s}=Vt(),{isDark:a,toggleTheme:o}=da(),l=[{name:"Dashboard",href:"/donor",icon:Vz},{name:"Funding",href:"/donor/funding",icon:Dg},{name:"Transactions",href:"/donor/transactions",icon:che},{name:"Projects",href:"/donor/projects",icon:Lz},{name:"Reports",href:"/donor/documents",icon:Qw},{name:"Settings",href:"/donor/settings",icon:Mz}];return c.jsxs("div",{className:`flex min-h-0 flex-1 flex-col sidebar-modern pt-6 ${t?"w-20":"w-64"} transition-all duration-200`,children:[c.jsx("div",{className:`flex h-24 flex-shrink-0 items-center ${t?"justify-center px-4":"px-6"}`,children:c.jsx("div",{className:`w-full ${t?"flex items-center justify-center":""}`,children:c.jsxs("div",{className:`flex items-center ${t?"":"gap-3"}`,children:[c.jsx("div",{className:`h-10 w-10 ${t?"rounded-full":"rounded-lg"} flex items-center justify-center text-white font-bold bg-gradient-to-br from-sky-500 to-indigo-600 shadow-sm`,children:c.jsx("span",{className:"text-sm md:text-base","aria-hidden":"true",children:"F"})}),!t&&c.jsxs("div",{className:"leading-tight",children:[c.jsx("div",{className:"text-lg font-extrabold text-gray-900 brand-logo dark:text-slate-100",children:"Fundify"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Funders Portal"})]}),e&&c.jsx("div",{className:"ml-auto flex items-center",children:t?c.jsx("button",{type:"button",onClick:e,title:"Expand sidebar",className:"ml-3 inline-flex items-center justify-center p-1 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-800","aria-label":"Expand sidebar",children:c.jsx(fA,{className:"h-5 w-5"})}):c.jsx("button",{type:"button",onClick:e,title:"Collapse sidebar",className:"ml-3 inline-flex items-center justify-center p-1 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-800","aria-label":"Collapse sidebar",children:c.jsx(Rz,{className:"h-5 w-5"})})})]})})}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx("nav",{className:"flex-1 space-y-2 py-5",children:l.map(u=>{const d=r.pathname.startsWith(u.href);return c.jsxs(be,{to:u.href,onClick:()=>{n&&n()},"aria-current":d?"page":void 0,"aria-label":u.name,className:`nav-item group flex items-center ${t?"justify-center py-3 text-gray-600 p-2 rounded-full":`px-3 py-2 rounded-lg text-sm font-medium text-slate-700 transition ${d?"active-link shadow-sm":"hover:bg-gradient-to-r hover:from-sky-50 hover:to-indigo-50 hover:text-sky-600"}`}`,children:[!t&&c.jsx("span",{className:`h-8 w-1 rounded-r-full mr-3 ${d?"bg-sky-600":"bg-transparent"}`}),c.jsx("div",{className:`${t?"p-2 rounded-full collapsed-icon":"mr-3 p-2 rounded-md bg-white/50 nav-icon"}`,children:c.jsx(u.icon,{className:"h-5 w-5 flex-shrink-0 text-slate-600","aria-hidden":"true"})}),c.jsx("div",{className:"flex items-center gap-2 flex-1",children:c.jsx("span",{className:`${t?"hidden":"whitespace-nowrap"}`,children:u.name})})]},u.name)})})}),c.jsxs("div",{className:`px-4 py-4 space-y-3 ${t?"flex flex-col items-center justify-center":""}`,children:[t?c.jsx("button",{title:a?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",onClick:o,className:"w-10 h-10 flex items-center justify-center rounded-md bg-white/90 text-gray-700 hover:bg-white shadow-sm ring-1 ring-slate-200 dark:bg-slate-800/80 dark:text-slate-100 dark:ring-slate-700",children:a?c.jsx(zx,{className:"h-5 w-5"}):c.jsx(Bx,{className:"h-5 w-5"})}):c.jsxs("button",{onClick:o,"aria-label":"Toggle dark mode",className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-md bg-white/90 text-gray-700 hover:bg-white shadow-sm ring-1 ring-slate-200 dark:bg-slate-800/80 dark:text-slate-100 dark:ring-slate-700",title:a?"Switch to light mode":"Switch to dark mode",children:[a?c.jsx(zx,{className:"h-5 w-5"}):c.jsx(Bx,{className:"h-5 w-5"}),c.jsx("span",{className:"text-sm",children:a?"Light mode":"Dark mode"})]}),i&&(t?c.jsx("button",{title:"Sign out",onClick:s,className:"w-10 h-10 flex items-center justify-center rounded-md bg-white text-gray-700 hover:bg-gray-50 shadow-sm dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",children:c.jsx(Fx,{className:"h-5 w-5"})}):c.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-md bg-white text-gray-700 hover:bg-gray-50 shadow-sm dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",children:[c.jsx(Fx,{className:"h-5 w-5"}),"Sign out"]}))]})]})}function j4e(){var f;const{user:t,logout:e}=Vt(),{byFunder:n}=vt(),[r,i]=x.useState(!1),[s,a]=x.useState(!1),[o,l]=x.useState(()=>{try{return localStorage.getItem("donor_sidebar_collapsed")==="1"}catch{return!1}}),u=x.useRef(null),d=ii();Fr(),x.useEffect(()=>{const m=p=>{u.current&&(u.current.contains(p.target)||i(!1))};return document.addEventListener("click",m),()=>document.removeEventListener("click",m)},[]),x.useEffect(()=>{try{localStorage.setItem("donor_sidebar_collapsed",o?"1":"0")}catch{}},[o]),(()=>{const p=d.pathname.replace(/\/+$/,"").split("/").filter(Boolean),y=[],v=(w,_,j)=>w==="donor"?"Donor":w==="dashboard"?"Dashboard":w==="funding"?"Funding Overview":w==="transactions"?"Transactions":w==="projects"?"Projects":w==="documents"?"Documents & Reports":w==="settings"?"Settings":j[_-1]==="projects"?"Details":w;let b="";return p.forEach((w,_)=>{b+="/"+w,y.push({href:b,label:v(w,_,p)})}),y.filter(w=>w.href.startsWith("/donor"))})();const h=n.find(m=>{var p;return((p=m==null?void 0:m.funder)==null?void 0:p.contact)===(t==null?void 0:t.email)})||n[0]||null;return(f=h==null?void 0:h.funder)!=null&&f.id,c.jsxs("div",{className:"min-h-screen bg-neutral-base overflow-x-hidden dark:bg-[#0b1220] dark:text-slate-100",children:[c.jsx("div",{className:`hidden lg:fixed lg:inset-y-0 lg:flex lg:flex-col lg:z-50 lg:rounded-tr-2xl lg:rounded-br-2xl lg:shadow-xl lg:overflow-hidden transition-all duration-200 ${o?"lg:w-20":"lg:w-64"}`,children:c.jsx(zV,{collapsed:o,onToggleCollapse:()=>l(!o)})}),c.jsxs("div",{className:`${o?"lg:pl-20":"lg:pl-64"} min-h-screen flex flex-col`,children:[c.jsxs("header",{className:"sticky top-0 z-40 flex items-center justify-between h-16 px-4 bg-white/70 backdrop-blur border-b border-slate-200 dark:bg-slate-900/60 dark:border-slate-700",children:[c.jsx("div",{className:"flex items-center gap-3 min-w-0",children:c.jsx("button",{className:"lg:hidden p-2 rounded-md ring-1 ring-slate-200 dark:ring-slate-700",onClick:()=>a(!0),"aria-label":"Open menu",children:c.jsx("span",{className:"block h-4 w-4 bg-slate-600 dark:bg-slate-300",style:{maskImage:"url(data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='currentColor' d='M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z'/></svg>)",WebkitMaskImage:"url(data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='currentColor' d='M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z'/></svg>)"}})})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700",children:[c.jsx(Fz,{className:"h-5 w-5 text-slate-400"}),c.jsx("input",{className:"bg-transparent text-sm outline-none placeholder:text-slate-400 w-56",placeholder:"Search (projects, transactions)"})]}),c.jsx("button",{className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",title:"Notifications",children:c.jsx(Oz,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})}),c.jsxs("div",{className:"relative",ref:u,children:[c.jsxs("button",{onClick:()=>i(m=>!m),className:"flex items-center gap-2 px-3 py-2 rounded-lg ring-1 ring-slate-200 dark:ring-slate-700",children:[c.jsx(Ahe,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"}),c.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:(t==null?void 0:t.name)||(t==null?void 0:t.email)||"Profile"}),c.jsx(Iz,{className:"h-4 w-4 text-slate-400"})]}),r&&c.jsx("div",{className:"absolute right-0 mt-2 w-44 bg-white dark:bg-slate-800 rounded-lg shadow ring-1 ring-slate-200 dark:ring-slate-700 overflow-hidden",children:c.jsx("button",{onClick:e,className:"w-full text-left text-sm px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Logout"})})]})]})]}),c.jsx("main",{className:"flex-1 min-w-0",children:c.jsx(VRe,{mode:"wait",children:c.jsx(Nr.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2},children:c.jsx(j8,{})},d.pathname)})})]}),c.jsxs("div",{className:`lg:hidden ${s?"fixed inset-0 z-40":"hidden"}`,children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>a(!1)}),c.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[c.jsx("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-white dark:bg-slate-900",children:c.jsx("div",{className:"h-0 flex-1 overflow-y-auto pt-5 pb-4",children:c.jsx("nav",{className:"mt-5 space-y-1 px-2",children:c.jsx(zV,{collapsed:!1,onNavigate:()=>a(!1)})})})}),c.jsx("div",{className:"w-14 flex-shrink-0"})]})]})]})}function T4e(){const t=Fr(),e=ii(),{user:n}=Vt(),{byFunder:r}=vt(),{activeOrgId:i}=lt();return x.useEffect(()=>{var u;if(!n)return;const s=r.find(d=>{var h;return((h=d==null?void 0:d.funder)==null?void 0:h.contact)===(n==null?void 0:n.email)})||r[0]||null,o=`/donor/dashboard/${((u=s==null?void 0:s.funder)==null?void 0:u.id)||(n==null?void 0:n.id)||"me"}`,l=e.search||"";t(`${o}${l}`,{replace:!0})},[n,r,i]),null}function N4e(){return c.jsxs("div",{className:"p-8 max-w-xl mx-auto text-center",children:[c.jsx("div",{className:"mx-auto mb-4 h-14 w-14 rounded-full bg-emerald-100 flex items-center justify-center",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-7 w-7 text-emerald-600",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.5 12.75l6 6 9-13.5"})})}),c.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Thank you for your contribution"}),c.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:"Your payment was received. Records will reflect in real time."}),c.jsx("div",{className:"mt-6",children:c.jsx(be,{to:"/donor",className:"inline-flex items-center px-4 py-2 rounded-md bg-sky-600 text-white hover:bg-sky-700",children:"Back to Dashboard"})})]})}function C4e(){return c.jsxs("div",{className:"p-8 max-w-xl mx-auto text-center",children:[c.jsx("div",{className:"mx-auto mb-4 h-14 w-14 rounded-full bg-rose-100 flex items-center justify-center",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"h-7 w-7 text-rose-600",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),c.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Payment cancelled"}),c.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:"No charge was made. You can try again anytime."}),c.jsx("div",{className:"mt-6",children:c.jsx(be,{to:"/donor",className:"inline-flex items-center px-4 py-2 rounded-md bg-slate-900 text-white hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",children:"Back to Dashboard"})})]})}function eQ(t,e){return function(){return t.apply(e,arguments)}}const{toString:P4e}=Object.prototype,{getPrototypeOf:mO}=Object,{iterator:i_,toStringTag:tQ}=Symbol,s_=(t=>e=>{const n=P4e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ns=t=>(t=t.toLowerCase(),e=>s_(e)===t),a_=t=>e=>typeof e===t,{isArray:uf}=Array,Th=a_("undefined");function y0(t){return t!==null&&!Th(t)&&t.constructor!==null&&!Th(t.constructor)&&Jr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nQ=Ns("ArrayBuffer");function O4e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nQ(t.buffer),e}const I4e=a_("string"),Jr=a_("function"),rQ=a_("number"),v0=t=>t!==null&&typeof t=="object",R4e=t=>t===!0||t===!1,Iv=t=>{if(s_(t)!=="object")return!1;const e=mO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tQ in t)&&!(i_ in t)},M4e=t=>{if(!v0(t)||y0(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},D4e=Ns("Date"),L4e=Ns("File"),V4e=Ns("Blob"),F4e=Ns("FileList"),B4e=t=>v0(t)&&Jr(t.pipe),U4e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Jr(t.append)&&((e=s_(t))==="formdata"||e==="object"&&Jr(t.toString)&&t.toString()==="[object FormData]"))},z4e=Ns("URLSearchParams"),[$4e,H4e,q4e,W4e]=["ReadableStream","Request","Response","Headers"].map(Ns),K4e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function x0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),uf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(y0(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function iQ(t,e){if(y0(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Tc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sQ=t=>!Th(t)&&t!==Tc;function Qj(){const{caseless:t,skipUndefined:e}=sQ(this)&&this||{},n={},r=(i,s)=>{const a=t&&iQ(n,s)||s;Iv(n[a])&&Iv(i)?n[a]=Qj(n[a],i):Iv(i)?n[a]=Qj({},i):uf(i)?n[a]=i.slice():(!e||!Th(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&x0(arguments[i],r);return n}const G4e=(t,e,n,{allOwnKeys:r}={})=>(x0(e,(i,s)=>{n&&Jr(i)?t[s]=eQ(i,n):t[s]=i},{allOwnKeys:r}),t),Y4e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),X4e=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Q4e=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&mO(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Z4e=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},J4e=t=>{if(!t)return null;if(uf(t))return t;let e=t.length;if(!rQ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},eLe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&mO(Uint8Array)),tLe=(t,e)=>{const r=(t&&t[i_]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},nLe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},rLe=Ns("HTMLFormElement"),iLe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$V=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),sLe=Ns("RegExp"),aQ=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};x0(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},aLe=t=>{aQ(t,(e,n)=>{if(Jr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Jr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oLe=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return uf(t)?r(t):r(String(t).split(e)),n},lLe=()=>{},cLe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function uLe(t){return!!(t&&Jr(t.append)&&t[tQ]==="FormData"&&t[i_])}const dLe=t=>{const e=new Array(10),n=(r,i)=>{if(v0(r)){if(e.indexOf(r)>=0)return;if(y0(r))return r;if(!("toJSON"in r)){e[i]=r;const s=uf(r)?[]:{};return x0(r,(a,o)=>{const l=n(a,i+1);!Th(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},hLe=Ns("AsyncFunction"),fLe=t=>t&&(v0(t)||Jr(t))&&Jr(t.then)&&Jr(t.catch),oQ=((t,e)=>t?setImmediate:e?((n,r)=>(Tc.addEventListener("message",({source:i,data:s})=>{i===Tc&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Tc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Jr(Tc.postMessage)),mLe=typeof queueMicrotask<"u"?queueMicrotask.bind(Tc):typeof process<"u"&&process.nextTick||oQ,pLe=t=>t!=null&&Jr(t[i_]),G={isArray:uf,isArrayBuffer:nQ,isBuffer:y0,isFormData:U4e,isArrayBufferView:O4e,isString:I4e,isNumber:rQ,isBoolean:R4e,isObject:v0,isPlainObject:Iv,isEmptyObject:M4e,isReadableStream:$4e,isRequest:H4e,isResponse:q4e,isHeaders:W4e,isUndefined:Th,isDate:D4e,isFile:L4e,isBlob:V4e,isRegExp:sLe,isFunction:Jr,isStream:B4e,isURLSearchParams:z4e,isTypedArray:eLe,isFileList:F4e,forEach:x0,merge:Qj,extend:G4e,trim:K4e,stripBOM:Y4e,inherits:X4e,toFlatObject:Q4e,kindOf:s_,kindOfTest:Ns,endsWith:Z4e,toArray:J4e,forEachEntry:tLe,matchAll:nLe,isHTMLForm:rLe,hasOwnProperty:$V,hasOwnProp:$V,reduceDescriptors:aQ,freezeMethods:aLe,toObjectSet:oLe,toCamelCase:iLe,noop:lLe,toFiniteNumber:cLe,findKey:iQ,global:Tc,isContextDefined:sQ,isSpecCompliantForm:uLe,toJSONObject:dLe,isAsyncFn:hLe,isThenable:fLe,setImmediate:oQ,asap:mLe,isIterable:pLe};function Le(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const lQ=Le.prototype,cQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cQ[t]={value:t}});Object.defineProperties(Le,cQ);Object.defineProperty(lQ,"isAxiosError",{value:!0});Le.from=(t,e,n,r,i,s)=>{const a=Object.create(lQ);G.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Le.call(a,o,l,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const gLe=null;function Zj(t){return G.isPlainObject(t)||G.isArray(t)}function uQ(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function HV(t,e,n){return t?t.concat(e).map(function(i,s){return i=uQ(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function yLe(t){return G.isArray(t)&&!t.some(Zj)}const vLe=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function o_(t,e,n){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!G.isUndefined(v[y])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(G.isDate(p))return p.toISOString();if(G.isBoolean(p))return p.toString();if(!l&&G.isBlob(p))throw new Le("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(p)||G.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,v){let b=p;if(p&&!v&&typeof p=="object"){if(G.endsWith(y,"{}"))y=r?y:y.slice(0,-2),p=JSON.stringify(p);else if(G.isArray(p)&&yLe(p)||(G.isFileList(p)||G.endsWith(y,"[]"))&&(b=G.toArray(p)))return y=uQ(y),b.forEach(function(_,j){!(G.isUndefined(_)||_===null)&&e.append(a===!0?HV([y],j,s):a===null?y:y+"[]",u(_))}),!1}return Zj(p)?!0:(e.append(HV(v,y,s),u(p)),!1)}const h=[],f=Object.assign(vLe,{defaultVisitor:d,convertValue:u,isVisitable:Zj});function m(p,y){if(!G.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(p),G.forEach(p,function(b,w){(!(G.isUndefined(b)||b===null)&&i.call(e,b,G.isString(w)?w.trim():w,y,f))===!0&&m(b,y?y.concat(w):[w])}),h.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return m(t),e}function qV(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function pO(t,e){this._pairs=[],t&&o_(t,this,e)}const dQ=pO.prototype;dQ.append=function(e,n){this._pairs.push([e,n])};dQ.toString=function(e){const n=e?function(r){return e.call(this,r,qV)}:qV;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function xLe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hQ(t,e,n){if(!e)return t;const r=n&&n.encode||xLe;G.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=G.isURLSearchParams(e)?e.toString():new pO(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class WV{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bLe=typeof URLSearchParams<"u"?URLSearchParams:pO,wLe=typeof FormData<"u"?FormData:null,_Le=typeof Blob<"u"?Blob:null,SLe={isBrowser:!0,classes:{URLSearchParams:bLe,FormData:wLe,Blob:_Le},protocols:["http","https","file","blob","url","data"]},gO=typeof window<"u"&&typeof document<"u",Jj=typeof navigator=="object"&&navigator||void 0,ELe=gO&&(!Jj||["ReactNative","NativeScript","NS"].indexOf(Jj.product)<0),kLe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ALe=gO&&window.location.href||"http://localhost",jLe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gO,hasStandardBrowserEnv:ELe,hasStandardBrowserWebWorkerEnv:kLe,navigator:Jj,origin:ALe},Symbol.toStringTag,{value:"Module"})),br={...jLe,...SLe};function TLe(t,e){return o_(t,new br.classes.URLSearchParams,{visitor:function(n,r,i,s){return br.isNode&&G.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function NLe(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CLe(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function mQ(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&G.isArray(i)?i.length:a,l?(G.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!G.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&G.isArray(i[a])&&(i[a]=CLe(i[a])),!o)}if(G.isFormData(t)&&G.isFunction(t.entries)){const n={};return G.forEachEntry(t,(r,i)=>{e(NLe(r),i,n,0)}),n}return null}function PLe(t,e,n){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const b0={transitional:fQ,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=G.isObject(e);if(s&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(mQ(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return TLe(e,this.formSerializer).toString();if((o=G.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return o_(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),PLe(e)):e}],transformResponse:[function(e){const n=this.transitional||b0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Le.from(o,Le.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:br.classes.FormData,Blob:br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{b0.headers[t]={}});const OLe=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ILe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&OLe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},KV=Symbol("internals");function em(t){return t&&String(t).trim().toLowerCase()}function Rv(t){return t===!1||t==null?t:G.isArray(t)?t.map(Rv):String(t)}function RLe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const MLe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function RE(t,e,n,r,i){if(G.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!G.isString(e)){if(G.isString(r))return e.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(e)}}function DLe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function LLe(t,e){const n=G.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let ei=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,u){const d=em(l);if(!d)throw new Error("header name must be a non-empty string");const h=G.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=Rv(o))}const a=(o,l)=>G.forEach(o,(u,d)=>s(u,d,l));if(G.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(G.isString(e)&&(e=e.trim())&&!MLe(e))a(ILe(e),n);else if(G.isObject(e)&&G.isIterable(e)){let o={},l,u;for(const d of e){if(!G.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?G.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=em(e),e){const r=G.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return RLe(i);if(G.isFunction(n))return n.call(this,i,r);if(G.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=em(e),e){const r=G.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||RE(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=em(a),a){const o=G.findKey(r,a);o&&(!n||RE(r,r[o],o,n))&&(delete r[o],i=!0)}}return G.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||RE(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return G.forEach(this,(i,s)=>{const a=G.findKey(r,s);if(a){n[a]=Rv(i),delete n[s];return}const o=e?DLe(s):String(s).trim();o!==s&&delete n[s],n[o]=Rv(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return G.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&G.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[KV]=this[KV]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=em(a);r[o]||(LLe(i,a),r[o]=!0)}return G.isArray(e)?e.forEach(s):s(e),this}};ei.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(ei.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});G.freezeMethods(ei);function ME(t,e){const n=this||b0,r=e||n,i=ei.from(r.headers);let s=r.data;return G.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function pQ(t){return!!(t&&t.__CANCEL__)}function df(t,e,n){Le.call(this,t??"canceled",Le.ERR_CANCELED,e,n),this.name="CanceledError"}G.inherits(df,Le,{__CANCEL__:!0});function gQ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Le("Request failed with status code "+n.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function VLe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function FLe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];a||(a=u),n[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function BLe(t,e){let n=0,r=1e3/e,i,s;const a=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-h)))},()=>i&&a(i)]}const Qb=(t,e,n=3)=>{let r=0;const i=FLe(50,250);return BLe(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,u=i(l),d=a<=o;r=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},GV=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},YV=t=>(...e)=>G.asap(()=>t(...e)),ULe=br.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,br.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(br.origin),br.navigator&&/(msie|trident)/i.test(br.navigator.userAgent)):()=>!0,zLe=br.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];G.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),G.isString(r)&&a.push("path="+r),G.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $Le(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function HLe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yQ(t,e,n){let r=!$Le(e);return t&&(r||n==!1)?HLe(t,e):e}const XV=t=>t instanceof ei?{...t}:t;function vu(t,e){e=e||{};const n={};function r(u,d,h,f){return G.isPlainObject(u)&&G.isPlainObject(d)?G.merge.call({caseless:f},u,d):G.isPlainObject(d)?G.merge({},d):G.isArray(d)?d.slice():d}function i(u,d,h,f){if(G.isUndefined(d)){if(!G.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function s(u,d){if(!G.isUndefined(d))return r(void 0,d)}function a(u,d){if(G.isUndefined(d)){if(!G.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,h)=>i(XV(u),XV(d),h,!0)};return G.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);G.isUndefined(f)&&h!==o||(n[d]=f)}),n}const vQ=t=>{const e=vu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=ei.from(a),e.url=hQ(yQ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),G.isFormData(n)){if(br.hasStandardBrowserEnv||br.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(G.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(br.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(e)),r||r!==!1&&ULe(e.url))){const l=i&&s&&zLe.read(s);l&&a.set(i,l)}return e},qLe=typeof XMLHttpRequest<"u",WLe=qLe&&function(t){return new Promise(function(n,r){const i=vQ(t);let s=i.data;const a=ei.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,m,p;function y(){m&&m(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function b(){if(!v)return;const _=ei.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:t,request:v};gQ(function(k){n(k),y()},function(k){r(k),y()},E),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(r(new Le("Request aborted",Le.ECONNABORTED,t,v)),v=null)},v.onerror=function(j){const E=j&&j.message?j.message:"Network Error",I=new Le(E,Le.ERR_NETWORK,t,v);I.event=j||null,r(I),v=null},v.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||fQ;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new Le(j,E.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,v)),v=null},s===void 0&&a.setContentType(null),"setRequestHeader"in v&&G.forEach(a.toJSON(),function(j,E){v.setRequestHeader(E,j)}),G.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),u&&([f,p]=Qb(u,!0),v.addEventListener("progress",f)),l&&v.upload&&([h,m]=Qb(l),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=_=>{v&&(r(!_||_.type?new df(null,t,v):_),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=VLe(i.url);if(w&&br.protocols.indexOf(w)===-1){r(new Le("Unsupported protocol "+w+":",Le.ERR_BAD_REQUEST,t));return}v.send(s||null)})},KLe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Le?d:new df(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>G.asap(o),l}},GLe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},YLe=async function*(t,e){for await(const n of XLe(t))yield*GLe(n,e)},XLe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},QV=(t,e,n,r)=>{const i=YLe(t,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){o(),l.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},ZV=64*1024,{isFunction:Gy}=G,xQ=(({fetch:t,Request:e,Response:n})=>({fetch:t,Request:e,Response:n}))(G.global),{ReadableStream:JV,TextEncoder:eF}=G.global,tF=(t,...e)=>{try{return!!t(...e)}catch{return!1}},QLe=t=>{const{fetch:e,Request:n,Response:r}=Object.assign({},xQ,t),i=Gy(e),s=Gy(n),a=Gy(r);if(!i)return!1;const o=i&&Gy(JV),l=i&&(typeof eF=="function"?(p=>y=>p.encode(y))(new eF):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=s&&o&&tF(()=>{let p=!1;const y=new n(br.origin,{body:new JV,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=a&&o&&tF(()=>G.isReadableStream(new r("").body)),h={stream:d&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(y,v)=>{let b=y&&y[p];if(b)return b.call(y);throw new Le(`Response type '${p}' is not supported`,Le.ERR_NOT_SUPPORT,v)})});const f=async p=>{if(p==null)return 0;if(G.isBlob(p))return p.size;if(G.isSpecCompliantForm(p))return(await new n(br.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(G.isArrayBufferView(p)||G.isArrayBuffer(p))return p.byteLength;if(G.isURLSearchParams(p)&&(p=p+""),G.isString(p))return(await l(p)).byteLength},m=async(p,y)=>{const v=G.toFiniteNumber(p.getContentLength());return v??f(y)};return async p=>{let{url:y,method:v,data:b,signal:w,cancelToken:_,timeout:j,onDownloadProgress:E,onUploadProgress:I,responseType:k,headers:S,withCredentials:P="same-origin",fetchOptions:O}=vQ(p);k=k?(k+"").toLowerCase():"text";let N=KLe([w,_&&_.toAbortSignal()],j),A=null;const C=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let F;try{if(I&&u&&v!=="get"&&v!=="head"&&(F=await m(S,b))!==0){let H=new n(y,{method:"POST",body:b,duplex:"half"}),X;if(G.isFormData(b)&&(X=H.headers.get("content-type"))&&S.setContentType(X),H.body){const[z,Q]=GV(F,Qb(YV(I)));b=QV(H.body,ZV,z,Q)}}G.isString(P)||(P=P?"include":"omit");const M=s&&"credentials"in n.prototype,V={...O,signal:N,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:b,duplex:"half",credentials:M?P:void 0};A=s&&new n(y,V);let B=await(s?e(A,O):e(y,V));const D=d&&(k==="stream"||k==="response");if(d&&(E||D&&C)){const H={};["status","statusText","headers"].forEach(re=>{H[re]=B[re]});const X=G.toFiniteNumber(B.headers.get("content-length")),[z,Q]=E&&GV(X,Qb(YV(E),!0))||[];B=new r(QV(B.body,ZV,z,()=>{Q&&Q(),C&&C()}),H)}k=k||"text";let U=await h[G.findKey(h,k)||"text"](B,p);return!D&&C&&C(),await new Promise((H,X)=>{gQ(H,X,{data:U,headers:ei.from(B.headers),status:B.status,statusText:B.statusText,config:p,request:A})})}catch(M){throw C&&C(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,p,A),{cause:M.cause||M}):Le.from(M,M&&M.code,p,A)}}},ZLe=new Map,bQ=t=>{let e=G.merge.call({skipUndefined:!0},xQ,t?t.env:null);const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let a=s.length,o=a,l,u,d=ZLe;for(;o--;)l=s[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:QLe(e)),d=u;return u};bQ();const e2={http:gLe,xhr:WLe,fetch:{get:bQ}};G.forEach(e2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const nF=t=>`- ${t}`,JLe=t=>G.isFunction(t)||t===null||t===!1,wQ={getAdapter:(t,e)=>{t=G.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let a=0;a<n;a++){r=t[a];let o;if(i=r,!JLe(r)&&(i=e2[(o=String(r)).toLowerCase()],i===void 0))throw new Le(`Unknown adapter '${o}'`);if(i&&(G.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(nF).join(`
`):" "+nF(a[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:e2};function DE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new df(null,t)}function rF(t){return DE(t),t.headers=ei.from(t.headers),t.data=ME.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wQ.getAdapter(t.adapter||b0.adapter,t)(t).then(function(r){return DE(t),r.data=ME.call(t,t.transformResponse,r),r.headers=ei.from(r.headers),r},function(r){return pQ(r)||(DE(t),r&&r.response&&(r.response.data=ME.call(t,t.transformResponse,r.response),r.response.headers=ei.from(r.response.headers))),Promise.reject(r)})}const _Q="1.12.1",l_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{l_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const iF={};l_.transitional=function(e,n,r){function i(s,a){return"[Axios v"+_Q+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new Le(i(a," has been removed"+(n?" in "+n:"")),Le.ERR_DEPRECATED);return n&&!iF[a]&&(iF[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};l_.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function e6e(t,e,n){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Le("option "+s+" must be "+l,Le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Le("Unknown option "+s,Le.ERR_BAD_OPTION)}}const Mv={assertOptions:e6e,validators:l_},Is=Mv.validators;let Qc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new WV,response:new WV}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Mv.assertOptions(r,{silentJSONParsing:Is.transitional(Is.boolean),forcedJSONParsing:Is.transitional(Is.boolean),clarifyTimeoutError:Is.transitional(Is.boolean)},!1),i!=null&&(G.isFunction(i)?n.paramsSerializer={serialize:i}:Mv.assertOptions(i,{encode:Is.function,serialize:Is.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Mv.assertOptions(n,{baseUrl:Is.spelling("baseURL"),withXsrfToken:Is.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&G.merge(s.common,s[n.method]);s&&G.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=ei.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const p=[rF.bind(this),void 0];for(p.unshift(...o),p.push(...u),f=p.length,d=Promise.resolve(n);h<f;)d=d.then(p[h++],p[h++]);return d}f=o.length;let m=n;for(h=0;h<f;){const p=o[h++],y=o[h++];try{m=p(m)}catch(v){y.call(this,v);break}}try{d=rF.call(this,m)}catch(p){return Promise.reject(p)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=vu(this.defaults,e);const n=yQ(e.baseURL,e.url,e.allowAbsoluteUrls);return hQ(n,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){Qc.prototype[e]=function(n,r){return this.request(vu(r||{},{method:e,url:n,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(vu(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Qc.prototype[e]=n(),Qc.prototype[e+"Form"]=n(!0)});let t6e=class SQ{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new df(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new SQ(function(i){e=i}),cancel:e}}};function n6e(t){return function(n){return t.apply(null,n)}}function r6e(t){return G.isObject(t)&&t.isAxiosError===!0}const t2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(t2).forEach(([t,e])=>{t2[e]=t});function EQ(t){const e=new Qc(t),n=eQ(Qc.prototype.request,e);return G.extend(n,Qc.prototype,e,{allOwnKeys:!0}),G.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return EQ(vu(t,i))},n}const dn=EQ(b0);dn.Axios=Qc;dn.CanceledError=df;dn.CancelToken=t6e;dn.isCancel=pQ;dn.VERSION=_Q;dn.toFormData=o_;dn.AxiosError=Le;dn.Cancel=dn.CanceledError;dn.all=function(e){return Promise.all(e)};dn.spread=n6e;dn.isAxiosError=r6e;dn.mergeConfig=vu;dn.AxiosHeaders=ei;dn.formToJSON=t=>mQ(G.isHTMLForm(t)?new FormData(t):t);dn.getAdapter=wQ.getAdapter;dn.HttpStatusCode=t2;dn.default=dn;const{Axios:z6e,AxiosError:$6e,CanceledError:H6e,isCancel:q6e,CancelToken:W6e,VERSION:K6e,all:G6e,Cancel:Y6e,isAxiosError:X6e,spread:Q6e,toFormData:Z6e,AxiosHeaders:J6e,HttpStatusCode:eVe,formToJSON:tVe,getAdapter:nVe,mergeConfig:rVe}=dn;function i6e({orgId:t}){const[e,n]=x.useState({business_name:"",settlement_bank:"",account_number:"",currency:"NGN",contact_email:""}),[r,i]=x.useState(!1),[s,a]=x.useState(null),[o,l]=x.useState("");x.useEffect(()=>{async function h(){var f;try{const m=await dn.get(`/api/subaccount?orgId=${t}`);a(((f=m.data)==null?void 0:f.subaccount)??null)}catch{}}h()},[t]);const u=h=>n({...e,[h.target.name]:h.target.value}),d=async()=>{var h,f;i(!0),l("");try{const m=await dn.post("/api/create-subaccount",{orgId:t,...e});a(m.data.subaccount)}catch(m){l(((f=(h=m.response)==null?void 0:h.data)==null?void 0:f.message)||"Failed to create subaccount")}finally{i(!1)}};return c.jsxs("div",{className:"p-6 max-w-4xl mx-auto font-inter",children:[c.jsx("h1",{className:"text-3xl font-bold mb-2 text-blue-900",children:"Payment Integration"}),c.jsxs("p",{className:"text-base text-gray-700 mb-6",children:["Connect your bank account so funders pay directly to your organization.",c.jsx("br",{}),c.jsx("span",{className:"font-bold text-green-600",children:"Fundify never holds funds."})]}),c.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-8 mb-8 border border-blue-100",children:[c.jsx("h2",{className:"text-xl font-semibold mb-4 text-blue-900",children:"Create Paystack Subaccount"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx("input",{name:"business_name",onChange:u,value:e.business_name,placeholder:"Business / Organization Name",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500"}),c.jsx("input",{name:"settlement_bank",onChange:u,value:e.settlement_bank,placeholder:"Settlement Bank",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500"}),c.jsx("input",{name:"account_number",onChange:u,value:e.account_number,placeholder:"Account Number",className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500"}),c.jsxs("select",{name:"currency",onChange:u,value:e.currency,className:"p-3 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"NGN",children:"NGN"}),c.jsx("option",{value:"KES",children:"KES"}),c.jsx("option",{value:"USD",children:"USD"})]}),c.jsx("input",{name:"contact_email",onChange:u,value:e.contact_email,placeholder:"Contact Email",className:"p-3 border rounded-lg col-span-1 md:col-span-2 focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[c.jsx("button",{disabled:r,onClick:d,className:"bg-blue-600 text-white px-6 py-2 rounded-xl font-semibold shadow hover:bg-blue-700 transition-all",children:r?"Creating...":"Create Subaccount"}),c.jsx("span",{className:"text-sm text-red-600",children:o})]}),c.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[c.jsx("span",{className:"font-semibold text-blue-700",children:"Security:"})," Your bank details are sent securely to Paystack. Fundify never stores sensitive account info except for reconciliation."]})]}),s?c.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-8 border border-green-200",children:[c.jsx("h3",{className:"font-semibold text-green-700 mb-2",children:"Subaccount Connected"}),c.jsxs("div",{className:"mb-2 text-sm text-gray-700",children:["Paystack ID: ",c.jsx("span",{className:"font-mono text-green-700",children:s.paystack_subaccount_id})]}),c.jsxs("div",{className:"mb-2",children:["Business: ",c.jsx("span",{className:"font-semibold",children:s.business_name})]}),c.jsxs("div",{className:"mb-2",children:["Bank: ",c.jsx("span",{className:"font-semibold",children:s.settlement_bank}),"  Account: ",c.jsx("span",{className:"font-mono",children:s.account_number})]}),c.jsxs("div",{className:"mb-2",children:["Currency: ",c.jsx("span",{className:"font-semibold",children:s.currency})]}),c.jsx("div",{className:"mt-3",children:c.jsx("a",{className:"text-blue-600 hover:underline font-medium",href:`/admin/funders?filter=subaccount:${s.paystack_subaccount_id}`,children:"View transactions"})}),c.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Created: ",s.created_at?new Date(s.created_at).toLocaleString():"-"]})]}):null,c.jsxs("div",{className:"mt-8 text-center",children:[c.jsx("button",{className:"bg-green-600 text-white px-6 py-2 rounded-xl font-semibold shadow hover:bg-green-700 transition-all",children:"Test Payment"}),c.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Use Paystack sandbox to test payments. No real money will be moved."})]})]})}const LE=({children:t})=>{const{user:e,loading:n}=Vt();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e?t:c.jsx(Oa,{to:"/login",replace:!0})},$u=({children:t})=>{const{user:e}=Vt();return e?c.jsx(Oa,{to:"/app/dashboard/overview",replace:!0}):t},s6e=({children:t})=>{const{user:e,loading:n}=Vt(),{orgs:r,loading:i}=lt();if(n||i)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})});if(!e||e.hasCompletedSetup===!1)return t;const s=r&&r.length>0&&r.some(o=>(Array.isArray(o.funders)?o.funders:[]).some(u=>u&&u.id===e.id)),a=r&&r.length>0&&r.some(o=>{const u=(Array.isArray(o.memberships)?o.memberships:[]).find(d=>d&&d.userId===e.id);return u&&(u.role==="admin"||u.role==="financial_officer")});return s&&!a&&e.hasCompletedSetup!==!1?c.jsx(Oa,{to:"/donor/funding",replace:!0}):t},a6e=({children:t})=>t,o6e=({children:t})=>{const{user:e}=Vt();return e&&e.hasCompletedSetup===!1?c.jsx(Oa,{to:"/setup",replace:!0}):t},sF=({children:t})=>{const{role:e}=lt();return e!=="admin"?c.jsx(Oa,{to:"/app/dashboard/overview",replace:!0}):t};function l6e(){var i;const[t,e]=x.useState(!1),n=Fr(),r=()=>{e(!1),window.location.pathname==="/login"&&n(-1)};return c.jsxs(c.Fragment,{children:[t&&c.jsx(z3e,{onClose:r}),c.jsxs(pne,{children:[c.jsx(Ie,{path:"/firebase-test",element:c.jsx(TV,{})}),c.jsx(Ie,{path:"/",element:c.jsx($u,{children:c.jsxs(c.Fragment,{children:[c.jsx(TV,{}),c.jsx(B5e,{})]})})}),c.jsx(Ie,{path:"/home",element:c.jsx(Oa,{to:"/",replace:!0})}),c.jsx(Ie,{path:"/invite/:orgId/:token",element:c.jsx(a6e,{children:c.jsx(H3e,{})})}),c.jsx(Ie,{path:"/login",element:c.jsx($u,{children:c.jsx(NOe,{})})}),c.jsx(Ie,{path:"/forgot",element:c.jsx($u,{children:c.jsx(H5e,{})})}),c.jsx(Ie,{path:"/register",element:c.jsx($u,{children:c.jsx(U5e,{})})}),c.jsx(Ie,{path:"/how",element:c.jsx($u,{children:c.jsx($5e,{})})}),c.jsx(Ie,{path:"/pricing",element:c.jsx($u,{children:c.jsx(z5e,{})})}),c.jsx(Ie,{path:"/setup",element:c.jsx(LE,{children:c.jsx(W5e,{})})}),c.jsxs(Ie,{path:"/app/*",element:c.jsx(LE,{children:c.jsx(o6e,{children:c.jsx(s6e,{children:c.jsx(Rhe,{})})})}),children:[c.jsx(Ie,{index:!0,element:c.jsx(Oa,{to:"/app/dashboard/overview",replace:!0})}),c.jsx(Ie,{path:"dashboard/*",element:c.jsx(TOe,{})}),c.jsx(Ie,{path:"income",element:c.jsx(X5e,{})}),c.jsxs(Ie,{path:"funders",children:[c.jsx(Ie,{index:!0,element:c.jsx(Y5e,{})}),c.jsx(Ie,{path:"add",element:c.jsx(U3e,{})})]}),c.jsx(Ie,{path:"projects",element:c.jsx(Q5e,{})}),c.jsx(Ie,{path:"expenses",element:c.jsx(Z5e,{})}),c.jsx(Ie,{path:"approvals",element:c.jsx(J5e,{})}),c.jsx(Ie,{path:"accounts",element:c.jsx(sF,{children:c.jsx($3e,{})})}),c.jsx(Ie,{path:"members",element:c.jsx(Oa,{to:"/app/accounts",replace:!0})}),c.jsx(Ie,{path:"audit",element:c.jsx(e3e,{})}),c.jsx(Ie,{path:"reports",element:c.jsx(n3e,{})}),c.jsx(Ie,{path:"reports/funder/:id",element:c.jsx(i3e,{})}),c.jsx(Ie,{path:"settings",element:c.jsx(q3e,{})}),c.jsx(Ie,{path:"integration",element:c.jsx(i6e,{orgId:(i=lt())==null?void 0:i.activeOrgId})}),c.jsx(Ie,{path:"donor-portal",element:c.jsx(sF,{children:c.jsx(f4e,{})})}),c.jsx(Ie,{path:"funders/portal",element:c.jsx(OE,{})}),c.jsx(Ie,{path:"funders/portal/:id",element:c.jsx(OE,{})}),c.jsx(Ie,{path:"donor-portal/:id",element:c.jsx(OE,{})}),c.jsx(Ie,{path:"*",element:c.jsx(Oa,{to:"/app/dashboard/overview",replace:!0})})]}),c.jsxs(Ie,{path:"/donor/*",element:c.jsx(LE,{children:c.jsx(j4e,{})}),children:[c.jsx(Ie,{index:!0,element:c.jsx(T4e,{})}),c.jsx(Ie,{path:"dashboard/:id",element:c.jsx(g4e,{})}),c.jsx(Ie,{path:"funding",element:c.jsx(x4e,{})}),c.jsx(Ie,{path:"transactions",element:c.jsx(b4e,{})}),c.jsx(Ie,{path:"projects",element:c.jsx(w4e,{})}),c.jsx(Ie,{path:"projects/:id",element:c.jsx(E4e,{})}),c.jsx(Ie,{path:"documents",element:c.jsx(k4e,{})}),c.jsx(Ie,{path:"settings",element:c.jsx(A4e,{})}),c.jsx(Ie,{path:"payments/success",element:c.jsx(N4e,{})}),c.jsx(Ie,{path:"payments/cancel",element:c.jsx(C4e,{})})]})]})]})}function c6e(){return c.jsx(Mde,{children:c.jsx(Vne,{children:c.jsx(Ide,{children:c.jsx(Rde,{children:c.jsx(Dde,{children:c.jsx(Lde,{children:c.jsx(l6e,{})})})})})})})}const u6e=new wte({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),d6e=Yee.createRoot(document.getElementById("root"));d6e.render(c.jsx(ag.StrictMode,{children:c.jsx(Ste,{client:u6e,children:c.jsx(c6e,{})})}));
