/*! For license information please see main.40e6869a.js.LICENSE.txt */
(()=>{var e={356:(e,t,n)=>{e.exports=n(9645).last},579:(e,t,n)=>{"use strict";e.exports=n(2799)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1150:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>Z,KO:()=>ee,MF:()=>X,Sx:()=>J,Wp:()=>$,j6:()=>K,om:()=>H,xZ:()=>q});var r=n(9379),i=n(9606),a=n(2965),s=n(1776),o=n(5180);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.14.2",d=new a.Vy("@firebase/app"),h="@firebase/app-compat",f="@firebase/analytics-compat",p="@firebase/analytics",m="@firebase/app-check-compat",g="@firebase/app-check",v="@firebase/auth",y="@firebase/auth-compat",x="@firebase/database",b="@firebase/data-connect",w="@firebase/database-compat",k="@firebase/functions",_="@firebase/functions-compat",S="@firebase/installations",A="@firebase/installations-compat",E="@firebase/messaging",j="@firebase/messaging-compat",C="@firebase/performance",N="@firebase/performance-compat",P="@firebase/remote-config",T="@firebase/remote-config-compat",I="@firebase/storage",O="@firebase/storage-compat",M="@firebase/firestore",D="@firebase/ai",R="@firebase/firestore-compat",L="firebase",F="[DEFAULT]",z={[c]:"fire-core",[h]:"fire-core-compat",[p]:"fire-analytics",[f]:"fire-analytics-compat",[g]:"fire-app-check",[m]:"fire-app-check-compat",[v]:"fire-auth",[y]:"fire-auth-compat",[x]:"fire-rtdb",[b]:"fire-data-connect",[w]:"fire-rtdb-compat",[k]:"fire-fn",[_]:"fire-fn-compat",[S]:"fire-iid",[A]:"fire-iid-compat",[E]:"fire-fcm",[j]:"fire-fcm-compat",[C]:"fire-perf",[N]:"fire-perf-compat",[P]:"fire-rc",[T]:"fire-rc-compat",[I]:"fire-gcs",[O]:"fire-gcs-compat",[M]:"fire-fst",[R]:"fire-fst-compat",[D]:"fire-vertex","fire-js":"fire-js",[L]:"fire-js-all"},V=new Map,B=new Map,U=new Map;function W(e,t){try{e.container.addComponent(t)}catch(n){d.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function H(e){const t=e.name;if(U.has(t))return d.debug("There were multiple attempts to register component ".concat(t,".")),!1;U.set(t,e);for(const n of V.values())W(n,e);for(const n of B.values())W(n,e);return!0}function K(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function q(e){return null!==e&&void 0!==e&&void 0!==e.settings}const G={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Y=new s.FA("app","Firebase",G);class Q{constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Y.create("app-deleted",{appName:this._name})}}const X="12.2.0";function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const a=(0,r.A)({name:F,automaticDataCollectionEnabled:!0},t),o=a.name;if("string"!==typeof o||!o)throw Y.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.T9)()),!n)throw Y.create("no-options");const l=V.get(o);if(l){if((0,s.bD)(n,l.options)&&(0,s.bD)(a,l.config))return l;throw Y.create("duplicate-app",{appName:o})}const c=new i.h1(o);for(const r of U.values())c.addComponent(r);const u=new Q(n,a,c);return V.set(o,u),u}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;const t=V.get(e);if(!t&&e===F&&(0,s.T9)())return $();if(!t)throw Y.create("no-app",{appName:e});return t}function Z(){return Array.from(V.values())}function ee(e,t,n){var r;let a=null!==(r=z[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void d.warn(e.join(" "))}H(new i.uA("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const te="firebase-heartbeat-store";let ne=null;function re(){return ne||(ne=(0,o.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(te)}catch(n){console.warn(n)}}}).catch(e=>{throw Y.create("idb-open",{originalErrorMessage:e.message})})),ne}async function ie(e,t){try{const n=(await re()).transaction(te,"readwrite"),r=n.objectStore(te);await r.put(t,ae(e)),await n.done}catch(n){if(n instanceof s.g)d.warn(n.message);else{const e=Y.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});d.warn(e.message)}}}function ae(e){return"".concat(e.name,"!").concat(e.options.appId)}class se{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new le(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oe();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){d.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=oe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ce(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ce(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return d.warn(t),""}}}function oe(){return(new Date).toISOString().substring(0,10)}class le{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await re()).transaction(te),n=await t.objectStore(te).get(ae(e));return await t.done,n}catch(t){if(t instanceof s.g)d.warn(t.message);else{const e=Y.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});d.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ie(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ie(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ce(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ue;ue="",H(new i.uA("platform-logger",e=>new l(e),"PRIVATE")),H(new i.uA("heartbeat",e=>new se(e),"PRIVATE")),ee(c,u,ue),ee(c,u,"esm2020"),ee("fire-js","")},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},1293:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:s}=n,o=Array(2);let l;i&&(o[0]="leading"),a&&(o[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:o}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",a="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const o=e[r];a?"\\"===o&&r+1<n?(r++,i+=e[r]):o===a?a="":i+=o:s?'"'===o||"'"===o?a=o:"]"===o?(s=!1,t.push(i),i=""):i+=o:"["===o?(s=!0,i&&(t.push(i),i="")):"."===o?i&&(t.push(i),i=""):i+=o,r++}return i&&t.push(i),t}},1776:(e,t,n)=>{"use strict";n.d(t,{cY:()=>m,FA:()=>D,g:()=>M,dM:()=>O,u:()=>l,Uj:()=>o,p9:()=>X,Fy:()=>y,tD:()=>W,bD:()=>F,hp:()=>U,T9:()=>f,Tj:()=>d,yU:()=>h,XA:()=>p,mS:()=>c,Ku:()=>$,ZQ:()=>k,sr:()=>E,zJ:()=>g,c1:()=>A,Im:()=>L,lT:()=>C,zW:()=>T,jZ:()=>_,lV:()=>j,nr:()=>N,Ov:()=>P,gE:()=>v,Am:()=>V,I9:()=>B,P1:()=>w,eX:()=>I});var r=n(9379);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==l)throw new s;const c=t<<2|a>>4;if(r.push(c),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=i(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t;return null===(t=u())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},h=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},f=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function v(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}const x={};let b=!1;function w(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||x[e]===t||x[e]||b)return;function n(e){return"__firebase__banner__".concat(e)}x[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(x))x[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{b=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function k(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function S(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function A(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function E(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const e=k();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function N(){return!S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P(){return!S()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function T(){try{return"object"===typeof indexedDB}catch(e){return!1}}function I(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function O(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class M extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(R,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new M(n,a,t)}}const R=/\{\$([^}]+)}/g;function L(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(z(n)&&z(a)){if(!F(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function z(e){return null!==e&&"object"===typeof e}function V(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function B(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function W(e,t){const n=new H(e,t);return n.subscribe.bind(n)}class H{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K(){}const q=1e3,G=2,Y=144e5,Q=.5;function X(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:q)*Math.pow(t,e),r=Math.round(Q*n*(Math.random()-.5)*2);return Math.min(Y,n+r)}function $(e){return e&&e._delegate?e._delegate:e}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),i=n(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&r.isArrayLike(e)}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(8268),a=n(870),s=n(4803),o=n(9972);function l(e,t,n,i){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return c(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===n(e.get(i),a,i,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return u(e,t,n,r);const i=Object.keys(t);if(null==e)return 0===i.length;if(0===i.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let a=0;a<i.length;a++){const o=i[a];if(!s.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,i);case"function":return Object.keys(t).length>0?l(e,r({},t),n,i):o.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:o.eq(e,t)}}function c(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const s=t[a];let o=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],s,a,e,t,r)&&(c=!0),c){i.add(l),o=!0;break}}if(!o)return!1}return!0}function u(e,t,n,r){return 0===t.size||e instanceof Set&&c([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?i.isMatch(e,t):l(e,t,function e(t,r,i,a,s,o){const c=n(t,r,i,a,s,o);return void 0!==c?Boolean(c):l(t,r,e,o)},new Map)},t.isSetMatch=u},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),i=n(7312),a=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const o=n.length;return o>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:o>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,i.flatten(n),["asc"])}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,s=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return o(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),s(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),i=n(7330),a=n(3808),s=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?s.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},2897:(e,t,n)=>{var r=n(3693);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},2965:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),i=n(1203),a=n(870),s=n(9972);t.isIterateeCall=function(e,t,n){return!!a.isObject(n)&&(!!("number"===typeof t&&i.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&s.eq(n[t],e))}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>r.isMatch(t,e)}},3821:(e,t,n)=>{e.exports=n(2204).sortBy},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function S(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function N(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return N((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+j(e,0):a,w(s)?(i="",null!=u&&(i=u.replace(E,"$&/")+"/"),N(s,t,i,"",function(e){return e})):null!=s&&(A(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+u,s=S(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)u+=N(a=e[m],t,i,o=p+j(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=N(a=a.value,t,i,o=p+j(a,m++),s);else if("object"===o){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!_.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return S(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return S(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,I)}catch(a){I(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},4705:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>a})},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const s=null!=i&&i.includes("leading"),o=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(n,a),n=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,a=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const o=null==c;u(),s&&o&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),i=n(9599),a=n(2104),s=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return a.isArrayLikeObject(e)?r.uniqBy(Array.from(e),s.iteratee(t)):[]}},5082:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,a=60108,s=60114,o=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),r=x("react.portal"),i=x("react.fragment"),a=x("react.strict_mode"),s=x("react.profiler"),o=x("react.provider"),l=x("react.context"),c=x("react.forward_ref"),u=x("react.suspense"),d=x("react.suspense_list"),h=x("react.memo"),f=x("react.lazy"),p=x("react.block"),m=x("react.server.block"),g=x("react.fundamental"),v=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return b(e)===i}},5180:(e,t,n)=>{"use strict";n.d(t,{P2:()=>v});var r=n(9379);const i=(e,t)=>t.some(t=>e instanceof t);let a,s;const o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(g(this),n),m(o.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(g(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(g(this),t,...r);return c.set(a,t.sort?t.sort():[t]),m(a)}}function p(e){return"function"===typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});l.set(e,t)}(e),i(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(m(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=p(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function v(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=m(s);return r&&s.addEventListener("upgradeneeded",e=>{r(m(s.result),e.oldVersion,e.newVersion,m(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const y=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],b=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=x.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return b.set(t,a),a}h=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(h)},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),i=n(4704),a=n(6321),s=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?s.toPath(t):[t],0===n.length)return!1;let o=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||a.isArguments(o))&&i.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),i=n(7043),a=n(1444);t.orderBy=function(e,t,n,s){if(null==e)return[];n=s?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=r.compareValues(e.criteria[i],t.criteria[i],n[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=n;return r.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),i=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,a,s,o)=>{const l=null===t||void 0===t?void 0:t(n,a,s,o);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case i.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,S||(S=!0,_());else{var t=r(u);null!==t&&I(k,t.startTime-e)}}var _,S=!1,A=-1,E=5,j=-1;function C(){return!!v||!(t.unstable_now()-j<E)}function N(){if(v=!1,S){var e=t.unstable_now();j=e;var n=!0;try{e:{m=!1,g&&(g=!1,x(A),A=-1),p=!0;var a=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&I(k,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?_():S=!1}}}if("function"===typeof b)_=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=N,_=function(){T.postMessage(null)}}else _=function(){y(N,0)};function I(e,n){A=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(x(A),A=-1):g=!0,I(k,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,S||(S=!0,_()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),i=n(5990),a=n(7599),s=n(4803),o=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(s.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const i of e)t.add(l(i,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<s.length;r++){const o=s[r],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,n,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6667:(e,t,n)=>{"use strict";n.d(t,{gS:()=>fc,hq:()=>vc,rJ:()=>nl,vN:()=>Jo,kd:()=>hc,H9:()=>rl,getDoc:()=>oc,GG:()=>cc,aU:()=>ul,_A:()=>cl,aQ:()=>pc,P:()=>Gl,BN:()=>uc,mZ:()=>dc,_M:()=>Ql});var r,i,a=n(9379),s=n(1150),o=n(9606),l=n(2965),c=n(1776),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},d={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function a(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,s=0;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function o(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new a([0|e],0>e?-1:0)}):new a([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new a(t,0)}var c=o(0),u=o(1),h=o(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new a(n,~e.h).add(u)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function x(e,t){if(f(t))throw Error("division by zero");if(f(e))return new y(c,c);if(p(e))return t=x(m(e),t),new y(m(t.g),m(t.h));if(p(t))return t=x(e,m(t)),new y(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;0>=r.l(e);)n=b(n),r=b(r);var i=w(n,1),a=w(r,1);for(r=w(r,2),n=w(n,2);!f(r);){var s=a.add(r);0>=s.l(e)&&(i=i.add(n),a=s),r=w(r,1),n=w(n,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(a=l(n)).j(t);p(s)||0<s.l(e);)s=(a=l(n-=r)).j(t);f(a)&&(a=u),i=i.add(a),e=g(e,s)}return new y(i,e)}function b(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new a(n,e.h)}function w(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new a(i,e.h)}(e=a.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=x(n,t).g,a=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.i(i))+(65535&e.i(i)),o=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new a(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.i(r)>>>16,o=65535&this.i(r),u=e.i(i)>>>16,d=65535&e.i(i);n[2*r+2*i]+=o*d,v(n,2*r+2*i),n[2*r+2*i+1]+=s*d,v(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,v(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,v(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new a(n,0)},e.A=function(e){return x(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new a(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new a(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new a(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=d.Md5=t,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),o=parseInt(t.substring(a,a+s),n);8>s?(s=l(Math.pow(n,s)),i=i.j(s).add(l(o))):i=(i=i.j(r)).add(l(o))}return i},r=d.Integer=a}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,f,p,m,g,v,y,x,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function k(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function _(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function S(e){return/^[\s\xa0]*$/.test(e)}function A(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function E(e){return E[" "](e),e}E[" "]=function(){};var j=-1!=A().indexOf("Gecko")&&!(-1!=A().toLowerCase().indexOf("webkit")&&-1==A().indexOf("Edge"))&&!(-1!=A().indexOf("Trident")||-1!=A().indexOf("MSIE"))&&-1==A().indexOf("Edge");function C(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function N(e){const t={};for(const n in e)t[n]=e[n];return t}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<P.length;t++)n=P[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function I(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function O(e){i.setTimeout(()=>{throw e},0)}function M(){var e=z;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var D=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new R,e=>e.reset());class R{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,z=new class{constructor(){this.h=this.g=null}add(e,t){const n=D.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},V=()=>{const e=i.Promise.resolve(void 0);L=()=>{e.then(B)}};var B=()=>{for(var e;e=M();){try{e.h.call(e.g)}catch(n){O(n)}var t=D;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}F=!1};function U(){this.s=this.s,this.C=this.C}function W(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},W.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function K(e,t){if(W.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(j){e:{try{E(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&K.aa.h.call(this)}}d(K,W);var q={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),Y=0;function Q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Y,this.da=this.fa=!1}function X(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function J(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(X(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=Z(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new Q(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return ie(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ne(e,t[a],n,r,i);return null}return n=de(n),e&&e[G]?e.K(t,n,s(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=s(i)?!!i.capture:!!i,l=ce(e);if(l||(e[ee]=l=new $(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)H||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ie(e,t[a],n,r,i);return null}return n=de(n),e&&e[G]?e.L(t,n,s(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function ae(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ae(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=de(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Z(a=e.g[t],n,r,i))&&(X(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,n,r,i)),(n=-1<e?t[e]:null)&&se(n))}function se(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[G])J(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(J(n,e),0==n.h&&(n.src=null,t[ee]=null)):X(e)}}}function oe(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new K(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&se(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof $?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){U.call(this),this.i=new $(this),this.M=this,this.F=null}function fe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new W(t,e);else if(t instanceof W)t.target=t.target||e;else{var i=t;T(t=new W(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=pe(s,r,!0,t)&&i}if(i=pe(s=t.g=e,r,!0,t)&&i,i=pe(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=pe(s=t.g=n[a],r,!1,t)&&i}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&J(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function me(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ge(e){e.g=me(()=>{e.g=null,e.i&&(e.i=!1,ge(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(he,U),he.prototype[G]=!0,he.prototype.removeEventListener=function(e,t,n,r){ae(this,e,t,n,r)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)X(n[r]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},he.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ve extends U{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(e){U.call(this),this.h=e,this.g={}}d(ye,U);var xe=[];function be(e){C(e.g,function(e,t){this.g.hasOwnProperty(t)&&se(e)},e),e.g={}}ye.prototype.N=function(){ye.aa.N.call(this),be(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=i.JSON.stringify,ke=i.JSON.parse,_e=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Se(){}function Ae(e){return e.h||(e.h=e.i())}function Ee(){}Se.prototype.h=null;var je={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ce(){W.call(this,"d")}function Ne(){W.call(this,"c")}d(Ce,W),d(Ne,W);var Pe={},Te=null;function Ie(){return Te=Te||new he}function Oe(e){W.call(this,Pe.La,e)}function Me(e){const t=Ie();fe(t,new Oe(t))}function De(e,t){W.call(this,Pe.STAT_EVENT,e),this.stat=t}function Re(e){const t=Ie();fe(t,new De(t,e))}function Le(e,t){W.call(this,Pe.Ma,e),this.size=t}function Fe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function ze(){this.g=!0}function Ve(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return we(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}Pe.La="serverreachability",d(Oe,W),Pe.STAT_EVENT="statevent",d(De,W),Pe.Ma="timingevent",d(Le,W),ze.prototype.xa=function(){this.g=!1},ze.prototype.info=function(){};var Be,Ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function He(){}function Ke(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}d(He,Se),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},Be=new He;var Ge={},Ye={};function Qe(e,t,n){e.L=1,e.v=wt(gt(t)),e.m=n,e.P=!0,Xe(e,null)}function Xe(e,t){e.F=Date.now(),Ze(e),e.A=gt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Dt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new qe,e.g=_n(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ve(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(xe[0]=i.toString()),i=xe);for(var a=0;a<i.length;a++){var s=ne(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?N(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Me(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Je(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ye:(n=Number(t.substring(n,r)),isNaN(n)?Ge:(r+=1)+n>t.length?Ye:(t=t.slice(r,r+n),e.C=r+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fe(c(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||yn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,be(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vn(n),on(n)}pn(n),Re(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Fe(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else bn(n,11)}else if((e.K||n.g==e)&&vn(n),!S(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ut(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,bt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=kn(r,r.J?r.ia:null,r.W),s.K){dt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(tt(o),Ze(o)),r.g=s}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||bn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?bn(n,7):sn(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Me()}catch(u){}}Ke.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},Ke.prototype.Y=function(e){try{if(e==this.g)e:{const h=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||Me(),tt(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=nn(this.g);e="";var a=r.length,s=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Re(12),rt(this),nt(this);break e}Ve(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Je(this,o),e==Ye){4==h&&(this.s=4,Re(14),n=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ge){this.s=4,Re(15),Ve(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ve(this.i,this.l,e,null),it(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Re(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),mn(d),d.M=!0,Re(11))}}else Ve(this.i,this.l,o,"[Invalid Chunked Response]"),rt(this),nt(this)}else Ve(this.i,this.l,o,null),it(this,o);4==h&&rt(this),this.o&&!this.J&&(4==h?yn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(S(e[r]))continue;var n=I(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Re(12)):(this.s=0,Re(13)),rt(this),nt(this)}}}catch(h){}},Ke.prototype.cancel=function(){this.J=!0,rt(this)},Ke.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Me(),Re(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var at=class{constructor(e,t){this.g=e,this.map=t}};function st(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ot(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return k(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}st.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,vt(this,e.j),this.o=e.o,this.g=e.g,yt(this,e.s),this.l=e.l;var t=e.i,n=new Tt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,vt(this,t[1]||"",!0),this.o=kt(t[2]||""),this.g=kt(t[3]||"",!0),yt(this,t[4]),this.l=kt(t[5]||"",!0),xt(this,t[6]||"",!0),this.m=kt(t[7]||"")):(this.h=!1,this.i=new Tt(null,this.h))}function gt(e){return new mt(e)}function vt(e,t,n){e.j=n?kt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function xt(e,t,n){t instanceof Tt?(e.i=t,function(e,t){t&&!e.j&&(It(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ot(this,t),Dt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=_t(t,Nt)),e.i=new Tt(t,e.h))}function bt(e,t,n){e.i.set(t,n)}function wt(e){return bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _t(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,St),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function St(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_t(t,Et,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(_t(t,Et,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(_t(n,"/"==n.charAt(0)?Ct:jt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",_t(n,Pt)),e.join("")};var At,Et=/[#\/\?@]/g,jt=/[#\?:]/g,Ct=/[#\?]/g,Nt=/[#\?@]/g,Pt=/#/g;function Tt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function It(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ot(e,t){It(e),t=Rt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mt(e,t){return It(e),t=Rt(e,t),e.g.has(t)}function Dt(e,t,n){Ot(e,t),0<n.length&&(e.i=null,e.g.set(Rt(e,t),k(n)),e.h+=n.length)}function Rt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Lt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Ft(){this.g=new _e}function zt(e,t,n){const r=n||"";try{ft(e,function(e,n){let i=e;s(e)&&(i=we(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Bt(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ut(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Wt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ht(e)}function Ht(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Kt(e){let t="";return C(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bt(e,t,n))}function Gt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Tt.prototype).add=function(e,t){It(this),this.i=null,e=Rt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){It(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){It(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){It(this);let t=[];if("string"===typeof e)Mt(this,e)&&(t=t.concat(this.g.get(Rt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return It(this),this.i=null,Mt(this,e=Rt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Vt,Se),Vt.prototype.g=function(){return new Bt(this.l,this.j)},Vt.prototype.i=(At={},function(){return At}),d(Bt,he),(e=Bt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ht(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ht(this)),this.g&&(this.readyState=3,Ht(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ut(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wt(this):Ht(this),3==this.readyState&&Ut(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Wt(this))},e.Qa=function(e){this.g&&(this.response=e,Wt(this))},e.ga=function(){this.g&&Wt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Gt,he);var Yt=/^https?$/i,Qt=["POST","PUT"];function Xt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),Zt(e)}function $t(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function Jt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))me(e.Ea,0,e);else if(fe(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var s=String(e.D).match(pt)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),a=!Yt.test(s?s.toLowerCase():"")}n=a}if(n)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var o=2<tn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",$t(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new ze,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new st(e&&e.concurrentRequestLimit),this.Da=new Ft,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sn(e){if(ln(e),3==e.G){var t=e.U++,n=gt(e.I);if(bt(n,"SID",e.K),bt(n,"RID",t),bt(n,"TYPE","terminate"),dn(e,n),(t=new Ke(e,e.j,t)).L=2,t.v=wt(gt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=_n(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}wn(e)}function on(e){e.g&&(mn(e),e.g.cancel(),e.g=null)}function ln(e){on(e),e.u&&(i.clearTimeout(e.u),e.u=null),vn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!ot(e.h)&&!e.s){e.s=!0;var t=e.Ga;L||V(),F||(L(),F=!0),z.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=gt(e.I);bt(r,"SID",e.K),bt(r,"RID",n),bt(r,"AID",e.T),dn(e,r),e.m&&e.o&&qt(r,e.m,e.o),n=new Ke(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),Qe(n,r,t)}function dn(e,t){e.H&&C(e.H,function(e,n){bt(t,n,e)}),e.l&&ft({},function(e,n){bt(t,n,e)})}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{zt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;L||V(),F||(L(),F=!0),z.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Fe(c(e.Fa,e),xn(e,e.v)),e.v++,!0)}function mn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function gn(e){e.g=new Ke(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);bt(t,"RID","rpc"),bt(t,"SID",e.K),bt(t,"AID",e.T),bt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&bt(t,"TO",e.ja),bt(t,"TYPE","xmlhttp"),dn(e,t),e.m&&e.o&&qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=wt(gt(t)),n.m=null,n.P=!0,Xe(n,e)}function vn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function yn(e,t){var n=null;if(e.g==t){vn(e),mn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,dt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;fe(r=Ie(),new Le(r,n)),cn(e)}else fn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Fe(c(e.Ga,e,t),xn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:bn(e,5);break;case 4:bn(e,10);break;case 3:bn(e,6);break;default:bn(e,2)}}function xn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function bn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new mt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||vt(r,"https"),wt(r),t?function(e,t){const n=new ze;if(i.Image){const r=new Image;r.onload=u(Lt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Lt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Lt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Lt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ze;const n=new AbortController,r=setTimeout(()=>{n.abort(),Lt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Lt(0,0,!0,t):Lt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Lt(0,0,!1,t)})}(r.toString(),n)}else Re(2);e.G=0,e.l&&e.l.sa(t),wn(e),ln(e)}function wn(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(_(e.ka,t),_(e.ka,e.i),e.h.i.length=0,k(e.i),e.i.length=0),e.l.ra()}}function kn(e,t,n){var r=n instanceof mt?gt(n):new mt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),yt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new mt(null);r&&vt(s,r),t&&(s.g=t),a&&yt(s,a),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&bt(r,n,t),bt(r,"VER",e.la),dn(e,r),r}function _n(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Gt(new Vt({eb:n})):new Gt(e.pa)).Ha(e.J),t}function Sn(){}function An(){}function En(e,t){he.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!S(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function jn(e){Ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cn(){Ne.call(this),this.status=1}function Nn(e){this.g=e}(e=Gt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Be.g(),this.v=this.o?Ae(this.o):Ae(Be),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Xt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Qt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Xt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Jt(this):this.bb())},e.bb=function(){Jt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(At){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(At){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ke(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Re(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=kn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ke(this,this.j,e);let a=this.o;if(this.S&&(a?(a=N(a),T(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,i,t),bt(n=gt(this.I),"RID",e),bt(n,"CVER",22),this.D&&bt(n,"X-HTTP-Session-Id",this.D),dn(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Kt(a)))+"&"+t:this.m&&qt(n,this.m,a)),ut(this.h,i),this.Ua&&bt(n,"TYPE","init"),this.P?(bt(n,"$req",t),bt(n,"SID","null"),i.T=!0,Qe(i,n,null)):Qe(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||ot(this.h)||un(this))},e.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Fe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Re(10),on(this),gn(this))},e.Za=function(){null!=this.C&&(this.C=null,on(this),pn(this),Re(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Sn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},An.prototype.g=function(e,t){return new En(e,t)},d(En,he),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){sn(this.g)},En.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=we(e),e=n);t.i.push(new at(t.Ya++,e)),3==t.G&&cn(t)},En.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,En.aa.N.call(this)},d(jn,Ce),d(Cn,Ne),d(Nn,Sn),Nn.prototype.ua=function(){fe(this.g,"a")},Nn.prototype.ta=function(e){fe(this.g,new jn(e))},Nn.prototype.sa=function(e){fe(this.g,new Cn)},Nn.prototype.ra=function(){fe(this.g,"b")},An.prototype.createWebChannel=An.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,x=w.createWebChannelTransport=function(){return new An},y=w.getStatEventTarget=function(){return Ie()},v=w.Event=Pe,g=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,m=w.ErrorCode=Ue,We.COMPLETE="complete",p=w.EventType=We,Ee.EventType=je,je.OPEN="a",je.CLOSE="b",je.ERROR="c",je.MESSAGE="d",he.prototype.listen=he.prototype.K,f=w.WebChannel=Ee,w.FetchXmlHttpFactory=Vt,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,h=w.XhrIo=Gt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const k="@firebase/firestore",_="4.9.1";class S{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}S.UNAUTHENTICATED=new S(null),S.GOOGLE_CREDENTIALS=new S("google-credentials-uid"),S.FIRST_PARTY=new S("first-party-uid"),S.MOCK_USER=new S("mock-user");let A="12.2.0";const E=new l.Vy("@firebase/firestore");function j(){return E.logLevel}function C(e){if(E.logLevel<=l.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(T);E.debug("Firestore (".concat(A,"): ").concat(e),...i)}}function N(e){if(E.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(T);E.error("Firestore (".concat(A,"): ").concat(e),...i)}}function P(e){if(E.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(T);E.warn("Firestore (".concat(A,"): ").concat(e),...i)}}function T(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function I(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,O(e,r,n)}function O(e,t,n){let r="FIRESTORE (".concat(A,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw N(r),new Error(r)}function M(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||O(t,i,r)}function D(e,t){return e}const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class F{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class z{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(S.UNAUTHENTICATED))}shutdown(){}}class B{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(e){this.t=e,this.currentUser=S.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){M(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new F;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new F,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new F)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(M("string"==typeof t.accessToken,31837,{l:t}),new z(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return M(null===e||"string"==typeof e,2055,{h:e}),new S(e)}}class W{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=S.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new W(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(S.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){M(void 0===this.o,3512);const n=e=>{null!=e.error&&C("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,C("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(M("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new K(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Y{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=G(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Q(e,t){return e<t?-1:e>t?1:0}function X(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Z(n)===Z(i)?Q(n,i):Z(n)?1:-1}return Q(e.length,t.length)}const $=55296,J=57343;function Z(e){const t=e.charCodeAt(0);return t>=$&&t<=J}function ee(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const te="__name__";class ne{constructor(e,t,n){void 0===t?t=0:t>e.length&&I(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&I(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ne.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ne?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ne.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Q(e.length,t.length)}static compareSegments(e,t){const n=ne.isNumericId(e),r=ne.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ne.extractNumericId(e).compare(ne.extractNumericId(t)):X(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class re extends ne{construct(e,t,n){return new re(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new L(R.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new re(e)}static emptyPath(){return new re([])}}const ie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ae extends ne{construct(e,t,n){return new ae(e,t,n)}static isValidIdentifier(e){return ie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ae.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===te}static keyField(){return new ae([te])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new L(R.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new L(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new L(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new L(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ae(t)}static emptyPath(){return new ae([])}}class se{constructor(e){this.path=e}static fromPath(e){return new se(re.fromString(e))}static fromName(e){return new se(re.fromString(e).popFirst(5))}static empty(){return new se(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===re.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new re(e.slice()))}}function oe(e,t,n){if(!n)throw new L(R.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function le(e){if(!se.isDocumentKey(e))throw new L(R.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ce(e){if(se.isDocumentKey(e))throw new L(R.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ue(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function de(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":I(12329,{type:typeof e})}function he(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=de(e);throw new L(R.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function fe(e,t){const n={typeString:e};return t&&(n.value=t),n}function pe(e,t){if(!ue(e))throw new L(R.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&s!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new L(R.INVALID_ARGUMENT,n);return!0}const me=-62135596800,ge=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(e){return ve.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ge);return new ve(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<me)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ge}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pe(e,ve._jsonSchema))return new ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-me;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:fe("string",ve._jsonSchemaVersion),seconds:fe("number"),nanoseconds:fe("number")};class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new ve(0,0))}static max(){return new ye(new ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xe=-1;class be{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}be.UNKNOWN_ID=-1;function we(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(1e9===r?new ve(n+1,0):new ve(n,r));return new _e(i,se.empty(),t)}function ke(e){return new _e(e.readTime,e.key,xe)}class _e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _e(ye.min(),se.empty(),xe)}static max(){return new _e(ye.max(),se.empty(),xe)}}function Se(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=se.comparator(e.documentKey,t.documentKey),0!==n?n:Q(e.largestBatchId,t.largestBatchId))}const Ae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function je(e){if(e.code!==R.FAILED_PRECONDITION||e.message!==Ae)throw e;C("LocalStore","Unexpectedly lost primary lease")}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&I(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(e){return Ce.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,n)=>{t(e)})}static reject(e){return new Ce((t,n)=>{n(e)})}static waitFor(e){return new Ce((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=Ce.resolve(!1);for(const n of e)t=t.next(e=>e?Ce.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ce((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new Ce((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ne(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pe(e){return"IndexedDbTransactionError"===e.name}class Te{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Te.ce=-1;const Ie=-1;function Oe(e){return null==e}function Me(e){return 0===e&&1/e==-1/0}function De(e){return"number"==typeof e&&Number.isInteger(e)&&!Me(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Re="\x01";function Le(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ze(t)),t=Fe(e.get(n),t);return ze(t)}function Fe(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Re:n+="\x01\x11";break;default:n+=t}}return n}function ze(e){return e+Re+"\x01"}const Ve="remoteDocuments",Be="owner",Ue="mutationQueues",We="mutations";const He="documentMutations",Ke="remoteDocumentsV14",qe="remoteDocumentGlobal",Ge="targets",Ye="targetDocuments",Qe="targetGlobal",Xe="collectionParents",$e="clientMetadata",Je="bundles",Ze="namedQueries",et="indexConfiguration",tt="indexState",nt="indexEntries",rt="documentOverlays",it="globals",at=[Ue,We,He,Ve,Ge,Be,Qe,Ye,$e,qe,Xe,Je,Ze],st=[Ue,We,He,Ke,Ge,Be,Qe,Ye,$e,qe,Xe,Je,Ze,rt],ot=st,lt=[...ot,et,tt,nt];function ct(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ut(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ht{constructor(e,t){this.comparator=e,this.root=t||pt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ft(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ft(this.root,e,this.comparator,!1)}getReverseIterator(){return new ft(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ft(this.root,e,this.comparator,!0)}}class ft{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:pt.RED,this.left=null!=r?r:pt.EMPTY,this.right=null!=i?i:pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new pt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return pt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw I(43730,{key:this.key,value:this.value});if(this.right.isRed())throw I(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw I(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1,pt.EMPTY=new class{constructor(){this.size=0}get key(){throw I(57766)}get value(){throw I(16141)}get color(){throw I(16727)}get left(){throw I(29726)}get right(){throw I(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gt(this.data.getIterator())}getIteratorFrom(e){return new gt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof mt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class gt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vt{constructor(e){this.fields=e,e.sort(ae.comparator)}static empty(){return new vt([])}unionWith(e){let t=new mt(ae.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new vt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ee(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class yt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new yt("Invalid base64 string: "+e):e}}(e);return new xt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const bt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wt(e){if(M(!!e,39018),"string"==typeof e){let t=0;const n=bt.exec(e);if(M(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:kt(e.seconds),nanos:kt(e.nanos)}}function kt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _t(e){return"string"==typeof e?xt.fromBase64String(e):xt.fromUint8Array(e)}const St="server_timestamp",At="__type__",Et="__previous_value__",jt="__local_write_time__";function Ct(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[At])||void 0===t?void 0:t.stringValue)===St}function Nt(e){const t=e.mapValue.fields[Et];return Ct(t)?Nt(t):t}function Pt(e){const t=wt(e.mapValue.fields[jt].timestampValue);return new ve(t.seconds,t.nanos)}class Tt{constructor(e,t,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const It="(default)";class Ot{constructor(e,t){this.projectId=e,this.database=t||It}static empty(){return new Ot("","")}get isDefaultDatabase(){return this.database===It}isEqual(e){return e instanceof Ot&&e.projectId===this.projectId&&e.database===this.database}}const Mt="__type__",Dt="__max__",Rt={mapValue:{fields:{__type__:{stringValue:Dt}}}},Lt="__vector__",Ft="value";function zt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ct(e)?4:nn(e)?9007199254740991:en(e)?10:11:I(28295,{value:e})}function Vt(e,t){if(e===t)return!0;const n=zt(e);if(n!==zt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pt(e).isEqual(Pt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wt(e.timestampValue),r=wt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _t(e.bytesValue).isEqual(_t(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kt(e.geoPointValue.latitude)===kt(t.geoPointValue.latitude)&&kt(e.geoPointValue.longitude)===kt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kt(e.integerValue)===kt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=kt(e.doubleValue),r=kt(t.doubleValue);return n===r?Me(n)===Me(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ee(e.arrayValue.values||[],t.arrayValue.values||[],Vt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ct(n)!==ct(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vt(n[i],r[i])))return!1;return!0}(e,t);default:return I(52216,{left:e})}}function Bt(e,t){return void 0!==(e.values||[]).find(e=>Vt(e,t))}function Ut(e,t){if(e===t)return 0;const n=zt(e),r=zt(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=kt(e.integerValue||e.doubleValue),r=kt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wt(e.timestampValue,t.timestampValue);case 4:return Wt(Pt(e),Pt(t));case 5:return X(e.stringValue,t.stringValue);case 6:return function(e,t){const n=_t(e),r=_t(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Q(n[i],r[i]);if(0!==e)return e}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Q(kt(e.latitude),kt(t.latitude));return 0!==n?n:Q(kt(e.longitude),kt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ht(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,a){const s=e.fields||{},o=t.fields||{},l=null===(n=s[Ft])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Ft])||void 0===r?void 0:r.arrayValue,u=Q((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Ht(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Rt.mapValue&&t===Rt.mapValue)return 0;if(e===Rt.mapValue)return 1;if(t===Rt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=X(r[s],a[s]);if(0!==e)return e;const t=Ut(n[r[s]],i[a[s]]);if(0!==t)return t}return Q(r.length,a.length)}(e.mapValue,t.mapValue);default:throw I(23264,{he:n})}}function Wt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);const n=wt(e),r=wt(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function Ht(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ut(n[i],r[i]);if(e)return e}return Q(n.length,r.length)}function Kt(e){return qt(e)}function qt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _t(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return se.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(qt(e.fields[i]));return n+"}"}(e.mapValue):I(61005,{value:e})}function Gt(e){switch(zt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nt(e);return t?16+Gt(t):16;case 5:return 2*e.stringValue.length;case 6:return _t(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Gt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ut(e.fields,(e,n)=>{t+=e.length+Gt(n)}),t}(e.mapValue);default:throw I(13486,{value:e})}}function Yt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qt(e){return!!e&&"integerValue"in e}function Xt(e){return!!e&&"arrayValue"in e}function $t(e){return!!e&&"nullValue"in e}function Jt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zt(e){return!!e&&"mapValue"in e}function en(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Mt])||void 0===t?void 0:t.stringValue)===Lt}function tn(e){if(e.geoPointValue)return{geoPointValue:(0,a.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,a.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ut(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=tn(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tn(e.arrayValue.values[n]);return t}return(0,a.A)({},e)}function nn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Dt}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tn(t)}setAll(e){let t=ae.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=tn(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ut(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new rn(tn(this.value))}}function an(e){const t=[];return ut(e.fields,(e,n)=>{const r=new ae([e]);if(Zt(n)){const e=an(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new vt(t)}class sn{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new sn(e,0,ye.min(),ye.min(),ye.min(),rn.empty(),0)}static newFoundDocument(e,t,n,r){return new sn(e,1,t,ye.min(),n,r,0)}static newNoDocument(e,t){return new sn(e,2,t,ye.min(),ye.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,ye.min(),ye.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class on{constructor(e,t){this.position=e,this.inclusive=t}}function ln(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?se.comparator(se.fromName(s.referenceValue),n.key):Ut(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vt(e.position[n],t.position[n]))return!1;return!0}class un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function dn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class hn{}class fn extends hn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wn(e,t,n):"array-contains"===t?new An(e,n):"in"===t?new En(e,n):"not-in"===t?new jn(e,n):"array-contains-any"===t?new Cn(e,n):new fn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kn(e,n):new _n(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ut(t,this.value)):null!==t&&zt(this.value)===zt(t)&&this.matchesComparison(Ut(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return I(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends hn{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new pn(e,t)}matches(e){return mn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mn(e){return"and"===e.op}function gn(e){return vn(e)&&mn(e)}function vn(e){for(const t of e.filters)if(t instanceof pn)return!1;return!0}function yn(e){if(e instanceof fn)return e.field.canonicalString()+e.op.toString()+Kt(e.value);if(gn(e))return e.filters.map(e=>yn(e)).join(",");{const t=e.filters.map(e=>yn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function xn(e,t){return e instanceof fn?function(e,t){return t instanceof fn&&e.op===t.op&&e.field.isEqual(t.field)&&Vt(e.value,t.value)}(e,t):e instanceof pn?function(e,t){return t instanceof pn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&xn(n,t.filters[r]),!0)}(e,t):void I(19439)}function bn(e){return e instanceof fn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Kt(e.value))}(e):e instanceof pn?function(e){return e.op.toString()+" {"+e.getFilters().map(bn).join(" ,")+"}"}(e):"Filter"}class wn extends fn{constructor(e,t,n){super(e,t,n),this.key=se.fromName(n.referenceValue)}matches(e){const t=se.comparator(e.key,this.key);return this.matchesComparison(t)}}class kn extends fn{constructor(e,t){super(e,"in",t),this.keys=Sn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _n extends fn{constructor(e,t){super(e,"not-in",t),this.keys=Sn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Sn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>se.fromName(e.referenceValue))}class An extends fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xt(t)&&Bt(t.arrayValue,this.value)}}class En extends fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bt(this.value.arrayValue,t)}}class jn extends fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Bt(this.value.arrayValue,t)}}class Cn extends fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Bt(this.value.arrayValue,e))}}class Nn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.Te=null}}function Pn(e){return new Nn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Tn(e){const t=D(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>yn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Oe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Kt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Kt(e)).join(",")),t.Te=e}return t.Te}function In(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!dn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cn(e.startAt,t.startAt)&&cn(e.endAt,t.endAt)}function On(e){return se.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Mn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Dn(e,t,n,r,i,a,s,o){return new Mn(e,t,n,r,i,a,s,o)}function Rn(e){return new Mn(e)}function Ln(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fn(e){return null!==e.collectionGroup}function zn(e){const t=D(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new mt(ae.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new un(r,n))}),e.has(ae.keyField().canonicalString())||t.Ie.push(new un(ae.keyField(),n))}return t.Ie}function Vn(e){const t=D(e);return t.Ee||(t.Ee=Bn(t,zn(e))),t.Ee}function Bn(e,t){if("F"===e.limitType)return Pn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new un(e.field,t)});const n=e.endAt?new on(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new on(e.startAt.position,e.startAt.inclusive):null;return Pn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Un(e,t){const n=e.filters.concat([t]);return new Mn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wn(e,t,n){return new Mn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hn(e,t){return In(Vn(e),Vn(t))&&e.limitType===t.limitType}function Kn(e){return"".concat(Tn(Vn(e)),"|lt:").concat(e.limitType)}function qn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>bn(e)).join(", "),"]")),Oe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Kt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Kt(e)).join(",")),"Target(".concat(t,")")}(Vn(e)),"; limitType=").concat(e.limitType,")")}function Gn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):se.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of zn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zn(e),t))&&!(e.endAt&&!function(e,t,n){const r=ln(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zn(e),t))}(e,t)}function Yn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qn(e){return(t,n)=>{let r=!1;for(const i of zn(e)){const e=Xn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Xn(e,t,n){const r=e.field.isKeyField()?se.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ut(r,i):I(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return I(19790,{direction:e.dir})}}class $n{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ut(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return dt(this.inner)}size(){return this.innerSize}}const Jn=new ht(se.comparator);function Zn(){return Jn}const er=new ht(se.comparator);function tr(){let e=er;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function nr(e){let t=er;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rr(){return ar()}function ir(){return ar()}function ar(){return new $n(e=>e.toString(),(e,t)=>e.isEqual(t))}const sr=new ht(se.comparator),or=new mt(se.comparator);function lr(){let e=or;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const cr=new mt(Q);function ur(){return cr}function dr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Me(t)?"-0":t}}function hr(e){return{integerValue:""+e}}function fr(e,t){return De(t)?hr(t):dr(e,t)}class pr{constructor(){this._=void 0}}function mr(e,t,n){return e instanceof yr?function(e,t){const n={fields:{[At]:{stringValue:St},[jt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ct(t)&&(t=Nt(t)),t&&(n.fields[Et]=t),{mapValue:n}}(n,t):e instanceof xr?br(e,t):e instanceof wr?kr(e,t):function(e,t){const n=vr(e,t),r=Sr(n)+Sr(e.Ae);return Qt(n)&&Qt(e.Ae)?hr(r):dr(e.serializer,r)}(e,t)}function gr(e,t,n){return e instanceof xr?br(e,t):e instanceof wr?kr(e,t):n}function vr(e,t){return e instanceof _r?function(e){return Qt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class yr extends pr{}class xr extends pr{constructor(e){super(),this.elements=e}}function br(e,t){const n=Ar(t);for(const r of e.elements)n.some(e=>Vt(e,r))||n.push(r);return{arrayValue:{values:n}}}class wr extends pr{constructor(e){super(),this.elements=e}}function kr(e,t){let n=Ar(t);for(const r of e.elements)n=n.filter(e=>!Vt(e,r));return{arrayValue:{values:n}}}class _r extends pr{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Sr(e){return kt(e.integerValue||e.doubleValue)}function Ar(e){return Xt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Er{constructor(e,t){this.field=e,this.transform=t}}class jr{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Pr{}function Tr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Br(e.key,Cr.none()):new Rr(e.key,e.data,Cr.none());{const n=e.data,r=rn.empty();let i=new mt(ae.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Lr(e.key,r,new vt(i.toArray()),Cr.none())}}function Ir(e,t,n){e instanceof Rr?function(e,t,n){const r=e.value.clone(),i=zr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lr?function(e,t,n){if(!Nr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Or(e,t,n,r){return e instanceof Rr?function(e,t,n,r){if(!Nr(e.precondition,t))return n;const i=e.value.clone(),a=Vr(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lr?function(e,t,n,r){if(!Nr(e.precondition,t))return n;const i=Vr(e.fieldTransforms,r,t),a=t.data;return a.setAll(Fr(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Nr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Mr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=vr(r.transform,e||null);null!=i&&(null===n&&(n=rn.empty()),n.set(r.field,i))}return n||null}function Dr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ee(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof xr&&t instanceof xr||e instanceof wr&&t instanceof wr?ee(e.elements,t.elements,Vt):e instanceof _r&&t instanceof _r?Vt(e.Ae,t.Ae):e instanceof yr&&t instanceof yr}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rr extends Pr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lr extends Pr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zr(e,t,n){const r=new Map;M(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,gr(s,o,n[i]))}return r}function Vr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,mr(e,a,t))}return r}class Br extends Pr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ur extends Pr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ir(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Or(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Or(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ir();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Tr(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(ye.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),lr())}isEqual(e){return this.batchId===e.batchId&&ee(this.mutations,e.mutations,(e,t)=>Dr(e,t))&&ee(this.baseMutations,e.baseMutations,(e,t)=>Dr(e,t))}}class Hr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){M(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=sr;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Hr(e,t,n,r)}}class Kr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class qr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gr,Yr;function Qr(e){switch(e){case R.OK:return I(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return I(15467,{code:e})}}function Xr(e){if(void 0===e)return N("GRPC error has no .code"),R.UNKNOWN;switch(e){case Gr.OK:return R.OK;case Gr.CANCELLED:return R.CANCELLED;case Gr.UNKNOWN:return R.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return R.INTERNAL;case Gr.UNAVAILABLE:return R.UNAVAILABLE;case Gr.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Gr.NOT_FOUND:return R.NOT_FOUND;case Gr.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Gr.ABORTED:return R.ABORTED;case Gr.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Gr.DATA_LOSS:return R.DATA_LOSS;default:return I(39323,{code:e})}}(Yr=Gr||(Gr={}))[Yr.OK=0]="OK",Yr[Yr.CANCELLED=1]="CANCELLED",Yr[Yr.UNKNOWN=2]="UNKNOWN",Yr[Yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yr[Yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yr[Yr.NOT_FOUND=5]="NOT_FOUND",Yr[Yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yr[Yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yr[Yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yr[Yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yr[Yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yr[Yr.ABORTED=10]="ABORTED",Yr[Yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yr[Yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yr[Yr.INTERNAL=13]="INTERNAL",Yr[Yr.UNAVAILABLE=14]="UNAVAILABLE",Yr[Yr.DATA_LOSS=15]="DATA_LOSS";let $r=null;function Jr(){return new TextEncoder}const Zr=new r([4294967295,4294967295],0);function ei(e){const t=Jr().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function ti(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new r([n,i],0),new r([a,s],0)]}class ni{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ri("Invalid padding: ".concat(t));if(n<0)throw new ri("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ri("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ri("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Zr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=ei(e),[n,r]=ti(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ni(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=ei(e),[n,r]=ti(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ri extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ii{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ai.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ii(ye.min(),r,new ht(Q),Zn(),lr())}}class ai{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ai(n,t,lr(),lr(),lr())}}class si{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class oi{constructor(e,t){this.targetId=e,this.Ce=t}}class li{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ci{constructor(){this.ve=0,this.Fe=hi(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lr(),t=lr(),n=lr();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:I(38017,{changeType:i})}}),new ai(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=hi()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,M(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ui{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zn(),this.Je=di(),this.He=di(),this.Ye=new ht(Q)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:I(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(On(a))if(0===n){const e=new se(a.path);this.et(t,e,sn.newNoDocument(e,ye.min()))}else M(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=$r)||void 0===i||i.lt(function(e,t,n,r,i,a,s,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null===d||void 0===d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=_t(n).toUint8Array()}catch(e){if(e instanceof yt)return P("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new ni(a,r,i)}catch(e){return P(e instanceof ri?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&On(i.target)){const t=new se(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,sn.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=lr();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ii(e,t,this.Ye,this.je,n);return this.je=Zn(),this.Je=di(),this.He=di(),this.Ye=new ht(Q),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ci,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new mt(Q),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new mt(Q),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||C("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ci),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function di(){return new ht(se.comparator)}function hi(){return new ht(se.comparator)}const fi={asc:"ASCENDING",desc:"DESCENDING"},pi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mi={and:"AND",or:"OR"};class gi{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vi(e,t){return e.useProto3Json||Oe(t)?t:{value:t}}function yi(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bi(e,t){return yi(e,t.toTimestamp())}function wi(e){return M(!!e,49232),ye.fromTimestamp(function(e){const t=wt(e);return new ve(t.seconds,t.nanos)}(e))}function ki(e,t){return _i(e,t).canonicalString()}function _i(e,t){const n=function(e){return new re(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Si(e){const t=re.fromString(e);return M(Hi(t),10190,{key:t.toString()}),t}function Ai(e,t){return ki(e.databaseId,t.path)}function Ei(e,t){const n=Si(t);if(n.get(1)!==e.databaseId.projectId)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new se(Pi(n))}function ji(e,t){return ki(e.databaseId,t)}function Ci(e){const t=Si(e);return 4===t.length?re.emptyPath():Pi(t)}function Ni(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pi(e){return M(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ti(e,t,n){return{name:Ai(e,t),fields:n.value.mapValue.fields}}function Ii(e,t){let n;if(t instanceof Rr)n={update:Ti(e,t.key,t.value)};else if(t instanceof Br)n={delete:Ai(e,t.key)};else if(t instanceof Lr)n={update:Ti(e,t.key,t.data),updateMask:Wi(t.fieldMask)};else{if(!(t instanceof Ur))return I(16599,{Vt:t.type});n={verify:Ai(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof yr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _r)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw I(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:bi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:I(27497)}(e,t.precondition)),n}function Oi(e,t){return{documents:[ji(e,t.path)]}}function Mi(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ji(e,i);const a=function(e){if(0!==e.length)return Ui(pn.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Vi(e.field),direction:Li(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vi(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Di(e){let t=Ci(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){M(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Ri(e);return t instanceof pn&&gn(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new un(Bi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Oe(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new on(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new on(n,t)}(n.endAt)),Dn(t,i,s,a,o,"F",l,c)}function Ri(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bi(e.unaryFilter.field);return fn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Bi(e.unaryFilter.field);return fn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bi(e.unaryFilter.field);return fn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bi(e.unaryFilter.field);return fn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return I(61313);default:return I(60726)}}(e):void 0!==e.fieldFilter?function(e){return fn.create(Bi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return I(58110);default:return I(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pn.create(e.compositeFilter.filters.map(e=>Ri(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return I(1026)}}(e.compositeFilter.op))}(e):I(30097,{filter:e})}function Li(e){return fi[e]}function Fi(e){return pi[e]}function zi(e){return mi[e]}function Vi(e){return{fieldPath:e.canonicalString()}}function Bi(e){return ae.fromServerFormat(e.fieldPath)}function Ui(e){return e instanceof fn?function(e){if("=="===e.op){if(Jt(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NAN"}};if($t(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jt(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NOT_NAN"}};if($t(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(e.field),op:Fi(e.op),value:e.value}}}(e):e instanceof pn?function(e){const t=e.getFilters().map(e=>Ui(e));return 1===t.length?t[0]:{compositeFilter:{op:zi(e.op),filters:t}}}(e):I(54877,{filter:e})}function Wi(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Hi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ki{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ye.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ye.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xt.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qi{constructor(e){this.yt=e}}function Gi(e){const t=Di({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wn(t,t.limit,"L"):t}class Yi{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(kt(e.integerValue));else if("doubleValue"in e){const n=kt(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Me(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=wt(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(_t(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?nn(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):en(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):I(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Ft,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(kt(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),se.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Yi.Kt=new Yi;class Qi{constructor(){this.Cn=new Xi}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(_e.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(_e.min())}updateCollectionGroup(e,t,n){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class Xi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mt(re.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new mt(re.comparator)).toArray()}}new Uint8Array(0);const $i={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ji=41943040;class Zi{static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi(Ji,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);class ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ea(0)}static cr(){return new ea(-1)}}const ta="LruGarbageCollector",na=1048576;function ra(e,t){let[n,r]=e,[i,a]=t;const s=Q(n,i);return 0===s?Q(r,a):s}class ia{constructor(e){this.Ir=e,this.buffer=new mt(ra),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ra(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aa{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){C(ta,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Pe(e)?C(ta,"Ignoring IndexedDB error during garbage collection: ",e):await je(e)}await this.Vr(3e5)})}}class sa{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(Te.ce);const n=new ia(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve($i)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),$i):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,s,o,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(C("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),j()<=l.$b.DEBUG&&C("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-o)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function oa(e,t){return new sa(e,t)}class la{constructor(){this.changes=new $n(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ce.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ca{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ua{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Or(n.mutation,e,vt.empty(),ve.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,lr()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lr();const r=rr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=tr();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=rr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,lr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Zn();const a=ar(),s=ar();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Lr)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Or(s.mutation,t,s.mutation.getFieldMask(),ve.now())):a.set(t.key,vt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new ca(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=ar();let r=new ht((e,t)=>e-t),i=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||vt.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||lr()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=ir();l.forEach(e=>{if(!i.has(e)){const r=Tr(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ce.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return se.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ce.resolve(rr());let s=xe,o=i;return a.next(t=>Ce.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Ce.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,lr())).next(e=>({batchId:s,changes:nr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new se(t)).next(e=>{let t=tr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=tr();return this.indexManager.getCollectionParents(e,i).next(s=>Ce.forEach(s,s=>{const o=function(e,t){return new Mn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,sn.newInvalidDocument(r)))});let n=tr();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&Or(a.mutation,r,vt.empty(),ve.now()),Gn(t,r)&&(n=n.insert(e,r))}),n})}}class da{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wi(e.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Gi(e.bundledQuery),readTime:wi(e.readTime)}}(t)),Ce.resolve()}}class ha{constructor(){this.overlays=new ht(se.comparator),this.qr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rr();return Ce.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ce.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ce.resolve()}getOverlaysForCollection(e,t,n){const r=rr(),i=t.length+1,a=new se(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ce.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ht((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=rr(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Ce.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kr(t,n));let i=this.qr.get(t);void 0===i&&(i=lr(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class fa{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}class pa{constructor(){this.Qr=new mt(ma.$r),this.Ur=new mt(ma.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ma(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new ma(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new se(new re([])),n=new ma(t,e),r=new ma(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new se(new re([])),n=new ma(t,e),r=new ma(t,e+1);let i=lr();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ma(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ma{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return se.comparator(e.key,t.key)||Q(e.Yr,t.Yr)}static Kr(e,t){return Q(e.Yr,t.Yr)||se.comparator(e.key,t.key)}}class ga{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new mt(ma.$r)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Wr(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Zr=this.Zr.add(new ma(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ce.resolve(a)}lookupMutationBatch(e,t){return Ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?Ie:this.tr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ma(t,0),r=new ma(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mt(Q);return t.forEach(e=>{const t=new ma(e,0),r=new ma(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ce.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;se.isDocumentKey(i)||(i=i.child(""));const a=new ma(new se(i),0);let s=new mt(Q);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},a),Ce.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){M(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ce.forEach(t.mutations,r=>{const i=new ma(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new ma(t,0),r=this.Zr.firstAfterOrEqual(n);return Ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class va{constructor(e){this.ri=e,this.docs=new ht(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ce.resolve(n?n.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let n=Zn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():sn.newInvalidDocument(e))}),Ce.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Zn();const a=t.path,s=new se(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Se(ke(s),n)<=0||(r.has(s.key)||Gn(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Ce.resolve(i)}getAllFromCollectionGroup(e,t,n,r){I(9500)}ii(e,t){return Ce.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ya(this)}getSize(e){return Ce.resolve(this.size)}}class ya extends la{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class xa{constructor(e){this.persistence=e,this.si=new $n(e=>Tn(e),In),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new pa,this.targetCount=0,this.ai=ea.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ea(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Pr(t),Ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Ce.waitFor(i).next(()=>r)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ce.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ce.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ce.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ce.resolve(n)}containsKey(e,t){return Ce.resolve(this._i.containsKey(t))}}class ba{constructor(e,t){this.ui={},this.overlays={},this.ci=new Te(0),this.li=!1,this.li=!0,this.hi=new fa,this.referenceDelegate=e(this),this.Pi=new xa(this),this.indexManager=new Qi,this.remoteDocumentCache=function(e){return new va(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new qi(t),this.Ii=new da(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ha,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new ga(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){C("MemoryPersistence","Starting transaction:",e);const r=new wa(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ce.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class wa extends Ee{constructor(e){super(),this.currentSequenceNumber=e}}class ka{constructor(e){this.persistence=e,this.Ri=new pa,this.Vi=null}static mi(e){return new ka(e)}get fi(){if(this.Vi)return this.Vi;throw I(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ce.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.fi,n=>{const r=se.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,ye.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class _a{constructor(e,t){this.persistence=e,this.pi=new $n(e=>Le(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=oa(this,t)}static mi(e,t){return new _a(e,t)}Ei(){}di(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ce.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Ce.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ye.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gt(e.data.value)),t}br(e,t,n){return Ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ce.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sa{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=lr(),r=lr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Sa(e,t.fromCache,n,r)}}class Aa{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ea{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,c.nr)()?8:Ne((0,c.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Aa;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(j()<=l.$b.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",qn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ce.resolve()):(j()<=l.$b.DEBUG&&C("QueryEngine","Query:",qn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(j()<=l.$b.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",qn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(t))):Ce.resolve())}ys(e,t){if(Ln(t))return Ce.resolve(null);let n=Vn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Wn(t,null,"F"),n=Vn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=lr(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,Wn(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return Ln(t)||r.isEqual(ye.min())?Ce.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?Ce.resolve(null):(j()<=l.$b.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qn(t)),this.vs(e,a,t,we(r,xe)).next(e=>e))})}Ds(e,t){let n=new mt(Qn(e));return t.forEach((t,r)=>{Gn(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return j()<=l.$b.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",qn(t)),this.ps.getDocumentsMatchingQuery(e,t,_e.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ja="LocalStore",Ca=3e8;class Na{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ht(Q),this.xs=new $n(e=>Tn(e),In),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ua(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Pa(e,t,n,r){return new Na(e,t,n,r)}async function Ta(e,t){const n=D(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=lr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function Ia(e){const t=D(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Oa(e,t,n){let r=lr(),i=lr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Zn();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(ye.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):C(ja,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{ks:r,qs:i}})}function Ma(e,t){const n=D(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ie),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Da(e,t){const n=D(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Ce.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Ki(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Ra(e,t,n){const r=D(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Pe(e))throw e;C(ja,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function La(e,t,n){const r=D(e);let i=ye.min(),a=lr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=D(e),i=r.xs.get(n);return void 0!==i?Ce.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Vn(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:ye.min(),n?a:lr())).next(e=>(Fa(r,Yn(t),e),{documents:e,Qs:a})))}function Fa(e,t,n){let r=e.Os.get(t)||ye.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class za{constructor(){this.activeTargetIds=ur()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Va{constructor(){this.Mo=new za,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new za,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ba{Oo(e){}shutdown(){}}const Ua="ConnectivityMonitor";class Wa{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){C(Ua,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){C(Ua,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ha=null;function Ka(){return null===Ha?Ha=268435456+Math.round(2147483648*Math.random()):Ha++,"0x"+Ha.toString(16)}const qa="RestConnection",Ga={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ya{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===It?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const a=Ka(),s=this.zo(e,t.toUriEncodedString());C(qa,"Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(s),u=(0,c.zJ)(l);return this.Jo(e,s,o,n,u).then(t=>(C(qa,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw P(qa,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+A,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Ga[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Qa{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xa="WebChannelConnection";class $a extends Ya{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Ka();return new Promise((i,s)=>{const o=new h;o.setWithCredentials(!0),o.listenOnce(p.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case m.NO_ERROR:const n=o.getResponseJson();C(Xa,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case m.TIMEOUT:C(Xa,"RPC '".concat(e,"' ").concat(a," timed out")),s(new L(R.DEADLINE_EXCEEDED,"Request time out"));break;case m.HTTP_ERROR:const r=o.getStatus();if(C(Xa,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(t)>=0?t:R.UNKNOWN}(n.status);s(new L(e,n.message))}else s(new L(R.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new L(R.UNAVAILABLE,"Connection failed."));break;default:I(9055,{l_:e,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{C(Xa,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);C(Xa,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ka(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=x(),s=y(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");C(Xa,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=a.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new Qa({Yo:t=>{h?C(Xa,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(C(Xa,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),C(Xa,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,f.EventType.OPEN,()=>{h||(C(Xa,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),m(u,f.EventType.CLOSE,()=>{h||(h=!0,C(Xa,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(u))}),m(u,f.EventType.ERROR,t=>{h||(h=!0,P(Xa,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new L(R.UNAVAILABLE,"The operation could not be completed")))}),m(u,f.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];M(!!i,16349);const a=i,s=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){C(Xa,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Gr[e];if(void 0!==t)return Xr(t)}(t),i=s.message;void 0===n&&(n=R.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.a_(new L(n,i)),u.close()}else C(Xa,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.u_(i)}}),m(s,v.STAT_EVENT,t=>{t.stat===g.PROXY?C(Xa,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&C(Xa,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Ja(){return"undefined"!=typeof document?document:null}function Za(e){return new gi(e,!0)}class es{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&C("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ts="PersistentStream";class ns{constructor(e,t,n,r,i,a,s,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new es(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(N(t.toString()),N("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===R.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new L(R.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return C(ts,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(C(ts,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rs extends ns{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:I(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(M(void 0===t||"string"==typeof t,58123),xt.fromBase64String(t||"")):(M(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),xt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?R.UNKNOWN:Xr(e.code);return new L(t,e.message||"")}(s);n=new li(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ei(e,r.document.name),a=wi(r.document.updateTime),s=r.document.createTime?wi(r.document.createTime):ye.min(),o=new rn({mapValue:{fields:r.document.fields}}),l=sn.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new si(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ei(e,r.document),a=r.readTime?wi(r.readTime):ye.min(),s=sn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new si([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ei(e,r.document),a=r.removedTargetIds||[];n=new si([],a,i,null)}else{if(!("filter"in t))return I(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new qr(r,i),s=e.targetId;n=new oi(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ye.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ye.min():t.readTime?wi(t.readTime):ye.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ni(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=On(r)?{documents:Oi(e,r)}:{query:Mi(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xi(e,t.resumeToken);const r=vi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ye.min())>0){n.readTime=yi(e,t.snapshotVersion.toTimestamp());const r=vi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return I(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ni(this.serializer),t.removeTarget=e,this.q_(t)}}class is extends ns{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return M(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,M(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){M(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(M(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?wi(e.updateTime):wi(t);return n.isEqual(ye.min())&&(n=wi(t)),new jr(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=wi(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ni(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ii(this.serializer,e))};this.q_(t)}}class as{}class ss extends as{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.Go(e,_i(t,n),r,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(R.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.Ho(e,_i(t,n),r,s,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(R.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class os{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(N(t),this.aa=!1):C("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const ls="RemoteStore";class cs{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ys(this)&&(C(ls,"Restarting streams for network reachability change."),await async function(e){const t=D(e);t.Ea.add(4),await ds(t),t.Ra.set("Unknown"),t.Ea.delete(4),await us(t)}(this))})}),this.Ra=new os(n,r)}}async function us(e){if(ys(e))for(const t of e.da)await t(!0)}async function ds(e){for(const t of e.da)await t(!1)}function hs(e,t){const n=D(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),vs(n)?gs(n):Ls(n).O_()&&ps(n,t))}function fs(e,t){const n=D(e),r=Ls(n);n.Ia.delete(t),r.O_()&&ms(n,t),0===n.Ia.size&&(r.O_()?r.L_():ys(n)&&n.Ra.set("Unknown"))}function ps(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ye.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ls(e).Y_(t)}function ms(e,t){e.Va.Ue(t),Ls(e).Z_(t)}function gs(e){e.Va=new ui({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ls(e).start(),e.Ra.ua()}function vs(e){return ys(e)&&!Ls(e).x_()&&e.Ia.size>0}function ys(e){return 0===D(e).Ea.size}function xs(e){e.Va=void 0}async function bs(e){e.Ra.set("Online")}async function ws(e){e.Ia.forEach((t,n)=>{ps(e,t)})}async function ks(e,t){xs(e),vs(e)?(e.Ra.ha(t),gs(e)):e.Ra.set("Unknown")}async function _s(e,t,n){if(e.Ra.set("Online"),t instanceof li&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){C(ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ss(e,n)}else if(t instanceof si?e.Va.Ze(t):t instanceof oi?e.Va.st(t):e.Va.tt(t),!n.isEqual(ye.min()))try{const t=await Ia(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(xt.EMPTY_BYTE_STRING,r.snapshotVersion)),ms(e,t);const i=new Ki(r.target,t,n,r.sequenceNumber);ps(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){C(ls,"Failed to raise snapshot:",t),await Ss(e,t)}}async function Ss(e,t,n){if(!Pe(t))throw t;e.Ea.add(1),await ds(e),e.Ra.set("Offline"),n||(n=()=>Ia(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{C(ls,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await us(e)})}function As(e,t){return t().catch(n=>Ss(e,n,t))}async function Es(e){const t=D(e),n=Fs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ie;for(;js(t);)try{const e=await Ma(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Cs(t,e)}catch(e){await Ss(t,e)}Ns(t)&&Ps(t)}function js(e){return ys(e)&&e.Ta.length<10}function Cs(e,t){e.Ta.push(t);const n=Fs(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Ns(e){return ys(e)&&!Fs(e).x_()&&e.Ta.length>0}function Ps(e){Fs(e).start()}async function Ts(e){Fs(e).ra()}async function Is(e){const t=Fs(e);for(const n of e.Ta)t.ea(n.mutations)}async function Os(e,t,n){const r=e.Ta.shift(),i=Hr.from(r,t,n);await As(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Es(e)}async function Ms(e,t){t&&Fs(e).X_&&await async function(e,t){if(function(e){return Qr(e)&&e!==R.ABORTED}(t.code)){const n=e.Ta.shift();Fs(e).B_(),await As(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Es(e)}}(e,t),Ns(e)&&Ps(e)}async function Ds(e,t){const n=D(e);n.asyncQueue.verifyOperationInProgress(),C(ls,"RemoteStore received new credentials");const r=ys(n);n.Ea.add(3),await ds(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await us(n)}async function Rs(e,t){const n=D(e);t?(n.Ea.delete(2),await us(n)):t||(n.Ea.add(2),await ds(n),n.Ra.set("Unknown"))}function Ls(e){return e.ma||(e.ma=function(e,t,n){const r=D(e);return r.sa(),new rs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:bs.bind(null,e),t_:ws.bind(null,e),r_:ks.bind(null,e),H_:_s.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),vs(e)?gs(e):e.Ra.set("Unknown")):(await e.ma.stop(),xs(e))})),e.ma}function Fs(e){return e.fa||(e.fa=function(e,t,n){const r=D(e);return r.sa(),new is(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ts.bind(null,e),r_:Ms.bind(null,e),ta:Is.bind(null,e),na:Os.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Es(e)):(await e.fa.stop(),e.Ta.length>0&&(C(ls,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class zs{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new zs(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vs(e,t){if(N("AsyncQueue","".concat(t,": ").concat(e)),Pe(e))return new L(R.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Bs{static emptySet(e){return new Bs(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||se.comparator(t.key,n.key):(e,t)=>se.comparator(e.key,t.key),this.keyedMap=tr(),this.sortedSet=new ht(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bs))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Bs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Us{constructor(){this.ga=new ht(se.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):I(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ws{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Ws(e,t,Bs.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hs{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ks{constructor(){this.queries=qs(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=D(e),r=n.queries;n.queries=qs(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new L(R.ABORTED,"Firestore shutting down"))}}function qs(){return new $n(e=>Kn(e),Hn)}async function Gs(e,t){const n=D(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Hs,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Vs(e,"Initialization of query '".concat(qn(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&$s(n)}async function Ys(e,t){const n=D(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Qs(e,t){const n=D(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&$s(n)}function Xs(e,t,n){const r=D(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function $s(e){e.Ca.forEach(e=>{e.next()})}var Js,Zs;(Zs=Js||(Js={})).Ma="default",Zs.Cache="cache";class eo{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ws(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Js.Cache}}class to{constructor(e){this.key=e}}class no{constructor(e){this.key=e}}class ro{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lr(),this.mutatedKeys=lr(),this.eu=Qn(e),this.tu=new Bs(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Us,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Gn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return I(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==a.length||l?{snapshot:new Ws(this.query,e.tu,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Us,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=lr(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new no(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new to(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=lr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ws.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const io="SyncEngine";class ao{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class so{constructor(e){this.key=e,this.hu=!1}}class oo{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new $n(e=>Kn(e),Hn),this.Iu=new Map,this.Eu=new Set,this.du=new ht(se.comparator),this.Au=new Map,this.Ru=new pa,this.Vu={},this.mu=new Map,this.fu=ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function lo(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Po(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await uo(r,t,n,!0),i}async function co(e,t){const n=Po(e);await uo(n,t,!0,!1)}async function uo(e,t,n,r){const i=await Da(e.localStore,Vn(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await ho(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&hs(e.remoteStore,i),o}async function ho(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await La(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return So(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const a=await La(e.localStore,t,!0),s=new ro(t,a.Qs),o=s.ru(a.documents),l=ai.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);So(e,n,c.au);const u=new ao(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function fo(e,t,n){const r=D(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!Hn(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ra(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fs(r.remoteStore,i.targetId),ko(r,i.targetId)}).catch(je)):(ko(r,i.targetId),await Ra(r.localStore,i.targetId,!0))}async function po(e,t){const n=D(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fs(n.remoteStore,r.targetId))}async function mo(e,t){const n=D(e);try{const e=await function(e,t){const n=D(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(xt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Ca||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.Pi.updateTargetData(e,c))});let o=Zn(),l=lr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Oa(e,a,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(ye.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Ce.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(M(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?M(r.hu,14607):e.removedDocuments.size>0&&(M(r.hu,42227),r.hu=!1))}),await jo(n,e,t)}catch(e){await je(e)}}function go(e,t,n){const r=D(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=D(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&$s(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vo(e,t,n){const r=D(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new ht(se.comparator);e=e.insert(a,sn.newNoDocument(a,ye.min()));const n=lr().add(a),i=new ii(ye.min(),new Map,new ht(Q),e,n);await mo(r,i),r.du=r.du.remove(a),r.Au.delete(t),Eo(r)}else await Ra(r.localStore,t,!1).then(()=>ko(r,t,n)).catch(je)}async function yo(e,t){const n=D(e),r=t.batch.batchId;try{const e=await function(e,t){const n=D(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=Ce.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);M(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=lr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);wo(n,r,null),bo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jo(n,e)}catch(e){await je(e)}}async function xo(e,t,n){const r=D(e);try{const e=await function(e,t){const n=D(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(M(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);wo(r,t,n),bo(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jo(r,e)}catch(n){await je(n)}}function bo(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function wo(e,t,n){const r=D(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||_o(e,t)})}function _o(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(fs(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Eo(e))}function So(e,t,n){for(const r of n)r instanceof to?(e.Ru.addReference(r.key,t),Ao(e,r)):r instanceof no?(C(io,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||_o(e,r.key)):I(19791,{wu:r})}function Ao(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(C(io,"New document in limbo: "+n),e.Eu.add(r),Eo(e))}function Eo(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new se(re.fromString(t)),r=e.fu.next();e.Au.set(r,new so(n)),e.du=e.du.insert(n,r),hs(e.remoteStore,new Ki(Vn(Rn(n.path)),r,"TargetPurposeLimboResolution",Te.ce))}}async function jo(e,t,n){const r=D(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{s.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Sa.As(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=D(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ce.forEach(t,t=>Ce.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ce.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Pe(e))throw e;C(ja,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function Co(e,t){const n=D(e);if(!n.currentUser.isEqual(t)){C(io,"User change. New user:",t.toKey());const e=await Ta(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new L(R.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jo(n,e.Ls)}}function No(e,t){const n=D(e),r=n.Au.get(t);if(r&&r.hu)return lr().add(r.key);{let e=lr();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Po(e){const t=D(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=No.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vo.bind(null,t),t.Pu.H_=Qs.bind(null,t.eventManager),t.Pu.yu=Xs.bind(null,t.eventManager),t}function To(e){const t=D(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xo.bind(null,t),t}class Io{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Za(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Pa(this.persistence,new Ea,e.initialUser,this.serializer)}Cu(e){return new ba(ka.mi,this.serializer)}Du(e){return new Va}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Io.provider={build:()=>new Io};class Oo extends Io{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){M(this.persistence.referenceDelegate instanceof _a,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new aa(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new ba(e=>_a.mi(e,t),this.serializer)}}class Mo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>go(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Co.bind(null,this.syncEngine),await Rs(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ks}createDatastore(e){const t=Za(e.databaseInfo.databaseId),n=function(e){return new $a(e)}(e.databaseInfo);return function(e,t,n,r){return new ss(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new cs(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>go(this.syncEngine,e,0),Wa.v()?new Wa:new Ba)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new oo(e,t,n,r,i,a);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=D(e);C(ls,"RemoteStore shutting down."),t.Ea.add(5),await ds(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Mo.provider={build:()=>new Mo};class Do{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):N("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Ro="FirestoreClient";class Lo{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=S.UNAUTHENTICATED,this.clientId=Y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{C(Ro,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(C(Ro,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Vs(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Fo(e,t){e.asyncQueue.verifyOperationInProgress(),C(Ro,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ta(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Vo(e);C(Ro,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ds(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ds(t.remoteStore,n)),e._onlineComponents=t}async function Vo(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){C(Ro,"Using user provided OfflineComponentProvider");try{await Fo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===R.FAILED_PRECONDITION||e.code===R.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;P("Error using user provided cache. Falling back to memory cache: "+n),await Fo(e,new Io)}}else C(Ro,"Using default OfflineComponentProvider"),await Fo(e,new Oo(void 0));return e._offlineComponents}async function Bo(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(C(Ro,"Using user provided OnlineComponentProvider"),await zo(e,e._uninitializedComponentsProvider._online)):(C(Ro,"Using default OnlineComponentProvider"),await zo(e,new Mo))),e._onlineComponents}function Uo(e){return Bo(e).then(e=>e.syncEngine)}async function Wo(e){const t=await Bo(e),n=t.eventManager;return n.onListen=lo.bind(null,t.syncEngine),n.onUnlisten=fo.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=co.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=po.bind(null,t.syncEngine),n}function Ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Do({next:o=>{a.Nu(),t.enqueueAndForget(()=>Ys(e,s));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new L(R.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new L(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new eo(Rn(n.path),a,{includeMetadataChanges:!0,qa:!0});return Gs(e,s)}(await Wo(e),e.asyncQueue,t,n,r)),r.promise}function Ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new F;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Do({next:n=>{a.Nu(),t.enqueueAndForget(()=>Ys(e,s)),n.fromCache&&"server"===r.source?i.reject(new L(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new eo(n,a,{includeMetadataChanges:!0,qa:!0});return Gs(e,s)}(await Wo(e),e.asyncQueue,t,n,r)),r.promise}function qo(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Go=new Map,Yo="firestore.googleapis.com",Qo=!0;class Xo{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new L(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yo,this.ssl=Qo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Qo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ji;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<na)throw new L(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new L(R.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qo(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new L(R.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new L(R.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new L(R.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $o{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new V;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Go.get(e);t&&(C("ComponentProvider","Removing Datastore"),Go.delete(e),t.terminate())}(this),Promise.resolve()}}function Jo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=he(e,$o);const i=(0,c.zJ)(t),s=e._getSettings(),o=(0,a.A)((0,a.A)({},s),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&((0,c.gE)("https://".concat(l)),(0,c.P1)("Firestore",!0)),s.host!==Yo&&s.host!==l&&P("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=(0,a.A)((0,a.A)({},s),{},{host:l,ssl:i,emulatorOptions:r});if(!(0,c.bD)(u,o)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=S.MOCK_USER;else{var d;t=(0,c.Fy)(r.mockUserToken,null===(d=e._app)||void 0===d?void 0:d.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new L(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new S(i)}e._authCredentials=new B(new z(t,n))}}class Zo{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zo(this.firestore,e,this._query)}}class el{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new el(this.firestore,e,this._key)}toJSON(){return{type:el._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(pe(t,el._jsonSchema))return new el(e,n||null,new se(re.fromString(t.referencePath)))}}el._jsonSchemaVersion="firestore/documentReference/1.0",el._jsonSchema={type:fe("string",el._jsonSchemaVersion),referencePath:fe("string")};class tl extends Zo{constructor(e,t,n){super(e,t,Rn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new el(this.firestore,null,new se(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function nl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),oe("collection","path",t),e instanceof $o){const n=re.fromString(t,...r);return ce(n),new tl(e,null,n)}{if(!(e instanceof el||e instanceof tl))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(re.fromString(t,...r));return ce(n),new tl(e.firestore,null,n)}}function rl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),1===arguments.length&&(t=Y.newId()),oe("doc","path",t),e instanceof $o){const n=re.fromString(t,...r);return le(n),new el(e,null,new se(n))}{if(!(e instanceof el||e instanceof tl))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(re.fromString(t,...r));return le(n),new el(e.firestore,e instanceof tl?e.converter:null,new se(n))}}const il="AsyncQueue";class al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new es(this,"async_queue_retry"),this._c=()=>{const e=Ja();e&&C(il,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Ja();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ja();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new F;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pe(e))throw e;C(il,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,N("INTERNAL UNHANDLED ERROR: ",sl(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=zs.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&I(47125,{Pc:sl(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function sl(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function ol(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ll extends $o{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new al,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new al(e),this._firestoreClient=void 0,await e}}}function cl(e,t,n){n||(n=It);const r=(0,s.j6)(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,c.bD)(i,t))return e;throw new L(R.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new L(R.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<na)throw new L(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&(0,c.zJ)(t.host)&&(0,c.gE)(t.host),r.initialize({options:t,instanceIdentifier:n})}function ul(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||It,i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,c.yU)("firestore");e&&Jo(i,...e)}return i}function dl(e){if(e._terminated)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hl(e),e._firestoreClient}function hl(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Tt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qo(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Lo(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(xt.fromBase64String(e))}catch(e){throw new L(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fl(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pe(e,fl._jsonSchema))return fl.fromBase64String(e.bytes)}}fl._jsonSchemaVersion="firestore/bytes/1.0",fl._jsonSchema={type:fe("string",fl._jsonSchemaVersion),bytes:fe("string")};class pl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new L(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ae(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ml{constructor(e){this._methodName=e}}class gl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gl._jsonSchemaVersion}}static fromJSON(e){if(pe(e,gl._jsonSchema))return new gl(e.latitude,e.longitude)}}gl._jsonSchemaVersion="firestore/geoPoint/1.0",gl._jsonSchema={type:fe("string",gl._jsonSchemaVersion),latitude:fe("number"),longitude:fe("number")};class vl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pe(e,vl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new vl(e.vectorValues);throw new L(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vl._jsonSchemaVersion="firestore/vectorValue/1.0",vl._jsonSchema={type:fe("string",vl._jsonSchemaVersion),vectorValues:fe("object")};const yl=/^__.*__$/;class xl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rr(e,this.data,t,this.fieldTransforms)}}class bl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw I(40011,{Ac:e})}}class kl{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kl((0,a.A)((0,a.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(wl(this.Ac)&&yl.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _l{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Za(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new kl({Ac:e,methodName:t,Dc:n,path:ae.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sl(e){const t=e._freezeSettings(),n=Za(e._databaseId);return new _l(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Al(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);Dl("Data must be an object, but it was:",s,r);const o=Ol(r,s);let l,c;if(a.merge)l=new vt(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Rl(t,r,n);if(!s.contains(i))throw new L(R.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Vl(e,i)||e.push(i)}l=new vt(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new xl(new rn(o),l,c)}class El extends ml{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof El}}function jl(e,t,n){return new kl({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Cl extends ml{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=jl(this,e,!0),n=this.vc.map(e=>Il(e,t)),r=new xr(n);return new Er(e.path,r)}isEqual(e){return e instanceof Cl&&(0,c.bD)(this.vc,e.vc)}}function Nl(e,t,n,r){const i=e.Cc(1,t,n);Dl("Data must be an object, but it was:",i,r);const a=[],s=rn.empty();ut(r,(e,r)=>{const o=Fl(t,e,n);r=(0,c.Ku)(r);const l=i.yc(o);if(r instanceof El)a.push(o);else{const e=Il(r,l);null!=e&&(a.push(o),s.set(o,e))}});const o=new vt(a);return new bl(s,o,i.fieldTransforms)}function Pl(e,t,n,r,i,a){const s=e.Cc(1,t,n),o=[Rl(t,r,n)],l=[i];if(a.length%2!=0)throw new L(R.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let c=0;c<a.length;c+=2)o.push(Rl(t,a[c])),l.push(a[c+1]);const u=[],d=rn.empty();for(let f=o.length-1;f>=0;--f)if(!Vl(u,o[f])){const e=o[f];let t=l[f];t=(0,c.Ku)(t);const n=s.yc(e);if(t instanceof El)u.push(e);else{const r=Il(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new vt(u);return new bl(d,h,s.fieldTransforms)}function Tl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Il(n,e.Cc(r?4:3,t))}function Il(e,t){if(Ml(e=(0,c.Ku)(e)))return Dl("Unsupported field value:",t,e),Ol(e,t);if(e instanceof ml)return function(e,t){if(!wl(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Il(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ve.fromDate(e);return{timestampValue:yi(t.serializer,n)}}if(e instanceof ve){const n=new ve(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yi(t.serializer,n)}}if(e instanceof gl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fl)return{bytesValue:xi(t.serializer,e._byteString)};if(e instanceof el){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ki(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof vl)return function(e,t){return{mapValue:{fields:{[Mt]:{stringValue:Lt},[Ft]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return dr(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(de(e)))}(e,t)}function Ol(e,t){const n={};return dt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ut(e,(e,r)=>{const i=Il(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Ml(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ve||e instanceof gl||e instanceof fl||e instanceof el||e instanceof ml||e instanceof vl)}function Dl(e,t,n){if(!Ml(n)||!ue(n)){const r=de(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Rl(e,t,n){if((t=(0,c.Ku)(t))instanceof pl)return t._internalPath;if("string"==typeof t)return Fl(e,t);throw zl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ll=new RegExp("[~\\*/\\[\\]]");function Fl(e,t,n){if(t.search(Ll)>=0)throw zl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new pl(...t.split("."))._internalPath}catch(r){throw zl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zl(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new L(R.INVALID_ARGUMENT,o+e+l)}function Vl(e,t){return e.some(e=>e.isEqual(t))}class Bl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new el(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ul(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ul extends Bl{data(){return super.data()}}function Wl(e,t){return"string"==typeof t?Fl(e,t):t instanceof pl?t._internalPath:t._delegate._internalPath}function Hl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new L(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kl{}class ql extends Kl{}function Gl(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Kl&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Xl).length,n=e.filter(e=>e instanceof Yl).length;if(t>1||t>0&&n>0)throw new L(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Yl extends ql{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Yl(e,t,n)}_apply(e){const t=this._parse(e);return Zl(e._query,t),new Zo(e.firestore,e.converter,Un(e._query,t))}_parse(e){const t=Sl(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new L(R.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Jl(s,a);const t=[];for(const n of s)t.push($l(r,e,n));o={arrayValue:{values:t}}}else o=$l(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Jl(s,a),o=Tl(n,t,s,"in"===a||"not-in"===a);return fn.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ql(e,t,n){const r=t,i=Wl("where",e);return Yl._create(i,r,n)}class Xl extends Kl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xl(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:pn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Zl(n,i),n=Un(n,i)}(e._query,t),new Zo(e.firestore,e.converter,Un(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function $l(e,t,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new L(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fn(t)&&-1!==n.indexOf("/"))throw new L(R.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(re.fromString(n));if(!se.isDocumentKey(r))throw new L(R.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Yt(e,new se(r))}if(n instanceof el)return Yt(e,n._key);throw new L(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(de(n),"."))}function Jl(e,t){if(!Array.isArray(e)||0===e.length)throw new L(R.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Zl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new L(R.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new L(R.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class ec{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_t(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw I(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ut(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Ft].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>kt(e.doubleValue));return new vl(n)}convertGeoPoint(e){return new gl(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Nt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pt(e));default:return null}}convertTimestamp(e){const t=wt(e);return new ve(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=re.fromString(e);M(Hi(n),9688,{name:e});const r=new Ot(n.get(1),n.get(3)),i=new se(n.popFirst(5));return r.isEqual(t)||N("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function tc(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rc extends Bl{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Wl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=rc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}rc._jsonSchemaVersion="firestore/documentSnapshot/1.0",rc._jsonSchema={type:fe("string",rc._jsonSchemaVersion),bundleSource:fe("string","DocumentSnapshot"),bundleName:fe("string"),bundle:fe("string")};class ic extends rc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ac{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new nc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ic(this._firestore,this._userDataWriter,n.key,n,new nc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ic(e._firestore,e._userDataWriter,n.doc.key,n.doc,new nc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ic(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:sc(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ac._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return I(61501,{type:e})}}function oc(e){e=he(e,el);const t=he(e.firestore,ll);return Ho(dl(t),e._key).then(n=>gc(t,e,n))}ac._jsonSchemaVersion="firestore/querySnapshot/1.0",ac._jsonSchema={type:fe("string",ac._jsonSchemaVersion),bundleSource:fe("string","QuerySnapshot"),bundleName:fe("string"),bundle:fe("string")};class lc extends ec{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new el(this.firestore,null,t)}}function cc(e){e=he(e,Zo);const t=he(e.firestore,ll),n=dl(t),r=new lc(t);return Hl(e._query),Ko(n,e._query).then(n=>new ac(t,r,e,n))}function uc(e,t,n){e=he(e,el);const r=he(e.firestore,ll),i=tc(e.converter,t,n);return mc(r,[Al(Sl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Cr.none())])}function dc(e,t,n){e=he(e,el);const r=he(e.firestore,ll),i=Sl(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=(0,c.Ku)(t))||t instanceof pl?Pl(i,"updateDoc",e._key,t,n,o):Nl(i,"updateDoc",e._key,t),mc(r,[a.toMutation(e._key,Cr.exists(!0))])}function hc(e){return mc(he(e.firestore,ll),[new Br(e._key,Cr.none())])}function fc(e,t){const n=he(e.firestore,ll),r=rl(e),i=tc(e.converter,t);return mc(n,[Al(Sl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function pc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=(0,c.Ku)(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||ol(n[a])||(i=n[a++]);const s={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ol(n[a])){var o,l,u;const e=n[a];n[a]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[a+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[a+2]=null===(u=e.complete)||void 0===u?void 0:u.bind(e)}let d,h,f;if(e instanceof el)h=he(e.firestore,ll),f=Rn(e._key.path),d={next:t=>{n[a]&&n[a](gc(h,e,t))},error:n[a+1],complete:n[a+2]};else{const t=he(e,Zo);h=he(t.firestore,ll),f=t._query;const r=new lc(h);d={next:e=>{n[a]&&n[a](new ac(h,r,t,e))},error:n[a+1],complete:n[a+2]},Hl(e._query)}return function(e,t,n,r){const i=new Do(r),a=new eo(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Gs(await Wo(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Ys(await Wo(e),a))}}(dl(h),f,s,d)}function mc(e,t){return function(e,t){const n=new F;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=To(e);try{const e=await function(e,t){const n=D(e),r=ve.now(),i=t.reduce((e,t)=>e.add(t.key),lr());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Zn(),l=lr();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=Mr(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Lr(e.key,t,an(t.value.mapValue),Cr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:nr(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ht(Q)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await jo(r,e.changes),await Es(r.remoteStore)}catch(e){const t=Vs(e,"Failed to persist write");n.reject(t)}}(await Uo(e),t,n)),n.promise}(dl(e),t)}function gc(e,t,n){const r=n.docs.get(t._key),i=new lc(e);return new rc(e,i,t._key,r,new nc(n.hasPendingWrites,n.fromCache),t.converter)}function vc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cl("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){A=e}(s.MF),(0,s.om)(new o.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new ll(new U(e.getProvider("auth-internal")),new q(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ot(e.options.projectId,t)}(s,r),s);return i=(0,a.A)({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(k,_,e),(0,s.KO)(k,_,"esm2020")}()},6672:(e,t,n)=>{"use strict";var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},7004:(e,t,n)=>{"use strict";var r=n(8853),i=n(5043),a=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var j=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList";case j:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var O=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],F=-1;function z(e){return{current:e}}function V(e){0>F||(e.current=L[F],L[F]=null,F--)}function B(e,t){F++,L[F]=e.current,e.current=t}var U=z(null),W=z(null),H=z(null),K=z(null);function q(e,t){switch(B(H,t),B(W,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(U),B(U,e)}function G(){V(U),V(W),V(H)}function Y(e){null!==e.memoizedState&&B(K,e);var t=U.current,n=ad(t,e.type);t!==n&&(B(W,e),B(U,n))}function Q(e){W.current===e&&(V(U),V(W)),K.current===e&&(V(K),Yd._currentValue=R)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=ye(r):0!==(s&=o)?i=ye(s):n||0!==(n=o&~e)&&(i=ye(n)):0!==(o=r&~a)?i=ye(o):0!==s?i=ye(s):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function _e(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function je(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Te=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Te,Oe="__reactProps$"+Te,Me="__reactContainer$"+Te,De="__reactEvents$"+Te,Re="__reactListeners$"+Te,Le="__reactHandles$"+Te,Fe="__reactResources$"+Te,ze="__reactMarker$"+Te;function Ve(e){delete e[Ie],delete e[Oe],delete e[De],delete e[Re],delete e[Le]}function Be(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Ie]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Ie])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Ie]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[ze]=!0}var qe=new Set,Ge={};function Ye(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Xe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,X.call(et,i)||!X.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var at=!1;function st(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(O(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&St(e,a,t[a])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Ot=null;function Mt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Oe]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Rt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==It||null!==Ot)&&(Bc(),It&&(t=It,e=Ot,Ot=It=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Oh){zt=!1}var Bt=null,Ut=null,Wt=null;function Ht(){if(Wt)return Wt;var e,t,n=Ut,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Gt(){return!1}function Yt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Qt,Xt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Yt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Yt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Qt=e.screenX-$t.screenX,Xt=e.screenY-$t.screenY):Xt=Qt=0,$t=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Yt(nn),an=Yt(h({},nn,{dataTransfer:0})),sn=Yt(h({},en,{relatedTarget:0})),on=Yt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Yt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Yt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Yt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Yt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Yt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,_n=null;Ft&&"documentMode"in document&&(_n=document.documentMode);var Sn=Ft&&"TextEvent"in window&&!_n,An=Ft&&(!kn||_n&&8<_n&&11>=_n),En=String.fromCharCode(32),jn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tn[e.type]:"textarea"===t}function On(e,t,n,r){It?Ot?Ot.push(r):Ot=[r]:It=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Dn=null;function Rn(e){Ru(e,0)}function Ln(e){if(ht(We(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Vn;if(Ft){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}Vn=Bn}else Vn=!1;zn=Vn&&(!document.documentMode||9<document.documentMode)}function Wn(){Mn&&(Mn.detachEvent("onpropertychange",Hn),Dn=Mn=null)}function Hn(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];On(t,Dn,e,Tt(e)),Rt(Rn,t)}}function Kn(e,t,n){"focusin"===e?(Wn(),Dn=n,(Mn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Wn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Gn(e,t){if("click"===e)return Ln(t)}function Yn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Xn(ar,r)||(ar=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),xr=hr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){br.set(e,t),Ye(t,[e])}wr.push("scrollEnd");var _r=new WeakMap;function Sr(e,t){if("object"===typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},_r.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ar=[],Er=0,jr=0;function Cr(){for(var e=Er,t=jr=Er=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var a=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Ir(n,i,a)}}function Nr(e,t,n,r){Ar[Er++]=e,Ar[Er++]=t,Ar[Er++]=n,Ar[Er++]=r,jr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Nr(e,t,n,r),Or(e)}function Tr(e,t){return Nr(e,null,null,t),Or(e)}function Ir(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Or(e){if(50<Ic)throw Ic=0,Oc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,t,n,r){return new Dr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Rr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=Rr(31,n,t,i)).elementType=j,e.lanes=a,e;case g:return Br(n.children,i,a,t);case v:o=8,i|=24;break;case y:return(e=Rr(12,n,t,2|i)).elementType=y,e.lanes=a,e;case _:return(e=Rr(13,n,t,i)).elementType=_,e.lanes=a,e;case S:return(e=Rr(19,n,t,i)).elementType=S,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case w:o=10;break e;case b:o=9;break e;case k:o=11;break e;case A:o=14;break e;case E:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Rr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Br(e,t,n,r){return(e=Rr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Rr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Rr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Kr=0,qr=null,Gr=0,Yr=[],Qr=0,Xr=null,$r=1,Jr="";function Zr(e,t){Hr[Kr++]=Gr,Hr[Kr++]=qr,qr=e,Gr=t}function ei(e,t,n){Yr[Qr++]=$r,Yr[Qr++]=Jr,Yr[Qr++]=Xr,Xr=e;var r=$r;e=Jr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$r=1<<32-fe(t)+i|n<<i|r,Jr=a+e}else $r=1<<a|n<<i|r,Jr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===qr;)qr=Hr[--Kr],Hr[Kr]=null,Gr=Hr[--Kr],Hr[Kr]=null;for(;e===Xr;)Xr=Yr[--Qr],Yr[Qr]=null,Jr=Yr[--Qr],Yr[Qr]=null,$r=Yr[--Qr],Yr[Qr]=null}var ri=null,ii=null,ai=!1,si=null,oi=!1,li=Error(s(519));function ci(e){throw mi(Sr(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ie]=e,t[Oe]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Mu.length;n++)Lu(Mu[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=$u),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=yd,yd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,ai=!1}function pi(){var e=si;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=z(null),vi=null,yi=null;function xi(e,t,n){B(gi,t._currentValue),t._currentValue=n}function bi(e){e._currentValue=gi.current,V(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wi(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),wi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function _i(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Si(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ei(e){return Ci(vi,e)}function ji(e,t){return null===vi&&Ai(e),Ci(e,t)}function Ci(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(s(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pi=r.unstable_scheduleCallback,Ti=r.unstable_NormalPriority,Ii={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new Ni,data:new Map,refCount:0}}function Mi(e){e.refCount--,0===e.refCount&&Pi(Ti,function(){e.controller.abort()})}var Di=null,Ri=0,Li=0,Fi=null;function zi(){if(0===--Ri&&null!==Di){null!==Fi&&(Fi.status="fulfilled");var e=Di;Di=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Ri=0,Li=Nu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ri++,t.then(zi,zi)}(0,t),null!==Vi&&Vi(e,t)};var Bi=z(null);function Ui(){var e=Bi.current;return null!==e?e:rc.pooledCache}function Wi(e,t){B(Bi,null===t?Bi.current:t.pool)}function Hi(){var e=Ui();return null===e?null:{parent:Ii._currentValue,pool:e}}var Ki=Error(s(460)),qi=Error(s(474)),Gi=Error(s(542)),Yi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xi(){}function $i(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xi,Xi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xi,Xi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Ji=t,Ki}}var Ji=null;function Zi(){if(null===Ji)throw Error(s(459));var e=Ji;return Ji=null,e}function ea(e){if(e===Ki||e===Gi)throw Error(s(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Ir(e,null,n),t}return Nr(e,r,t,n),Or(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Fi)throw Fi}}function ua(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===Li&&(la=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(v,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ta=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var fa=z(null),pa=z(0);function ma(e,t){B(pa,e=dc),B(fa,t),dc=e|t.baseLanes}function ga(){B(pa,dc),B(fa,fa.current)}function va(){dc=pa.current,V(fa),V(pa)}var ya=0,xa=null,ba=null,wa=null,ka=!1,_a=!1,Sa=!1,Aa=0,Ea=0,ja=null,Ca=0;function Na(){throw Error(s(321))}function Pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){return ya=a,xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ks:qs,Sa=!1,a=n(r,i),Sa=!1,_a&&(a=Oa(t,n,r,i)),Ia(e),a}function Ia(e){M.H=Hs;var t=null!==ba&&null!==ba.next;if(ya=0,wa=ba=xa=null,ka=!1,Ea=0,ja=null,t)throw Error(s(300));null===e||jo||null!==(e=e.dependencies)&&Si(e)&&(jo=!0)}function Oa(e,t,n,r){xa=e;var i=0;do{if(_a&&(ja=null),Ea=0,_a=!1,25<=i)throw Error(s(301));if(i+=1,wa=ba=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}M.H=Gs,a=t(n,r)}while(_a);return a}function Ma(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Va(t):t,e=e.useState()[0],(null!==ba?ba.memoizedState:null)!==e&&(xa.flags|=1024),t}function Da(){var e=0!==Aa;return Aa=0,e}function Ra(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function La(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}ya=0,wa=ba=xa=null,_a=!1,Ea=Aa=0,ja=null}function Fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wa?xa.memoizedState=wa=e:wa=wa.next=e,wa}function za(){if(null===ba){var e=xa.alternate;e=null!==e?e.memoizedState:null}else e=ba.next;var t=null===wa?xa.memoizedState:wa.next;if(null!==t)wa=t,ba=e;else{if(null===e){if(null===xa.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ba=e).memoizedState,baseState:ba.baseState,baseQueue:ba.baseQueue,queue:ba.queue,next:null},null===wa?xa.memoizedState=wa=e:wa=wa.next=e}return wa}function Va(e){var t=Ea;return Ea+=1,null===ja&&(ja=[]),e=$i(ja,e,t),t=xa,null===(null===wa?t.memoizedState:wa.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ks:qs),e}function Ba(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Va(e);if(e.$$typeof===w)return Ei(e)}throw Error(s(438,String(e)))}function Ua(e){var t=null,n=xa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function Wa(e,t){return"function"===typeof t?t(e):t}function Ha(e){return Ka(za(),ba,e)}function Ka(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(ya&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((ya&f)===f){u=u.next,f===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,xa.lanes|=f,fc|=f}h=u.action,Sa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,xa.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Qn(a,e.memoizedState)&&(jo=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qa(e){var t=za(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Qn(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ga(e,t,n){var r=xa,i=za(),a=ai;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Qn((ba||i).memoizedState,n);if(o&&(i.memoizedState=n,jo=!0),i=i.queue,gs(2048,8,Xa.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==wa&&1&wa.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));a||0!==(124&ya)||Ya(r,t,n)}return n}function Ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qa(e,t,n,r){t.value=n,t.getSnapshot=r,$a(t)&&Ja(e)}function Xa(e,t,n){return n(function(){$a(t)&&Ja(e)})}function $a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Ja(e){var t=Tr(e,2);null!==t&&Rc(t,e,2)}function Za(e){var t=Fa();if("function"===typeof e){var n=e;if(e=n(),Sa){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Ka(e,ba,"function"===typeof r?r:Wa)}function ts(e,t,n,r,i){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==M.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ns(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ns(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=M.T,s={};M.T=s;try{var o=n(i,r),l=M.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){as(e,t,c)}finally{M.T=a}}else try{rs(e,t,a=n(i,r))}catch(u){as(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return as(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function as(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ai){var n=rc.formState;if(null!==n){e:{var r=xa;if(ai){if(ii){t:{for(var i=ii,a=oi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fa()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Fs.bind(null,xa,r),r.dispatch=n,r=Za(!1),a=Vs.bind(null,xa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fa()).queue=i,n=ts.bind(null,xa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return us(za(),ba,e)}function us(e,t,n){if(t=Ka(e,t,os)[0],e=Ha(Wa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Va(t)}catch(s){if(s===Ki)throw Gi;throw s}else r=t;var i=(t=za()).queue,a=i.dispatch;return n!==t.memoizedState&&(xa.flags|=2048,fs(9,{destroy:void 0,resource:void 0},ds.bind(null,i,n),null)),[r,a,e]}function ds(e,t){e.action=t}function hs(e){var t=za(),n=ba;if(null!==n)return us(t,n,e);za(),t=t.memoizedState;var r=(n=za()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ps(){return za().memoizedState}function ms(e,t,n,r){var i=Fa();r=void 0===r?null:r,xa.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var i=za();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==ba&&null!==r&&Pa(r,ba.memoizedState.deps)?i.memoizedState=fs(t,a,n,r):(xa.flags|=e,i.memoizedState=fs(1|t,a,n,r))}function vs(e,t){ms(8390656,8,e,t)}function ys(e,t){gs(2048,8,e,t)}function xs(e,t){return gs(4,2,e,t)}function bs(e,t){return gs(4,4,e,t)}function ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ks(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,ws.bind(null,t,e),n)}function _s(){}function Ss(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function As(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pa(t,r[1]))return r[0];if(r=e(),Sa){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Es(e,t,n){return void 0===n||0!==(1073741824&ya)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),xa.lanes|=e,fc|=e,n)}function js(e,t,n,r){return Qn(n,t)?n:null!==fa.current?(e=Es(e,n,r),Qn(e,t)||(jo=!0),e):0===(42&ya)?(jo=!0,e.memoizedState=n):(e=Dc(),xa.lanes|=e,fc|=e,t)}function Cs(e,t,n,r,i){var a=D.p;D.p=0!==a&&8>a?a:8;var s=M.T,o={};M.T=o,Vs(e,!1,t,n);try{var l=i(),c=M.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Mc());else zs(e,t,r,Mc())}catch(u){zs(e,t,{then:function(){},status:"rejected",reason:u},Mc())}finally{D.p=a,M.T=s}}function Ns(){}function Ps(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Ts(e).queue;Cs(e,i,t,R,null===n?Ns:function(){return Is(e),n(r)})}function Ts(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Is(e){zs(e,Ts(e).next.queue,{},Mc())}function Os(){return Ei(Yd)}function Ms(){return za().memoizedState}function Ds(){return za().memoizedState}function Rs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),r=aa(t,e=ia(n),n);return null!==r&&(Rc(r,t,n),sa(r,t,n)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function Ls(e,t,n){var r=Mc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?Us(t,n):null!==(n=Pr(e,t,n,r))&&(Rc(n,e,r),Ws(n,t,r))}function Fs(e,t,n){zs(e,t,n,Mc())}function zs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))Us(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,s))return Nr(e,t,i,0),null===rc&&Cr(),!1}catch(l){}if(null!==(n=Pr(e,t,i,r)))return Rc(n,e,r),Ws(n,t,r),!0}return!1}function Vs(e,t,n,r){if(r={lane:2,revertLane:Nu(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Pr(e,n,r,2))&&Rc(t,e,2)}function Bs(e){var t=e.alternate;return e===xa||null!==t&&t===xa}function Us(e,t){_a=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}var Hs={readContext:Ei,use:Ba,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useLayoutEffect:Na,useInsertionEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useSyncExternalStore:Na,useId:Na,useHostTransitionStatus:Na,useFormState:Na,useActionState:Na,useOptimistic:Na,useMemoCache:Na,useCacheRefresh:Na},Ks={readContext:Ei,use:Ba,useCallback:function(e,t){return Fa().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ms(4194308,4,ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var n=Fa();t=void 0===t?null:t;var r=e();if(Sa){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fa();if(void 0!==n){var i=n(t);if(Sa){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ls.bind(null,xa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fa().memoizedState=e},useState:function(e){var t=(e=Za(e)).queue,n=Fs.bind(null,xa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_s,useDeferredValue:function(e,t){return Es(Fa(),e,t)},useTransition:function(){var e=Za(!1);return e=Cs.bind(null,xa,e.queue,!0,!1),Fa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xa,i=Fa();if(ai){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ac)||Ya(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,vs(Xa.bind(null,r,a,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qa.bind(null,r,a,n,t),null),n},useId:function(){var e=Fa(),t=rc.identifierPrefix;if(ai){var n=Jr;t="\xab"+t+"R"+(n=($r&~(1<<32-fe($r)-1)).toString(32)+n),0<(n=Aa++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ca++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Os,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Fa();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,xa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ua,useCacheRefresh:function(){return Fa().memoizedState=Rs.bind(null,xa)}},qs={readContext:Ei,use:Ba,useCallback:Ss,useContext:Ei,useEffect:ys,useImperativeHandle:ks,useInsertionEffect:xs,useLayoutEffect:bs,useMemo:As,useReducer:Ha,useRef:ps,useState:function(){return Ha(Wa)},useDebugValue:_s,useDeferredValue:function(e,t){return js(za(),ba.memoizedState,e,t)},useTransition:function(){var e=Ha(Wa)[0],t=za().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Ga,useId:Ms,useHostTransitionStatus:Os,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(za(),0,e,t)},useMemoCache:Ua,useCacheRefresh:Ds},Gs={readContext:Ei,use:Ba,useCallback:Ss,useContext:Ei,useEffect:ys,useImperativeHandle:ks,useInsertionEffect:xs,useLayoutEffect:bs,useMemo:As,useReducer:qa,useRef:ps,useState:function(){return qa(Wa)},useDebugValue:_s,useDeferredValue:function(e,t){var n=za();return null===ba?Es(n,e,t):js(n,ba.memoizedState,e,t)},useTransition:function(){var e=qa(Wa)[0],t=za().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Ga,useId:Ms,useHostTransitionStatus:Os,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=za();return null!==ba?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ua,useCacheRefresh:Ds},Ys=null,Qs=0;function Xs(e){var t=Qs;return Qs+=1,null===Ys&&(Ys=[]),$i(Ys,e,t)}function $s(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===E&&Zs(a)===t.type)?($s(t=i(t,n.props),n),t.return=e,t):($s(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Br(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return $s(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Wr(t,e.mode,n)).return=e,t;case E:return h(e,t=(0,t._init)(t._payload),n)}if(O(t)||P(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===w)return h(e,ji(e,t),n);Js(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case E:return f(e,t,n=(i=n._init)(n._payload),r)}if(O(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Xs(n),r);if(n.$$typeof===w)return f(e,t,ji(e,n),r);Js(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(O(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,Xs(r),i);if(r.$$typeof===w)return v(e,t,n,ji(t,r),i);Js(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===E&&Zs(x)===c.type){n(l,c.sibling),$s(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):($s(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Wr(u,l.mode,d)).return=l,l=d}return o(l);case E:return y(l,c,u=(x=u._init)(u._payload),d)}if(O(u))return function(i,s,o,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(i,d),ai&&Zr(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(s=a(d,s,p),null===u?c=d:u.sibling=d,u=d);return ai&&Zr(i,p),c}for(d=r(d);p<o.length;p++)null!==(m=v(d,i,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=a(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),ai&&Zr(i,p),c}(l,c,u,d);if(P(u)){if("function"!==typeof(x=P(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=o,m=o=0,g=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var x=f(i,p,y.value,c);if(null===x){null===p&&(p=g);break}e&&p&&null===x.alternate&&t(i,p),o=a(x,o,m),null===d?u=x:d.sibling=x,d=x,p=g}if(y.done)return n(i,p),ai&&Zr(i,m),u;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,m),null===d?u=y:d.sibling=y,d=y);return ai&&Zr(i,m),u}for(p=r(p);!y.done;m++,y=l.next())null!==(y=v(p,i,m,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=a(y,o,m),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(i,e)}),ai&&Zr(i,m),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return y(l,c,Xs(u),d);if(u.$$typeof===w)return y(l,c,ji(l,u),d);Js(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Ur(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Qs=0;var i=y(e,t,n,r);return Ys=null,i}catch(s){if(s===Ki||s===Gi)throw s;var a=Rr(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var to=eo(!0),no=eo(!1),ro=z(null),io=null;function ao(e){var t=e.alternate;B(co,1&co.current),B(ro,e),null===io&&(null===t||null!==fa.current||null!==t.memoizedState)&&(io=e)}function so(e){if(22===e.tag){if(B(co,co.current),B(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){B(co,co.current),B(ro,ro.current)}function lo(e){V(ro),io===e&&(io=null),V(co)}var co=z(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mc(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Rc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mc(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Rc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Rc(t,e,n),sa(t,e,n))}};function po(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(i,a))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){vo(e)}function xo(e){console.error(e)}function bo(e){vo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _o(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function So(e){return(e=ia(e)).tag=3,e}function Ao(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ko(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Eo=Error(s(461)),jo=!1;function Co(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function No(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ai(t),r=Ta(e,t,n,s,a,i),o=Da(),null===e||jo?(ai&&o&&ti(t),t.flags|=1,Co(e,t,r,i),t.child):(Ra(e,t,i),Qo(e,t,i))}function Po(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,To(e,t,a,r,i))}if(a=e.child,!Xo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(s,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Xn(a,r)&&e.ref===t.ref){if(jo=!1,t.pendingProps=r=a,!Xo(e,i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(jo=!0)}}return Do(e,t,n,r,i)}function Io(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Oo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Oo(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wi(0,null!==a?a.cachePool:null),null!==a?ma(t,a):ga(),so(t)}else null!==a?(Wi(0,a.cachePool),ma(t,a),oo(),t.memoizedState=null):(null!==e&&Wi(0,null),ga(),oo());return Co(e,t,i,n),t.child}function Oo(e,t,n,r){var i=Ui();return i=null===i?null:{parent:Ii._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Wi(0,null),ga(),so(t),null!==e&&_i(e,t,r,!0),null}function Mo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Do(e,t,n,r,i){return Ai(t),n=Ta(e,t,n,r,void 0,i),r=Da(),null===e||jo?(ai&&r&&ti(t),t.flags|=1,Co(e,t,n,i),t.child):(Ra(e,t,i),Qo(e,t,i))}function Ro(e,t,n,r,i,a){return Ai(t),t.updateQueue=null,n=Oa(t,r,n,i),Ia(e),r=Da(),null===e||jo?(ai&&r&&ti(t),t.flags|=1,Co(e,t,n,a),t.child):(Ra(e,t,a),Qo(e,t,a))}function Lo(e,t,n,r,i){if(Ai(t),null===t.stateNode){var a=Mr,s=n.contextType;"object"===typeof s&&null!==s&&(a=Ei(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),s=n.contextType,a.context="object"===typeof s&&null!==s?Ei(s):Mr,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&fo.enqueueReplaceState(a,a.state,null),ua(t,r,a,i),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=go(n,o);a.props=l;var c=a.context,u=n.contextType;s=Mr,"object"===typeof u&&null!==u&&(s=Ei(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&mo(t,a,r,s),ta=!1;var h=t.memoizedState;a.state=h,ua(t,r,a,i),ca(),c=t.memoizedState,o||h!==c||ta?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ta||po(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),u=go(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Ei(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&mo(t,a,r,l),ta=!1,h=t.memoizedState,a.state=h,ua(t,r,a,i),ca();var f=t.memoizedState;s!==d||h!==f||ta||null!==e&&null!==e.dependencies&&Si(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ta||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Si(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Mo(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):Co(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Qo(e,t,i),e}function Fo(e,t,n,r){return fi(),t.flags|=256,Co(e,t,n,r),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Hi()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Uo(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?ao(t):oo(),ai){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:$r,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Rr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,a?(oo(),c=Ho({mode:"hidden",children:c},a=t.mode),i=Br(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Vo(n),a.childLanes=Bo(e,r,n),t.memoizedState=zo,i):(ao(t),Wo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=Ko(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),a=i.fallback,c=t.mode,i=Ho({mode:"visible",children:i.children},c),(a=Br(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Vo(n),i.childLanes=Bo(e,r,n),t.memoizedState=zo,t=a);else if(ao(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ko(e,t,n)}else if(jo||_i(e,t,n,!1),r=0!==(n&e.childLanes),jo||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ce(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Tr(e,i),Rc(r,e,i),Eo;"$?"===c.data||Gc(),t=Ko(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ri=t,ai=!0,si=null,oi=!1,null!==e&&(Yr[Qr++]=$r,Yr[Qr++]=Jr,Yr[Qr++]=Xr,$r=e.id,Jr=e.overflow,Xr=t),(t=Wo(t,i.children)).flags|=4096);return t}return a?(oo(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Fr(u,a):(a=Br(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Ii._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Bo(e,r,n),t.memoizedState=zo,i):(ao(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Wo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Rr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ko(e,t,n){return to(t,e.child,null,n),(e=Wo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Go(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Yo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Co(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,n,t);else if(19===e.tag)qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,a);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_i(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Si(e))}function $o(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)jo=!0;else{if(!Xo(e,n)&&0===(128&t.flags))return jo=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),xi(0,Ii,e.memoizedState.cache),fi();break;case 27:case 5:Y(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:xi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(ao(t),null!==(e=Qo(e,t,n))?e.sibling:null);ao(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_i(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Yo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Io(e,t,n);case 24:xi(0,Ii,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);jo=0!==(131072&e.flags)}else jo=!1,ai&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===k){t.tag=11,t=No(null,t,r,e,n);break e}if(i===A){t.tag=14,t=Po(null,t,r,e,n);break e}}throw t=I(r)||r,Error(s(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Do(null,t,r,e,n))}return t;case 0:return Do(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ua(t,r,null,n);var o=t.memoizedState;if(r=o.cache,xi(0,Ii,r),r!==a.cache&&ki(t,[Ii],n,!0),ca(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==i){mi(i=Sr(Error(s(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,ai=!0,si=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qo(e,t,n);break e}Co(e,t,r,n)}t=t.child}return t;case 26:return Mo(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Ie]=t,r[Oe]=e,ed(r,n,e),Ke(r),t.stateNode=r):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ai&&(r=t.stateNode=bd(t.type,t.pendingProps,H.current),ri=t,oi=!0,i=ii,fd(t.type)?(yd=i,ii=vd(r.firstChild)):ii=i),Co(e,t,t.pendingProps.children,n),Mo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),Y(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,sd(i,a)?r=null:null!==o&&sd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Ta(e,t,Ma,null,null,n),Yd._currentValue=i),Mo(e,t),Co(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Uo(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Co(e,t,r,n),t.child;case 11:return No(e,t,t.type,t.pendingProps,n);case 7:return Co(e,t,t.pendingProps,n),t.child;case 8:case 12:return Co(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xi(0,t.type,r.value),Co(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ai(t),r=r(i=Ei(i)),t.flags|=1,Co(e,t,r,n),t.child;case 14:return Po(e,t,t.type,t.pendingProps,n);case 15:return To(e,t,t.type,t.pendingProps,n);case 19:return Yo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Io(e,t,n);case 24:return Ai(t),r=Ei(Ii),null===e?(null===(i=Ui())&&(i=rc,a=Oi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),xi(0,Ii,i)):(0!==(e.lanes&n)&&(ra(e,t),ua(t,null,null,n),ca()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),xi(0,Ii,r)):(r=a.cache,xi(0,Ii,r),r!==i.cache&&ki(t,[Ii],n,!0))),Co(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Jo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ro.current)&&((4194048&ac)===ac?null!==io:(62914560&ac)!==ac&&0===(536870912&ac)||t!==io))throw Ji=Yi,qi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bi(Ii),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Jo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Jo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jo(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=U.current,hi(t)?ui(t):(e=bd(i,r,n),t.stateNode=e,Jo(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=U.current,hi(t))ui(t);else{switch(i=rd(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ie]=t,e[Oe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Ie]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ie]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return bi(t.type),nl(t),null;case 19:if(V(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=uo(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return B(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,B(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),va(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bi(Ii),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bi(Ii),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return G(),null;case 10:return bi(t.type),null;case 22:case 23:return lo(t),va(),null!==e&&V(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bi(Ii),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:bi(Ii),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:lo(t);break;case 19:V(co);break;case 10:bi(t.type);break;case 22:case 23:lo(t),va(),null!==e&&V(Bi);break;case 24:bi(Ii)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Ju(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,a,i);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Ju(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Ju(e,t,i,a,r,c)}return t=l,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&Ju(e,t,o,i,r,a)}return void bt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Ju(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(Et(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Zu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Ju(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,r,p)}(r,e.type,n,t),r[Oe]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Ie]=e,t[Oe]=n}catch(a){uu(e,e.return,a)}}var xl=!1,bl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,_l=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||bl,i=xl;var a=bl;xl=r,(bl=t)&&!a?zl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),xl=i,bl=a}break;case 30:break;default:Ll(e,n)}}function Al(e){var t=e.alternate;null!==t&&(e.alternate=null,Al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,jl=!1;function Cl(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:bl||dl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var r=El,i=jl;fd(n.type)&&(El=n.stateNode,jl=!1),Cl(e,t,n),wd(n.stateNode),El=r,jl=i;break;case 5:bl||dl(n,t);case 6:if(r=El,i=jl,El=null,Cl(e,t,n),jl=i,null!==(El=r))if(jl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{El.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==El&&(jl?(pd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),jh(e)):pd(El,n.stateNode));break;case 4:r=El,i=jl,El=n.stateNode.containerInfo,jl=!0,Cl(e,t,n),El=r,jl=i;break;case 0:case 11:case 14:case 15:bl||ol(2,n,t),bl||ol(4,n,t),Cl(e,t,n);break;case 1:bl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,Cl(e,t,n),bl=r;break;default:Cl(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{jh(e)}catch(n){uu(t,t.return,n)}}function Tl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Il(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){El=l.stateNode,jl=!1;break e}break;case 5:El=l.stateNode,jl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,jl=!0;break e}l=l.return}if(null===El)throw Error(s(160));Nl(a,o,i),El=null,jl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Ol=null;function Ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Il(t,e),Dl(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Il(t,e),Dl(e),512&r&&(bl||null===n||dl(n,n.return)),64&r&&xl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ol;if(Il(t,e),Dl(e),512&r&&(bl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[ze]||a[Ie]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,r,n),a[Ie]=e,Ke(a),r=a;break e;case"link":var o=zd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=zd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Ie]=e,Ke(a),r=a}e.stateNode=r}else Vd(i,e.type,e.stateNode);else e.stateNode=Md(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Vd(i,e.type,e.stateNode):Md(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Il(t,e),Dl(e),512&r&&(bl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Il(t,e),Dl(e),512&r&&(bl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Il(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,i=Ol,Ol=Sd(t.containerInfo),Il(t,e),Ol=i,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jh(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Rl(e));break;case 4:r=Ol,Ol=Sd(e.stateNode.containerInfo),Il(t,e),Dl(e),Ol=r;break;case 12:default:Il(t,e),Dl(e);break;case 13:Il(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,d=bl;if(xl=u||i,bl=d||c,Il(t,e),bl=d,xl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||xl||bl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Tl(e,n))));break;case 19:Il(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Tl(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),vl(e,ml(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:zl(i,a,n),sl(4,a);break;case 1:if(zl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],o)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(a),ul(a,a.return);break;case 27:yl(a);case 26:case 5:zl(i,a,n),n&&null===r&&4&s&&hl(a),ul(a,a.return);break;case 12:zl(i,a,n);break;case 13:zl(i,a,n),n&&4&s&&Pl(i,a);break;case 22:null===a.memoizedState&&zl(i,a,n),ul(a,a.return);break;case 30:break;default:zl(i,a,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Mi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,n,r),t=t.sibling}function Wl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Mi(e)));break;case 12:if(2048&i){Ul(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Ul(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?Ul(e,t,n,r):Kl(e,t):2&a._visibility?Ul(e,t,n,r):(a._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(s,t);break;case 24:Ul(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(a,s,o,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(a,s,o,l,i):Kl(a,s):(u._visibility|=2,Hl(a,s,o,l,i)),i&&2048&c&&Vl(s.alternate,s);break;case 24:Hl(a,s,o,l,i),i&&2048&c&&Bl(s.alternate,s);break;default:Hl(a,s,o,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&Bl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var ql=8192;function Gl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Gl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(s(475));var r=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Nd(n.href),a=e.querySelector(Pd(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Ke(a);a=e.ownerDocument||e,n=Td(n),(i=kd.get(i))&&Rd(n,i),Ke(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ol;Ol=Sd(e.stateNode.containerInfo),Gl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Gl(e),ql=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Xl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==_l;){var n=_l;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Mi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_l=r;else e:for(n=e;null!==_l;){var i=(r=_l).sibling,a=r.return;if(Al(r),r===n){_l=null;break e}if(null!==i){i.return=a,_l=i;break e}_l=a}}}var ec={getCacheForType:function(e){var t=Ei(Ii),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,ac=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,vc=0,yc=null,xc=null,bc=!1,wc=0,kc=1/0,_c=null,Sc=null,Ac=0,Ec=null,jc=null,Cc=0,Nc=0,Pc=null,Tc=null,Ic=0,Oc=null;function Mc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==M.T){return 0!==Li?Li:Nu()}return Pe()}function Dc(){0===gc&&(gc=0===(536870912&ac)||ai?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Wc(e,0),Vc(e,ac,gc,!1)),Ae(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&Vc(e,ac,gc,!1)),ku(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Kc(),i=qc();rc!==e||ac!==t?(_c=null,kc=te()+500,Wc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var a=oc;t:switch(sc){case 1:sc=0,oc=null,Zc(e,t,a,1);break;case 2:case 9:if(Qi(a)){sc=0,oc=null,Jc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),ku(e)},a.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Qi(a)?(sc=0,oc=null,Jc(t)):(sc=0,oc=null,Zc(e,t,a,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Bd(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}sc=0,oc=null,Zc(e,t,a,5);break;case 6:sc=0,oc=null,Zc(e,t,a,6);break;case 8:Uc(),hc=6;break e;default:throw Error(s(462))}}Xc();break}catch(d){Hc(e,d)}return yi=vi=null,M.H=r,M.A=i,nc=n,null!==ic?0:(rc=null,ac=0,Cr(),hc)}(e,t):Yc(e,t,!0),a=r;;){if(0===i){cc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!a||zc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,o).flags|=256),2!==(o=Yc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,pc|=a,i=4;break e}a=xc,xc=i,null!==a&&(null===xc?xc=a:xc.push.apply(xc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){Wc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,gc,!lc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=wc+300-te())){if(Vc(r,t,gc,!lc),0!==xe(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,xc,_c,bc,t,gc,pc,vc,lc,a,2,-0,0),i)}else Fc(r,n,xc,_c,bc,t,gc,pc,vc,lc,a,0,-0,0)}break}i=Yc(e,t,!1),a=!1}ku(e)}function Fc(e,t,n,r,i,a,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Ud={stylesheets:null,count:0,unsuspend:Wd},Yl(t),null!==(h=function(){if(null===Ud)throw Error(s(475));var e=Ud;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,a,n,r,i,o,l,c,d,1,f,p)),void Vc(e,a,o,!u);nu(e,t,a,n,r,i,o,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-fe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Ee(e,n,t)}function Bc(){return 0!==(6&nc)||(_u(0,!1),!1)}function Uc(){if(null!==ic){if(0===sc)var e=ic.return;else yi=vi=null,La(e=ic),Ys=null,Qs=0,e=ic;for(;null!==e;)al(e.alternate,e),e=e.return;ic=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,ic=n=Fr(e.current,null),ac=t,sc=0,oc=null,lc=!1,cc=be(e,t),uc=!1,vc=gc=mc=pc=fc=hc=0,xc=yc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),a=1<<i;t|=e[i],r&=~a}return dc=t,Cr(),n}function Hc(e,t){xa=null,M.H=Hs,t===Ki||t===Gi?(t=Zi(),sc=3):t===qi?(t=Zi(),sc=4):sc=t===Eo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(hc=1,wo(e,Sr(t,e.current)))}function Kc(){var e=M.H;return M.H=Hs,null===e?Hs:e}function qc(){var e=M.A;return M.A=ec,e}function Gc(){hc=4,lc||(4194048&ac)!==ac&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Vc(rc,ac,gc,!1)}function Yc(e,t,n){var r=nc;nc|=2;var i=Kc(),a=qc();rc===e&&ac===t||(_c=null,Wc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var o=ic,l=oc;switch(sc){case 8:Uc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,Zc(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Zc(e,o,l,c)}}Qc(),s=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,yi=vi=null,nc=r,M.H=i,M.A=a,null===ic&&(rc=null,ac=0,Cr()),s}function Qc(){for(;null!==ic;)$c(ic)}function Xc(){for(;null!==ic&&!Z();)$c(ic)}function $c(e){var t=$o(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ro(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Ro(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:La(t);default:al(n,t),t=$o(n,t=ic=zr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){yi=vi=null,La(t),Ys=null,Qs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_i(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(s(435,n.tag))}return du(e,r,i),Gc(),!1}if(ai)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Sr(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(Sr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Sr(r,n),oa(e,i=_o(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var a=Error(s(520),{cause:r});if(a=Sr(a,n),null===yc?yc=[a]:yc.push(a),4!==hc&&(hc=2),null===t)return!0;r=Sr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,oa(n,e=_o(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Sc||!Sc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Ao(i=So(i),e,n,r),oa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return hc=1,wo(e,Sr(n,e.current)),void(ic=null)}catch(a){if(null!==i)throw ic=i,a;return hc=1,wo(e,Sr(n,e.current)),void(ic=null)}32768&t.flags?(ai||1===r?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Ac);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=jr,o,l,c),e===rc&&(ic=rc=null,ac=0),jc=t,Ec=e,Cc=n,Nc=a,Pc=i,Tc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(ae,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null,i=D.p,D.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,_l=t;null!==_l;)if(e=(t=_l).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(a=(t=_l).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{nc=o,D.p=i,M.T=r}}Ac=1,ru(),iu(),au()}}function ru(){if(1===Ac){Ac=0;var e=Ec,t=jc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Ml(t,e);var a=nd,s=er(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=Jn(o,m),y=Jn(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var x=d.createRange();x.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(x),f.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),f.addRange(x))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nh=!!td,nd=td=null}finally{nc=i,D.p=r,M.T=n}}e.current=t,Ac=2}}function iu(){if(2===Ac){Ac=0;var e=Ec,t=jc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Sl(e,t.alternate,t)}finally{nc=i,D.p=r,M.T=n}}Ac=3}}function au(){if(4===Ac||3===Ac){Ac=0,ee();var e=Ec,t=jc,n=Cc,r=Tc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ac=5:(Ac=0,jc=Ec=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Sc=null),Ne(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=M.T,i=D.p,D.p=2,M.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{M.T=t,D.p=i}}0!==(3&Cc)&&ou(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Oc?Ic++:(Ic=0,Oc=e):Ic=0,_u(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Mi(t)))}function ou(e){return ru(),iu(),au(),lu()}function lu(){if(5!==Ac)return!1;var e=Ec,t=Nc;Nc=0;var n=Ne(Cc),r=M.T,i=D.p;try{D.p=32>n?32:n,M.T=null,n=Pc,Pc=null;var a=Ec,o=Cc;if(Ac=0,jc=Ec=null,Cc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,$l(a.current),Wl(a,a.current,o,n),nc=l,_u(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{D.p=i,M.T=r,su(e,t)}}function cu(e,t,n){t=Sr(n,t),null!==(e=aa(e,t=_o(e.stateNode,t,2),2))&&(Ae(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=aa(t,n=So(2),2))&&(Ao(n,r,t,e),Ae(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ac&n)===n&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-wc?0===(2&nc)&&Wc(e,0):mc|=n,vc===ac&&(vc=0)),ku(e)}function fu(e,t){0===t&&(t=_e()),null!==(e=Tr(e,t))&&(Ae(e,t),ku(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,vu=null,yu=!1,xu=!1,bu=!1,wu=0;function ku(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),xu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?$(re,Su):Au()}))}function _u(e,t){if(!bu&&xu){bu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Cu(r,a))}else a=ac,0===(3&(a=xe(r,r===rc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,a)||(n=!0,Cu(r,a));r=r.next}}while(n);bu=!1}}function Su(){Au()}function Au(){xu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,a=Eu(r,t);0===a?(r.next=null,null===n?gu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&a))&&(xu=!0)),r=i}_u(e,!1)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-fe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=we(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=ac,n=xe(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ne(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=oe}return r=ju.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function ju(e,t){if(0!==Ac&&5!==Ac)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=xe(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===n?ju.bind(null,e):null)}function Cu(e,t){if(ou())return null;Lc(e,t,!0)}function Nu(){return 0===wu&&(wu=ke()),wu}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Tu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Iu=0;Iu<wr.length;Iu++){var Ou=wr[Iu];kr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}kr(fr,"onAnimationEnd"),kr(pr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(xr,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Ru(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){vo(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){vo(u)}i.currentTarget=null,a=l}}}}function Lu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[zu]){e[zu]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Fu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=Be(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}Rt(function(){var r=a,i=Tt(n),s=[];e:{var o=br.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fr:case pr:case mr:c=on;break;case xr:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Lt(m,f))&&d.push(Wu(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Me])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:We(c),p=null==u?o:We(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,Be(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Ku(p))m++;for(p=0,g=f;g;g=Ku(g))p++;for(;0<m-p;)d=Ku(d),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&qu(s,o,c,d,!1),null!==u&&null!==h&&qu(s,h,u,d,!0)}if("select"===(c=(o=r?We(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Fn;else if(In(o))if(zn)v=Yn;else{v=qn;var y=Kn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Et(r.elementType)&&(v=Fn):v=Gn;switch(v&&(v=v(e,r))?On(s,v,n,i):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),y=r?We(r):window,e){case"focusin":(In(y)||"true"===y.contentEditable)&&(rr=y,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var x;if(kn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Pn?Cn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(An&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Pn&&(x=Ht()):(Ut="value"in(Bt=i)?Bt.value:Bt.textContent,Pn=!0)),0<(y=Hu(r,b)).length&&(b=new cn(b,e,null,n,i),s.push({event:b,listeners:y}),x?b.data=x:null!==(x=Nn(n))&&(b.data=x))),(x=Sn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(jn=!0,En);case"textInput":return(e=t.data)===En&&jn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!kn&&Cn(e,t)?(e=Ht(),Wt=Ut=Bt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Hu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:y,listeners:b}),y.data=x)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Pu((i[Oe]||null).action),s=r.submitter;s&&null!==(t=(t=s[Oe]||null)?Pu(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=s?Tu(i,s):new FormData(i);Ps(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Tu(i,s):new FormData(i),Ps(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Ru(s,t)})}function Wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Lt(e,n))&&r.unshift(Wu(e,i,a)),null!=(i=Lt(e,t))&&r.push(Wu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Lt(n,a))&&s.unshift(Wu(n,c,l)):i||null!=(c=Lt(n,a))&&s.push(Wu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Yu,"")}function Xu(e,t){return t=Qu(t),Qu(e)===t}function $u(){}function Ju(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":At(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Ju(e,t,"name",i.name,i,null),Ju(e,t,"formEncType",i.formEncType,i,null),Ju(e,t,"formMethod",i.formMethod,i,null),Ju(e,t,"formTarget",i.formTarget,i,null)):(Ju(e,t,"encType",i.encType,i,null),Ju(e,t,"method",i.method,i,null),Ju(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$u);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=jt.get(n)||n,r)}}function Zu(e,t,n,r,i,a){switch(n){case"style":At(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Oe]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,r,o,n,null)}}return a&&Ju(e,t,"srcSet",n.srcSet,n,null),void(i&&Ju(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Ju(e,t,i,d,n,null)}}return vt(e,r,l,c,u,o,a,!1),void dt(e);case"select":for(a in Lu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Ju(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(o in Lu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Ju(e,t,o,l,n,null)}return wt(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Ju(e,t,c,i,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(i=0;i<Mu.length;i++)Lu(Mu[i],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ju(e,t,u,i,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Ju(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&wd(s.documentElement),2&n&&wd(s.body),4&n)for(wd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void jh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);jh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var kd=new Map,_d=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ad=D.d;D.d={f:function(){var e=Ad.f(),t=Bc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Is(t):Ad.r(e)},D:function(e){Ad.D(e),jd("dns-prefetch",e,null)},C:function(e,t){Ad.C(e,t),jd("preconnect",e,t)},L:function(e,t,n){Ad.L(e,t,n);var r=Ed;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=Nd(e);break;case"script":a=Id(e)}kd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Pd(a))||"script"===t&&r.querySelector(Od(a))||(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){Ad.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Id(e)}if(!kd.has(a)&&(e=h({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Od(a)))return}ed(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){Ad.X(e,t);var n=Ed;if(n&&e){var r=He(n).hoistableScripts,i=Id(e),a=r.get(i);a||((a=n.querySelector(Od(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&Ld(e,t),Ke(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Ad.S(e,t,n);var r=Ed;if(r&&e){var i=He(r).hoistableStyles,a=Nd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Pd(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&Rd(e,n);var l=s=r.createElement("link");Ke(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Dd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Ad.M(e,t);var n=Ed;if(n&&e){var r=He(n).hoistableScripts,i=Id(e),a=r.get(i);a||((a=n.querySelector(Od(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Ld(e,t),Ke(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Ed="undefined"===typeof document?null:document;function jd(e,t,n){var r=Ed;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),_d.has(i)||(_d.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function Cd(e,t,n,r){var i,a,o,l,c=(c=H.current)?Sd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nd(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nd(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ed(a,"link",o),Ke(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Id(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Nd(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Td(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Id(e){return'[src="'+mt(e)+'"]'}function Od(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ke(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Nd(n.href);var a=e.querySelector(Pd(i));if(a)return t.state.loading|=4,t.instance=a,Ke(a),a;r=Td(n),(i=kd.get(i))&&Rd(r,i),Ke(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(a,"link",r),t.state.loading|=4,Dd(a,n.precedence,e),t.instance=a;case"script":return a=Id(n.src),(i=e.querySelector(Od(a)))?(t.instance=i,Ke(i),i):(r=n,(i=kd.get(a))&&Ld(r=h({},n),i),Ke(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function zd(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ze]||a[Ie]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Wd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Gd,e),Kd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Qd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,i,a,s,o,l,c,u,d){return e=new Qd(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=Rr(3,null,null,t),e.current=a,a.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function $d(e){return e?e=Mr:Mr}function Jd(e,t,n,r,i,a){i=$d(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Rc(n,0,t),sa(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Tr(e,67108864);null!==t&&Rc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=M.T;M.T=null;var a=D.p;try{D.p=2,ah(e,t,n,r)}finally{D.p=a,M.T=i}}function ih(e,t,n,r){var i=M.T;M.T=null;var a=D.p;try{D.p=8,ah(e,t,n,r)}finally{D.p=a,M.T=i}}function ah(e,t,n,r){if(nh){var i=sh(r);if(null===i)Uu(e,t,r,oh,n),yh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=xh(dh,e,t,n,r,i),!0;case"dragenter":return hh=xh(hh,e,t,n,r,i),!0;case"mouseover":return fh=xh(fh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ph.set(a,xh(ph.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,mh.set(a,xh(mh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var a=Ue(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=ye(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}ku(a),0===(6&nc)&&(kc=te()+500,_u(0,!1))}}break;case 13:null!==(o=Tr(a,2))&&Rc(o,0,2),Bc(),eh(a,2)}if(null===(a=sh(r))&&Uu(e,t,r,oh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Uu(e,t,r,null,n)}}function sh(e){return lh(e=Tt(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function xh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ue(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function bh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Mc();e=Ce(e);var t=Tr(n,e);null!==t&&Rc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function kh(e,t,n){wh(e)&&n.delete(t)}function _h(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(kh),mh.forEach(kh)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_h)))}var Ah=null;function Eh(e){Ah!==e&&(Ah=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ah===e&&(Ah=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var a=Ue(n);null!==a&&(e.splice(t,3),t-=3,Ps(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function jh(e){function t(t){return Sh(t,e)}null!==dh&&Sh(dh,e),null!==hh&&Sh(hh,e),null!==fh&&Sh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)bh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Oe]||null;if("function"===typeof a)s||Eh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Oe]||null)o=s.formAction;else if(null!==lh(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Eh(n)}}}function Ch(e){this._internalRoot=e}function Nh(e){this._internalRoot=e}Nh.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Jd(t.current,Mc(),e,t,null,null)},Nh.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Bc(),t[Me]=null}},Nh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&bh(e)}};var Ph=i.version;if("19.1.1"!==Ph)throw Error(s(527,Ph,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Th={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{ue=Ih.inject(Th),de=Ih}catch(Mh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=yo,a=xo,l=bo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,i,a,l,0,null),e[Me]=t.current,Vu(e),new Ch(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=yo,l=xo,c=bo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,i,a,l,c,0,u)).context=$d(null),n=t.current,(i=ia(r=Ce(r=Mc()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,Ae(t,n),ku(t),e[Me]=t.current,Vu(e),new Nh(t)},t.version="19.1.1"},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),i=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),n=void 0===n?e<t?1:-1:i.toFinite(n);const a=Math.max(Math.ceil((t-e)/(n||1)),0),s=new Array(a);for(let r=0;r<a;r++)s[r]=e,e+=n;return s}},7237:(e,t,n)=>{"use strict";n(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const s=e[a];Array.isArray(s)&&t<r?i(s,t+1):n.push(s)}};return i(e,0),n}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736:(e,t,n)=>{var r=n(3738).default,i=n(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770:(e,t,n)=>{e.exports=n(9323).get},7820:(e,t,n)=>{e.exports=n(5414).throttle},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var n,r,i,a,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?C(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=s,l=c.length),a>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/p|0,c[a]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,o?C(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=A(n)),a+=r;(n=7-(r=(s=e[t])+"").length)&&(a+=A(n))}else if(0===s)return"0";for(;s%10===0;)s/=10;return a+s}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return C(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return _(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(o=!1,t=w(E(n,s),E(e,s),s),o=!0,C(t,a))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=w(n,e,0,1).times(e),o=!0,n.minus(t)):C(new r(n),i)},v.naturalExponential=v.exp=function(){return k(this)},v.naturalLogarithm=v.ln=function(){return E(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):N(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=_(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,i,a,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=_(c),o=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=s=(n=u.precision)+3;;)if(r=(a=r).plus(w(c,a,s+2)).times(.5),b(a.d).slice(0,s)===(t=b(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(C(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;s+=4}return o=!0,C(r,n)},v.times=v.mul=function(e){var t,n,r,i,a,s,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(a=f,f=m,m=a,s=c,c=u,u=s),a=[],r=s=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*f[i-r-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,o?C(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,a),void 0===t?t=r.rounding:x(t,0,8),C(n,e+_(n)+1,t))},v.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=P(r,!0):(x(e,0,a),void 0===t?t=i.rounding:x(t,0,8),n=P(r=C(new i(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?P(i):(x(e,0,a),void 0===t?t=s.rounding:x(t,0,8),n=P((r=C(new s(i),e+_(i)+1,t)).abs(),!1,e+_(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return C(new t(e),_(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,a,s,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return C(u,r);if(c=(t=e.e)>=(n=e.d.length-1),s=u.s,c){if((n=f<0?-f:f)<=m){for(a=new h(i),t=Math.ceil(r/7+4),o=!1;n%2&&T((a=a.times(u)).d,t),0!==(n=d(n/2));)T((u=u.times(u)).d,t);return o=!0,e.s<0?new h(i).div(a):C(a,r)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,o=!1,a=e.times(E(u,r+12)),o=!0,(a=k(a)).s=s,a},v.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?r=P(i,(n=_(i))<=s.toExpNeg||n>=s.toExpPos):(x(e,1,a),void 0===t?t=s.rounding:x(t,0,8),r=P(i=C(new s(i),e,t),e<=(n=_(i))||n<=s.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,a),void 0===t?t=n.rounding:x(t,0,8)),C(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=_(e),n=e.constructor;return P(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,s){var o,c,u,d,h,f,m,g,v,y,x,b,w,k,S,A,E,j,N=r.constructor,P=r.s==i.s?1:-1,T=r.d,I=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,E=I.length,S=T.length,g=(m=new N(P)).d=[],u=0;I[u]==(T[u]||0);)++u;if(I[u]>(T[u]||0)&&--c,(b=null==a?a=N.precision:s?a+(_(r)-_(i))+1:a)<0)return new N(0);if(b=b/7+2|0,u=0,1==E)for(d=0,I=I[0],b++;(u<S||d)&&b--;u++)w=d*p+(T[u]||0),g[u]=w/I|0,d=w%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),T=e(T,d),E=I.length,S=T.length),k=E,y=(v=T.slice(0,E)).length;y<E;)v[y++]=0;(j=I.slice()).unshift(0),A=I[0],I[1]>=p/2&&++A;do{d=0,(o=t(I,v,E,y))<0?(x=v[0],E!=y&&(x=x*p+(v[1]||0)),(d=x/A|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(I,d),v,f=h.length,y=v.length))&&(d--,n(h,E<f?j:I,f))):(0==d&&(o=d=1),h=I.slice()),(f=h.length)<y&&h.unshift(0),n(v,h,y),-1==o&&(o=t(I,v,E,y=v.length))<1&&(d++,n(v,E<y?j:I,y)),y=v.length):0===o&&(d++,v=[0]),g[u++]=d,o&&v[0]?v[y++]=T[k]||0:(v=[T[k]],y=1)}while((k++<S||void 0!==v[0])&&b--)}return g[0]||g.shift(),m.e=c,C(m,s?a+_(m)+1:a)}}();function k(e,t){var n,r,a,s,l,c=0,d=0,f=e.constructor,p=f.precision;if(_(e)>16)throw Error(u+_(e));if(!e.s)return new f(i);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new f(i),f.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),b((s=a.plus(w(r,n,l))).d).slice(0,l)===b(a.d).slice(0,l)){for(;d--;)a=C(a.times(a),l);return f.precision=p,null==t?(o=!0,C(a,p)):a}a=s}}function _(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function A(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,a,s,c,u,d,h,f,p=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new v(0);if(null==t?(o=!1,h=y):h=t,m.eq(10))return null==t&&(o=!0),S(v,h);if(h+=10,v.precision=h,r=(n=b(g)).charAt(0),s=_(m),!(Math.abs(s)<15e14))return d=S(v,h+2,y).times(s+""),m=E(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(o=!0,C(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(e)).d)).charAt(0),p++;for(s=_(m),r>1?(m=new v("0."+n),s++):m=new v(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),f=C(m.times(m),h),a=3;;){if(c=C(c.times(f),h),b((d=u.plus(w(c,new v(a),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(S(v,h+2,y).times(s+""))),u=w(u,new v(p),h),v.precision=y,null==t?(o=!0,C(u,y)):u;u=d,a+=2}}function j(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,i,a,s,l,c,f,m,v=e.d;for(s=1,a=v[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=7,i=t,f=v[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=v.length))return e;for(f=a=v[m],s=1;a>=10;a/=10)s++;i=(r%=7)-7+s}if(void 0!==n&&(l=f/(a=h(10,s-i-1))%10|0,c=t<0||void 0!==v[m+1]||f%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,s-i):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(a=_(e),v.length=1,t=t-a-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=m,a=1,m--):(v.length=m+1,a=h(10,7-r),v[m]=i>0?(f/h(10,s-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(v[0]+=a)==p&&(v[0]=1,++e.e);break}if(v[m]+=a,v[m]!=p)break;v[m--]=0,a=1}for(r=v.length;0===v[--r];)v.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+_(e));return e}function N(e,t){var n,r,i,a,s,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?C(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),s=u-r){for((d=s<0)?(n=c,s=-s,l=h.length):(n=h,r=u,l=c.length),s>(i=Math.max(Math.ceil(m/7),l)+2)&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?C(t,m):t):new f(0)}function P(e,t,n){var r,i=_(e),a=b(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+A(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+A(-i-1)+a,n&&(r=n-s)>0&&(a+=A(r))):i>=s?(a+=A(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+A(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=A(r))),e.s<0?"-"+a:a}function T(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):j(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);j(t,e)}if(a.prototype=v,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=I,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(s),s.default=s.Decimal=s,i=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,s=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8499:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new i(r,a||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=new Array(a);i<a;i++)s[i]=r[i].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),i=n(3272),a=n(8396),s=n(9323),o=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(n){const i=s.get(n,e);return void 0===i?o.has(n,e):void 0===t?void 0===i:r.isMatch(i,t)}}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),i=n(2489),a=n(3272),s=n(1444);t.get=function e(t,n,o){if(null==t)return o;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return o;const a=t[n];return void 0===a?i.isDeepKey(n)?e(t,s.toPath(n),o):o:a}case"number":case"symbol":{"number"===typeof n&&(n=a.toKey(n));const e=t[n];return void 0===e?o:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let i=e;for(let a=0;a<t.length;a++){if(null==i)return n;if(r.isUnsafeProperty(t[a]))return n;i=i[t[a]]}if(void 0===i)return n;return i}(t,n,o);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return o;const e=t[n];return void 0===e?o:e}}}},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(4705);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9606:(e,t,n)=>{"use strict";n.d(t,{h1:()=>o,uA:()=>i});var r=n(1776);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const a="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===a?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),i=n(8346),a=n(1203);t.last=function(e){if(a.isArrayLike(e))return r.last(i.toArray(e))}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9717:(e,t,n)=>{"use strict";var r=n(5043),i=n(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,o=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,a(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(s=e,t):(s=e,o=n)}var s,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var f=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859:(e,t,n)=>{e.exports=n(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".1e65f75c.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="financial:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,s=r[0],o=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkfinancial=self.webpackChunkfinancial||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>Km,scaleDiverging:()=>zb,scaleDivergingLog:()=>Vb,scaleDivergingPow:()=>Ub,scaleDivergingSqrt:()=>Wb,scaleDivergingSymlog:()=>Bb,scaleIdentity:()=>Ov,scaleImplicit:()=>Wm,scaleLinear:()=>Iv,scaleLog:()=>Uv,scaleOrdinal:()=>Hm,scalePoint:()=>Gm,scalePow:()=>$v,scaleQuantile:()=>cy,scaleQuantize:()=>uy,scaleRadial:()=>ey,scaleSequential:()=>Ib,scaleSequentialLog:()=>Ob,scaleSequentialPow:()=>Db,scaleSequentialQuantile:()=>Lb,scaleSequentialSqrt:()=>Rb,scaleSequentialSymlog:()=>Mb,scaleSqrt:()=>Jv,scaleSymlog:()=>qv,scaleThreshold:()=>dy,scaleTime:()=>Cb,scaleUtc:()=>Nb,tickFormat:()=>Pv});var t,r,i=n(5043),a=n.t(i,2),s=n(4391),o=n(9379);function l(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,n){l(e,t),t.set(e,n)}function u(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function d(e,t){return e.get(u(e,t))}function h(e,t,n){return e.set(u(e,t),n),n}var f={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},p=(t=new WeakMap,r=new WeakMap,class{constructor(){c(this,t,f),c(this,r,!1)}setTimeoutProvider(e){h(t,this,e)}setTimeout(e,n){return d(t,this).setTimeout(e,n)}clearTimeout(e){d(t,this).clearTimeout(e)}setInterval(e,n){return d(t,this).setInterval(e,n)}clearInterval(e){d(t,this).clearInterval(e)}}),m=new p;var g="undefined"===typeof window||"Deno"in globalThis;function v(){}function y(e,t){return"function"===typeof e?e(t):e}function x(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s)if(r){if(t.queryHash!==w(s,t.options))return!1}else if(!_(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof o||t.isStale()===o)&&((!i||i===t.state.fetchStatus)&&!(a&&!a(t)))}function b(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(k(t.options.mutationKey)!==k(a))return!1}else if(!_(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function w(e,t){return((null===t||void 0===t?void 0:t.queryKeyHashFn)||k)(e)}function k(e){return JSON.stringify(e,(e,t)=>j(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function _(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every(n=>_(e[n],t[n])))}var S=Object.prototype.hasOwnProperty;function A(e,t){if(e===t)return e;const n=E(e)&&E(t);if(!n&&(!j(e)||!j(t)))return t;const r=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,s=n?new Array(a):{};let o=0;for(let l=0;l<a;l++){const a=n?l:i[l],c=e[a],u=t[a];if(c===u){s[a]=c,(n?l<r:S.call(e,a))&&o++;continue}if(null===c||null===u||"object"!==typeof c||"object"!==typeof u){s[a]=u;continue}const d=A(c,u);s[a]=d,d===c&&o++}return r===a&&o===r?e:s}function E(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function j(e){if(!C(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!C(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function C(e){return"[object Object]"===Object.prototype.toString.call(e)}function N(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?A(e,t):t}function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var I=Symbol();function O(e,t){return!e.queryFn&&null!==t&&void 0!==t&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==I?e.queryFn:()=>Promise.reject(new Error("Missing queryFn: '".concat(e.queryHash,"'")))}function M(e,t){l(e,t),t.add(e)}var D=function(e){setTimeout(e,0)};var R,L,F,z,V,B,U=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=D;const a=r=>{t?e.push(r):i(()=>{n(r)})};return{batch:a=>{let s;t++;try{s=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return s},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a(()=>{e(...n)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),W=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},H=(R=new WeakMap,L=new WeakMap,F=new WeakMap,class extends W{constructor(){super(),c(this,R,void 0),c(this,L,void 0),c(this,F,void 0),h(F,this,e=>{if(!g&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){d(L,this)||this.setEventListener(d(F,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=d(L,this))||void 0===e||e.call(this),h(L,this,void 0))}setEventListener(e){var t;h(F,this,e),null===(t=d(L,this))||void 0===t||t.call(this),h(L,this,e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){d(R,this)!==e&&(h(R,this,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"===typeof d(R,this)?d(R,this):"hidden"!==(null===(e=globalThis.document)||void 0===e?void 0:e.visibilityState)}}),K=new H,q=(z=new WeakMap,V=new WeakMap,B=new WeakMap,class extends W{constructor(){super(),c(this,z,!0),c(this,V,void 0),c(this,B,void 0),h(B,this,e=>{if(!g&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){d(V,this)||this.setEventListener(d(B,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=d(V,this))||void 0===e||e.call(this),h(V,this,void 0))}setEventListener(e){var t;h(B,this,e),null===(t=d(V,this))||void 0===t||t.call(this),h(V,this,e(this.setOnline.bind(this)))}setOnline(e){d(z,this)!==e&&(h(z,this,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return d(z,this)}}),G=new q;function Y(e){return Math.min(1e3*2**e,3e4)}function Q(e){return"online"!==(null!==e&&void 0!==e?e:"online")||G.isOnline()}var X,$=class extends Error{constructor(e){super("CancelledError"),this.revert=null===e||void 0===e?void 0:e.revert,this.silent=null===e||void 0===e?void 0:e.silent}};function J(e){let t,n=!1,r=0;const i=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),a=()=>"pending"!==i.status,s=()=>K.isFocused()&&("always"===e.networkMode||G.isOnline())&&e.canRun(),o=()=>Q(e.networkMode)&&e.canRun(),l=e=>{var n;a()||(null===(n=t)||void 0===n||n(),i.resolve(e))},c=e=>{var n;a()||(null===(n=t)||void 0===n||n(),i.reject(e))},u=()=>new Promise(n=>{var r;t=e=>{(a()||s())&&n(e)},null===(r=e.onPause)||void 0===r||r.call(e)}).then(()=>{var n;(t=void 0,a())||(null===(n=e.onContinue)||void 0===n||n.call(e))}),d=()=>{if(a())return;let t;const i=0===r?e.initialPromise:void 0;try{t=null!==i&&void 0!==i?i:e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var i,o,l;if(a())return;const h=null!==(i=e.retry)&&void 0!==i?i:g?0:3,f=null!==(o=e.retryDelay)&&void 0!==o?o:Y,p="function"===typeof f?f(r,t):f,v=!0===h||"number"===typeof h&&r<h||"function"===typeof h&&h(r,t);var y;!n&&v?(r++,null===(l=e.onFail)||void 0===l||l.call(e,r,t),(y=p,new Promise(e=>{m.setTimeout(e,y)})).then(()=>s()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:i,status:()=>i.status,cancel:t=>{if(!a()){var n;const r=new $(t);c(r),null===(n=e.onCancel)||void 0===n||n.call(e,r)}},continue:()=>{var e;return null===(e=t)||void 0===e||e(),i},cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?d():u().then(d),i)}}var Z,ee,te,ne,re,ie,ae,se,oe,le=(X=new WeakMap,class{constructor(){c(this,X,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),function(e){return"number"===typeof e&&e>=0&&e!==1/0}(this.gcTime)&&h(X,this,m.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!==e&&void 0!==e?e:g?1/0:3e5)}clearGcTimeout(){d(X,this)&&(m.clearTimeout(d(X,this)),h(X,this,void 0))}}),ce=(Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,ae=new WeakMap,se=new WeakSet,class extends le{constructor(e){var t;super(),M(this,se),c(this,Z,void 0),c(this,ee,void 0),c(this,te,void 0),c(this,ne,void 0),c(this,re,void 0),c(this,ie,void 0),c(this,ae,void 0),h(ae,this,!1),h(ie,this,e.defaultOptions),this.setOptions(e.options),this.observers=[],h(ne,this,e.client),h(te,this,d(ne,this).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,h(Z,this,de(this.options)),this.state=null!==(t=e.state)&&void 0!==t?t:d(Z,this),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null===(e=d(re,this))||void 0===e?void 0:e.promise}setOptions(e){if(this.options=(0,o.A)((0,o.A)({},d(ie,this)),e),this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=de(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),h(Z,this,e))}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||d(te,this).remove(this)}setData(e,t){const n=N(this.state.data,e,this.options);return u(se,this,ue).call(this,{data:n,type:"success",dataUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,manual:null===t||void 0===t?void 0:t.manual}),n}setState(e,t){u(se,this,ue).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null===(t=d(re,this))||void 0===t?void 0:t.promise;return null===(n=d(re,this))||void 0===n||n.cancel(e),r?r.then(v).catch(v):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(d(Z,this))}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,n=this,"function"===typeof t?t(n):t);var t,n})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===I||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===y(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=d(re,this))||void 0===e||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=d(re,this))||void 0===e||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),d(te,this).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(d(re,this)&&(d(ae,this)?d(re,this).cancel({revert:!0}):d(re,this).cancelRetry()),this.scheduleGc()),d(te,this).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||u(se,this,ue).call(this,{type:"invalidate"})}async fetch(e,t){var n,r,i;if("idle"!==this.state.fetchStatus&&"rejected"!==(null===(n=d(re,this))||void 0===n?void 0:n.status()))if(void 0!==this.state.data&&null!==t&&void 0!==t&&t.cancelRefetch)this.cancel({silent:!0});else if(d(re,this))return d(re,this).continueRetry(),d(re,this).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=new AbortController,s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(h(ae,this,!0),a.signal)})},l=()=>{const e=O(this.options,t),n=(()=>{const e={client:d(ne,this),queryKey:this.queryKey,meta:this.meta};return s(e),e})();return h(ae,this,!1),this.options.persister?this.options.persister(e,n,this):e(n)},c=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:d(ne,this),state:this.state,fetchFn:l};return s(e),e})();var f;(null===(r=this.options.behavior)||void 0===r||r.onFetch(c,this),h(ee,this,this.state),"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null===(i=c.fetchOptions)||void 0===i?void 0:i.meta))&&u(se,this,ue).call(this,{type:"fetch",meta:null===(f=c.fetchOptions)||void 0===f?void 0:f.meta});h(re,this,J({initialPromise:null===t||void 0===t?void 0:t.initialPromise,fn:c.fetchFn,onCancel:e=>{e instanceof $&&e.revert&&this.setState((0,o.A)((0,o.A)({},d(ee,this)),{},{fetchStatus:"idle"})),a.abort()},onFail:(e,t)=>{u(se,this,ue).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{u(se,this,ue).call(this,{type:"pause"})},onContinue:()=>{u(se,this,ue).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{var p,m,g,v;const e=await d(re,this).start();if(void 0===e)throw new Error("".concat(this.queryHash," data is undefined"));return this.setData(e),null===(p=(m=d(te,this).config).onSuccess)||void 0===p||p.call(m,e,this),null===(g=(v=d(te,this).config).onSettled)||void 0===g||g.call(v,e,this.state.error,this),e}catch(k){var y,x,b,w;if(k instanceof $){if(k.silent)return d(re,this).promise;if(k.revert){if(void 0===this.state.data)throw k;return this.state.data}}throw u(se,this,ue).call(this,{type:"error",error:k}),null===(y=(x=d(te,this).config).onError)||void 0===y||y.call(x,k,this),null===(b=(w=d(te,this).config).onSettled)||void 0===b||b.call(w,this.state.data,k,this),k}finally{this.scheduleGc()}}});function ue(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return(0,o.A)((0,o.A)({},t),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return(0,o.A)((0,o.A)({},t),{},{fetchStatus:"paused"});case"continue":return(0,o.A)((0,o.A)({},t),{},{fetchStatus:"fetching"});case"fetch":return(0,o.A)((0,o.A)((0,o.A)({},t),function(e,t){return(0,o.A)({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Q(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}(t.data,this.options)),{},{fetchMeta:null!==(n=e.meta)&&void 0!==n?n:null});case"success":const i=(0,o.A)((0,o.A)({},t),{},{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!==(r=e.dataUpdatedAt)&&void 0!==r?r:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});return h(ee,this,e.manual?i:void 0),i;case"error":const a=e.error;return(0,o.A)((0,o.A)({},t),{},{error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"});case"invalidate":return(0,o.A)((0,o.A)({},t),{},{isInvalidated:!0});case"setState":return(0,o.A)((0,o.A)({},t),e.state)}})(this.state),U.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),d(te,this).notify({query:this,type:"updated",action:e})})}function de(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!==r&&void 0!==r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var he,fe,pe,me,ge,ve,ye,xe=(oe=new WeakMap,class extends W{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),c(this,oe,void 0),this.config=e,h(oe,this,new Map)}build(e,t,n){var r;const i=t.queryKey,a=null!==(r=t.queryHash)&&void 0!==r?r:w(i,t);let s=this.get(a);return s||(s=new ce({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){d(oe,this).has(e.queryHash)||(d(oe,this).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=d(oe,this).get(e.queryHash);t&&(e.destroy(),t===e&&d(oe,this).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){U.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return d(oe,this).get(e)}getAll(){return[...d(oe,this).values()]}find(e){const t=(0,o.A)({exact:!0},e);return this.getAll().find(e=>x(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>x(e,t)):t}notify(e){U.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){U.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){U.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}}),be=(he=new WeakMap,fe=new WeakMap,pe=new WeakMap,me=new WeakSet,class extends le{constructor(e){super(),M(this,me),c(this,he,void 0),c(this,fe,void 0),c(this,pe,void 0),this.mutationId=e.mutationId,h(fe,this,e.mutationCache),h(he,this,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){d(he,this).includes(e)||(d(he,this).push(e),this.clearGcTimeout(),d(fe,this).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){h(he,this,d(he,this).filter(t=>t!==e)),this.scheduleGc(),d(fe,this).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){d(he,this).length||("pending"===this.state.status?this.scheduleGc():d(fe,this).remove(this))}continue(){var e,t;return null!==(e=null===(t=d(pe,this))||void 0===t?void 0:t.continue())&&void 0!==e?e:this.execute(this.state.variables)}async execute(e){var t;const n=()=>{u(me,this,we).call(this,{type:"continue"})};h(pe,this,J({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{u(me,this,we).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{u(me,this,we).call(this,{type:"pause"})},onContinue:n,retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>d(fe,this).canRun(this)}));const r="pending"===this.state.status,i=!d(pe,this).canStart();try{var a,s,o,l,c,f,p,m;if(r)n();else{var g,v,y,x;u(me,this,we).call(this,{type:"pending",variables:e,isPaused:i}),await(null===(g=(v=d(fe,this).config).onMutate)||void 0===g?void 0:g.call(v,e,this));const t=await(null===(y=(x=this.options).onMutate)||void 0===y?void 0:y.call(x,e));t!==this.state.context&&u(me,this,we).call(this,{type:"pending",context:t,variables:e,isPaused:i})}const t=await d(pe,this).start();return await(null===(a=(s=d(fe,this).config).onSuccess)||void 0===a?void 0:a.call(s,t,e,this.state.context,this)),await(null===(o=(l=this.options).onSuccess)||void 0===o?void 0:o.call(l,t,e,this.state.context)),await(null===(c=(f=d(fe,this).config).onSettled)||void 0===c?void 0:c.call(f,t,null,this.state.variables,this.state.context,this)),await(null===(p=(m=this.options).onSettled)||void 0===p?void 0:p.call(m,t,null,e,this.state.context)),u(me,this,we).call(this,{type:"success",data:t}),t}catch(C){try{var b,w,k,_,S,A,E,j;throw await(null===(b=(w=d(fe,this).config).onError)||void 0===b?void 0:b.call(w,C,e,this.state.context,this)),await(null===(k=(_=this.options).onError)||void 0===k?void 0:k.call(_,C,e,this.state.context)),await(null===(S=(A=d(fe,this).config).onSettled)||void 0===S?void 0:S.call(A,void 0,C,this.state.variables,this.state.context,this)),await(null===(E=(j=this.options).onSettled)||void 0===E?void 0:E.call(j,void 0,C,e,this.state.context)),C}finally{u(me,this,we).call(this,{type:"error",error:C})}}finally{d(fe,this).runNext(this)}}});function we(e){this.state=(t=>{switch(e.type){case"failed":return(0,o.A)((0,o.A)({},t),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return(0,o.A)((0,o.A)({},t),{},{isPaused:!0});case"continue":return(0,o.A)((0,o.A)({},t),{},{isPaused:!1});case"pending":return(0,o.A)((0,o.A)({},t),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return(0,o.A)((0,o.A)({},t),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return(0,o.A)((0,o.A)({},t),{},{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),U.batch(()=>{d(he,this).forEach(t=>{t.onMutationUpdate(e)}),d(fe,this).notify({mutation:this,type:"updated",action:e})})}var ke,_e,Se,Ae,Ee,je,Ce,Ne,Pe=(ge=new WeakMap,ve=new WeakMap,ye=new WeakMap,class extends W{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),c(this,ge,void 0),c(this,ve,void 0),c(this,ye,void 0),this.config=e,h(ge,this,new Set),h(ve,this,new Map),h(ye,this,0)}build(e,t,n){var r;const i=new be({mutationCache:this,mutationId:h(ye,this,(r=d(ye,this),++r)),options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){d(ge,this).add(e);const t=Te(e);if("string"===typeof t){const n=d(ve,this).get(t);n?n.push(e):d(ve,this).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(d(ge,this).delete(e)){const t=Te(e);if("string"===typeof t){const n=d(ve,this).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&d(ve,this).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Te(e);if("string"===typeof t){const n=d(ve,this).get(t),r=null===n||void 0===n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=Te(e);if("string"===typeof t){var n,r;const i=null===(n=d(ve,this).get(t))||void 0===n?void 0:n.find(t=>t!==e&&t.state.isPaused);return null!==(r=null===i||void 0===i?void 0:i.continue())&&void 0!==r?r:Promise.resolve()}return Promise.resolve()}clear(){U.batch(()=>{d(ge,this).forEach(e=>{this.notify({type:"removed",mutation:e})}),d(ge,this).clear(),d(ve,this).clear()})}getAll(){return Array.from(d(ge,this))}find(e){const t=(0,o.A)({exact:!0},e);return this.getAll().find(e=>b(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>b(e,t))}notify(e){U.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return U.batch(()=>Promise.all(e.map(e=>e.continue().catch(v))))}});function Te(e){var t;return null===(t=e.options.scope)||void 0===t?void 0:t.id}function Ie(e){return{onFetch:(t,n)=>{var r,i,a;const s=t.options,o=null===(r=t.fetchOptions)||void 0===r||null===(r=r.meta)||void 0===r||null===(r=r.fetchMore)||void 0===r?void 0:r.direction,l=(null===(i=t.state.data)||void 0===i?void 0:i.pages)||[],c=(null===(a=t.state.data)||void 0===a?void 0:a.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let n=!1;const r=O(t.options,t.fetchOptions),i=async(e,i,a)=>{if(n)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);const s=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:i,direction:a?"backward":"forward",meta:t.options.meta};return(e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)})})(e),e})(),o=await r(s),{maxPages:l}=t.options,c=a?T:P;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,i,l)}};if(o&&l.length){const e="backward"===o,t={pages:l,pageParams:c},n=(e?Me:Oe)(s,t);u=await i(t,n,e)}else{const t=null!==e&&void 0!==e?e:l.length;do{var a;const e=0===d?null!==(a=c[0])&&void 0!==a?a:s.initialPageParam:Oe(s,u);if(d>0&&null==e)break;u=await i(u,e),d++}while(d<t)}return u};t.options.persister?t.fetchFn=()=>{var e,r;return null===(e=(r=t.options).persister)||void 0===e?void 0:e.call(r,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Oe(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Me(e,t){var n;let{pages:r,pageParams:i}=t;return r.length>0?null===(n=e.getPreviousPageParam)||void 0===n?void 0:n.call(e,r[0],r,i[0],i):void 0}var De=(ke=new WeakMap,_e=new WeakMap,Se=new WeakMap,Ae=new WeakMap,Ee=new WeakMap,je=new WeakMap,Ce=new WeakMap,Ne=new WeakMap,class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,ke,void 0),c(this,_e,void 0),c(this,Se,void 0),c(this,Ae,void 0),c(this,Ee,void 0),c(this,je,void 0),c(this,Ce,void 0),c(this,Ne,void 0),h(ke,this,e.queryCache||new xe),h(_e,this,e.mutationCache||new Pe),h(Se,this,e.defaultOptions||{}),h(Ae,this,new Map),h(Ee,this,new Map),h(je,this,0)}mount(){var e;h(je,this,(e=d(je,this),e++,e)),1===d(je,this)&&(h(Ce,this,K.subscribe(async e=>{e&&(await this.resumePausedMutations(),d(ke,this).onFocus())})),h(Ne,this,G.subscribe(async e=>{e&&(await this.resumePausedMutations(),d(ke,this).onOnline())})))}unmount(){var e,t,n;h(je,this,(e=d(je,this),e--,e)),0===d(je,this)&&(null===(t=d(Ce,this))||void 0===t||t.call(this),h(Ce,this,void 0),null===(n=d(Ne,this))||void 0===n||n.call(this),h(Ne,this,void 0))}isFetching(e){return d(ke,this).findAll((0,o.A)((0,o.A)({},e),{},{fetchStatus:"fetching"})).length}isMutating(e){return d(_e,this).findAll((0,o.A)((0,o.A)({},e),{},{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=d(ke,this).get(n.queryHash))||void 0===t?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=d(ke,this).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(y(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return d(ke,this).findAll(e).map(e=>{let{queryKey:t,state:n}=e;return[t,n.data]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=d(ke,this).get(r.queryHash),a=function(e,t){return"function"===typeof e?e(t):e}(t,null===i||void 0===i?void 0:i.state.data);if(void 0!==a)return d(ke,this).build(this,r).setData(a,(0,o.A)((0,o.A)({},n),{},{manual:!0}))}setQueriesData(e,t,n){return U.batch(()=>d(ke,this).findAll(e).map(e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=d(ke,this).get(n.queryHash))||void 0===t?void 0:t.state}removeQueries(e){const t=d(ke,this);U.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=d(ke,this);return U.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries((0,o.A)({type:"active"},e),t)))}cancelQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,o.A)({revert:!0},t),r=U.batch(()=>d(ke,this).findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(v).catch(v)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U.batch(()=>{var n,r;return d(ke,this).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null===e||void 0===e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries((0,o.A)((0,o.A)({},e),{},{type:null!==(n=null!==(r=null===e||void 0===e?void 0:e.refetchType)&&void 0!==r?r:null===e||void 0===e?void 0:e.type)&&void 0!==n?n:"active"}),t)})}refetchQueries(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(0,o.A)((0,o.A)({},n),{},{cancelRefetch:null===(t=n.cancelRefetch)||void 0===t||t}),i=U.batch(()=>d(ke,this).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(v)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(i).then(v)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=d(ke,this).build(this,t);return n.isStaleByTime(y(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(v).catch(v)}fetchInfiniteQuery(e){return e.behavior=Ie(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(v).catch(v)}ensureInfiniteQueryData(e){return e.behavior=Ie(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return G.isOnline()?d(_e,this).resumePausedMutations():Promise.resolve()}getQueryCache(){return d(ke,this)}getMutationCache(){return d(_e,this)}getDefaultOptions(){return d(Se,this)}setDefaultOptions(e){h(Se,this,e)}setQueryDefaults(e,t){d(Ae,this).set(k(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...d(Ae,this).values()],n={};return t.forEach(t=>{_(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){d(Ee,this).set(k(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...d(Ee,this).values()],n={};return t.forEach(t=>{_(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},d(Se,this).queries),this.getQueryDefaults(e.queryKey)),e),{},{_defaulted:!0});return t.queryHash||(t.queryHash=w(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===I&&(t.enabled=!1),t}defaultMutationOptions(e){return null!==e&&void 0!==e&&e._defaulted?e:(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},d(Se,this).mutations),(null===e||void 0===e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{},{_defaulted:!0})}clear(){d(ke,this).clear(),d(_e,this).clear()}}),Re=n(579),Le=i.createContext(void 0),Fe=e=>{let{client:t,children:n}=e;return i.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,Re.jsx)(Le.Provider,{value:t,children:n})};function ze(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Ve=["sri"],Be=["page"],Ue=["page","matches"],We=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],He=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ke=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var qe="popstate";function Ge(){return et(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return $e("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:Je(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function Ye(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Qe(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Xe(e,t){return{usr:e.state,key:e.key,idx:t}}function $e(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,o.A)((0,o.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Ze(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function Je(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Ze(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function et(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",c=null,u=d();function d(){return(s.state||{idx:null}).idx}function h(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:p.location,delta:t})}function f(e){return tt(e)}null==u&&(u=0,s.replaceState((0,o.A)((0,o.A)({},s.state),{},{idx:u}),""));let p={get action(){return l},get location(){return e(i,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qe,h),c=e,()=>{i.removeEventListener(qe,h),c=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=$e(p.location,e,t);n&&n(r,e),u=d()+1;let o=Xe(r,u),h=p.createHref(r);try{s.pushState(o,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}a&&c&&c({action:l,location:p.location,delta:1})},replace:function(e,t){l="REPLACE";let r=$e(p.location,e,t);n&&n(r,e),u=d();let i=Xe(r,u),o=p.createHref(r);s.replaceState(i,"",o),a&&c&&c({action:l,location:p.location,delta:0})},go:e=>s.go(e)};return p}function tt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),Ye(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:Je(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function nt(e,t){return rt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function rt(e,t,n,r){let i=yt(("string"===typeof t?Ze(t):t).pathname||"/",n);if(null==i)return null;let a=it(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=vt(i);s=pt(a[o],e,r)}return s}function it(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;Ye(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=_t([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(Ye(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),it(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:ft(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of at(e.path))a(e,t,!0,r);else a(e,t)}),t}function at(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=at(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var st=/^:[\w-]+$/,ot=3,lt=2,ct=1,ut=10,dt=-2,ht=e=>"*"===e;function ft(e,t){let n=e.split("/"),r=n.length;return n.some(ht)&&(r+=dt),t&&(r+=lt),n.filter(e=>!ht(e)).reduce((e,t)=>e+(st.test(t)?ot:""===t?ct:ut),r)}function pt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=mt({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=mt({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:_t([a,u.pathname]),pathnameBase:St(_t([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=_t([a,u.pathnameBase]))}return s}function mt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gt(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function gt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Qe("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vt(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return Qe(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function yt(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function xt(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function bt(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function wt(e){let t=bt(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function kt(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=Ze(e):(r=(0,o.A)({},e),Ye(!r.pathname||!r.pathname.includes("?"),xt("?","pathname","search",r)),Ye(!r.pathname||!r.pathname.includes("#"),xt("#","pathname","hash",r)),Ye(!r.search||!r.search.includes("#"),xt("#","search","hash",r)));let a,s=""===e||""===r.pathname,l=s?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?Ze(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:At(r),hash:Et(i)}}(r,a),u=l&&"/"!==l&&l.endsWith("/"),d=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var _t=e=>e.join("/").replace(/\/\/+/g,"/"),St=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),At=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Et=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function jt(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Ct=["POST","PUT","PATCH","DELETE"],Nt=(new Set(Ct),["GET",...Ct]);new Set(Nt),Symbol("ResetLoaderData");var Pt=i.createContext(null);Pt.displayName="DataRouter";var Tt=i.createContext(null);Tt.displayName="DataRouterState";var It=i.createContext(!1);var Ot=i.createContext({isTransitioning:!1});Ot.displayName="ViewTransition";var Mt=i.createContext(new Map);Mt.displayName="Fetchers";var Dt=i.createContext(null);Dt.displayName="Await";var Rt=i.createContext(null);Rt.displayName="Navigation";var Lt=i.createContext(null);Lt.displayName="Location";var Ft=i.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var zt=i.createContext(null);zt.displayName="RouteError";function Vt(){return null!=i.useContext(Lt)}function Bt(){return Ye(Vt(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(Lt).location}var Ut="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wt(e){i.useContext(Rt).static||i.useLayoutEffect(e)}function Ht(){let{isDataRoute:e}=i.useContext(Ft);return e?function(){let{router:e}=tn("useNavigate"),t=rn("useNavigate"),n=i.useRef(!1);Wt(()=>{n.current=!0});let r=i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qe(n.current,Ut),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,(0,o.A)({fromRouteId:t},i)))},[e,t]);return r}():function(){Ye(Vt(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(Pt),{basename:t,navigator:n}=i.useContext(Rt),{matches:r}=i.useContext(Ft),{pathname:a}=Bt(),s=JSON.stringify(wt(r)),o=i.useRef(!1);Wt(()=>{o.current=!0});let l=i.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Qe(o.current,Ut),!o.current)return;if("number"===typeof r)return void n.go(r);let l=kt(r,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:_t([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,s,a,e]);return l}()}var Kt=i.createContext(null);function qt(){let{matches:e}=i.useContext(Ft),t=e[e.length-1];return t?t.params:{}}function Gt(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(Ft),{pathname:r}=Bt(),a=JSON.stringify(wt(n));return i.useMemo(()=>kt(e,JSON.parse(a),r,"path"===t),[e,a,r,t])}function Yt(e,t,n,r,a){Ye(Vt(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=i.useContext(Rt),{matches:l}=i.useContext(Ft),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";on(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=Bt();if(t){var g;let e="string"===typeof t?Ze(t):t;Ye("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let v=p.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=nt(e,{pathname:y});Qe(f||null!=x,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),Qe(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=Zt(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:_t([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:_t([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r,a);return t&&b?i.createElement(Lt.Provider,{value:{location:(0,o.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},b):b}function Qt(){let e=an(),t=jt(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:s},"ErrorBoundary")," or"," ",i.createElement("code",{style:s},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,o)}var Xt=i.createElement(Qt,null),$t=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?i.createElement(Ft.Provider,{value:this.props.routeContext},i.createElement(zt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jt(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(Pt);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Ft.Provider,{value:t},r)}function Zt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));Ye(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(n)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,c,u)=>{let d,h=!1,f=null,p=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,f=c.route.errorElement||Xt,o&&(l<0&&0===u?(on("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:c.route.Component?i.createElement(c.route.Component,null):c.route.element?c.route.element:e,i.createElement(Jt,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?i.createElement($t,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):g()},null)}function en(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function tn(e){let t=i.useContext(Pt);return Ye(t,en(e)),t}function nn(e){let t=i.useContext(Tt);return Ye(t,en(e)),t}function rn(e){let t=function(e){let t=i.useContext(Ft);return Ye(t,en(e)),t}(e),n=t.matches[t.matches.length-1];return Ye(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function an(){var e;let t=i.useContext(zt),n=nn("useRouteError"),r=rn("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var sn={};function on(e,t,n){t||sn[e]||(sn[e]=!0,Qe(!1,n))}var ln={};function cn(e,t){e||ln[t]||(ln[t]=!0,console.warn(t))}i.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return Yt(t,void 0,r,i,n)});function un(e){let{to:t,replace:n,state:r,relative:a}=e;Ye(Vt(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=i.useContext(Rt);Qe(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=i.useContext(Ft),{pathname:l}=Bt(),c=Ht(),u=kt(t,wt(o),l,"path"===a),d=JSON.stringify(u);return i.useEffect(()=>{c(JSON.parse(d),{replace:n,state:r,relative:a})},[c,d,a,n,r]),null}function dn(e){return function(e){let t=i.useContext(Ft).outlet;return t?i.createElement(Kt.Provider,{value:e},t):t}(e.context)}function hn(e){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fn(e){let{basename:t="/",children:n=null,location:r,navigationType:a="POP",navigator:s,static:o=!1}=e;Ye(!Vt(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);"string"===typeof r&&(r=Ze(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=i.useMemo(()=>{let e=yt(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:a}},[l,u,d,h,f,p,a]);return Qe(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:i.createElement(Rt.Provider,{value:c},i.createElement(Lt.Provider,{children:n,value:m}))}function pn(e){let{children:t,location:n}=e;return Yt(mn(t),n)}i.Component;function mn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,mn(e.props.children,a));Ye(e.type===hn,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),Ye(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=mn(e.props.children,a)),n.push(s)}),n}var gn="get",vn="application/x-www-form-urlencoded";function yn(e){return null!=e&&"string"===typeof e.tagName}var xn=null;var bn=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wn(e){return null==e||bn.has(e)?e:(Qe(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(vn,'"')),null)}function kn(e,t){let n,r,i,a,s;if(function(e){return yn(e)&&"form"===e.tagName.toLowerCase()}(e)){let s=e.getAttribute("action");r=s?yt(s,t):null,n=e.getAttribute("method")||gn,i=wn(e.getAttribute("enctype"))||vn,a=new FormData(e)}else if(function(e){return yn(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return yn(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?yt(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||gn,i=wn(e.getAttribute("formenctype"))||wn(s.getAttribute("enctype"))||vn,a=new FormData(s,e),!function(){if(null===xn)try{new FormData(document.createElement("form"),0),xn=!1}catch(e){xn=!0}return xn}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(yn(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gn,r=null,i=vn,s=e}return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function _n(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Sn(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===yt(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function An(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function En(e){return null!=e&&"string"===typeof e.page}function jn(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Cn(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Nn(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Pn(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!En(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function Tn(e,t){return"lazy"===e.mode&&!0===t}function In(){let e=i.useContext(Pt);return _n(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function On(){let e=i.useContext(Tt);return _n(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mn=i.createContext(void 0);function Dn(){let e=i.useContext(Mn);return _n(e,"You must render this element inside a <HydratedRouter> element"),e}function Rn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ln(e,t,n){if(n&&!Bn)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Mn.displayName="FrameworkContext";function Fn(e){let{page:t}=e,n=ze(e,Be),{router:r}=In(),a=i.useMemo(()=>nt(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?i.createElement(Vn,(0,o.A)({page:t,matches:a},n)):null}function zn(e){let{manifest:t,routeModules:n}=Dn(),[r,a]=i.useState([]);return i.useEffect(()=>{let r=!1;return async function(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await An(r,n);return e.links?e.links():[]}return[]}));return Pn(r.flat(1).filter(jn).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,o.A)((0,o.A)({},e),{},{rel:"prefetch",as:"style"}):(0,o.A)((0,o.A)({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),r}function Vn(e){let{page:t,matches:n}=e,r=ze(e,Ue),a=Bt(),{manifest:s,routeModules:l}=Dn(),{basename:c}=In(),{loaderData:u,matches:d}=On(),h=i.useMemo(()=>Cn(t,n,d,s,a,"data"),[t,n,d,s,a]),f=i.useMemo(()=>Cn(t,n,d,s,a,"assets"),[t,n,d,s,a]),p=i.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=s.routes[t.route.id];i&&i.hasLoader&&(!h.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=Sn(t,c,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,u,a,s,h,n,t,l]),m=i.useMemo(()=>Nn(f,s),[f,s]),g=zn(f);return i.createElement(i.Fragment,null,p.map(e=>i.createElement("link",(0,o.A)({key:e,rel:"prefetch",as:"fetch",href:e},r))),m.map(e=>i.createElement("link",(0,o.A)({key:e,rel:"modulepreload",href:e},r))),g.map(e=>{let{key:t,link:n}=e;return i.createElement("link",(0,o.A)({key:t,nonce:r.nonce},n))}))}var Bn=!1;function Un(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:a,routeDiscovery:s,ssr:l}=Dn(),{router:c,static:u,staticContext:d}=In(),{matches:h}=On(),f=i.useContext(It),p=Tn(s,l);a&&(a.didRenderScripts=!0);let m=Ln(h,null,r);i.useEffect(()=>{0},[]);let g=i.useMemo(()=>{var r;if(f)return null;let a=d?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=u?"".concat(null!==t.hmr&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(m.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];_n(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=ze(e,Ve),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push("/".concat(a.join("/"))),a.pop();s.forEach(e=>{let n=nt(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return(0,o.A)((0,o.A)({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(m.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",(0,o.A)((0,o.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),i.createElement("script",(0,o.A)((0,o.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:"module",async:!0})))},[]),v=Bn||f?[]:function(e){return[...new Set(e)]}(t.entry.imports.concat(Nn(m,t,{includeHydrateFallback:!0}))),y="object"===typeof t.sri?t.sri:{};return cn(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Bn||f?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,p?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:y[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:y[t.entry.module],suppressHydrationWarning:!0}),v.map(t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:y[t],suppressHydrationWarning:!0})),g)}function Wn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}i.Component;function Hn(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,a=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(jt(t))return i.createElement(Kn,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return i.createElement(Kn,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function Kn(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:a,children:s}=e,{routeModules:o}=Dn();return null!==o.root&&void 0!==t&&t.Layout&&!a?s:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?i.createElement(Un,null):null)))}var qn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{qn&&(window.__reactRouterVersion="7.9.1")}catch(s5){}function Gn(e){let{basename:t,children:n,window:r}=e,a=i.useRef();null==a.current&&(a.current=Ge({window:r,v5Compat:!0}));let s=a.current,[o,l]=i.useState({action:s.action,location:s.location}),c=i.useCallback(e=>{i.startTransition(()=>l(e))},[l]);return i.useLayoutEffect(()=>s.listen(c),[s,c]),i.createElement(fn,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var Yn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qn=i.forwardRef(function(e,t){let n,{onClick:r,discover:a="render",prefetch:s="none",relative:l,reloadDocument:c,replace:u,state:d,target:h,to:f,preventScrollReset:p,viewTransition:m}=e,g=ze(e,We),{basename:v}=i.useContext(Rt),y="string"===typeof f&&Yn.test(f),x=!1;if("string"===typeof f&&y&&(n=f,qn))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=yt(t.pathname,v);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:x=!0}catch(s5){Qe(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye(Vt(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(Rt),{hash:a,pathname:s,search:o}=Gt(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:_t([n,s])),r.createHref({pathname:l,search:o,hash:a})}(f,{relative:l}),[w,k,_]=function(e,t){let n=i.useContext(Mn),[r,a]=i.useState(!1),[s,o]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=i.useRef(null);i.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{a(!0)},m=()=>{a(!1),o(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:Rn(l,p),onBlur:Rn(c,m),onMouseEnter:Rn(u,p),onMouseLeave:Rn(d,m),onTouchStart:Rn(h,p)}]:[!1,f,{}]}(s,g),S=function(e){let{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Ht(),c=Bt(),u=Gt(e,{relative:s});return i.useCallback(i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:Je(c)===Je(u);l(e,{replace:t,state:r,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,r,t,e,a,s,o])}(f,{replace:u,state:d,target:h,preventScrollReset:p,relative:l,viewTransition:m});let A=i.createElement("a",(0,o.A)((0,o.A)((0,o.A)({},g),_),{},{href:n||b,onClick:x||c?r:function(e){r&&r(e),e.defaultPrevented||S(e)},ref:Wn(t,k),target:h,"data-discover":y||"render"!==a?void 0:"true"}));return w&&!y?i.createElement(i.Fragment,null,A,i.createElement(Fn,{page:b})):A});Qn.displayName="Link";var Xn=i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:u,children:d}=e,h=ze(e,He),f=Gt(c,{relative:h.relative}),p=Bt(),m=i.useContext(Tt),{navigator:g,basename:v}=i.useContext(Rt),y=null!=m&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(Ot);Ye(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Zn("useViewTransitionState"),a=Gt(e,{relative:t});if(!n.isTransitioning)return!1;let s=yt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=yt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=mt(a.pathname,o)||null!=mt(a.pathname,s)}(f)&&!0===u,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&v&&(w=yt(w,v)||w);const k="/"!==x&&x.endsWith("/")?x.length-1:x.length;let _,S=b===x||!s&&b.startsWith(x)&&"/"===b.charAt(k),A=null!=w&&(w===x||!s&&w.startsWith(x)&&"/"===w.charAt(x.length)),E={isActive:S,isPending:A,isTransitioning:y},j=S?n:void 0;_="function"===typeof a?a(E):[a,S?"active":null,A?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let C="function"===typeof l?l(E):l;return i.createElement(Qn,(0,o.A)((0,o.A)({},h),{},{"aria-current":j,className:_,ref:t,style:C,to:c,viewTransition:u}),"function"===typeof d?d(E):d)});Xn.displayName="NavLink";var $n=i.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:a,reloadDocument:s,replace:l,state:c,method:u=gn,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:m}=e,g=ze(e,Ke),v=nr(),y=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(Rt),r=i.useContext(Ft);Ye(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s=(0,o.A)({},Gt(e||".",{relative:t})),l=Bt();if(null==e){s.search=l.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:_t([n,s.pathname]));return Je(s)}(d,{relative:f}),x="get"===u.toLowerCase()?"get":"post",b="string"===typeof d&&Yn.test(d);return i.createElement("form",(0,o.A)((0,o.A)({ref:t,method:x,action:y,onSubmit:s?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;v(t||e.currentTarget,{fetcherKey:r,method:n,navigate:a,replace:l,state:c,relative:f,preventScrollReset:p,viewTransition:m})}},g),{},{"data-discover":b||"render"!==n?void 0:"true"}))});function Jn(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Zn(e){let t=i.useContext(Pt);return Ye(t,Jn(e)),t}$n.displayName="Form";var er=0,tr=()=>"__".concat(String(++er),"__");function nr(){let{router:e}=Zn("useSubmit"),{basename:t}=i.useContext(Rt),n=rn("useRouteId");return i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=kn(r,t);if(!1===i.navigate){let t=i.fetcherKey||tr();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}var rr=n(1150);(0,rr.KO)("firebase","12.2.1","app");var ir=n(2965),ar=n(1776),sr=n(9606),or=n(5180);const lr="@firebase/installations",cr="0.6.19",ur=1e4,dr="w:".concat(cr),hr="FIS_v2",fr=36e5,pr={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mr=new ar.FA("installations","Installations",pr);function gr(e){return e instanceof ar.g&&e.code.includes("request-failed")}function vr(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function yr(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function xr(e,t){const n=(await t.json()).error;return mr.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function br(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wr(e,t){let{refreshToken:n}=t;const r=br(e);return r.append("Authorization",function(e){return"".concat(hr," ").concat(e)}(n)),r}async function kr(e){const t=await e();return t.status>=500&&t.status<600?e():t}function _r(e){return new Promise(t=>{setTimeout(t,e)})}const Sr=/^[cdef][\w-]{21}$/;function Ar(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return Sr.test(t)?t:""}catch(e){return""}}function Er(e){return"".concat(e.appName,"!").concat(e.appId)}const jr=new Map;function Cr(e,t){const n=Er(e);Nr(n,t),function(e,t){const n=Tr();n&&n.postMessage({key:e,fid:t});Ir()}(n,t)}function Nr(e,t){const n=jr.get(e);if(n)for(const r of n)r(t)}let Pr=null;function Tr(){return!Pr&&"BroadcastChannel"in self&&(Pr=new BroadcastChannel("[Firebase] FID Change"),Pr.onmessage=e=>{Nr(e.data.key,e.data.fid)}),Pr}function Ir(){0===jr.size&&Pr&&(Pr.close(),Pr=null)}const Or="firebase-installations-store";let Mr=null;function Dr(){return Mr||(Mr=(0,or.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Or)}})),Mr}async function Rr(e,t){const n=Er(e),r=(await Dr()).transaction(Or,"readwrite"),i=r.objectStore(Or),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Cr(e,t.fid),t}async function Lr(e){const t=Er(e),n=(await Dr()).transaction(Or,"readwrite");await n.objectStore(Or).delete(t),await n.done}async function Fr(e,t){const n=Er(e),r=(await Dr()).transaction(Or,"readwrite"),i=r.objectStore(Or),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||a&&a.fid===s.fid||Cr(e,s.fid),s}async function zr(e){let t;const n=await Fr(e.appConfig,n=>{const r=function(e){const t=e||{fid:Ar(),registrationStatus:0};return Ur(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(mr.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=vr(n),s=br(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:hr,appId:n.appId,sdkVersion:dr},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await kr(()=>fetch(a,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:yr(e.authToken)}}throw await xr("Create Installation",u)}(e,t);return Rr(e.appConfig,n)}catch(s5){throw gr(s5)&&409===s5.customData.serverCode?await Lr(e.appConfig):await Rr(e.appConfig,{fid:t.fid,registrationStatus:0}),s5}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Vr(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Vr(e){let t=await Br(e.appConfig);for(;1===t.registrationStatus;)await _r(100),t=await Br(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await zr(e);return n||t}return t}function Br(e){return Fr(e,e=>{if(!e)throw mr.create("installation-not-found");return Ur(e)})}function Ur(e){return 1===(t=e).registrationStatus&&t.registrationTime+ur<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Wr(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(vr(e),"/").concat(n,"/authTokens:generate")}(n,t),a=wr(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const o={installation:{sdkVersion:dr,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await kr(()=>fetch(i,l));if(c.ok){return yr(await c.json())}throw await xr("Generate Auth Token",c)}async function Hr(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Fr(e.appConfig,r=>{if(!qr(r))throw mr.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fr}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Kr(e.appConfig);for(;1===n.authToken.requestStatus;)await _r(100),n=await Kr(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Hr(e,t):r}(e,n),r;{if(!navigator.onLine)throw mr.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return(0,o.A)((0,o.A)({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await Wr(e,t),r=(0,o.A)((0,o.A)({},t),{},{authToken:n});return await Rr(e.appConfig,r),n}catch(s5){if(!gr(s5)||401!==s5.customData.serverCode&&404!==s5.customData.serverCode){const n=(0,o.A)((0,o.A)({},t),{},{authToken:{requestStatus:0}});await Rr(e.appConfig,n)}else await Lr(e.appConfig);throw s5}}(e,n),n}});return t?await t:r.authToken}function Kr(e){return Fr(e,e=>{if(!qr(e))throw mr.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ur<Date.now()?(0,o.A)((0,o.A)({},e),{},{authToken:{requestStatus:0}}):e;var n})}function qr(e){return void 0!==e&&2===e.registrationStatus}async function Gr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await zr(e);t&&await t}(n);return(await Hr(n,t)).token}function Yr(e){return mr.create("missing-app-config-values",{valueName:e})}const Qr="installations",Xr=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Yr("App Configuration");if(!e.name)throw Yr("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Yr(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,rr.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},$r=e=>{const t=e.getProvider("app").getImmediate(),n=(0,rr.j6)(t,Qr).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await zr(t);return r?r.catch(console.error):Hr(t).catch(console.error),n.fid}(n),getToken:e=>Gr(n,e)}};(0,rr.om)(new sr.uA(Qr,Xr,"PUBLIC")),(0,rr.om)(new sr.uA("installations-internal",$r,"PRIVATE")),(0,rr.KO)(lr,cr),(0,rr.KO)(lr,cr,"esm2020");const Jr="analytics",Zr="https://www.googletagmanager.com/gtag/js",ei=new ir.Vy("@firebase/analytics"),ti={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ni=new ar.FA("analytics","Analytics",ti);function ri(e){if(!e.startsWith(Zr)){const t=ni.create("invalid-gtag-resource",{gtagURL:e});return ei.warn(t.message),""}return e}function ii(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function ai(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:ri}),r=document.createElement("script"),i="".concat(Zr,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function si(e,t,n,r){return async function(i){try{for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await ii(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(s5){ei.error(s5)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=s;await async function(e,t,n,r,i,a){const s=r[i];try{if(s)await t[s];else{const e=(await ii(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(s5){ei.error(s5)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(s5){ei.error(s5)}}}const oi=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function li(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ci(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw ni.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ni.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new di;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),ui({appId:r,apiKey:i,measurementId:a},s,o,t)}async function ui(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:oi;const{appId:s,measurementId:o}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(ni.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(s5){if(o)return ei.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===s5||void 0===s5?void 0:s5.message,"]")),{appId:s,measurementId:o};throw s5}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:li(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),a=await fetch(i,r);if(200!==a.status&&304!==a.status){let e="";try{var s;const t=await a.json();null!==(s=t.error)&&void 0!==s&&s.message&&(e=t.error.message)}catch(o){}throw ni.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(s),t}catch(s5){var l;const r=s5;if(!function(e){if(!(e instanceof ar.g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(s),o)return ei.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:s,measurementId:o};throw s5}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?(0,ar.p9)(i,a.intervalMillis,30):(0,ar.p9)(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return a.setThrottleMetadata(s,u),ei.debug("Calling attemptFetch again in ".concat(c," millis")),ui(e,u,n,a)}}class di{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let hi,fi;function pi(e){fi=e}function mi(e){hi=e}async function gi(e,t,n,r,i,a,s){var o;const l=ci(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ei.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>ei.error(e)),t.push(l);const c=async function(){if(!(0,ar.zW)())return ei.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,ar.eX)()}catch(s5){return ei.warn(ni.create("indexeddb-unavailable",{errorInfo:null===s5||void 0===s5?void 0:s5.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Zr)&&n.src.includes(e))return n;return null})(a)||ai(a,u.measurementId),fi&&(i("consent","default",fi),pi(void 0)),i("js",new Date);const h=null!==(o=null===s||void 0===s?void 0:s.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),hi&&(i("set",hi),mi(void 0)),u.measurementId}class vi{constructor(e){this.app=e}_delete(){return delete yi[this.app.options.appId],Promise.resolve()}}let yi={},xi=[];const bi={};let wi,ki,_i="dataLayer",Si="gtag",Ai=!1;function Ei(e,t,n){!function(){const e=[];if((0,ar.sr)()&&e.push("This is a browser extension environment."),(0,ar.dM)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=ni.create("invalid-analytics-context",{errorInfo:t});ei.warn(n.message)}}();const r=e.options.appId;if(!r)throw ni.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ni.create("no-api-key");ei.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=yi[r])throw ni.create("already-exists",{id:r});if(!Ai){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(_i);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=si(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(yi,xi,bi,_i,Si);ki=e,wi=t,Ai=!0}yi[r]=gi(e,xi,bi,t,wi,_i,n);return new vi(e)}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,rr.Sx)();e=(0,ar.Ku)(e);const t=(0,rr.j6)(e,Jr);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,rr.j6)(e,Jr);if(n.isInitialized()){const e=n.getImmediate();if((0,ar.bD)(t,n.getOptions()))return e;throw ni.create("already-initialized")}const r=n.initialize({options:t});return r}(e)}function Ci(e,t,n,r){e=(0,ar.Ku)(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,(0,o.A)((0,o.A)({},r),{},{send_to:i}))}}(ki,yi[e.app.options.appId],t,n,r).catch(e=>ei.error(e))}const Ni="@firebase/analytics",Pi="0.10.18";(0,rr.om)(new sr.uA(Jr,(e,t)=>{let{options:n}=t;return Ei(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),(0,rr.om)(new sr.uA("analytics-internal",function(e){try{const t=e.getProvider(Jr).getImmediate();return{logEvent:(e,n,r)=>Ci(t,e,n,r)}}catch(s5){throw ni.create("interop-component-reg-failed",{reason:s5})}},"PRIVATE")),(0,rr.KO)(Ni,Pi),(0,rr.KO)(Ni,Pi,"esm2020");const Ti=["providerId"],Ii=["uid","auth","stsTokenManager"],Oi=["providerId","signInMethod"];function Mi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Di=Mi,Ri=new ar.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Li=new ir.Vy("@firebase/auth");function Fi(e){if(Li.logLevel<=ir.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Li.error("Auth (".concat(rr.MF,"): ").concat(e),...n)}}function zi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Wi(e,...n)}function Vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wi(e,...n)}function Bi(e,t,n){const r=(0,o.A)((0,o.A)({},Di()),{},{[t]:n});return new ar.FA("auth","Firebase",r).create(t,{appName:e.name})}function Ui(e){return Bi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ri.create(e,...n)}function Hi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Wi(t,...r)}}function Ki(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fi(t),new Error(t)}function qi(e,t){e||Ki(t)}function Gi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yi(){return"http:"===Qi()||"https:"===Qi()}function Qi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Xi{constructor(e,t){this.shortDelay=e,this.longDelay=t,qi(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,ar.jZ)()||(0,ar.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yi()||(0,ar.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function $i(e,t){qi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ji{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ea=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ta=new Xi(3e4,6e4);function na(e,t){return e.tenantId&&!t.tenantId?(0,o.A)((0,o.A)({},t),{},{tenantId:e.tenantId}):t}async function ra(e,t,n,r){return ia(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=(0,ar.Am)((0,o.A)({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=(0,o.A)({method:t,headers:l},i);return(0,ar.c1)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,ar.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),Ji.fetch()(await sa(e,e.config.apiHost,n,s),c)})}async function ia(e,t,n){e._canInitEmulator=!1;const r=(0,o.A)((0,o.A)({},Zi),t);try{const t=new la(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw ca(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ca(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw ca(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw ca(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Bi(e,o,s);zi(e,o)}}catch(s5){if(s5 instanceof ar.g)throw s5;zi(e,"network-request-failed",{message:String(s5)})}}async function aa(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await ra(e,t,n,r,i);return"mfaPendingCredential"in a&&zi(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function sa(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,s=a.config.emulator?$i(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(ea.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function oa(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class la{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Vi(this.auth,"network-request-failed")),ta.get())})}}function ca(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vi(e,t,r);return i.customData._tokenResponse=n,i}function ua(e){return void 0!==e&&void 0!==e.enterprise}class da{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oa(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ha(e,t){return ra(e,"GET","/v2/recaptchaConfig",na(e,t))}async function fa(e,t){return ra(e,"POST","/v1/accounts:lookup",t)}function pa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(s5){}}function ma(e){return 1e3*Number(e)}function ga(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Fi("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,ar.u)(n);return e?JSON.parse(e):(Fi("Failed to decode base64 JWT payload"),null)}catch(s5){return Fi("Caught error parsing JWT payload as JSON",null===s5||void 0===s5?void 0:s5.toString()),null}}function va(e){const t=ga(e);return Hi(t,"internal-error"),Hi("undefined"!==typeof t.exp,"internal-error"),Hi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ya(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(s5){throw s5 instanceof ar.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(s5)&&e.auth.currentUser===e&&await e.auth.signOut(),s5}}class xa{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(s5){return void((null===s5||void 0===s5?void 0:s5.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ba{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wa(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ya(e,fa(n,{idToken:r}));Hi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?ka(a.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null!==o&&void 0!==o&&o.length),u=!!l&&c,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ba(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function ka(e){return e.map(e=>{let{providerId:t}=e,n=ze(e,Ti);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class _a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Hi(e.idToken,"internal-error"),Hi("undefined"!==typeof e.idToken,"internal-error"),Hi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):va(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Hi(0!==e.length,"internal-error");const t=va(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Hi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ia(e,{},async()=>{const n=(0,ar.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await sa(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,ar.zJ)(e.emulatorConfig.host)&&(o.credentials="include"),Ji.fetch()(a,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new _a;return n&&(Hi("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Hi("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Hi("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _a,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function Sa(e,t){Hi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Aa{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=ze(e,Ii);this.providerId="firebase",this.proactiveRefresh=new xa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ba(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ya(this,this.stsTokenManager.getToken(this.auth,e));return Hi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,ar.Ku)(e),r=await n.getIdToken(t),i=ga(r);Hi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:pa(ma(i.auth_time)),issuedAtTime:pa(ma(i.iat)),expirationTime:pa(ma(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,ar.Ku)(e);await wa(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Hi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,o.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Aa((0,o.A)((0,o.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Hi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await wa(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,rr.xZ)(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await ya(this,async function(e,t){return ra(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,o.A)((0,o.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,o.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:x,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:_}=t;Hi(x&&_,e,"internal-error");const S=_a.fromJSON(this.name,_);Hi("string"===typeof x,e,"internal-error"),Sa(d,e.name),Sa(h,e.name),Hi("boolean"===typeof b,e,"internal-error"),Hi("boolean"===typeof w,e,"internal-error"),Sa(f,e.name),Sa(p,e.name),Sa(m,e.name),Sa(g,e.name),Sa(v,e.name),Sa(y,e.name);const A=new Aa({uid:x,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:S,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(A.providerData=k.map(e=>(0,o.A)({},e))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new _a;r.updateFromServerResponse(t);const i=new Aa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await wa(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Hi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ka(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new _a;s.updateFromIdToken(n);const o=new Aa({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ba(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const Ea=new Map;function ja(e){qi(e instanceof Function,"Expected a class definition");let t=Ea.get(e);return t?(qi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ea.set(e,t),t)}class Ca{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ca.type="NONE";const Na=Ca;function Pa(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ta{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Pa(this.userKey,r.apiKey,i),this.fullPersistenceKey=Pa("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await fa(this.auth,{idToken:e}).catch(()=>{});return t?Aa._fromGetAccountInfoResponse(this.auth,t,e):null}return Aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ta(ja(Na),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ja(Na);const a=Pa(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await fa(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Aa._fromGetAccountInfoResponse(e,r,t)}else n=Aa._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new Ta(i,e,n)):new Ta(i,e,n)}}function Ia(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ra(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fa(t))return"Blackberry";if(za(t))return"Webos";if(Ma(t))return"Safari";if((t.includes("chrome/")||Da(t))&&!t.includes("edge/"))return"Chrome";if(La(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)();return/firefox\//i.test(e)}function Ma(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Da(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)();return/crios\//i.test(e)}function Ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)();return/iemobile/i.test(e)}function La(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)();return/android/i.test(e)}function Fa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)();return/blackberry/i.test(e)}function za(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)();return/webos/i.test(e)}function Va(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ba(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)();return Va(e)||La(e)||za(e)||Fa(e)||/windows phone/i.test(e)||Ra(e)}function Ua(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ia((0,ar.ZQ)());break;case"Worker":t="".concat(Ia((0,ar.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(rr.MF,"/").concat(r)}class Wa{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(s5){r(s5)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(s5){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===s5||void 0===s5?void 0:s5.message})}}}class Ha{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ka{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ga(this),this.idTokenSubscription=new Ga(this),this.beforeStateQueue=new Wa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ri,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ja(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s5){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await fa(this,{idToken:e}),n=await Aa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,rr.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(a=n)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==s||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s5){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s5))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Hi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(s5){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wa(e)}catch(s5){if((null===s5||void 0===s5?void 0:s5.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,rr.xZ)(this.app))return Promise.reject(Ui(this));const t=e?(0,ar.Ku)(e):null;return t&&Hi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Hi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,rr.xZ)(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,rr.xZ)(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ja(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ra(e,"GET","/v2/passwordPolicy",na(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ha(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ar.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ra(e,"POST","/v2/accounts:revokeToken",na(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ja(e)||this._popupRedirectResolver;Hi(t,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[ja(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Hi(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Hi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ua(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,rr.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Li.logLevel<=ir.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Li.warn("Auth (".concat(rr.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function qa(e){return(0,ar.Ku)(e)}class Ga{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,ar.tD)(e=>this.observer=e)}get next(){return Hi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ya={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qa(e){return Ya.loadJS(e)}function Xa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class $a{constructor(){this.enterprise=new Ja}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ja{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Za="NO_RECAPTCHA";class es{constructor(e){this.type="recaptcha-enterprise",this.auth=qa(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ua(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Za)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new $a).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ha(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new da(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&ua(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ya.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Qa(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ts(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new es(e);let s;if(i)s=Za;else try{s=await a.verify(n)}catch(c){s=await a.verify(n,!0)}const l=(0,o.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ns(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ts(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ts(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await ts(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await ts(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await ts(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function rs(e){const t=qa(e),n=await ha(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new da(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new es(t).verify()}}function is(e,t,n){const r=qa(e);Hi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=as(t),{host:s,port:o}=function(e){const t=as(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ss(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ss(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(a,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Hi(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Hi((0,ar.bD)(c,r.config.emulator)&&(0,ar.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,(0,ar.zJ)(s)?((0,ar.gE)("".concat(a,"//").concat(s).concat(l)),(0,ar.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function as(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ss(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class os{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,t){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function ls(e,t){return ra(e,"POST","/v1/accounts:signUp",t)}async function cs(e,t){return aa(e,"POST","/v1/accounts:signInWithPassword",na(e,t))}async function us(e,t){return ra(e,"POST","/v1/accounts:sendOobCode",na(e,t))}async function ds(e,t){return us(e,t)}class hs extends os{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new hs(e,t,"password")}static _fromEmailAndCode(e,t){return new hs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ns(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",cs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return aa(e,"POST","/v1/accounts:signInWithEmailLink",na(e,t))}(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ns(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ls,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return aa(e,"POST","/v1/accounts:signInWithEmailLink",na(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fs(e,t){return aa(e,"POST","/v1/accounts:signInWithIdp",na(e,t))}class ps extends os{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ze(t,Oi);if(!n||!r)return null;const a=new ps(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return fs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,ar.Am)(t)}return e}}async function ms(e,t){return ra(e,"POST","/v1/accounts:sendVerificationCode",na(e,t))}const gs={USER_NOT_FOUND:"user-not-found"};class vs extends os{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return aa(e,"POST","/v1/accounts:signInWithPhoneNumber",na(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await aa(e,"POST","/v1/accounts:signInWithPhoneNumber",na(e,t));if(n.temporaryProof)throw ca(e,"account-exists-with-different-credential",n);return n}(e,(0,o.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return aa(e,"POST","/v1/accounts:signInWithPhoneNumber",na(e,(0,o.A)((0,o.A)({},t),{},{operation:"REAUTH"})),gs)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new vs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ys{constructor(e){var t,n,r,i,a,s;const o=(0,ar.I9)((0,ar.hp)(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Hi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,ar.I9)((0,ar.hp)(e)).link,n=t?(0,ar.I9)((0,ar.hp)(t)).deep_link_id:null,r=(0,ar.I9)((0,ar.hp)(e)).deep_link_id;return(r?(0,ar.I9)((0,ar.hp)(r)).link:null)||r||n||t||e}(e);try{return new ys(t)}catch(n){return null}}}class xs{constructor(){this.providerId=xs.PROVIDER_ID}static credential(e,t){return hs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ys.parseLink(t);return Hi(n,"argument-error"),hs._fromEmailAndCode(e,n.code,n.tenantId)}}xs.PROVIDER_ID="password",xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ws extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ks extends ws{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch(n){return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com",ks.PROVIDER_ID="facebook.com";class _s extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ps._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return _s.credential(n,r)}catch(i){return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com",_s.PROVIDER_ID="google.com";class Ss extends ws{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ss.credential(t.oauthAccessToken)}catch(n){return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com",Ss.PROVIDER_ID="github.com";class As extends ws{constructor(){super("twitter.com")}static credential(e,t){return ps._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return As.credential(n,r)}catch(i){return null}}}async function Es(e,t){return aa(e,"POST","/v1/accounts:signUp",na(e,t))}As.TWITTER_SIGN_IN_METHOD="twitter.com",As.PROVIDER_ID="twitter.com";class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Aa._fromIdTokenResponse(e,n,r),a=Cs(n);return new js({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Cs(n);return new js({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Cs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ns extends ar.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ns.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ns(e,t,n,r)}}function Ps(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ns._fromErrorAndOperation(e,n,t,r);throw n})}async function Ts(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ya(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return js._forOperation(e,"link",r)}async function Is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,rr.xZ)(r.app))return Promise.reject(Ui(r));const i="reauthenticate";try{const a=await ya(e,Ps(r,i,t,e),n);Hi(a.idToken,r,"internal-error");const s=ga(a.idToken);Hi(s,r,"internal-error");const{sub:o}=s;return Hi(e.uid===o,r,"user-mismatch"),js._forOperation(e,i,a)}catch(s5){throw(null===s5||void 0===s5?void 0:s5.code)==="auth/".concat("user-not-found")&&zi(r,"user-mismatch"),s5}}async function Os(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,rr.xZ)(e.app))return Promise.reject(Ui(e));const r="signIn",i=await Ps(e,r,t),a=await js._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Ms(e,t){return Os(qa(e),t)}function Ds(e,t,n){var r;Hi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Hi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Hi("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Hi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Hi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Rs(e){const t=qa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Ls(e,t){return ra(e,"POST","/v2/accounts/mfaEnrollment:start",na(e,t))}new WeakMap;const Fs="__sak";class zs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fs,"1"),this.storage.removeItem(Fs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Vs extends zs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ba(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,ar.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vs.type="LOCAL";const Bs=Vs;function Us(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Ws(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Hs{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ws(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Us(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ws(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Ws(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Us(n);const i=setInterval(()=>{const e=Us(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Hs.type="COOKIE";class Ks extends zs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ks.type="SESSION";const qs=Ks;class Gs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Gs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Gs.receivers=[];class Qs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=Ys("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Xs(){return window}function $s(){return"undefined"!==typeof Xs().WorkerGlobalScope&&"function"===typeof Xs().importScripts}const Js="firebaseLocalStorageDb",Zs="firebaseLocalStorage",eo="fbase_key";class to{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function no(e,t){return e.transaction([Zs],t?"readwrite":"readonly").objectStore(Zs)}function ro(){const e=indexedDB.open(Js,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Zs,{keyPath:eo})}catch(s5){n(s5)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Zs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Js);return new to(e).toPromise()}(),t(await ro()))})})}async function io(e,t,n){const r=no(e,!0).put({[eo]:t,value:n});return new to(r).toPromise()}function ao(e,t){const n=no(e,!0).delete(t);return new to(n).toPromise()}class so{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ro()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(s5){if(t++>3)throw s5;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $s()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gs._getInstance($s()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Qs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ro();return await io(e,Fs,"1"),await ao(e,Fs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>io(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=no(e,!1).get(t),r=await new to(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ao(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=no(e,!1).getAll();return new to(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}so.type="LOCAL";const oo=so;function lo(e,t){return ra(e,"POST","/v2/accounts/mfaSignIn:start",na(e,t))}Xa("rcb"),new Xi(3e4,6e4);const co="recaptcha";async function uo(e,t,n){if(!e._getRecaptchaConfig())try{await rs(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Hi("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=ns(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Za){Hi((null===n||void 0===n?void 0:n.type)===co,e,"argument-error");return Ls(e,await ho(e,t,n))}return Ls(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Hi("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Hi(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=ns(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Za){Hi((null===n||void 0===n?void 0:n.type)===co,e,"argument-error");return lo(e,await ho(e,t,n))}return lo(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ns(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Za){Hi((null===n||void 0===n?void 0:n.type)===co,e,"argument-error");return ms(e,await ho(e,t,n))}return ms(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ho(e,t,n){Hi(n.type===co,e,"argument-error");const r=await n.verify();Hi("string"===typeof r,e,"argument-error");const i=(0,o.A)({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class fo{constructor(e){this.providerId=fo.PROVIDER_ID,this.auth=qa(e)}verifyPhoneNumber(e,t){return uo(this.auth,e,(0,ar.Ku)(t))}static credential(e,t){return vs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return fo.credentialFromTaggedObject(t)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?vs._fromTokenResponse(n,r):null}}function po(e,t){return t?ja(t):(Hi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}fo.PROVIDER_ID="phone",fo.PHONE_SIGN_IN_METHOD="phone";class mo extends os{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function go(e){return Os(e.auth,new mo(e),e.bypassAuthState)}function vo(e){const{auth:t,user:n}=e;return Hi(n,t,"internal-error"),Is(n,new mo(e),e.bypassAuthState)}async function yo(e){const{auth:t,user:n}=e;return Hi(n,t,"internal-error"),Ts(n,new mo(e),e.bypassAuthState)}class xo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s5){this.reject(s5)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(s5){this.reject(s5)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return go;case"linkViaPopup":case"linkViaRedirect":return yo;case"reauthViaPopup":case"reauthViaRedirect":return vo;default:zi(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bo=new Xi(2e3,1e4);class wo extends xo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Hi(e,this.auth,"internal-error"),e}async onExecution(){qi(1===this.filter.length,"Popup operations only handle one event");const e=Ys();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,bo.get())};e()}}wo.currentPopupAction=null;const ko=new Map;class _o extends xo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ko.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Eo(t),r=Ao(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(s5){e=()=>Promise.reject(s5)}ko.set(this.auth._key(),e)}return this.bypassAuthState||ko.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function So(e,t){ko.set(e._key(),t)}function Ao(e){return ja(e._redirectPersistence)}function Eo(e){return Pa("pendingRedirect",e.config.apiKey,e.name)}async function jo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,rr.xZ)(e.app))return Promise.reject(Ui(e));const r=qa(e),i=po(r,t),a=new _o(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Co{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Po(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Po(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(No(e))}saveEventToCache(e){this.cachedEventUids.add(No(e)),this.lastProcessedEventTime=Date.now()}}function No(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Po(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const To=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Io=/^https?/;async function Oo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ra(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Mo(r))return}catch(n){}zi(e,"unauthorized-domain")}function Mo(e){const t=Gi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Io.test(n))return!1;if(To.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Do=new Xi(3e4,6e4);function Ro(){const e=Xs().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Lo(e){return new Promise((t,n)=>{var r,i;function a(){Ro(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ro(),n(Vi(e,"network-request-failed"))},timeout:Do.get()})}if(null!==(r=Xs().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Xs().gapi)||void 0===i||!i.load){const t=Xa("iframefcb");return Xs()[t]=()=>{gapi.load?a():n(Vi(e,"network-request-failed"))},Qa("".concat(Ya.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Fo=null,e})}let Fo=null;const zo=new Xi(5e3,15e3),Vo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uo(e){const t=e.config;Hi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$i(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:rr.MF},i=Bo.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat((0,ar.Am)(r).slice(1))}async function Wo(e){const t=await function(e){return Fo=Fo||Lo(e),Fo}(e),n=Xs().gapi;return Hi(n,e,"internal-error"),t.open({where:document.body,url:Uo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vo,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Vi(e,"network-request-failed"),a=Xs().setTimeout(()=>{r(i)},zo.get());function s(){Xs().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Ho={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ko{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(s5){}}}function qo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=(0,o.A)((0,o.A)({},Ho),{},{width:r.toString(),height:i.toString(),top:a,left:s}),u=(0,ar.ZQ)().toLowerCase();n&&(l=Da(u)?"_blank":n),Oa(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Va(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ar.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new Ko(null);const h=window.open(t||"",l,d);Hi(h,e,"popup-blocked");try{h.focus()}catch(s5){}return new Ko(h)}const Go="__/auth/handler",Yo="emulator/auth/handler",Qo=encodeURIComponent("fac");async function Xo(e,t,n,r,i,a){Hi(e.config.authDomain,e,"auth-domain-config-required"),Hi(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:rr.MF,eventId:i};if(t instanceof bs){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",(0,ar.Im)(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof ws){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Qo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Go);return $i(t,Yo)}(e),"?").concat((0,ar.Am)(o).slice(1)).concat(c)}const $o="webStorageSupport";const Jo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=jo,this._overrideRedirectResult=So}async _openPopup(e,t,n,r){var i;qi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return qo(e,await Xo(e,t,n,Gi(),r),Ys())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Xs().location.href=e}(await Xo(e,t,n,Gi(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(qi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Wo(e),n=new Co(e);return t.register("authEvent",t=>{Hi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($o,{type:$o},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[$o];void 0!==i&&t(!!i),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Oo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ba()||Ma()||Va()}};var Zo="@firebase/auth",el="1.11.0";class tl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Hi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const nl=(0,ar.XA)("authIdTokenMaxAge")||300;let rl=null;function il(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,rr.Sx)();const t=(0,rr.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,rr.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,ar.bD)(r,null!==t&&void 0!==t?t:{}))return e;zi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Jo,persistence:[oo,Bs,qs]}),r=(0,ar.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>nl)return;const r=null===t||void 0===t?void 0:t.token;rl!==r&&(rl=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){(0,ar.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,ar.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=(0,ar.Tj)("auth");return a&&is(n,"http://".concat(a)),n}var al,sl;al={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Vi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ya=al,sl="Browser",(0,rr.om)(new sr.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Hi(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:sl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ua(sl)},c=new Ka(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ja);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,rr.om)(new sr.uA("auth-internal",e=>(e=>new tl(e))(qa(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,rr.KO)(Zo,el,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(sl)),(0,rr.KO)(Zo,el,"esm2020");var ol=n(6667);const ll=!1;const cl=["REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_APP_ID","REACT_APP_FIREBASE_MEASUREMENT_ID"].filter(e=>!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}[e]);if(cl.length>0)throw console.error("Missing required Firebase environment variables:",cl),new Error("Missing required Firebase environment variables: ".concat(cl.join(", ")));const ul={apiKey:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",authDomain:"fundify-3df97.firebaseapp.com",projectId:"fundify-3df97",storageBucket:"fundify-3df97.appspot.com",messagingSenderId:"1054216239783",appId:"1:1054216239783:web:4565883992118c89e57982",measurementId:"G-QRC1F8QF22"};let dl,hl,fl;if(!ul.apiKey||"string"!==typeof ul.apiKey||ul.apiKey.length<20)throw console.error("Invalid or missing Firebase API key. Please ensure REACT_APP_FIREBASE_API_KEY is set in financial/.env or your environment. Current value:",ul.apiKey?"***":"Not set"),new Error("Invalid Firebase API key. Aborting initialization.");if((0,rr.Dk)().length)dl=(0,rr.Sx)(),hl=il(dl),fl=(0,ol.aU)(dl);else try{dl=(0,rr.Wp)(ul),hl=il(dl),fl=(0,ol._A)(dl,{experimentalForceLongPolling:!0,useFetchStreams:!1}),(async()=>{try{if(await async function(){if((0,ar.sr)())return!1;if(!(0,ar.dM)())return!1;if(!(0,ar.zW)())return!1;try{return await(0,ar.eX)()}catch(e){return!1}}()){return ji(dl)}}catch(s5){console.warn("Analytics initialization failed:",s5)}})()}catch(o5){throw o5&&("auth/invalid-api-key"===o5.code||o5.message&&o5.message.includes("invalid-api-key"))&&(console.error("Firebase initialization failed with auth/invalid-api-key. Possible causes:"),console.error("- The API key is incorrect or missing in financial/.env (REACT_APP_FIREBASE_API_KEY)"),console.error("- The dev server was not restarted after updating .env"),console.error("- You are running a different app instance that does not load financial/.env"),console.error("Actions to fix:"),console.error("1) Verify financial/.env contains the correct REACT_APP_FIREBASE_* values."),console.error("2) Restart the dev server so CRA picks up the env changes."),console.error("3) Ensure you are editing the same project that is running at the dev URL.")),console.error("Firebase initialization error",o5),o5}const pl=(0,i.createContext)(null),ml="true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_DEV_AUTH,gl={id:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_DEV_USER_ID||"dev-uid",email:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_DEV_USER_EMAIL||"dev@local",name:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_DEV_USER_NAME||"Developer",hasCompletedSetup:!0,orgSettings:{currency:"USD",fiscalYearStartMonth:1}},vl=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[a,s]=(0,i.useState)(!0),l=Ht();(0,i.useEffect)(()=>{if(ml)return r(gl),s(!1),()=>{};try{if("undefined"!==typeof window&&window.fetch&&!window.fetch.__secureTokenWrapped){const e=window.fetch.bind(window),t=async function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n&&n[0];if("string"===typeof i&&i.includes("securetoken.googleapis.com")){const t=2,r=500;for(let s=0;s<=t;s++)try{return await e(...n)}catch(a){if(s===t)throw a;await new Promise(e=>setTimeout(e,r*(s+1))),console.warn("Retrying securetoken fetch attempt",s+1,i)}}return e(...n)};t.__secureTokenWrapped=!0,t.__origFetch=e,window.fetch=t,window.fetch.__origFetch=e}}catch(s5){console.debug("Failed to install securetoken fetch wrapper",s5)}const e=function(e,t,n,r){return(0,ar.Ku)(e).onAuthStateChanged(t,n,r)}(hl,async e=>{if(!e)return r(null),void s(!1);try{const n=(0,ol.H9)(fl,"orgs",e.uid),i=await(0,ol.getDoc)(n);if(i.exists()){var t;const n=i.data(),a={id:e.uid,email:e.email,name:n.name||e.email,hasCompletedSetup:null===(t=n.hasCompletedSetup)||void 0===t||t,orgSettings:n.orgSettings||{currency:"USD",fiscalYearStartMonth:1}};r(a)}else{const t={name:e.email,isUserProfile:!0,hasCompletedSetup:!0,orgSettings:{currency:"USD",fiscalYearStartMonth:1},createdAt:(new Date).toISOString()};await(0,ol.BN)(n,t),r((0,o.A)({id:e.uid,email:e.email},t))}}catch(s5){console.error("Failed to load user profile",s5),r({id:e.uid,email:e.email,name:e.email,hasCompletedSetup:!0,orgSettings:{currency:"USD",fiscalYearStartMonth:1}})}finally{s(!1)}});return()=>{try{if("undefined"!==typeof window&&window.fetch&&window.fetch.__origFetch)try{window.fetch=window.fetch.__origFetch}catch(s5){}}catch(s5){}try{e()}catch(s5){}}},[]);const c=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(ml)return r(gl),{success:!0};try{const n=await function(e,t,n){return(0,rr.xZ)(e.app)?Promise.reject(Ui(e)):Ms((0,ar.Ku)(e),xs.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Rs(e),t})}(hl,e,t);return n.user&&!n.user.emailVerified?{success:!1,error:"Please verify your email before logging in. Check your inbox for the verification link."}:{success:!0}}catch(o5){console.error("Login error:",o5);let i="Login failed. Please try again.";switch(o5.code){case"auth/user-not-found":case"auth/wrong-password":i="Invalid email or password.";break;case"auth/too-many-requests":i="Too many failed login attempts. Please try again later or reset your password.";break;case"auth/network-request-failed":if(n<2)return await new Promise(e=>setTimeout(e,1e3*(n+1))),c(e,t,n+1);i="Network error. Please check your connection and try again.";break;case"auth/api-key-not-valid":case"auth/invalid-api-key":i="Configuration error. Please contact support.",console.error("Firebase API key issue. Check your .env file and Firebase configuration.");break;default:i=o5.message||"An unexpected error occurred during login."}return{success:!1,error:i,code:o5.code}}},u={user:n,loading:a,login:c,register:async function(e){let{name:t,email:n,password:i}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ml)return r((0,o.A)((0,o.A)({},gl),{},{name:t||gl.name,email:n||gl.email,hasCompletedSetup:!1})),{success:!0};try{const e=await async function(e,t,n){if((0,rr.xZ)(e.app))return Promise.reject(Ui(e));const r=qa(e),i=ns(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Es,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Rs(e),t}),s=await js._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}(hl,n,i),r=e.user.uid,s={name:t||n,isUserProfile:!0,hasCompletedSetup:!1,orgSettings:{currency:"USD",fiscalYearStartMonth:1},createdAt:(new Date).toISOString()},l=(0,o.A)((0,o.A)({},s),a.profile||{});return!1!==a.createProfile&&await(0,ol.BN)((0,ol.H9)(fl,"orgs",r),l),{success:!0,user:{id:r,email:e.user.email}}}catch(o5){console.error("Registration error:",o5);return{success:!1,error:"auth/api-key-not-valid"===(null===o5||void 0===o5?void 0:o5.code)||((null===o5||void 0===o5?void 0:o5.message)||"").toLowerCase().includes("api key not valid")?"Firebase API key invalid or missing. Copy .env.local.example to .env.local, set REACT_APP_FIREBASE_API_KEY and other values to your Firebase project settings, then restart the dev server.":o5.message||"Registration failed"}}},logout:async()=>{try{if(ml)return r(null),void l("/login");await function(e){return(0,ar.Ku)(e).signOut()}(hl),r(null),l("/login")}catch(s5){console.error("Sign out failed",s5)}},updateUser:async e=>{try{if(null===n||void 0===n||!n.id)return void r(t=>(0,o.A)((0,o.A)({},t||{}),e||{}));const t=(0,ol.H9)(fl,"orgs",n.id);await(0,ol.mZ)(t,e),r(t=>(0,o.A)((0,o.A)({},t||{}),e||{}))}catch(s5){console.error("Failed to update user",s5),r(t=>(0,o.A)((0,o.A)({},t||{}),e||{}))}},resetPassword:async e=>{try{return ml||await async function(e,t,n){const r=qa(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Ds(r,i,n),await ns(r,i,"getOobCode",ds,"EMAIL_PASSWORD_PROVIDER")}(hl,e),{success:!0}}catch(o5){console.error("Password reset error:",o5);return{success:!1,error:(null===o5||void 0===o5?void 0:o5.message)||"Failed to send password reset email"}}},isAuthenticated:!!n};return(0,Re.jsx)(pl.Provider,{value:u,children:t})},yl=()=>{const e=(0,i.useContext)(pl);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},xl=(0,i.createContext)(null);function bl(e){let{children:t}=e;const{user:n}=yl(),[r,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!0),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)("USD"),[m,g]=(0,i.useState)("viewer");let v=!1;const y=e=>"string"===typeof e&&e.includes("@"),x=e=>"string"===typeof e&&/^[A-Za-z0-9_-]{8,}$/.test(e)&&e.length>8,b=(e,t)=>e&&"string"===typeof e&&!y(e)&&!x(e)&&e.trim().length?e:t&&"string"===typeof t&&!y(t)&&!x(t)&&t.trim().length?t:"Organization";(0,i.useEffect)(()=>{if(null===n||void 0===n||!n.id)return a([]),l(null),u(!1),h(null),void p("USD");let e=null;return(async()=>{try{u(!0);const t=(0,ol.H9)(fl,"orgs",n.id),r=await(0,ol.getDoc)(t),i=[];if(r.exists()){const e=r.data();null!==e&&void 0!==e&&e.isUserProfile||i.push((0,o.A)({id:r.id},e))}try{const e=(0,ol.P)((0,ol.rJ)(fl,"orgs"),(0,ol._M)("members","array-contains",n.id)),t=await(0,ol.GG)(e);console.log("OrgContext: Found member orgs:",t.docs.length),t.forEach(e=>{i.find(t=>t.id===e.id)||(console.log("OrgContext: Adding member org:",e.id,e.data().name),i.push((0,o.A)({id:e.id},e.data())))})}catch(s5){console.debug("Member orgs query failed or not permitted",s5.message||s5)}a(i),l(e=>{var t;return e||(null===(t=i[0])||void 0===t?void 0:t.id)||n.id}),e=(0,ol.aQ)((0,ol.H9)(fl,"orgs",n.id),e=>{if(!e.exists())return;const t=e.data();null!==t&&void 0!==t&&t.isUserProfile||a(t=>{const n=t.find(t=>t.id===e.id);return n?t.map(t=>t.id===e.id?(0,o.A)({id:e.id},e.data()):t):[(0,o.A)({id:e.id},e.data()),...t]})})}catch(t){console.error("Failed to load orgs for user",t)}finally{u(!1)}})(),()=>{e&&e()}},[null===n||void 0===n?void 0:n.id]);(0,i.useEffect)(()=>{if(!s)return void h(null);const e=(0,ol.H9)(fl,"orgs",s),t=(0,ol.aQ)(e,e=>{var t;if(!e.exists())return;const r=(0,o.A)({id:e.id},e.data());h(r);const i=(null===r||void 0===r||null===(t=r.orgSettings)||void 0===t?void 0:t.currency)||"USD";p(i);try{localStorage.setItem("finTrackCurrency",i)}catch(s5){}a(e=>{const t=e.find(e=>e.id===r.id);return t?e.map(e=>e.id===r.id?r:e):[r,...e]});const s=(Array.isArray(r.memberships)?r.memberships:[]).find(e=>e.userId===(null===n||void 0===n?void 0:n.id));let l=(null===s||void 0===s?void 0:s.role)||(r.id===(null===n||void 0===n?void 0:n.id)?"admin":"viewer");"finance"===l&&(l="financial_officer"),g(l)},e=>{console.error("Active org subscription failed",e)});return()=>t()},[s]),(0,i.useEffect)(()=>{if(null===n||void 0===n||!n.id||null===d||void 0===d||!d.id)return;if(d.id!==n.id)return;(Array.isArray(d.memberships)?d.memberships:[]).some(e=>e.userId===n.id)||(async()=>{try{const e=(0,ol.H9)(fl,"orgs",d.id);await(0,ol.mZ)(e,{memberships:(0,ol.hq)({userId:n.id,email:n.email||"",role:"admin",addedAt:(new Date).toISOString()}),members:(0,ol.hq)(n.id)})}catch(s5){console.debug("ensureSelfMembership failed",(null===s5||void 0===s5?void 0:s5.message)||s5)}})()},[null===n||void 0===n?void 0:n.id,null===d||void 0===d?void 0:d.id]);const w={orgs:r,activeOrgId:s,switchOrg:e=>{l(e)},loading:c,activeOrg:d,currency:f,role:m,inviteMember:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"viewer";if(!s)return{success:!1,error:"No active organization"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return{success:!1,error:"Please enter a valid email address"};const r=Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2),i="finance"===t?"financial_officer":t,a={id:r.slice(0,12),email:String(e).toLowerCase().trim(),role:i,token:r,status:"pending",invitedBy:(null===n||void 0===n?void 0:n.id)||"system",createdAt:(new Date).toISOString()};try{const e=(0,ol.H9)(fl,"orgs",s),t=await(0,ol.getDoc)(e),r=t.exists()?t.data():{},i=(Array.isArray(r.members)&&r.members,(Array.isArray(r.memberships)?r.memberships:[]).find(e=>{var t;return(null===(t=e.email)||void 0===t?void 0:t.toLowerCase())===a.email}));if(i)return{success:!1,error:"This user is already a member with the role: ".concat(i.role)};const l=Array.isArray(r.invites)?r.invites:[];if(l.find(e=>e.email===a.email))return{success:!1,error:"An invitation has already been sent to this email address"};const c=[a,...l];await(0,ol.mZ)(e,{invites:c});const u="".concat(window.location.origin,"/invite/").concat(s,"/").concat(a.token),d="".concat(window.location.origin,"/app/funders");console.log("Invitation created - Link:",u,"OrgId:",s,"Token:",a.token);let h=!1,f=null;try{const e=await new Promise(e=>{if("undefined"!==typeof window&&window.emailjs)return void e(window.emailjs);if(v)return void setTimeout(()=>e(window.emailjs),100);const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js",t.async=!0,t.onload=()=>{v=!0,e(window.emailjs)},t.onerror=()=>e(null),document.head.appendChild(t)});e&&"function"===typeof e.init&&(e.init("10LCU7GMZF8wmux-4"),await e.send("service_rgxjcwe","template_o0n5bqj",{to_email:a.email,org_name:b(null===r||void 0===r?void 0:r.name,s),role:a.role,link:u,funders_link:d,invited_by:(null===n||void 0===n?void 0:n.email)||"an admin",support_email:(null===n||void 0===n?void 0:n.email)||"support@example.com"}),h=!0,console.log("EmailJS invitation sent successfully to:",a.email))}catch(o){f=(null===o||void 0===o?void 0:o.message)||"Failed to send email",console.error("EmailJS send error:",f)}if(!h&&"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_USE_FIREBASE_TRIGGER_EMAIL)try{const e={to:[a.email],message:{subject:"You're invited to join ".concat(b(null===r||void 0===r?void 0:r.name,s)),text:"You've been invited by ".concat((null===n||void 0===n?void 0:n.email)||"an admin"," to join ").concat(b(null===r||void 0===r?void 0:r.name,s)," as ").concat(a.role,".\n\nClick here to accept: ").concat(u,"\n\nIf you didn't expect this invitation, you can safely ignore this email."),html:'\n                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #e2e8f0; border-radius: 8px;">\n                  <h2 style="color: #1e40af;">You\'re Invited!</h2>\n                  <p><strong>'.concat((null===n||void 0===n?void 0:n.email)||"An admin","</strong> has invited you to join <strong>").concat(b(null===r||void 0===r?void 0:r.name,s),"</strong> as <strong>").concat(a.role,'</strong>.</p>\n                  <p>Click the button below to accept the invitation and get started:</p>\n                  <div style="margin: 25px 0;">\n                    <a href="').concat(u,'" style="display: inline-block; padding: 10px 20px; background-color: #2563eb; color: white; text-decoration: none; border-radius: 4px; font-weight: bold;">\n                      Accept Invitation\n                    </a>\n                  </div>\n                  <p style="margin:0 0 12px;">If you already have an account, you can view funders and details after signing in here: <a href="').concat(d,'" style="color:#0ea5e9;text-decoration:underline;">Open Funders</a></p>\n                  <p>Or copy and paste this link into your browser:</p>\n                  <p style="word-break: break-all; color: #2563eb;">').concat(u,'</p>\n                  <p style="margin-top: 30px; font-size: 12px; color: #6b7280;">\n                    If you didn\'t expect this invitation, you can safely ignore this email.\n                  </p>\n                </div>\n              ')}};await(0,ol.gS)((0,ol.rJ)(fl,"mail"),e),h=!0,console.log("Firebase trigger email sent successfully to:",a.email)}catch(o){f=f||(null===o||void 0===o?void 0:o.message)||"Failed to send fallback email",console.error("Firebase trigger email error:",o)}return h?{success:!0,invite:a,link:u,emailSent:!0}:{success:!0,invite:a,link:u,warning:"Email could not be sent. Please share this invitation link manually:",manualCopyText:"You've been invited to join ".concat(b(null===r||void 0===r?void 0:r.name,s)," as ").concat(a.role,". Use this link to accept: ").concat(u)}}catch(s5){return console.error("inviteMember failed",s5),{success:!1,error:(null===s5||void 0===s5?void 0:s5.message)||"Failed to invite member"}}},revokeInvite:async function(e){if(!s)return{success:!1};try{const t=(0,ol.H9)(fl,"orgs",s),n=await(0,ol.getDoc)(t),r=(n.exists()&&Array.isArray(n.data().invites)?n.data().invites:[]).filter(t=>t.id!==e&&t.token!==e);return await(0,ol.mZ)(t,{invites:r}),{success:!0}}catch(s5){return{success:!1,error:(null===s5||void 0===s5?void 0:s5.message)||"Failed to revoke invite"}}},updateMemberRole:async function(e,t){if(!s)return{success:!1};try{var r;const i=(0,ol.H9)(fl,"orgs",s),a=await(0,ol.getDoc)(i),l=a.exists()?a.data():{},c=Array.isArray(l.memberships)?l.memberships:[],u=(null===(r=c.find(t=>t.userId===e))||void 0===r?void 0:r.role)||null,d=c.map(n=>n.userId===e?(0,o.A)((0,o.A)({},n),{},{role:t}):n),h={id:Math.random().toString(36).slice(2,10),userId:e,previousRole:u,newRole:t,by:(null===n||void 0===n?void 0:n.id)||"system",byEmail:(null===n||void 0===n?void 0:n.email)||null,at:(new Date).toISOString()},f=[h,...Array.isArray(l.roleHistory)?l.roleHistory:[]];return await(0,ol.mZ)(i,{memberships:d,roleHistory:f}),{success:!0}}catch(s5){return{success:!1,error:(null===s5||void 0===s5?void 0:s5.message)||"Failed to update role"}}},restoreMemberRole:async function(e,t){if(!s)return{success:!1};try{var r;const i=(0,ol.H9)(fl,"orgs",s),a=await(0,ol.getDoc)(i);if(!a.exists())return{success:!1,error:"Org not found"};const l=a.data(),c=Array.isArray(l.roleHistory)?l.roleHistory:[],u=c.find(n=>n.id===t&&n.userId===e);if(!u)return{success:!1,error:"History entry not found"};const d=u.previousRole||"viewer",h=(Array.isArray(l.memberships)?l.memberships:[]).map(t=>t.userId===e?(0,o.A)((0,o.A)({},t),{},{role:d}):t),f=[{id:Math.random().toString(36).slice(2,10),userId:e,previousRole:(null===(r=l.memberships.find(t=>t.userId===e))||void 0===r?void 0:r.role)||null,newRole:d,by:(null===n||void 0===n?void 0:n.id)||"system",byEmail:(null===n||void 0===n?void 0:n.email)||null,at:(new Date).toISOString(),restoredFrom:t},...c];return await(0,ol.mZ)(i,{memberships:h,roleHistory:f}),{success:!0}}catch(s5){return{success:!1,error:(null===s5||void 0===s5?void 0:s5.message)||"Failed to restore role"}}},removeMember:async function(e){if(!s)return{success:!1};try{const t=(0,ol.H9)(fl,"orgs",s),n=await(0,ol.getDoc)(t),r=(n.exists()&&Array.isArray(n.data().memberships)?n.data().memberships:[]).filter(t=>t.userId!==e),i=(n.data().members||[]).filter(t=>t!==e);return await(0,ol.mZ)(t,{memberships:r,members:i}),{success:!0}}catch(s5){return{success:!1,error:(null===s5||void 0===s5?void 0:s5.message)||"Failed to remove member"}}}};return(0,Re.jsx)(xl.Provider,{value:w,children:t})}function wl(){const e=(0,i.useContext)(xl);if(!e)throw new Error("useOrg must be used within an OrgProvider");return e}const kl=(0,i.createContext)({theme:"light",isDark:!1,setTheme:()=>{},toggleTheme:()=>{}});function _l(e){let{children:t}=e;const[n,r]=(0,i.useState)(()=>{if("undefined"===typeof window)return"light";try{return localStorage.getItem("theme")||"light"}catch(e){return"light"}}),a="dark"===n;(0,i.useEffect)(()=>{if("undefined"===typeof document)return;const e=document.documentElement;a?e.classList.add("dark"):e.classList.remove("dark");try{localStorage.setItem("theme",n)}catch(t){}},[n,a]);const s={theme:n,isDark:a,setTheme:r,toggleTheme:()=>r(e=>"dark"===e?"light":"dark")};return(0,Re.jsx)(kl.Provider,{value:s,children:t})}function Sl(){const e=(0,i.useContext)(kl);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}function Al(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Number(e||0);try{const e=t||"undefined"!==typeof localStorage&&localStorage.getItem("finTrackCurrency")||null;return e?new Intl.NumberFormat(void 0,{style:"currency",currency:e,maximumFractionDigits:0,minimumFractionDigits:0}).format(Math.round(n)):new Intl.NumberFormat(void 0,{maximumFractionDigits:0,minimumFractionDigits:0}).format(Math.round(n))}catch(s5){return Math.round(n).toString()}}const El=(0,i.createContext)(null),jl="finTrackFinanceData";function Cl(){return Math.random().toString(36).slice(2,10)}const Nl=e=>"string"===typeof e&&e.includes("@"),Pl=e=>"string"===typeof e&&/^[A-Za-z0-9_-]{8,}$/.test(e)&&e.length>8,Tl=(e,t)=>e&&"string"===typeof e&&!Nl(e)&&!Pl(e)&&e.trim().length?e:t&&"string"===typeof t&&!Nl(t)&&!Pl(t)&&t.trim().length?t:"Organization";function Il(e){let{children:t}=e;const{user:n}=yl(),{activeOrgId:r,currency:a,role:s,activeOrg:l}=wl(),[c,u]=(0,i.useState)({funders:[],projects:[],incomes:[],expenses:[],logs:[],invites:[]});(0,i.useEffect)(()=>{if(!r)try{const e=localStorage.getItem(jl);if(e){const t=JSON.parse(e);t&&"object"===typeof t&&u(e=>({funders:Array.isArray(t.funders)?t.funders:e.funders||[],projects:Array.isArray(t.projects)?t.projects:e.projects||[],incomes:Array.isArray(t.incomes)?t.incomes:e.incomes||[],expenses:Array.isArray(t.expenses)?t.expenses:e.expenses||[],logs:Array.isArray(t.logs)?t.logs:e.logs||[],invites:Array.isArray(t.invites)?t.invites:e.invites||[]}))}}catch(s5){console.error("Failed to load finance data",s5)}},[r]),(0,i.useEffect)(()=>{try{localStorage.setItem(jl,JSON.stringify(c))}catch(s5){console.error("Failed to persist finance data",s5)}},[c]),(0,i.useEffect)(()=>{if(!r)return;u({funders:[],projects:[],incomes:[],expenses:[],logs:[]});const e=(0,ol.H9)(fl,"orgs",r),t=e=>{if(null==e)return e;if("object"===typeof e){if("id"in e&&"string"===typeof e.id)return e.id;if("path"in e&&"string"===typeof e.path)return e.path}return e},n=e=>Array.isArray(e)?e.map(e=>{if(!e||"object"!==typeof e)return e;const n=(0,o.A)({},e);return["projectId","walletId","funderId"].forEach(e=>{e in n&&(n[e]=t(n[e]))}),"id"in n&&(n.id=t(n.id)),n}):[],i=(0,ol.aQ)(e,e=>{if(!e.exists())return;const t=e.data();u({funders:Array.isArray(t.funders)?n(t.funders):[],projects:n(t.projects||[]),incomes:n(t.incomes||[]),expenses:n(t.expenses||[]),logs:n(t.logs||[]),invites:Array.isArray(t.invites)?n(t.invites):[]})},e=>{console.error("Realtime finance snapshot failed",e)});return()=>i()},[r]);const d=async(e,t)=>{if(!r)return!0;try{const n=(0,ol.H9)(fl,"orgs",r);return await(0,ol.mZ)(n,{[e]:t}),!0}catch(s5){return console.error("Failed to sync finance data to Firestore",s5),!1}};let h=!1;const f=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{const i=(e||[]).filter(Boolean);if(!i.length)return;const a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_EMAIL_FUNCTION_URL;if(a)try{return void await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:i,subject:t,html:n,vars:r})})}catch(s5){}if("true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_USE_FIREBASE_TRIGGER_EMAIL)try{const e=n.replace(/<[^>]+>/g," ");return void await(0,ol.gS)((0,ol.rJ)(fl,"mail"),{to:i,message:{subject:t,text:e,html:n,vars:r}})}catch(s5){}{const e=await new Promise(e=>{if("undefined"!==typeof window&&window.emailjs)return void e(window.emailjs);if(h)return void setTimeout(()=>e(window.emailjs),100);const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js",t.async=!0,t.onload=()=>{h=!0,e(window.emailjs)},t.onerror=()=>e(null),document.head.appendChild(t)});if(e&&"function"===typeof e.init){e.init("10LCU7GMZF8wmux-4"),console.debug("EmailJS: sending template","template_o0n5bqj","service","service_rgxjcwe","to",i);const a=(0,o.A)({invite_link:(null===r||void 0===r?void 0:r.invite_link)||(null===r||void 0===r?void 0:r.link)||void 0,funders_link:(null===r||void 0===r?void 0:r.funders_link)||(null===r||void 0===r?void 0:r.fundersLink)||"".concat(window.location.origin,"/app/funders"),org_name:(null===r||void 0===r?void 0:r.org_name)||(null===r||void 0===r?void 0:r.orgName)||(null===r||void 0===r?void 0:r.organization)||void 0,invite_role:(null===r||void 0===r?void 0:r.invite_role)||(null===r||void 0===r?void 0:r.role)||void 0,invite_name:(null===r||void 0===r?void 0:r.invite_name)||(null===r||void 0===r?void 0:r.name)||void 0,invited_by:(null===r||void 0===r?void 0:r.invited_by)||(null===r||void 0===r?void 0:r.inviter)||(null===r||void 0===r?void 0:r.from)||void 0,support_email:(null===r||void 0===r?void 0:r.support_email)||(null===r||void 0===r?void 0:r.supportEmail)||void 0,message_html:n,subject:t},r);console.debug("EmailJS templateVars:",a);const s=await Promise.all(i.map(t=>e.send("service_rgxjcwe","template_o0n5bqj",(0,o.A)({to_email:t},a))));return console.debug("EmailJS send results:",s),!0}}}catch(s5){}},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i={id:Cl(),action:e,refId:t||null,payload:r||null,by:(null===n||void 0===n?void 0:n.id)||"anonymous",byName:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.email)||(null===n||void 0===n?void 0:n.id)||"anonymous",byEmail:(null===n||void 0===n?void 0:n.email)||null,byRole:s||null,at:(new Date).toISOString()};return u(e=>{const t=(0,o.A)((0,o.A)({},e),{},{logs:[i,...e.logs||[]]});return d("logs",t.logs),t}),i},m=(0,i.useMemo)(()=>{const e=c.incomes.filter(e=>"posted"===e.status).reduce((e,t)=>e+t.amount,0),t=c.expenses.filter(e=>"posted"===e.status).reduce((e,t)=>e+t.amount,0);return{totalIncome:e,totalExpenses:t,totalAvailable:e-t}},[c.incomes,c.expenses]),g=((0,i.useMemo)(()=>{const e=new Map;return c.projects.forEach(t=>{e.set(t.id,{project:t,income:0,expenses:0,available:0})}),c.incomes.filter(e=>"posted"===e.status).forEach(t=>{const n=e.get(t.projectId);n&&(n.income+=t.amount)}),c.expenses.filter(e=>"posted"===e.status&&"project"===e.scope).forEach(t=>{const n=e.get(t.projectId);n&&(n.expenses+=t.amount)}),e.forEach(e=>{e.available=e.income-e.expenses}),Array.from(e.values())},[c.projects,c.incomes,c.expenses]),(0,i.useMemo)(()=>{const e=new Map;return c.funders.forEach(t=>{e.set(t.id,{funder:t,income:0,expenses:0,available:0,allocation:0})}),c.projects.forEach(t=>{const n=e.get(t.funderId);n&&(n.allocation+=Number(t.allocation||0))}),c.incomes.filter(e=>"posted"===e.status).forEach(t=>{const n=c.projects.find(e=>e.id===t.projectId),r=t.walletId||(null===n||void 0===n?void 0:n.funderId)||"ORG",i=e.get(r);i&&(i.income+=t.amount)}),c.expenses.filter(e=>"posted"===e.status).forEach(t=>{const n=c.projects.find(e=>e.id===t.projectId),r=t.walletId||t.projectId&&(null===n||void 0===n?void 0:n.funderId)||"ORG",i=e.get(r);i&&(i.expenses+=t.amount)}),e.forEach(e=>{e.available=(e.income||0)-(e.expenses||0)}),Array.from(e.values())},[c.funders,c.projects,c.incomes,c.expenses])),v=((0,i.useMemo)(()=>{const e=new Map;return c.funders.forEach(t=>e.set(t.id,{id:t.id,name:t.name,type:"funder",income:0,expenses:0,balance:0})),e.set("ORG",{id:"ORG",name:"Organization",type:"org",income:0,expenses:0,balance:0}),c.incomes.filter(e=>"posted"===e.status).forEach(t=>{var n;const r=t.walletId||(null===(n=c.projects.find(e=>e.id===t.projectId))||void 0===n?void 0:n.funderId)||"ORG",i=c.projects.find(e=>e.id===t.projectId),a=e.get(r)||{id:r,name:(null===i||void 0===i?void 0:i.name)||r,type:"project",income:0,expenses:0,balance:0};a.income=(a.income||0)+t.amount,e.set(r,a)}),c.expenses.filter(e=>"posted"===e.status).forEach(t=>{var n;const r=t.walletId||t.projectId&&(null===(n=c.projects.find(e=>e.id===t.projectId))||void 0===n?void 0:n.funderId)||"ORG",i=e.get(r)||{id:r,name:r,type:"unknown",income:0,expenses:0,balance:0};i.expenses=(i.expenses||0)+t.amount,e.set(r,i)}),e.forEach(e=>{e.balance=(e.income||0)-(e.expenses||0)}),Array.from(e.values())},[c.funders,c.projects,c.incomes,c.expenses]),(0,i.useMemo)(()=>(c.projects||[]).reduce((e,t)=>e+Number(t.allocation||0),0),[c.projects])),y=((0,i.useMemo)(()=>{const e=new Date,t=new Date;t.setDate(e.getDate()-365);const n=[],r=new Date(t);r.setHours(0,0,0,0);const i=new Date;for(i.setHours(0,0,0,0);r<=i;)n.push(r.toISOString().slice(0,10)),r.setDate(r.getDate()+1);const a=new Map;(c.incomes||[]).filter(e=>e&&"posted"===e.status).forEach(e=>{const t=(e.date?new Date(e.date):new Date).toISOString().slice(0,10);a.set(t,(a.get(t)||0)+Number(e.amount||0))});const s=new Map;(c.expenses||[]).filter(e=>e&&"posted"===e.status).forEach(e=>{const t=(e.date?new Date(e.date):new Date).toISOString().slice(0,10);s.set(t,(s.get(t)||0)+Number(e.amount||0))});let o=0,l=0;const u=[],d=[],h=[];n.forEach(e=>{o+=a.get(e)||0,l+=s.get(e)||0,u.push({date:e,value:o}),d.push({date:e,value:l}),h.push({date:e,value:o-l})});const f=n.map(e=>({date:e,value:v}));return{"Total Funds":u,"Total Expenses":d,"Net Available":h,Budget:f}},[c.incomes,c.expenses,c.projects,v]),(0,i.useMemo)(()=>[{name:"Total Funds",raw:m.totalIncome,value:Al(m.totalIncome,a),variant:"funds"},{name:"Total Expenses",raw:m.totalExpenses,value:Al(m.totalExpenses,a),variant:"expenses"},{name:"Net Available",raw:m.totalAvailable,value:Al(m.totalAvailable,a),variant:"balance"},{name:"Budget",raw:v,value:Al(v,a),variant:"budget"}],[m,v,a])),x=(0,i.useMemo)(()=>{const e=Array.isArray(g)?g.map(e=>(0,o.A)({},e)):[],t="available",n=e.length?Math.max(...e.map(e=>Math.abs(Number(e[t]||0))),1):1;return{rows:e,metric:t,maxVal:n}},[g]);return(0,Re.jsx)(El.Provider,{value:(0,o.A)((0,o.A)({},c),{},{addFunder:async e=>{const t=(0,o.A)((0,o.A)({id:"funder-".concat(Date.now())},e),{},{createdAt:(new Date).toISOString(),status:"active"}),n=[...c.funders,t];return u(e=>(0,o.A)((0,o.A)({},e),{},{funders:n})),await d("funders",n),t.id},sendInvitation:async e=>{let{email:t,role:i,funderId:a,funderName:s}=e;if(!r)return console.error("No active organization selected"),!1;if(!t||!a)return console.error("Missing required fields for invitation"),!1;const c=Cl()+Date.now().toString(36),u=(0,ol.H9)(fl,"orgs",r);try{var d,h,m;const e=await(0,ol.getDoc)(u);let v={};if(e.exists())v=e.data()||{};else{if(r!==(null===n||void 0===n?void 0:n.id))throw console.error("FinanceContext: organization not found at",u.path,"activeOrgId:",r,"user:",null===n||void 0===n?void 0:n.id),new Error("Organization not found");{const e={name:(null===n||void 0===n?void 0:n.displayName)||(null!==n&&void 0!==n&&n.email?n.email.split("@")[0]:r),owner:(null===n||void 0===n?void 0:n.id)||r,createdAt:(new Date).toISOString(),memberships:[{userId:(null===n||void 0===n?void 0:n.id)||r,email:(null===n||void 0===n?void 0:n.email)||"",role:"admin",addedAt:(new Date).toISOString()}],members:[(null===n||void 0===n?void 0:n.id)||r],invites:[]};try{await(0,ol.BN)(u,e),console.debug("FinanceContext: created missing org doc for owner",r),v=e}catch(g){throw console.error("FinanceContext: failed to auto-create org doc",g),new Error("Organization not found")}}}const y=Array.isArray(v.invites)?v.invites:[];let x=(null===(d=v)||void 0===d?void 0:d.name)||null;if((!x||Nl(x)||Pl(x))&&(x=(null===n||void 0===n?void 0:n.displayName)||(null!==n&&void 0!==n&&n.email?n.email.split("@")[0]:null),x))try{await(0,ol.mZ)(u,{name:x})}catch(s5){console.debug("Failed to persist derived org name",(null===s5||void 0===s5?void 0:s5.message)||s5)}const b={id:Cl(),token:c,name:s||"",email:t||"",organization:Tl(x||(null===(h=v)||void 0===h?void 0:h.name)||(null===l||void 0===l?void 0:l.name),r),projectId:a||null,role:i||"viewer",message:"",createdAt:(new Date).toISOString(),expiresAt:new Date(Date.now()+6048e5).toISOString(),status:"pending",invitedBy:(null===n||void 0===n?void 0:n.id)||"system"},w=[...y,b];await(0,ol.mZ)(u,{invites:w});try{await(0,ol.BN)((0,ol.H9)(fl,"invites",c),(0,o.A)((0,o.A)({},b),{},{orgId:r}))}catch(s5){console.warn("Failed to write top-level invite doc",s5)}const k="".concat(window.location.origin,"/invite/").concat(r,"/").concat(c),_="".concat(window.location.origin,"/app/funders/").concat(a),S="".concat(Tl((null===(m=v)||void 0===m?void 0:m.name)||(null===l||void 0===l?void 0:l.name),r)," invitation to join as ").concat(b.role),A='<div style="font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#0f172a;line-height:1.5;">\n        <h3 style="margin:0 0 8px;">You\'re invited to join '.concat(b.organization,'</h3>\n        <p style="margin:0 0 12px;">').concat(b.message||"Hello ".concat(b.name||"",",\n\nYou've been invited to join ").concat(b.organization," as a ").concat(b.role,". Click the button below to accept the invitation and complete your signup."),'</p>\n        <p style="margin:0 0 12px;"> <a href="').concat(k,'" style="background:#0ea5e9;color:#fff;padding:10px 14px;border-radius:8px;text-decoration:none;display:inline-block;">Accept invitation</a></p>\n        <p style="margin:0 0 12px;">If you already have an account, you can view funders and details after signing in here: <a href="').concat(_,'" style="color:#0ea5e9;text-decoration:underline;">Open Funders</a></p>\n        <p style="margin:0;color:#6b7280;font-size:13px;">If the button doesn\'t work, copy and paste the following link into your browser:</p>\n        <p style="margin:8px 0 0;color:#6b7280;font-size:13px;word-break:break-all;">').concat(k,"</p>\n      </div>");try{await f([b.email],S,A,{org_name:b.organization,invite_link:k,funders_link:_,invite_role:b.role,invite_name:b.name,invited_by:(null===n||void 0===n?void 0:n.email)||""})}catch(s5){console.warn("Failed to send invite email",s5)}return p("funder_invited",b.id,b),!0}catch(s5){return console.error("Error sending invitation:",s5),!1}},appendLog:p,inviteFunder:async e=>{if(!r)throw new Error("No active organization selected");const t=Cl()+Date.now().toString(36),i=(0,ol.H9)(fl,"orgs",r),a=await(0,ol.getDoc)(i);if(!a.exists())throw new Error("Organization not found");const s=a.data(),o=Array.isArray(s.invites)?s.invites:[];let c=(null===s||void 0===s?void 0:s.name)||null;if((!c||Nl(c)||Pl(c))&&(c=(null===n||void 0===n?void 0:n.displayName)||(null!==n&&void 0!==n&&n.email?n.email.split("@")[0]:null),c))try{await(0,ol.mZ)(i,{name:c})}catch(s5){console.debug("Failed to persist derived org name",(null===s5||void 0===s5?void 0:s5.message)||s5)}const u={id:Cl(),token:t,name:e.name||"",email:e.email||"",organization:Tl(c||(null===s||void 0===s?void 0:s.name)||(null===l||void 0===l?void 0:l.name),r),projectId:e.projectId||null,role:e.role||"funder",message:e.message||"",createdAt:(new Date).toISOString(),invitedBy:(null===n||void 0===n?void 0:n.id)||"system"},d=[...o,u];await(0,ol.mZ)(i,{invites:d});const h="".concat(window.location.origin,"/invite/").concat(r,"/").concat(t),m="".concat(window.location.origin,"/app/funders"),g="".concat(Tl((null===s||void 0===s?void 0:s.name)||(null===l||void 0===l?void 0:l.name),r)," invitation to join as ").concat(u.role),v='<div style="font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#0f172a;line-height:1.5;">\n      <h3 style="margin:0 0 8px;">You\'re invited to join '.concat(u.organization,'</h3>\n      <p style="margin:0 0 12px;">').concat(u.message||"Hello ".concat(u.name||"",",\n\nYou've been invited to join ").concat(u.organization," as a ").concat(u.role,". Click the button below to accept the invitation and complete your signup."),'</p>\n      <p style="margin:0 0 12px;"><a href="').concat(h,'" style="background:#0ea5e9;color:#fff;padding:10px 14px;border-radius:8px;text-decoration:none;display:inline-block;">Accept invitation</a></p>\n      <p style="margin:0 0 12px;">If you already have an account, you can view funders and details after signing in here: <a href="').concat(m,'" style="color:#0ea5e9;text-decoration:underline;">Open Funders</a></p>\n      <p style="margin:0;color:#6b7280;font-size:13px;">If the button doesn\'t work, copy and paste the following link into your browser:</p>\n      <p style="margin:8px 0 0;color:#6b7280;font-size:13px;word-break:break-all;">').concat(h,"</p>\n    </div>");try{await f([u.email],g,v,{org_name:u.organization,invite_link:h,funders_link:m,invite_role:u.role,invite_name:u.name})}catch(s5){console.warn("Failed to send invite email",s5)}return p("funder_invited",u.id,u),u},logs:c.logs||[],stats:y,fundingRows:x,byFunder:g,byProject:c.byProject||[],seriesMap:c.seriesMap||{}}),children:t})}function Ol(){const e=(0,i.useContext)(El);if(!e)throw new Error("useFinance must be used within a FinanceProvider");return e}const Ml=["title","titleId"];function Dl(e,t){let{title:n,titleId:r}=e,a=ze(e,Ml);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Rl=i.forwardRef(Dl),Ll=["title","titleId"];function Fl(e,t){let{title:n,titleId:r}=e,a=ze(e,Ll);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const zl=i.forwardRef(Fl),Vl=["title","titleId"];function Bl(e,t){let{title:n,titleId:r}=e,a=ze(e,Vl);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Ul=i.forwardRef(Bl),Wl=["title","titleId"];function Hl(e,t){let{title:n,titleId:r}=e,a=ze(e,Wl);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const Kl=i.forwardRef(Hl),ql=["title","titleId"];function Gl(e,t){let{title:n,titleId:r}=e,a=ze(e,ql);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Yl=i.forwardRef(Gl),Ql=["title","titleId"];function Xl(e,t){let{title:n,titleId:r}=e,a=ze(e,Ql);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const $l=i.forwardRef(Xl),Jl=["title","titleId"];function Zl(e,t){let{title:n,titleId:r}=e,a=ze(e,Jl);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const ec=i.forwardRef(Zl),tc=["title","titleId"];function nc(e,t){let{title:n,titleId:r}=e,a=ze(e,tc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const rc=i.forwardRef(nc),ic=["title","titleId"];function ac(e,t){let{title:n,titleId:r}=e,a=ze(e,ic);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const sc=i.forwardRef(ac),oc=["title","titleId"];function lc(e,t){let{title:n,titleId:r}=e,a=ze(e,oc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const cc=i.forwardRef(lc),uc=["title","titleId"];function dc(e,t){let{title:n,titleId:r}=e,a=ze(e,uc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const hc=i.forwardRef(dc),fc=["title","titleId"];function pc(e,t){let{title:n,titleId:r}=e,a=ze(e,fc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const mc=i.forwardRef(pc),gc=["title","titleId"];function vc(e,t){let{title:n,titleId:r}=e,a=ze(e,gc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const yc=i.forwardRef(vc),xc=["title","titleId"];function bc(e,t){let{title:n,titleId:r}=e,a=ze(e,xc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const wc=i.forwardRef(bc),kc=["title","titleId"];function _c(e,t){let{title:n,titleId:r}=e,a=ze(e,kc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Sc=i.forwardRef(_c),Ac=["title","titleId"];function Ec(e,t){let{title:n,titleId:r}=e,a=ze(e,Ac);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const jc=i.forwardRef(Ec),Cc=["title","titleId"];function Nc(e,t){let{title:n,titleId:r}=e,a=ze(e,Cc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Pc=i.forwardRef(Nc),Tc=["title","titleId"];function Ic(e,t){let{title:n,titleId:r}=e,a=ze(e,Tc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Oc=i.forwardRef(Ic),Mc=["title","titleId"];function Dc(e,t){let{title:n,titleId:r}=e,a=ze(e,Mc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Rc=i.forwardRef(Dc),Lc=["title","titleId"];function Fc(e,t){let{title:n,titleId:r}=e,a=ze(e,Lc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const zc=i.forwardRef(Fc),Vc=e=>{let{collapsed:t,onToggleCollapse:n,onNavigate:r}=e;const a=Bt(),{user:s,logout:l}=yl(),{role:c}=wl(),{expenses:u,incomes:d,funders:h}=Ol(),{isDark:f,toggleTheme:p}=Sl(),[m,g]=(0,i.useState)({}),v=()=>{g(e=>(0,o.A)({},Object.keys(e).reduce((e,t)=>(e[t]=!1,e),{})))},y=(u||[]).filter(e=>"pending"===e.status).length+(d||[]).filter(e=>"pending"===e.status).length,x=(()=>{const e=t=>t.filter(e=>e.roles.includes(c)).map(t=>(0,o.A)((0,o.A)({},t),{},{children:t.children?e(t.children):void 0}));return e([{name:"Dashboard",href:"/app/dashboard/overview",icon:zl,roles:["admin","donor"]},{name:"Income",href:"/app/income",icon:Ul,roles:["admin"]},{name:"Expenses",href:"/app/expenses",icon:Kl,roles:["admin"]},{name:"Reports",href:"/app/reports",icon:Yl,roles:["admin","donor"]},{name:"Funders",icon:null,roles:["admin"],children:[{name:"Add Funder",href:"/app/funders/add",icon:$l,roles:["admin"]},{name:"Funders List",href:"/app/funders",icon:ec,roles:["admin"]},{name:"Funders Portal",href:"/app/funders/portal",icon:rc,roles:["admin"]}]},{name:"Projects",href:"/app/projects",icon:sc,roles:["admin","donor"]},{name:"Approvals",href:"/app/approvals",icon:cc,roles:["admin"],badge:y},{name:"Accounts",href:"/app/accounts",icon:hc,roles:["admin"]},{name:"Audit",href:"/app/audit",icon:mc,roles:["admin"]},{name:"Funders Portal",href:"/app/funders/portal",icon:yc,roles:["admin","donor"]},{name:"Settings",href:"/app/settings",icon:wc,roles:["admin","donor"]}])})();x.forEach(e=>{if(e.children&&Array.isArray(e.children)){const t=e.children.some(e=>a.pathname.startsWith(e.href));t&&!m[e.name]&&(m[e.name]=!0)}});const b=()=>{l()};return(0,Re.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col sidebar-modern pt-6 ".concat(t?"w-20":"w-64"," transition-all duration-200"),children:[(0,Re.jsx)("div",{className:"flex h-24 flex-shrink-0 items-center ".concat(t?"justify-center px-4":"px-6"),children:(0,Re.jsx)("div",{className:"w-full ".concat(t?"flex items-center justify-center":""),children:(0,Re.jsxs)("div",{className:"flex items-center ".concat(t?"":"gap-3"),children:[(0,Re.jsx)("div",{className:"h-10 w-10 ".concat(t?"rounded-full":"rounded-lg"," flex items-center justify-center text-white font-bold bg-gradient-to-br from-sky-500 to-indigo-600 shadow-sm"),children:(0,Re.jsx)("span",{className:"text-sm md:text-base","aria-hidden":"true",children:"F"})}),!t&&(0,Re.jsxs)("div",{className:"leading-tight",children:[(0,Re.jsx)("div",{className:"text-lg font-extrabold text-gray-900 brand-logo dark:text-slate-100",children:"Fundify"}),(0,Re.jsx)("div",{className:"text-xs text-gray-500",children:"Finance dashboard"})]}),n&&(0,Re.jsx)("div",{className:"ml-auto flex items-center",children:t?(0,Re.jsx)("button",{type:"button",onClick:n,title:"Expand sidebar",className:"ml-3 inline-flex items-center justify-center p-1 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-800","aria-label":"Expand sidebar",children:(0,Re.jsx)(jc,{className:"h-5 w-5"})}):(0,Re.jsx)("button",{type:"button",onClick:n,title:"Collapse sidebar",className:"ml-3 inline-flex items-center justify-center p-1 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-800","aria-label":"Collapse sidebar",children:(0,Re.jsx)(Sc,{className:"h-5 w-5"})})})]})})}),(0,Re.jsx)("div",{className:"flex flex-1 flex-col overflow-y-auto",children:(0,Re.jsx)("nav",{className:"flex-1 space-y-2 py-5",children:x.map(e=>{if(e.children){const n=!!m[e.name],i=e.children.some(e=>a.pathname.startsWith(e.href));return(0,Re.jsxs)("div",{className:"sidebar-group my-2",children:[(0,Re.jsxs)("div",{className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-xs font-semibold uppercase tracking-wide ".concat(t?"hidden":"text-slate-600 dark:text-slate-200 hover:bg-sky-50/60 dark:hover:bg-slate-800/60"),"aria-controls":"group-".concat(e.name),children:[(0,Re.jsx)(Qn,{to:"/app/funders/portal",onClick:()=>{v(),r&&r()},className:"flex items-center gap-2 ".concat(i?"text-sky-700 dark:text-sky-300":""),children:(0,Re.jsx)("span",{children:e.name})}),(0,Re.jsx)("button",{type:"button",onClick:()=>{return t=e.name,void g(e=>(0,o.A)((0,o.A)({},Object.keys(e).reduce((e,t)=>(e[t]=!1,e),{})),{},{[t]:!e[t]}));var t},"aria-expanded":n,className:"p-1 rounded-md",children:n?(0,Re.jsx)(Pc,{className:"h-4 w-4 text-slate-500"}):(0,Re.jsx)(jc,{className:"h-4 w-4 text-slate-500"})})]}),!t&&n&&(0,Re.jsx)("div",{id:"group-".concat(e.name),children:e.children.map(e=>(0,Re.jsxs)(Qn,{to:e.href,onClick:()=>{r&&r()},"aria-current":a.pathname.startsWith(e.href)?"page":void 0,className:"flex items-center ml-6 px-3 py-1.5 rounded text-sm gap-2 dark:text-slate-100 text-slate-800 hover:bg-sky-50 dark:hover:bg-slate-800 transition",children:[e.icon&&(0,Re.jsx)(e.icon,{className:"h-4 w-4 mr-1 text-sky-400"}),(0,Re.jsx)("span",{children:e.name})]},e.name))})]},e.name)}const n=a.pathname.startsWith(e.href),i="Approvals"===e.name;return(0,Re.jsxs)(Qn,{to:e.href,onClick:()=>{v(),r&&r()},"aria-current":n?"page":void 0,"aria-label":e.name,className:"nav-item group flex items-center ".concat(t?"justify-center py-3 text-gray-600 p-2 rounded-full":"px-3 py-2 rounded-lg text-sm font-medium text-slate-700 transition ".concat(n?"active-link shadow-sm":"hover:bg-gradient-to-r hover:from-sky-50 hover:to-indigo-50 hover:text-sky-600")),children:[!t&&(0,Re.jsx)("span",{className:"h-8 w-1 rounded-r-full mr-3 ".concat(n?"bg-sky-600":"bg-transparent")}),(0,Re.jsx)("div",{className:"".concat(t?"p-2 rounded-full collapsed-icon":"mr-3 p-2 rounded-md bg-white/50 nav-icon"),children:(0,Re.jsx)(e.icon,{className:"h-5 w-5 flex-shrink-0 text-slate-600","aria-hidden":"true"})}),(0,Re.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,Re.jsx)("span",{className:"".concat(t?"hidden":"whitespace-nowrap"),children:e.name}),i&&e.badge>0&&(0,Re.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-rose-600 text-white",children:e.badge})]})]},e.name)})})}),(0,Re.jsxs)("div",{className:"px-4 py-4 space-y-3 ".concat(t?"flex flex-col items-center justify-center":""),children:[t?(0,Re.jsx)("button",{title:f?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",onClick:p,className:"w-10 h-10 flex items-center justify-center rounded-md bg-white/90 text-gray-700 hover:bg-white shadow-sm ring-1 ring-slate-200 dark:bg-slate-800/80 dark:text-slate-100 dark:ring-slate-700",children:f?(0,Re.jsx)(Oc,{className:"h-5 w-5"}):(0,Re.jsx)(Rc,{className:"h-5 w-5"})}):(0,Re.jsxs)("button",{onClick:p,"aria-label":"Toggle dark mode",className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-md bg-white/90 text-gray-700 hover:bg-white shadow-sm ring-1 ring-slate-200 dark:bg-slate-800/80 dark:text-slate-100 dark:ring-slate-700",title:f?"Switch to light mode":"Switch to dark mode",children:[f?(0,Re.jsx)(Oc,{className:"h-5 w-5"}):(0,Re.jsx)(Rc,{className:"h-5 w-5"}),(0,Re.jsx)("span",{className:"text-sm",children:f?"Light mode":"Dark mode"})]}),s&&(t?(0,Re.jsx)("button",{title:"Sign out",onClick:b,className:"w-10 h-10 flex items-center justify-center rounded-md bg-white text-gray-700 hover:bg-gray-50 shadow-sm dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",children:(0,Re.jsx)(zc,{className:"h-5 w-5"})}):(0,Re.jsxs)("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-md bg-white text-gray-700 hover:bg-gray-50 shadow-sm dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700",children:[(0,Re.jsx)(zc,{className:"h-5 w-5"}),"Sign out"]}))]})]})},Bc=["title","titleId"];function Uc(e,t){let{title:n,titleId:r}=e,a=ze(e,Bc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Wc=i.forwardRef(Uc),Hc=["title","titleId"];function Kc(e,t){let{title:n,titleId:r}=e,a=ze(e,Hc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const qc=i.forwardRef(Kc),Gc=["title","titleId"];function Yc(e,t){let{title:n,titleId:r}=e,a=ze(e,Gc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Qc=i.forwardRef(Yc),Xc=e=>{var t,n;let{onMobileMenuToggle:r}=e;const[a,s]=(0,i.useState)(!1),{user:o,logout:l}=yl(),{orgs:c,activeOrgId:u,switchOrg:d,role:h}=wl(),{expenses:f,incomes:p}=Ol(),{isDark:m,toggleTheme:g}=Sl(),v=Ht(),y=(((null===o||void 0===o?void 0:o.email)||"").split("@")[0],(f||[]).filter(e=>"pending"===e.status).length+(p||[]).filter(e=>"pending"===e.status).length),x=()=>!c||c.length<=1?null:(0,Re.jsx)("select",{value:u||"",onChange:e=>d(e.target.value),className:"px-3 py-2 rounded-full bg-white ring-1 ring-gray-200 text-sm focus:outline-none dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700","aria-label":"Select organization",children:c.map(e=>(0,Re.jsx)("option",{value:e.id,children:e.name||e.id},e.id))});return(0,Re.jsx)("div",{className:"sticky top-0 z-40 relative bg-white/80 text-gray-900 backdrop-blur-sm border-b border-gray-200 shadow-sm dark:bg-slate-900/70 dark:text-slate-100 dark:border-slate-800",children:(0,Re.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 md:px-8",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between gap-4 py-3",children:[(0,Re.jsx)("div",{className:"flex items-center gap-3",children:(0,Re.jsx)("button",{onClick:r,title:"Open sidebar","aria-label":"Open sidebar",className:"p-2 rounded-full bg-white/90 shadow-sm ring-1 ring-gray-200 hover:shadow-md transform transition hover:-translate-y-0.5 focus:outline-none lg:hidden",children:(0,Re.jsx)(Wc,{className:"h-6 w-6 text-gray-700"})})}),(0,Re.jsx)("div",{className:"flex-1 px-4 hidden sm:block",children:(0,Re.jsx)("div",{className:"max-w-xl mx-auto",children:(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Re.jsx)(qc,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400 dark:text-slate-500"})}),(0,Re.jsx)("input",{placeholder:"Search",className:"w-full pl-10 pr-4 py-2.5 rounded-2xl bg-gray-50 placeholder:text-gray-400 text-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800/80 dark:text-slate-100 dark:placeholder:text-slate-500 dark:ring-1 dark:ring-slate-700"})]})})}),(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsxs)("div",{className:"items-center gap-3 hidden md:flex",children:[(0,Re.jsx)(x,{}),(0,Re.jsx)(Qn,{to:"/app/income",className:"px-3.5 py-2 rounded-xl bg-gray-900 text-white hover:shadow-md",children:"Income"}),(0,Re.jsx)(Qn,{to:"/app/expenses",className:"px-3.5 py-2 rounded-xl bg-white text-gray-700 hover:shadow-sm ring-1 ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:"Expenses"}),(0,Re.jsx)(Qn,{to:"/app/reports",className:"px-3.5 py-2 rounded-xl bg-white text-gray-700 hover:shadow-sm ring-1 ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:"Reports"}),"admin"===h&&(0,Re.jsxs)(Qn,{to:"/app/approvals",className:"relative inline-flex items-center px-3 py-2 rounded-xl bg-white text-gray-700 hover:shadow-sm ring-1 ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:["Approvals",y>0&&(0,Re.jsx)("span",{className:"absolute -top-2 -right-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-rose-600 text-white",children:y})]})]}),(0,Re.jsxs)("button",{title:"Notifications","aria-label":"Notifications",onClick:()=>v("/app/approvals"),className:"relative p-2 rounded-full bg-white/90 shadow-sm ring-1 ring-gray-200 hover:shadow-md transition transform hover:-translate-y-0.5 focus:outline-none dark:bg-slate-800/80 dark:text-slate-100 dark:ring-slate-700",children:[(0,Re.jsx)(Qc,{className:"h-6 w-6 text-gray-700 dark:text-slate-100"}),y>0&&(0,Re.jsx)("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-1.5 py-0.5 rounded-full text-[10px] font-medium bg-rose-600 text-white",children:y})]}),(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("button",{title:(null===o||void 0===o?void 0:o.name)||"User menu","aria-label":"User menu ".concat((null===o||void 0===o?void 0:o.name)||""),onClick:()=>s(!s),className:"flex items-center gap-2 p-1 rounded-full bg-white/90 shadow-sm ring-1 ring-gray-200 hover:shadow-md transition transform hover:-translate-y-0.5 focus:outline-none",children:(0,Re.jsx)("div",{className:"h-8 w-8 rounded-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white font-semibold text-sm",children:(null===o||void 0===o||null===(t=o.name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase())||"U"})}),a&&(0,Re.jsxs)("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-xl bg-white py-2 shadow-xl ring-1 ring-gray-200 text-gray-800 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:[(0,Re.jsxs)("div",{className:"px-4 py-2 text-sm border-b dark:border-slate-700",children:[(0,Re.jsx)("div",{className:"font-medium",children:(null===o||void 0===o?void 0:o.name)||"User"}),(0,Re.jsx)("div",{className:"truncate text-gray-500 text-xs dark:text-slate-400",children:(null===o||void 0===o?void 0:o.email)||""})]}),(0,Re.jsx)("button",{onClick:()=>{l(),v("/login")},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-slate-700",children:"Sign out"})]})]})]})]})})})};function $c(){const{logs:e=[]}=Ol(),{user:t}=yl(),[n,r]=(0,i.useState)([]),[a,s]=(0,i.useState)(new Set);return(0,i.useEffect)(()=>{(e||[]).filter(e=>["log_soft_removed","log_restored","log_finalized_removed"].includes(e.action)).forEach(e=>{if(a.has(e.id))return;if(e.by===((null===t||void 0===t?void 0:t.id)||""))return a.add(e.id),void s(new Set(a));const n="log_soft_removed"===e.action?"".concat(e.byName||e.by," removed an activity"):"log_restored"===e.action?"".concat(e.byName||e.by," restored an activity"):"".concat(e.byName||e.by," finalized removal"),i="notif-".concat(e.id);r(e=>[...e,{id:i,text:n}]),a.add(e.id),s(new Set(a)),setTimeout(()=>r(e=>e.filter(e=>e.id!==i)),5e3)})},[e,t,a]),n.length?(0,Re.jsx)("div",{className:"fixed left-4 bottom-4 z-60 space-y-2",children:n.map(e=>(0,Re.jsx)("div",{className:"bg-white p-3 rounded-md shadow ring-1 ring-slate-200 dark:bg-slate-800 dark:ring-slate-700",children:(0,Re.jsx)("div",{className:"text-sm text-slate-800 dark:text-slate-100",children:e.text})},e.id))}):null}function Jc(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),{user:a}=yl();Ht();return(0,Re.jsxs)("div",{className:"min-h-screen bg-neutral-base dashboard-bg overflow-x-hidden dark:bg-[#0b1220] dark:text-slate-100",children:[(0,Re.jsx)(Xc,{onMobileMenuToggle:()=>t(!0)}),(0,Re.jsx)($c,{}),(0,Re.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:flex-col lg:z-50 lg:rounded-tr-2xl lg:rounded-br-2xl lg:shadow-xl lg:overflow-hidden transition-all duration-200 ".concat(n?"lg:w-20":"lg:w-64"),children:(0,Re.jsx)(Vc,{collapsed:n,onToggleCollapse:()=>r(!n)})}),(0,Re.jsx)("div",{className:"".concat(n?"lg:pl-20":"lg:pl-64"," pt-16 min-h-screen"),children:(0,Re.jsx)(dn,{})}),(0,Re.jsxs)("div",{className:"lg:hidden ".concat(e?"fixed inset-0 z-40":"hidden"),children:[(0,Re.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),(0,Re.jsxs)("div",{className:"fixed inset-0 z-50 flex",children:[(0,Re.jsxs)("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-white dark:bg-slate-900",children:[(0,Re.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,Re.jsxs)("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-600 dark:focus:ring-white",onClick:()=>t(!1),children:[(0,Re.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,Re.jsx)(Rl,{className:"h-6 w-6 text-gray-700 dark:text-white","aria-hidden":"true"})]})}),(0,Re.jsxs)("div",{className:"h-0 flex-1 overflow-y-auto pt-5 pb-4",children:[(0,Re.jsx)("div",{className:"flex flex-shrink-0 items-center px-4",children:(0,Re.jsx)("div",{className:"h-8 w-8 rounded-full bg-indigo-600"})}),(0,Re.jsx)("nav",{className:"mt-5 space-y-1 px-2",children:(0,Re.jsx)(Vc,{collapsed:!1,onNavigate:()=>t(!1)})})]})]}),(0,Re.jsx)("div",{className:"w-14 flex-shrink-0"})]})]}),e&&(0,Re.jsxs)("div",{className:"lg:hidden fixed inset-0 z-40",children:[(0,Re.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity",onClick:()=>t(!1),"aria-hidden":"true"}),(0,Re.jsx)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 transform transition-transform duration-300 ease-in-out",children:(0,Re.jsxs)("div",{className:"flex h-full flex-col bg-white shadow-lg dark:bg-slate-900",children:[(0,Re.jsxs)("div",{className:"flex h-16 flex-shrink-0 items-center justify-between px-4",children:[(0,Re.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Menu"}),(0,Re.jsxs)("button",{type:"button",className:"rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 dark:hover:bg-slate-800",onClick:()=>t(!1),children:[(0,Re.jsx)("span",{className:"sr-only",children:"Close sidebar"}),(0,Re.jsx)(Rl,{className:"h-6 w-6","aria-hidden":"true"})]})]}),(0,Re.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Re.jsx)(Vc,{collapsed:!1,isMobile:!0,onNavigate:()=>t(!1)})})]})})]})]})}const Zc=["title","titleId"];function eu(e,t){let{title:n,titleId:r}=e,a=ze(e,Zc);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tu=i.forwardRef(eu),nu=["title","titleId"];function ru(e,t){let{title:n,titleId:r}=e,a=ze(e,nu);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const iu=i.forwardRef(ru),au=["title","titleId"];function su(e,t){let{title:n,titleId:r}=e,a=ze(e,au);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const ou=i.forwardRef(su);function lu(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=lu(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cu(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=lu(e))&&(r&&(r+=" "),r+=t);return r}var uu=n(7820),du=n.n(uu),hu=n(7770),fu=n.n(hu),pu=e=>0===e?0:e>0?1:-1,mu=e=>"number"==typeof e&&e!=+e,gu=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,vu=e=>("number"===typeof e||e instanceof Number)&&!mu(e),yu=e=>vu(e)||"string"===typeof e,xu=0,bu=e=>{var t=++xu;return"".concat(e||"").concat(t)},wu=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!vu(e)&&"string"!==typeof e)return r;if(gu(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return mu(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},ku=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function _u(e,t,n){return vu(e)&&vu(t)?e+n*(t-e):t}function Su(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):fu()(e,t))===n)}var Au=e=>null===e||"undefined"===typeof e,Eu=e=>Au(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),ju=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach(function(t){Pu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tu=(0,i.forwardRef)((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:p,style:m={}}=e,g=(0,i.useRef)(null),v=(0,i.useRef)();v.current=p,(0,i.useImperativeHandle)(t,()=>g.current);var[y,x]=(0,i.useState)({containerWidth:r.width,containerHeight:r.height}),b=(0,i.useCallback)((e,t)=>{x(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,i.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;b(n,r),null===(t=v.current)||void 0===t||t.call(v,n,r)};d>0&&(e=du()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return b(n,r),t.observe(g.current),()=>{t.disconnect()}},[b,d]);var w=(0,i.useMemo)(()=>{var{containerWidth:e,containerHeight:t}=y;if(e<0||t<0)return null;ju(gu(a)||gu(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,s),ju(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=gu(a)?e:a,d=gu(s)?t:s;return n&&n>0&&(r?d=r/n:d&&(r=d*n),c&&d>c&&(d=c)),ju(r>0||d>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,d,a,s,o,l,n),i.Children.map(u,e=>(0,i.cloneElement)(e,{width:r,height:d,style:Nu({width:r,height:d},e.props.style)}))},[n,u,s,c,l,o,y,a]);return i.createElement("div",{id:h?"".concat(h):void 0,className:cu("recharts-responsive-container",f),style:Nu(Nu({},m),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},i.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),Iu=n(4705);function Ou(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var Mu=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Du=()=>Math.random().toString(36).substring(7).split("").join("."),Ru={INIT:"@@redux/INIT".concat(Du()),REPLACE:"@@redux/REPLACE".concat(Du()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(Du())};function Lu(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Fu(e,t,n){if("function"!==typeof e)throw new Error(Ou(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ou(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ou(1));return n(Fu)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(Ou(3));return i}function d(e){if("function"!==typeof e)throw new Error(Ou(4));if(l)throw new Error(Ou(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(Ou(6));t=!1,c(),s.delete(n),a=null}}}function h(e){if(!Lu(e))throw new Error(Ou(7));if("undefined"===typeof e.type)throw new Error(Ou(8));if("string"!==typeof e.type)throw new Error(Ou(17));if(l)throw new Error(Ou(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}h({type:Ru.INIT});const f={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ou(10));r=e,h({type:Ru.REPLACE})},[Mu]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Ou(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[Mu](){return this}}}};return f}function zu(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const r=t[a];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Ru.INIT}))throw new Error(Ou(12));if("undefined"===typeof n(void 0,{type:Ru.PROBE_UNKNOWN_ACTION()}))throw new Error(Ou(13))})}(n)}catch(s5){i=s5}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const s={};for(let i=0;i<r.length;i++){const o=r[i],l=n[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(Ou(14))}s[o]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?s:e}}function Vu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Bu(e){return Lu(e)&&"type"in e&&"string"===typeof e.type}function Uu(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Wu=Uu(),Hu=Uu,Ku=Symbol.for("immer-nothing"),qu=Symbol.for("immer-draftable"),Gu=Symbol.for("immer-state");function Yu(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Qu=Object.getPrototypeOf;function Xu(e){return!!e&&!!e[Gu]}function $u(e){var t;return!!e&&(Zu(e)||Array.isArray(e)||!!e[qu]||!(null===(t=e.constructor)||void 0===t||!t[qu])||id(e)||ad(e))}var Ju=Object.prototype.constructor.toString();function Zu(e){if(!e||"object"!==typeof e)return!1;const t=Qu(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ju}function ed(e,t){0===td(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function td(e){const t=e[Gu];return t?t.type_:Array.isArray(e)?1:id(e)?2:ad(e)?3:0}function nd(e,t){return 2===td(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rd(e,t,n){const r=td(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function id(e){return e instanceof Map}function ad(e){return e instanceof Set}function sd(e){return e.copy_||e.base_}function od(e,t){if(id(e))return new Map(e);if(ad(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Zu(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Gu];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Qu(e),t)}{const t=Qu(e);if(null!==t&&n)return(0,o.A)({},e);const r=Object.create(t);return Object.assign(r,e)}}function ld(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ud(e)||Xu(e)||!$u(e)||(td(e)>1&&Object.defineProperties(e,{set:{value:cd},add:{value:cd},clear:{value:cd},delete:{value:cd}}),Object.freeze(e),t&&Object.values(e).forEach(e=>ld(e,!0))),e}function cd(){Yu(2)}function ud(e){return Object.isFrozen(e)}var dd,hd={};function fd(e){const t=hd[e];return t||Yu(0),t}function pd(){return dd}function md(e,t){t&&(fd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gd(e){vd(e),e.drafts_.forEach(xd),e.drafts_=null}function vd(e){e===dd&&(dd=e.parent_)}function yd(e){return dd={drafts_:[],parent_:dd,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xd(e){const t=e[Gu];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function bd(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Gu].modified_&&(gd(t),Yu(4)),$u(e)&&(e=wd(t,e),t.parent_||_d(t,e)),t.patches_&&fd("Patches").generateReplacementPatches_(n[Gu].base_,e,t.patches_,t.inversePatches_)):e=wd(t,n,[]),gd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ku?e:void 0}function wd(e,t,n){if(ud(t))return t;const r=t[Gu];if(!r)return ed(t,(i,a)=>kd(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return _d(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),ed(i,(i,s)=>kd(e,r,t,i,s,n,a)),_d(e,t,!1),n&&e.patches_&&fd("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function kd(e,t,n,r,i,a,s){if(Xu(i)){const s=wd(e,i,a&&t&&3!==t.type_&&!nd(t.assigned_,r)?a.concat(r):void 0);if(rd(n,r,s),!Xu(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if($u(i)&&!ud(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wd(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!(id(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||_d(e,i)}}function _d(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ld(t,n)}var Sd={get(e,t){if(t===Gu)return e;const n=sd(e);if(!nd(n,t))return function(e,t,n){var r;const i=jd(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!$u(r)?r:r===Ed(e.base_,t)?(Nd(e),e.copy_[t]=Pd(r,e)):r},has:(e,t)=>t in sd(e),ownKeys:e=>Reflect.ownKeys(sd(e)),set(e,t,n){const r=jd(sd(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Ed(sd(e),t),s=null===r||void 0===r?void 0:r[Gu];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==n||nd(e.base_,t)))return!0;Nd(e),Cd(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Ed(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Nd(e),Cd(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=sd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Yu(11)},getPrototypeOf:e=>Qu(e.base_),setPrototypeOf(){Yu(12)}},Ad={};function Ed(e,t){const n=e[Gu];return(n?sd(n):e)[t]}function jd(e,t){if(!(t in e))return;let n=Qu(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Qu(n)}}function Cd(e){e.modified_||(e.modified_=!0,e.parent_&&Cd(e.parent_))}function Nd(e){e.copy_||(e.copy_=od(e.base_,e.scope_.immer_.useStrictShallowCopy_))}ed(Sd,(e,t)=>{Ad[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Ad.deleteProperty=function(e,t){return Ad.set.call(this,e,t,void 0)},Ad.set=function(e,t,n){return Sd.set.call(this,e[0],t,n,e[0])};function Pd(e,t){const n=id(e)?fd("MapSet").proxyMap_(e,t):ad(e)?fd("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:pd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Sd;n&&(i=[r],a=Ad);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:pd()).drafts_.push(n),n}function Td(e){return Xu(e)||Yu(10),Id(e)}function Id(e){if(!$u(e)||ud(e))return e;const t=e[Gu];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=od(e,t.scope_.immer_.useStrictShallowCopy_)}else n=od(e,!0);return ed(n,(e,t)=>{rd(n,e,Id(t))}),t&&(t.finalized_=!1),n}var Od=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&Yu(6),void 0!==n&&"function"!==typeof n&&Yu(7),$u(e)){const i=yd(this),a=Pd(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?gd(i):vd(i)}return md(i,n),bd(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Ku&&(r=void 0),this.autoFreeze_&&ld(r,!0),n){const t=[],i=[];fd("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Yu(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){$u(e)||Yu(8),Xu(e)&&(e=Td(e));const t=yd(this),n=Pd(e,void 0);return n[Gu].isManual_=!0,vd(t),n}finishDraft(e,t){const n=e&&e[Gu];n&&n.isManual_||Yu(9);const{scope_:r}=n;return md(r,t),bd(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=fd("Patches").applyPatches_;return Xu(e)?r(e,t):this.produce(e,e=>r(e,t))}},Md=Od.produce;const Dd=["reducerPath"];var Rd="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Vu:Vu.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ld(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Th(0));return(0,o.A)((0,o.A)({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>Bu(t)&&t.type===e,n}var Fd=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function zd(e){return $u(e)?Md(e,()=>{}):e}function Vd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Bd="RTK_autoBatch",Ud=e=>t=>{setTimeout(t,e)},Wd=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Fd(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,a=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ud(10):"callback"===e.type?e.queueNotification:Ud(e.timeout),l=()=>{a=!1,i&&(i=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Bd]),i=!r,i&&(a||(a=!0,o(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Hd(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new Fd;return t&&("boolean"===typeof t?a.push(Wu):a.push(Hu(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s,enhancers:l}=e||{};let c,u;if("function"===typeof n)c=n;else{if(!Lu(n))throw new Error(Th(1));c=zu(n)}u="function"===typeof r?r(t):t();let d=Vu;i&&(d=Rd((0,o.A)({trace:!1},"object"===typeof i&&i)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Ou(15))};const s={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},l=t.map(e=>e(s));return a=Vu(...l)(i.dispatch),(0,o.A)((0,o.A)({},i),{},{dispatch:a})}}(...u),f=Wd(h);return Fu(c,s,d(..."function"===typeof l?l(f):f()))}function Kd(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Th(28));if(r in t)throw new Error(Th(29));return t[r]=n,i},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var qd=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Gd=Symbol.for("rtk-slice-createasyncthunk");function Yd(e,t){return"".concat(e,"/").concat(t)}function Qd(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Gd];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Th(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return(0,o.A)({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Th(12));if(n in s.sliceCaseReducersByType)throw new Error(Th(13));return s.sliceCaseReducersByType[n]=t,l},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),l),exposeAction:(e,t)=>(s.actionCreators[e]=t,l),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,l)};function c(){const[t={},n=[],r]="function"===typeof e.extraReducers?Kd(e.extraReducers):[e.extraReducers],i=(0,o.A)((0,o.A)({},t),s.sliceCaseReducersByType);return function(e,t){let n,[r,i,a]=Kd(t);if("function"===typeof e)n=()=>zd(e());else{const t=zd(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...i.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,n)=>{if(n){if(Xu(e)){const r=n(e,t);return void 0===r?e:r}if($u(e))return Md(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],s={reducerName:r,type:Yd(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,i,{type:a,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Th(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(s,r).exposeAction(s,i?Ld(a,i):Ld(a))}(s,a,l):function(e,t,n,r){let{type:i,reducerName:a}=e;if(!r)throw new Error(Th(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,s,d);n.exposeAction(a,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(a,{fulfilled:o||Jd,pending:l||Jd,rejected:c||Jd,settled:u||Jd})}(s,a,l,n)});const u=e=>e,d=new Map,h=new WeakMap;let f;function p(e,t){return f||(f=c()),f(e,t)}function m(){return f||(f=c()),f.getInitialState()}function g(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=Vd(h,r,m)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const r=Vd(d,n,()=>new WeakMap);return Vd(r,t,()=>{const r={};for(const[a,s]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[a]=Xd(s,t,()=>Vd(h,t,m),n)}return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const v=(0,o.A)((0,o.A)({name:t,reducer:p,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:m},g(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,i=ze(t,Dd);const a=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:a,reducer:p},i),(0,o.A)((0,o.A)({},v),g(a,!0))}});return v}}function Xd(e,t,n,r){function i(i){let a=t(i);"undefined"===typeof a&&r&&(a=n());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(a,...o)}return i.unwrapped=e,i}var $d=Qd();function Jd(){}var Zd="listener",eh="completed",th="cancelled",nh="task-".concat(th),rh="task-".concat(eh),ih="".concat(Zd,"-").concat(th),ah="".concat(Zd,"-").concat(eh),sh=class{constructor(e){(0,Iu.A)(this,"name","TaskAbortError"),(0,Iu.A)(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(th," (reason: ").concat(e,")")}},oh=(e,t)=>{if("function"!==typeof e)throw new TypeError(Th(32))},lh=()=>{},ch=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lh;return e.catch(t),e},uh=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),dh=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},hh=e=>{if(e.aborted){const{reason:t}=e;throw new sh(t)}};function fh(e,t){let n=lh;return new Promise((r,i)=>{const a=()=>i(new sh(e.reason));e.aborted?a():(n=uh(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=lh})}var ph=e=>t=>ch(fh(e,t).then(t=>(hh(e),t))),mh=e=>{const t=ph(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:gh}=Object,vh={},yh="listenerMiddleware",xh=(e,t)=>(n,r)=>{oh(n);const i=new AbortController;var a;a=i,uh(e,()=>dh(a,e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(o5){return{status:o5 instanceof sh?"cancelled":"rejected",error:o5}}finally{null===t||void 0===t||t()}})(async()=>{hh(e),hh(i.signal);const t=await n({pause:ph(i.signal),delay:mh(i.signal),signal:i.signal});return hh(i.signal),t},()=>dh(i,rh));return null!==r&&void 0!==r&&r.autoJoin&&t.push(s.catch(lh)),{result:ph(e)(s),cancel(){dh(i,nh)}}},bh=(e,t)=>(n,r)=>ch((async(n,r)=>{hh(t);let i=()=>{};const a=new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}}),s=[a];null!=r&&s.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await fh(t,Promise.race(s));return hh(t),e}finally{i()}})(n,r)),wh=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ld(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Th(21));return oh(a),{predicate:i,type:t,effect:a}},kh=gh(e=>{const{type:t,predicate:n,effect:r}=wh(e);return{id:qd(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Th(22))}}},{withTypes:()=>kh}),_h=(e,t)=>{const{type:n,effect:r,predicate:i}=wh(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===i)&&e.effect===r)},Sh=e=>{e.pending.forEach(e=>{dh(e,ih)})},Ah=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Eh=gh(Ld("".concat(yh,"/add")),{withTypes:()=>Eh}),jh=Ld("".concat(yh,"/removeAll")),Ch=gh(Ld("".concat(yh,"/remove")),{withTypes:()=>Ch}),Nh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(yh,"/error"),...t)},Ph=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:n,onError:r=Nh}=e;oh(r);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&Sh(e)}))(null!==(n=_h(t,e))&&void 0!==n?n:kh(e))};gh(i,{withTypes:()=>i});const a=e=>{const n=_h(t,e);return n&&(n.unsubscribe(),e.cancelActive&&Sh(n)),!!n};gh(a,{withTypes:()=>a});const s=async(e,a,s,o)=>{const l=new AbortController,c=bh(i,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(a,gh({},s,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:mh(l.signal),pause:ph(l.signal),extra:n,signal:l.signal,fork:xh(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(dh(e,ih),n.delete(e))})},cancel:()=>{dh(l,ih),e.pending.delete(l)},throwIfCancelled:()=>{hh(l.signal)}})))}catch(d){d instanceof sh||Ah(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),dh(l,ah),e.pending.delete(l)}},o=(e=>()=>{e.forEach(Sh),e.clear()})(t);return{middleware:e=>n=>l=>{if(!Bu(l))return n(l);if(Eh.match(l))return i(l.payload);if(jh.match(l))return void o();if(Ch.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===vh)throw new Error(Th(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,Ah(r,h,{raisedBy:"predicate"})}i&&s(t,l,e,u)}}}finally{c=vh}return d},startListening:i,stopListening:a,clearListeners:o}};Symbol.for("rtk-state-proxy-original");function Th(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function Ih(e,t){if(t){var n=Number.parseInt(t,10);if(!mu(n))return null===e||void 0===e?void 0:e[n]}}var Oh=$d({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Mh=Oh.reducer,{createEventEmitter:Dh}=Oh.actions;n(7237);function Rh(e){e()}var Lh={notify(){},get:()=>[]};function Fh(e,t){let n,r=Lh,i=0,a=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Rh(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=Lh)}const c={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,o())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}var zh=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Vh=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Bh=(()=>zh||Vh?i.useLayoutEffect:i.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Uh=Symbol.for("react-redux-context"),Wh="undefined"!==typeof globalThis?globalThis:{};function Hh(){var e;if(!i.createContext)return{};const t=null!==(e=Wh[Uh])&&void 0!==e?e:Wh[Uh]=new Map;let n=t.get(i.createContext);return n||(n=i.createContext(null),t.set(i.createContext,n)),n}var Kh=Hh();var qh=function(e){const{children:t,context:n,serverState:r,store:a}=e,s=i.useMemo(()=>{const e=Fh(a);return{store:a,subscription:e,getServerState:r?()=>r:void 0}},[a,r]),o=i.useMemo(()=>a.getState(),[a]);Bh(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=n||Kh;return i.createElement(l.Provider,{value:s},t)};var Gh=Symbol.for("immer-nothing"),Yh=Symbol.for("immer-draftable"),Qh=Symbol.for("immer-state");function Xh(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var $h=Object.getPrototypeOf;function Jh(e){return!!e&&!!e[Qh]}function Zh(e){var t;return!!e&&(tf(e)||Array.isArray(e)||!!e[Yh]||!(null===(t=e.constructor)||void 0===t||!t[Yh])||of(e)||lf(e))}var ef=Object.prototype.constructor.toString();function tf(e){if(!e||"object"!==typeof e)return!1;const t=$h(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ef}function nf(e,t){0===rf(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function rf(e){const t=e[Qh];return t?t.type_:Array.isArray(e)?1:of(e)?2:lf(e)?3:0}function af(e,t){return 2===rf(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sf(e,t,n){const r=rf(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function of(e){return e instanceof Map}function lf(e){return e instanceof Set}function cf(e){return e.copy_||e.base_}function uf(e,t){if(of(e))return new Map(e);if(lf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=tf(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Qh];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create($h(e),t)}{const t=$h(e);if(null!==t&&n)return(0,o.A)({},e);const r=Object.create(t);return Object.assign(r,e)}}function df(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ff(e)||Jh(e)||!Zh(e)||(rf(e)>1&&Object.defineProperties(e,{set:{value:hf},add:{value:hf},clear:{value:hf},delete:{value:hf}}),Object.freeze(e),t&&Object.values(e).forEach(e=>df(e,!0))),e}function hf(){Xh(2)}function ff(e){return Object.isFrozen(e)}var pf,mf={};function gf(e){const t=mf[e];return t||Xh(0),t}function vf(){return pf}function yf(e,t){t&&(gf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xf(e){bf(e),e.drafts_.forEach(kf),e.drafts_=null}function bf(e){e===pf&&(pf=e.parent_)}function wf(e){return pf={drafts_:[],parent_:pf,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kf(e){const t=e[Qh];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function _f(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Qh].modified_&&(xf(t),Xh(4)),Zh(e)&&(e=Sf(t,e),t.parent_||Ef(t,e)),t.patches_&&gf("Patches").generateReplacementPatches_(n[Qh].base_,e,t.patches_,t.inversePatches_)):e=Sf(t,n,[]),xf(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Gh?e:void 0}function Sf(e,t,n){if(ff(t))return t;const r=t[Qh];if(!r)return nf(t,(i,a)=>Af(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Ef(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),nf(i,(i,s)=>Af(e,r,t,i,s,n,a)),Ef(e,t,!1),n&&e.patches_&&gf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Af(e,t,n,r,i,a,s){if(Jh(i)){const s=Sf(e,i,a&&t&&3!==t.type_&&!af(t.assigned_,r)?a.concat(r):void 0);if(sf(n,r,s),!Jh(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(Zh(i)&&!ff(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Sf(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!(of(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||Ef(e,i)}}function Ef(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&df(t,n)}var jf={get(e,t){if(t===Qh)return e;const n=cf(e);if(!af(n,t))return function(e,t,n){var r;const i=Pf(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Zh(r)?r:r===Nf(e.base_,t)?(If(e),e.copy_[t]=Of(r,e)):r},has:(e,t)=>t in cf(e),ownKeys:e=>Reflect.ownKeys(cf(e)),set(e,t,n){const r=Pf(cf(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Nf(cf(e),t),s=null===r||void 0===r?void 0:r[Qh];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==n||af(e.base_,t)))return!0;If(e),Tf(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Nf(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,If(e),Tf(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=cf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Xh(11)},getPrototypeOf:e=>$h(e.base_),setPrototypeOf(){Xh(12)}},Cf={};function Nf(e,t){const n=e[Qh];return(n?cf(n):e)[t]}function Pf(e,t){if(!(t in e))return;let n=$h(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=$h(n)}}function Tf(e){e.modified_||(e.modified_=!0,e.parent_&&Tf(e.parent_))}function If(e){e.copy_||(e.copy_=uf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}nf(jf,(e,t)=>{Cf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Cf.deleteProperty=function(e,t){return Cf.set.call(this,e,t,void 0)},Cf.set=function(e,t,n){return jf.set.call(this,e[0],t,n,e[0])};function Of(e,t){const n=of(e)?gf("MapSet").proxyMap_(e,t):lf(e)?gf("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:vf(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=jf;n&&(i=[r],a=Cf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}(e,t);return(t?t.scope_:vf()).drafts_.push(n),n}function Mf(e){if(!Zh(e)||ff(e))return e;const t=e[Qh];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uf(e,t.scope_.immer_.useStrictShallowCopy_)}else n=uf(e,!0);return nf(n,(e,t)=>{sf(n,e,Mf(t))}),t&&(t.finalized_=!1),n}var Df=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&Xh(6),void 0!==n&&"function"!==typeof n&&Xh(7),Zh(e)){const i=wf(this),a=Of(e,void 0);let s=!0;try{r=t(a),s=!1}finally{s?xf(i):bf(i)}return yf(i,n),_f(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===Gh&&(r=void 0),this.autoFreeze_&&df(r,!0),n){const t=[],i=[];gf("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Xh(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...i))};let r,i;const a=this.produce(e,n,(e,t)=>{r=e,i=t});return[a,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Zh(e)||Xh(8),Jh(e)&&(e=function(e){Jh(e)||Xh(10);return Mf(e)}(e));const t=wf(this),n=Of(e,void 0);return n[Qh].isManual_=!0,bf(t),n}finishDraft(e,t){const n=e&&e[Qh];n&&n.isManual_||Xh(9);const{scope_:r}=n;return yf(r,t),_f(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=gf("Patches").applyPatches_;return Jh(e)?r(e,t):this.produce(e,e=>r(e,t))}};Df.produce;var Rf={active:!1,index:null,dataKey:void 0,coordinate:void 0},Lf=$d({name:"tooltip",initialState:{itemInteraction:{click:Rf,hover:Rf},axisInteraction:{click:Rf,hover:Rf},keyboardInteraction:Rf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Td(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ff,removeTooltipEntrySettings:zf,setTooltipSettingsState:Vf,setActiveMouseOverItemIndex:Bf,mouseLeaveItem:Uf,mouseLeaveChart:Wf,setActiveClickItemIndex:Hf,setMouseOverAxisIndex:Kf,setMouseClickAxisIndex:qf,setSyncInteraction:Gf,setKeyboardInteraction:Yf}=Lf.actions,Qf=Lf.reducer,Xf=$d({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:$f,setDataStartEndIndexes:Jf,setComputedData:Zf}=Xf.actions,ep=Xf.reducer,tp=$d({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:np,setLayout:rp,setChartSize:ip,setScale:ap}=tp.actions,sp=tp.reducer;function op(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var lp=e=>Array.isArray(e)?e:[e];function cp(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var up="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function dp(){return{s:0,v:void 0,o:null,p:null}}function hp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=dp(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=dp(),e.set(n,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){var c,u,d;const e=null!==(c=null===(u=i)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:i;null!=e&&r(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new up(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function fp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,a=0,s=0,l={},c=t.pop();"object"===typeof c&&(l=c,c=t.pop()),op(c,"createSelector expects an output function after the inputs, but received: [".concat(typeof c,"]"));const u=(0,o.A)((0,o.A)({},i),l),{memoize:d,memoizeOptions:h=[],argsMemoize:f=hp,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,g=lp(h),v=lp(p),y=cp(t),x=d(function(){return a++,c.apply(null,arguments)},...g);const b=f(function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(y,arguments);return r=x.apply(null,e),r},...v);return Object.assign(b,{resultFunc:c,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>r,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:f})};return Object.assign(a,{withTypes:()=>a}),a}var pp=fp(hp),mp=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pp;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>mp}),gp=n(8443),vp=(0,i.createContext)(null),yp=e=>e,xp=()=>{var e=(0,i.useContext)(vp);return e?e.store.dispatch:yp},bp=()=>{},wp=()=>bp,kp=(e,t)=>e===t;function _p(e){var t=(0,i.useContext)(vp);return(0,gp.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:wp,t?t.store.getState:bp,t?t.store.getState:bp,t?e:bp,kp)}var Sp=n(3821),Ap=n.n(Sp),Ep=e=>e.legend.settings;pp([e=>e.legend.payload,Ep],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Ap()(r,n):r});function jp(e,t){if((i=e.length)>1)for(var n,r,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(r=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function Cp(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Np(e){return function(){return e}}function Pp(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Tp(e,t){return e[t]}function Ip(e){const t=[];return t.key=e,t}function Op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(n),!0).forEach(function(t){Dp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Op(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rp=Math.PI/180,Lp=e=>180*e/Math.PI,Fp=(e,t,n,r)=>({x:e+Math.cos(-Rp*r)*n,y:t+Math.sin(-Rp*r)*n}),zp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Vp=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:Lp(l),angleInRadian:l}},Bp=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},Up=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=Vp({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Mp(Mp({},t),{},{radius:i,angle:Bp(d,t)}):null};function Wp(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hp(Object(n),!0).forEach(function(t){qp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gp(e,t,n){return Au(e)||Au(t)?n:yu(t)?fu()(e,t,n):"function"===typeof t?t(e):n}var Yp=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Qp=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,s=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||s.push(t),a||s.push(n),s},Xp=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var p="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,m=(t||n)&&"category"===i&&s.bandwidth?s.bandwidth()/p:0;if(m="angleAxis"===f&&a&&a.length>=2?2*pu(a[0]-a[1])*m:m,t&&(d||h)){var g=(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:s(n)+m,value:e,offset:m,index:t}});return g.filter(e=>!mu(e.coordinate))}return l&&c?c.map((e,t)=>({coordinate:s(e)+m,value:e,index:t,offset:m})):s.ticks&&!n&&null!=u?s.ticks(u).map((e,t)=>({coordinate:s(e)+m,value:e,offset:m,index:t})):s.domain().map((e,t)=>({coordinate:s(e)+m,value:r?r[e]:e,index:t,offset:m}))},$p=1e-4,Jp={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var o=mu(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,s=e[0].length;a<s;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}jp(e,t)}},none:jp,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;i[r][1]+=i[r][0]=-o/2}jp(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,s=1;s<r;++s){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=d,c+=h*d}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,jp(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=mu(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},Zp=(e,t,n)=>{var r=Jp[n],i=function(){var e=Np([]),t=Pp,n=jp,r=Tp;function i(i){var a,s,o=Array.from(e.apply(this,arguments),Ip),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(e,o[a].key,c,i)]).data=e;for(a=0,s=Cp(t(o));a<l;++a)o[s[a]].index=a;return n(o,s),o}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Np(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Np(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Pp:"function"===typeof e?e:Np(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?jp:e,i):n},i}().keys(t).value((e,t)=>+Gp(e,t,0)).order(Pp).offset(r);return i(e)};function em(e){return null==e?void 0:String(e)}function tm(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Au(i[t.dataKey])){var o=Su(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Gp(i,Au(s)?t.dataKey:s);return Au(l)?null:t.scale(l)}var nm=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if("category"===t.type)return n[s]?n[s].coordinate+r:null;var o=Gp(a,t.dataKey,t.scale.domain()[s]);return Au(o)?null:t.scale(o)-i/2+r},rm=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((e,r)=>{var i=(e=>{var t=e.flat(2).filter(vu);return[Math.min(...t),Math.max(...t)]})(Wp(r,t,n));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},im=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,am=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sm=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Ap()(t,e=>e.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function om(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Kp(Kp({},t),{},{dataKey:n,payload:r,value:i,name:a})}function lm(e,t){return e?String(e):"string"===typeof t?t:void 0}var cm=e=>e.layout.width,um=e=>e.layout.height,dm=e=>e.layout.scale,hm=e=>e.layout.margin,fm=pp(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),pm=pp(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),mm="data-recharts-item-index",gm="data-recharts-item-data-key";function vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(n),!0).forEach(function(t){xm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bm=pp([cm,um,hm,e=>e.brush.height,function(e){return pm(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return pm(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return fm(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return fm(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},Ep,e=>e.legend.size],(e,t,n,r,i,a,s,o,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},d=ym(ym({},{top:(n.top||0)+s,bottom:(n.bottom||0)+o}),u),h=d.bottom;d.bottom+=r,d=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==a&&vu(e[a]))return Kp(Kp({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===a)&&"middle"!==s&&vu(e[s]))return Kp(Kp({},e),{},{[s]:e[s]+(i||0)})}return e})(d,l,c);var f=e-d.left-d.right,p=t-d.top-d.bottom;return ym(ym({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})}),wm=pp(bm,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),km=pp(cm,um,(e,t)=>({x:0,y:0,width:e,height:t})),_m=(0,i.createContext)(null),Sm=()=>null!=(0,i.useContext)(_m),Am=e=>e.brush,Em=pp([Am,bm,hm],(e,t,n)=>({height:e.height,x:vu(e.x)?e.x:t.left,y:vu(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:vu(e.width)?e.width:t.width})),jm=()=>{var e,t=Sm(),n=_p(wm),r=_p(Em),i=null===(e=_p(Am))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},Cm={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Nm=()=>{var e;return null!==(e=_p(bm))&&void 0!==e?e:Cm},Pm=()=>_p(cm),Tm=()=>_p(um),Im=e=>e.layout.layoutType,Om=()=>_p(Im),Mm=n(9859),Dm=n.n(Mm);function Rm(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Lm(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Fm extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Um;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(zm(this,e))}has(e){return super.has(zm(this,e))}set(e,t){return super.set(Vm(this,e),t)}delete(e){return super.delete(Bm(this,e))}}Set;function zm(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Vm(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function Bm(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function Um(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Wm=Symbol("implicit");function Hm(){var e=new Fm,t=[],n=[],r=Wm;function i(i){let a=e.get(i);if(void 0===a){if(r!==Wm)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Fm;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Hm(t,n).unknown(r)},Rm.apply(i,arguments),i}function Km(){var e,t,n=Hm().unknown(void 0),r=n.domain,i=n.range,a=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=s<a,h=d?s:a,f=d?a:s;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,d()):[a,s]},n.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Km(r(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},Rm.apply(d(),arguments)}function qm(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qm(t())},e}function Gm(){return qm(Km.apply(null,arguments).paddingInner(1))}const Ym=Math.sqrt(50),Qm=Math.sqrt(10),Xm=Math.sqrt(2);function $m(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Ym?10:a>=Qm?5:a>=Xm?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?$m(e,t,2*n):[o,l,c]}function Jm(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,s]=r?$m(t,e,n):$m(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Zm(e,t,n){return $m(e=+e,t=+t,n=+n)[2]}function eg(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Zm(t,e,n):Zm(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function tg(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ng(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rg(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=tg,n=(t,n)=>tg(e(t),n),r=(t,n)=>e(t)-n):(t=e===tg||e===ng?e:ig,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function ig(){return 0}function ag(e){return null===e?NaN:+e}const sg=rg(tg),og=sg.right,lg=(sg.left,rg(ag).center,og);function cg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ug(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dg(){}var hg=.7,fg=1/hg,pg="\\s*([+-]?\\d+)\\s*",mg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vg=/^#([0-9a-f]{3,8})$/,yg=new RegExp("^rgb\\(".concat(pg,",").concat(pg,",").concat(pg,"\\)$")),xg=new RegExp("^rgb\\(".concat(gg,",").concat(gg,",").concat(gg,"\\)$")),bg=new RegExp("^rgba\\(".concat(pg,",").concat(pg,",").concat(pg,",").concat(mg,"\\)$")),wg=new RegExp("^rgba\\(".concat(gg,",").concat(gg,",").concat(gg,",").concat(mg,"\\)$")),kg=new RegExp("^hsl\\(".concat(mg,",").concat(gg,",").concat(gg,"\\)$")),_g=new RegExp("^hsla\\(".concat(mg,",").concat(gg,",").concat(gg,",").concat(mg,"\\)$")),Sg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ag(){return this.rgb().formatHex()}function Eg(){return this.rgb().formatRgb()}function jg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vg.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Cg(t):3===n?new Tg(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ng(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ng(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=yg.exec(e))?new Tg(t[1],t[2],t[3],1):(t=xg.exec(e))?new Tg(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=bg.exec(e))?Ng(t[1],t[2],t[3],t[4]):(t=wg.exec(e))?Ng(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=kg.exec(e))?Lg(t[1],t[2]/100,t[3]/100,1):(t=_g.exec(e))?Lg(t[1],t[2]/100,t[3]/100,t[4]):Sg.hasOwnProperty(e)?Cg(Sg[e]):"transparent"===e?new Tg(NaN,NaN,NaN,0):null}function Cg(e){return new Tg(e>>16&255,e>>8&255,255&e,1)}function Ng(e,t,n,r){return r<=0&&(e=t=n=NaN),new Tg(e,t,n,r)}function Pg(e,t,n,r){return 1===arguments.length?((i=e)instanceof dg||(i=jg(i)),i?new Tg((i=i.rgb()).r,i.g,i.b,i.opacity):new Tg):new Tg(e,t,n,null==r?1:r);var i}function Tg(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ig(){return"#".concat(Rg(this.r)).concat(Rg(this.g)).concat(Rg(this.b))}function Og(){const e=Mg(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Dg(this.r),", ").concat(Dg(this.g),", ").concat(Dg(this.b)).concat(1===e?")":", ".concat(e,")"))}function Mg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rg(e){return((e=Dg(e))<16?"0":"")+e.toString(16)}function Lg(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zg(e,t,n,r)}function Fg(e){if(e instanceof zg)return new zg(e.h,e.s,e.l,e.opacity);if(e instanceof dg||(e=jg(e)),!e)return new zg;if(e instanceof zg)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(n-r)/o+6*(n<r):n===a?(r-t)/o+2:(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new zg(s,o,l,e.opacity)}function zg(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Vg(e){return(e=(e||0)%360)<0?e+360:e}function Bg(e){return Math.max(0,Math.min(1,e||0))}function Ug(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Wg(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}cg(dg,jg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ag,formatHex:Ag,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Fg(this).formatHsl()},formatRgb:Eg,toString:Eg}),cg(Tg,Pg,ug(dg,{brighter(e){return e=null==e?fg:Math.pow(fg,e),new Tg(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?hg:Math.pow(hg,e),new Tg(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tg(Dg(this.r),Dg(this.g),Dg(this.b),Mg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ig,formatHex:Ig,formatHex8:function(){return"#".concat(Rg(this.r)).concat(Rg(this.g)).concat(Rg(this.b)).concat(Rg(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Og,toString:Og})),cg(zg,function(e,t,n,r){return 1===arguments.length?Fg(e):new zg(e,t,n,null==r?1:r)},ug(dg,{brighter(e){return e=null==e?fg:Math.pow(fg,e),new zg(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?hg:Math.pow(hg,e),new zg(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Tg(Ug(e>=240?e-240:e+120,i,r),Ug(e,i,r),Ug(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new zg(Vg(this.h),Bg(this.s),Bg(this.l),Mg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mg(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Vg(this.h),", ").concat(100*Bg(this.s),"%, ").concat(100*Bg(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Hg=e=>()=>e;function Kg(e,t){return function(n){return e+n*t}}function qg(e){return 1===(e=+e)?Gg:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Hg(isNaN(t)?n:t)}}function Gg(e,t){var n=t-e;return n?Kg(e,n):Hg(isNaN(e)?t:e)}const Yg=function e(t){var n=qg(t);function r(e,t){var r=n((e=Pg(e)).r,(t=Pg(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),s=Gg(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function Qg(e){return function(t){var n,r,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=Pg(t[n]),a[n]=r.r||0,s[n]=r.g||0,o[n]=r.b||0;return a=e(a),s=e(s),o=e(o),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=o(e),r+""}}}Qg(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return Wg((n-r/t)*t,s,i,a,o)}}),Qg(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return Wg((n-r/t)*t,i,a,s,o)}});function Xg(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),s=new Array(r);for(n=0;n<i;++n)a[n]=iv(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=a[n](e);return s}}function $g(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zg(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=iv(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var ev=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tv=new RegExp(ev.source,"g");function nv(e,t){var n,r,i,a=ev.lastIndex=tv.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=ev.exec(e))&&(r=tv.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,l.push({i:s,x:Jg(n,r)})),a=tv.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function rv(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function iv(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Hg(t):("number"===i?Jg:"string"===i?(n=jg(t))?(t=n,Yg):nv:t instanceof jg?Yg:t instanceof Date?$g:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Xg:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Zg:Jg:rv))(e,t)}function av(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function sv(e){return+e}var ov=[0,1];function lv(e){return e}function cv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function uv(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=cv(i,r),a=n(s,a)):(r=cv(r,i),a=n(a,s)),function(e){return a(r(e))}}function dv(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=cv(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=lg(e,t,1,r)-1;return a[n](i[n](t))}}function hv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fv(){var e,t,n,r,i,a,s=ov,o=ov,l=iv,c=lv;function u(){var e=Math.min(s.length,o.length);return c!==lv&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),r=e>2?dv:uv,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(s.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(o,s.map(e),Jg)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,sv),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=av,u()},d.clamp=function(e){return arguments.length?(c=!!e||lv,u()):c!==lv},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function pv(){return fv()(lv,lv)}var mv,gv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vv(e){if(!(t=gv.exec(e)))throw new Error("invalid format: "+e);var t;return new yv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function yv(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function xv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function bv(e){return(e=xv(Math.abs(e)))?e[1]:NaN}function wv(e,t){var n=xv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}vv.prototype=yv.prototype,yv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const kv={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wv(100*e,t),r:wv,s:function(e,t){var n=xv(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(mv=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xv(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _v(e){return e}var Sv,Av,Ev,jv=Array.prototype.map,Cv=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Nv(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?_v:(t=jv.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?_v:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(jv.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=vv(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):kv[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",w=kv[y],k=/[defgprs%]/.test(y);function _(e){var i,a,l,h=x,_=b;if("c"===y)_=w(e)+_,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,_=("s"===y?Cv[8+mv/3]:"")+_+(S&&"("===d?")":""),k)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){_=(46===l?s+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var A=h.length+e.length+_.length,E=A<p?new Array(p-A+1).join(t):"";switch(m&&f&&(e=r(E+e,E.length?p-_.length:1/0),E=""),n){case"<":e=h+e+_+E;break;case"=":e=h+E+e+_;break;case"^":e=E.slice(0,A=E.length>>1)+h+e+_+E.slice(A);break;default:e=E+h+e+_}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var n=d(((e=vv(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(bv(t)/3))),i=Math.pow(10,-r),a=Cv[8+r/3];return function(e){return n(i*e)+a}}}}function Pv(e,t,n,r){var i,a=eg(e,t,n);switch((r=vv(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bv(t)/3)))-bv(Math.abs(e)))}(a,s))||(r.precision=i),Ev(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bv(t)-bv(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-bv(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return Av(r)}function Tv(e){var t=e.domain;return e.ticks=function(e){var n=t();return Jm(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Pv(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);u-- >0;){if((i=Zm(l,c,n))===r)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Iv(){var e=pv();return e.copy=function(){return hv(e,Iv())},Rm.apply(e,arguments),Tv(e)}function Ov(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,sv),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Ov(e).unknown(t)},e=arguments.length?Array.from(e,sv):[0,1],Tv(n)}function Mv(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],s=e[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),e[r]=t.floor(a),e[i]=t.ceil(s),e}function Dv(e){return Math.log(e)}function Rv(e){return Math.exp(e)}function Lv(e){return-Math.log(-e)}function Fv(e){return-Math.exp(-e)}function zv(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vv(e){return(t,n)=>-e(-t,n)}function Bv(e){const t=e(Dv,Rv),n=t.domain;let r,i,a=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?zv:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=Vv(r),i=Vv(i),e(Lv,Fv)):e(Dv,Rv),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=r(s),h=r(o);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;p.push(u)}2*p.length<f&&(p=Jm(s,o,f))}else p=Jm(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=vv(n)).precision||(n.trim=!0),n=Av(n)),e===1/0)return n;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=s?n(e):""}},t.nice=()=>n(Mv(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Uv(){const e=Bv(fv()).domain([1,10]);return e.copy=()=>hv(e,Uv()).base(e.base()),Rm.apply(e,arguments),e}function Wv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Hv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Kv(e){var t=1,n=e(Wv(t),Hv(t));return n.constant=function(n){return arguments.length?e(Wv(t=+n),Hv(t)):t},Tv(n)}function qv(){var e=Kv(fv());return e.copy=function(){return hv(e,qv()).constant(e.constant())},Rm.apply(e,arguments)}function Gv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yv(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qv(e){return e<0?-e*e:e*e}function Xv(e){var t=e(lv,lv),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(lv,lv):.5===n?e(Yv,Qv):e(Gv(n),Gv(1/n)):n},Tv(t)}function $v(){var e=Xv(fv());return e.copy=function(){return hv(e,$v()).exponent(e.exponent())},Rm.apply(e,arguments),e}function Jv(){return $v.apply(null,arguments).exponent(.5)}function Zv(e){return Math.sign(e)*e*e}function ey(){var e,t=pv(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(Zv(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,sv)).map(Zv)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return ey(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Rm.apply(i,arguments),Tv(i)}function ty(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function ny(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function ry(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tg;if(e===tg)return iy;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function iy(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function ay(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?iy:ry(i);r>n;){if(r-n>600){const a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);ay(e,t,Math.max(n,Math.floor(t-s*l/a+c)),Math.min(r,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=n,o=r;for(sy(e,n,t),i(e[r],a)>0&&sy(e,n,r);s<o;){for(sy(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[n],a)?sy(e,n,o):(++o,sy(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function sy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function oy(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return ny(e);if(t>=1)return ty(e);var r,i=(r-1)*t,a=Math.floor(i),s=ty(ay(e,a).subarray(0,a+1));return s+(ny(e.subarray(a+1))-s)*(i-a)}}function ly(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ag;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(i-a)}}function cy(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=ly(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[lg(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(tg),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return cy().domain(t).range(n).unknown(e)},Rm.apply(a,arguments)}function uy(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[lg(i,t,0,r)]:e}function o(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return s}return s.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},s.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,o()):a.slice()},s.invertExtent=function(e){var s=a.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return uy().domain([t,n]).range(a).unknown(e)},Rm.apply(Tv(s),arguments)}function dy(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[lg(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return dy().domain(t).range(n).unknown(e)},Rm.apply(i,arguments)}Sv=Nv({thousands:",",grouping:[3],currency:["$",""]}),Av=Sv.format,Ev=Sv.formatPrefix;const hy=1e3,fy=6e4,py=36e5,my=864e5,gy=6048e5,vy=2592e6,yy=31536e6,xy=new Date,by=new Date;function wy(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return s;let o;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=n=>wy(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(xy.setTime(+t),by.setTime(+r),e(xy),e(by),Math.floor(n(xy,by))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const ky=wy(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ky.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?wy(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ky:null);ky.range;const _y=wy(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hy)},(e,t)=>(t-e)/hy,e=>e.getUTCSeconds()),Sy=(_y.range,wy(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hy)},(e,t)=>{e.setTime(+e+t*fy)},(e,t)=>(t-e)/fy,e=>e.getMinutes())),Ay=(Sy.range,wy(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fy)},(e,t)=>(t-e)/fy,e=>e.getUTCMinutes())),Ey=(Ay.range,wy(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hy-e.getMinutes()*fy)},(e,t)=>{e.setTime(+e+t*py)},(e,t)=>(t-e)/py,e=>e.getHours())),jy=(Ey.range,wy(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*py)},(e,t)=>(t-e)/py,e=>e.getUTCHours())),Cy=(jy.range,wy(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fy)/my,e=>e.getDate()-1)),Ny=(Cy.range,wy(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/my,e=>e.getUTCDate()-1)),Py=(Ny.range,wy(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/my,e=>Math.floor(e/my)));Py.range;function Ty(e){return wy(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fy)/gy)}const Iy=Ty(0),Oy=Ty(1),My=Ty(2),Dy=Ty(3),Ry=Ty(4),Ly=Ty(5),Fy=Ty(6);Iy.range,Oy.range,My.range,Dy.range,Ry.range,Ly.range,Fy.range;function zy(e){return wy(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/gy)}const Vy=zy(0),By=zy(1),Uy=zy(2),Wy=zy(3),Hy=zy(4),Ky=zy(5),qy=zy(6),Gy=(Vy.range,By.range,Uy.range,Wy.range,Hy.range,Ky.range,qy.range,wy(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),Yy=(Gy.range,wy(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Qy=(Yy.range,wy(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Qy.every=e=>isFinite(e=Math.floor(e))&&e>0?wy(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;Qy.range;const Xy=wy(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xy.every=e=>isFinite(e=Math.floor(e))&&e>0?wy(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Xy.range;function $y(e,t,n,r,i,a){const s=[[_y,1,hy],[_y,5,5e3],[_y,15,15e3],[_y,30,3e4],[a,1,fy],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,py],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,my],[r,2,1728e5],[n,1,gy],[t,1,vy],[t,3,7776e6],[e,1,yy]];function o(t,n,r){const i=Math.abs(n-t)/r,a=rg(e=>{let[,,t]=e;return t}).right(s,i);if(a===s.length)return e.every(eg(t/yy,n/yy,r));if(0===a)return ky.every(Math.max(eg(t,n,r),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:o(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},o]}const[Jy,Zy]=$y(Xy,Yy,Vy,Py,jy,Ay),[ex,tx]=$y(Qy,Gy,Iy,Cy,Ey,Sy);function nx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ix(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var ax,sx,ox,lx={"-":"",_:" ",0:"0"},cx=/^\s*\d+/,ux=/^%/,dx=/[\\^$*+?|[\]().{}]/g;function hx(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function fx(e){return e.replace(dx,"\\$&")}function px(e){return new RegExp("^(?:"+e.map(fx).join("|")+")","i")}function mx(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function gx(e,t,n){var r=cx.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function vx(e,t,n){var r=cx.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function yx(e,t,n){var r=cx.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xx(e,t,n){var r=cx.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function bx(e,t,n){var r=cx.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function wx(e,t,n){var r=cx.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function kx(e,t,n){var r=cx.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _x(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Sx(e,t,n){var r=cx.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Ax(e,t,n){var r=cx.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ex(e,t,n){var r=cx.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function jx(e,t,n){var r=cx.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Cx(e,t,n){var r=cx.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Nx(e,t,n){var r=cx.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Px(e,t,n){var r=cx.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Tx(e,t,n){var r=cx.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ix(e,t,n){var r=cx.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ox(e,t,n){var r=ux.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Mx(e,t,n){var r=cx.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Dx(e,t,n){var r=cx.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Rx(e,t){return hx(e.getDate(),t,2)}function Lx(e,t){return hx(e.getHours(),t,2)}function Fx(e,t){return hx(e.getHours()%12||12,t,2)}function zx(e,t){return hx(1+Cy.count(Qy(e),e),t,3)}function Vx(e,t){return hx(e.getMilliseconds(),t,3)}function Bx(e,t){return Vx(e,t)+"000"}function Ux(e,t){return hx(e.getMonth()+1,t,2)}function Wx(e,t){return hx(e.getMinutes(),t,2)}function Hx(e,t){return hx(e.getSeconds(),t,2)}function Kx(e){var t=e.getDay();return 0===t?7:t}function qx(e,t){return hx(Iy.count(Qy(e)-1,e),t,2)}function Gx(e){var t=e.getDay();return t>=4||0===t?Ry(e):Ry.ceil(e)}function Yx(e,t){return e=Gx(e),hx(Ry.count(Qy(e),e)+(4===Qy(e).getDay()),t,2)}function Qx(e){return e.getDay()}function Xx(e,t){return hx(Oy.count(Qy(e)-1,e),t,2)}function $x(e,t){return hx(e.getFullYear()%100,t,2)}function Jx(e,t){return hx((e=Gx(e)).getFullYear()%100,t,2)}function Zx(e,t){return hx(e.getFullYear()%1e4,t,4)}function eb(e,t){var n=e.getDay();return hx((e=n>=4||0===n?Ry(e):Ry.ceil(e)).getFullYear()%1e4,t,4)}function tb(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hx(t/60|0,"0",2)+hx(t%60,"0",2)}function nb(e,t){return hx(e.getUTCDate(),t,2)}function rb(e,t){return hx(e.getUTCHours(),t,2)}function ib(e,t){return hx(e.getUTCHours()%12||12,t,2)}function ab(e,t){return hx(1+Ny.count(Xy(e),e),t,3)}function sb(e,t){return hx(e.getUTCMilliseconds(),t,3)}function ob(e,t){return sb(e,t)+"000"}function lb(e,t){return hx(e.getUTCMonth()+1,t,2)}function cb(e,t){return hx(e.getUTCMinutes(),t,2)}function ub(e,t){return hx(e.getUTCSeconds(),t,2)}function db(e){var t=e.getUTCDay();return 0===t?7:t}function hb(e,t){return hx(Vy.count(Xy(e)-1,e),t,2)}function fb(e){var t=e.getUTCDay();return t>=4||0===t?Hy(e):Hy.ceil(e)}function pb(e,t){return e=fb(e),hx(Hy.count(Xy(e),e)+(4===Xy(e).getUTCDay()),t,2)}function mb(e){return e.getUTCDay()}function gb(e,t){return hx(By.count(Xy(e)-1,e),t,2)}function vb(e,t){return hx(e.getUTCFullYear()%100,t,2)}function yb(e,t){return hx((e=fb(e)).getUTCFullYear()%100,t,2)}function xb(e,t){return hx(e.getUTCFullYear()%1e4,t,4)}function bb(e,t){var n=e.getUTCDay();return hx((e=n>=4||0===n?Hy(e):Hy.ceil(e)).getUTCFullYear()%1e4,t,4)}function wb(){return"+0000"}function kb(){return"%"}function _b(e){return+e}function Sb(e){return Math.floor(+e/1e3)}function Ab(e){return new Date(e)}function Eb(e){return e instanceof Date?+e:+new Date(+e)}function jb(e,t,n,r,i,a,s,o,l,c){var u=pv(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,Eb)):h().map(Ab)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Mv(n,e)):u},u.copy=function(){return hv(u,jb(e,t,n,r,i,a,s,o,l,c))},u}function Cb(){return Rm.apply(jb(ex,tx,Qy,Gy,Iy,Cy,Ey,Sy,_y,sx).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nb(){return Rm.apply(jb(Jy,Zy,Xy,Yy,Vy,Ny,jy,Ay,_y,ox).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pb(){var e,t,n,r,i,a=0,s=1,o=lv,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=r(a=+a),t=r(s=+s),n=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(iv),c.rangeRound=u(av),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(s),n=e===t?0:1/(t-e),c}}function Tb(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ib(){var e=Tv(Pb()(lv));return e.copy=function(){return Tb(e,Ib())},Lm.apply(e,arguments)}function Ob(){var e=Bv(Pb()).domain([1,10]);return e.copy=function(){return Tb(e,Ob()).base(e.base())},Lm.apply(e,arguments)}function Mb(){var e=Kv(Pb());return e.copy=function(){return Tb(e,Mb()).constant(e.constant())},Lm.apply(e,arguments)}function Db(){var e=Xv(Pb());return e.copy=function(){return Tb(e,Db()).exponent(e.exponent())},Lm.apply(e,arguments)}function Rb(){return Db.apply(null,arguments).exponent(.5)}function Lb(){var e=[],t=lv;function n(n){if(null!=n&&!isNaN(n=+n))return t((lg(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(tg),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>oy(e,r/t))},n.copy=function(){return Lb(t).domain(e)},Lm.apply(n,arguments)}function Fb(){var e,t,n,r,i,a,s,o=0,l=.5,c=1,u=1,d=lv,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=iv);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(iv),f.rangeRound=p(av),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return a=s,e=s(o),t=s(l),n=s(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function zb(){var e=Tv(Fb()(lv));return e.copy=function(){return Tb(e,zb())},Lm.apply(e,arguments)}function Vb(){var e=Bv(Fb()).domain([.1,1,10]);return e.copy=function(){return Tb(e,Vb()).base(e.base())},Lm.apply(e,arguments)}function Bb(){var e=Kv(Fb());return e.copy=function(){return Tb(e,Bb()).constant(e.constant())},Lm.apply(e,arguments)}function Ub(){var e=Xv(Fb());return e.copy=function(){return Tb(e,Ub()).exponent(e.exponent())},Lm.apply(e,arguments)}function Wb(){return Ub.apply(null,arguments).exponent(.5)}!function(e){ax=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=px(i),u=mx(i),d=px(a),h=mx(a),f=px(s),p=mx(s),m=px(o),g=mx(o),v=px(l),y=mx(l),x={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:Rx,e:Rx,f:Bx,g:Jx,G:eb,H:Lx,I:Fx,j:zx,L:Vx,m:Ux,M:Wx,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:_b,s:Sb,S:Hx,u:Kx,U:qx,V:Yx,w:Qx,W:Xx,x:null,X:null,y:$x,Y:Zx,Z:tb,"%":kb},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:nb,e:nb,f:ob,g:yb,G:bb,H:rb,I:ib,j:ab,L:sb,m:lb,M:cb,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:_b,s:Sb,S:ub,u:db,U:hb,V:pb,w:mb,W:gb,x:null,X:null,y:vb,Y:xb,Z:wb,"%":kb},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:Ex,e:Ex,f:Ix,g:kx,G:wx,H:Cx,I:Cx,j:jx,L:Tx,m:Ax,M:Nx,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Sx,Q:Mx,s:Dx,S:Px,u:vx,U:yx,V:xx,w:gx,W:bx,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:kx,Y:wx,Z:_x,"%":Ox};function k(e,t){return function(n){var r,i,a,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=lx[r=e.charAt(++o)])?r=e.charAt(++o):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),s.push(r),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function _(e,t){return function(n){var r,i,a=ix(1900,void 0,1);if(S(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=rx(ix(a.y,0,1))).getUTCDay(),r=i>4||0===i?By.ceil(r):By(r),r=Ny.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=nx(ix(a.y,0,1))).getDay(),r=i>4||0===i?Oy.ceil(r):Oy(r),r=Cy.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?rx(ix(a.y,0,1)).getUTCDay():nx(ix(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,rx(a)):nx(a)}}function S(e,t,n,r){for(var i,a,s=0,o=t.length,l=n.length;s<o;){if(r>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=w[i in lx?t.charAt(s++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),{format:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),sx=ax.format,ax.parse,ox=ax.utcFormat,ax.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Hb=e=>e.chartData,Kb=pp([Hb],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),qb=(e,t,n,r)=>r?Kb(e):Hb(e);function Gb(e){return Number.isFinite(e)}function Yb(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function Qb(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(Gb(t)&&Gb(n))return!0}return!1}function Xb(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var $b=n(8210),Jb=n.n($b),Zb=e=>e,ew={"@@functional/placeholder":!0},tw=e=>e===ew,nw=e=>function t(){return 0===arguments.length||1===arguments.length&&tw(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},rw=(e,t)=>1===e?t:nw(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==ew).length;return a>=e?t(...r):rw(e-a,nw(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>tw(e)?n.shift():e);return t(...a,...n)}))}),iw=e=>rw(e.length,e),aw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},sw=iw((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),ow=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),lw=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function cw(e){return 0===e?1:Math.floor(new(Jb())(e).abs().log(10).toNumber())+1}function uw(e,t,n){for(var r=new(Jb())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}iw((e,t,n)=>{var r=+e;return r+n*(+t-r)}),iw((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),iw((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var dw=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},hw=(e,t,n)=>{if(e.lte(0))return new(Jb())(0);var r=cw(e.toNumber()),i=new(Jb())(10).pow(r),a=e.div(i),s=1!==r?.05:.1,o=new(Jb())(Math.ceil(a.div(s).toNumber())).add(n).mul(s).mul(i);return t?new(Jb())(o.toNumber()):new(Jb())(Math.ceil(o.toNumber()))},fw=(e,t,n)=>{var r=new(Jb())(1),i=new(Jb())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(Jb())(10).pow(cw(e)-1),i=new(Jb())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(Jb())(Math.floor(e)))}else 0===e?i=new(Jb())(Math.floor((t-1)/2)):n||(i=new(Jb())(Math.floor(e)));var s=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Zb;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(sw(e=>i.add(new(Jb())(e-s).mul(r)).toNumber()),aw)(0,t)},pw=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Jb())(0),tickMin:new(Jb())(0),tickMax:new(Jb())(0)};var a,s=hw(new(Jb())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(Jb())(0):(a=new(Jb())(e).add(t).div(2)).sub(new(Jb())(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new(Jb())(t).sub(a).div(s).toNumber()),c=o+l+1;return c>n?pw(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:a.sub(new(Jb())(o).mul(s)),tickMax:a.add(new(Jb())(l).mul(s))})};var mw=lw(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[s,o]=dw([t,n]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...aw(0,r-1).map(()=>1/0)]:[...aw(0,r-1).map(()=>-1/0),o];return t>n?ow(l):l}if(s===o)return fw(s,r,i);var{step:c,tickMin:u,tickMax:d}=pw(s,o,a,i,0),h=uw(u,d.add(new(Jb())(.1).mul(c)),c);return t>n?ow(h):h}),gw=lw(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,s]=dw([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var o=Math.max(t,2),l=hw(new(Jb())(s).sub(a).div(o-1),i,0),c=[...uw(new(Jb())(a),new(Jb())(s),l),s];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?ow(c):c}),vw=e=>e.rootProps.maxBarSize,yw=e=>e.rootProps.barCategoryGap,xw=e=>e.rootProps.stackOffset,bw=e=>e.options.chartName,ww=e=>e.rootProps.syncId,kw=e=>e.rootProps.syncMethod,_w=e=>e.options.eventEmitter,Sw=0,Aw="auto",Ew=!0,jw=!1,Cw=!0,Nw=0,Pw="auto",Tw=!0,Iw=5,Ow=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},Mw={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sw,includeHidden:!1,name:void 0,reversed:!1,scale:Aw,tick:Ew,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},Dw={allowDataOverflow:jw,allowDecimals:!1,allowDuplicatedCategory:Cw,dataKey:void 0,domain:void 0,id:Nw,includeHidden:!1,name:void 0,reversed:!1,scale:Pw,tick:Tw,tickCount:Iw,ticks:void 0,type:"number",unit:void 0},Rw={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:Sw,includeHidden:!1,name:void 0,reversed:!1,scale:Aw,tick:Ew,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Lw={allowDataOverflow:jw,allowDecimals:!1,allowDuplicatedCategory:Cw,dataKey:void 0,domain:void 0,id:Nw,includeHidden:!1,name:void 0,reversed:!1,scale:Pw,tick:Tw,tickCount:Iw,ticks:void 0,type:"category",unit:void 0},Fw=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?Rw:Mw,zw=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?Lw:Dw,Vw=e=>e.polarOptions,Bw=pp([cm,um,bm],zp),Uw=pp([Vw,Bw],(e,t)=>{if(null!=e)return wu(e.innerRadius,t,0)}),Ww=pp([Vw,Bw],(e,t)=>{if(null!=e)return wu(e.outerRadius,t,.8*t)}),Hw=pp([Vw],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),Kw=(pp([Fw,Hw],Ow),pp([Bw,Uw,Ww],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),qw=(pp([zw,Kw],Ow),pp([Im,Vw,Uw,Ww,cm,um],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:wu(s,i,i/2),cy:wu(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),Gw=(e,t)=>t,Yw=(e,t,n)=>n;function Qw(e){return null===e||void 0===e?void 0:e.id}var Xw=e=>{var t=Im(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},$w=e=>e.tooltip.settings.axisId,Jw=e=>{var t=Xw(e),n=$w(e);return mk(e,t,n)},Zw=pp([Jw],e=>null===e||void 0===e?void 0:e.dataKey);function ek(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=Qw(e);n.forEach((t,n)=>{var r,l=null==a||i?n:String(Gp(t,a,null)),c=Gp(t,e.dataKey,0);r=s.has(l)?s.get(l):{},Object.assign(r,{[o]:c}),s.set(l,r)})}}),Array.from(s.values())}function tk(e){return null!=e.stackId&&null!=e.dataKey}function nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nk(Object(n),!0).forEach(function(t){ik(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ik(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ak=[0,"auto"],sk={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ok=(e,t)=>e.cartesianAxis.xAxis[t],lk=(e,t)=>{var n=ok(e,t);return null==n?sk:n},ck={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ak,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},uk=(e,t)=>e.cartesianAxis.yAxis[t],dk=(e,t)=>{var n=uk(e,t);return null==n?ck:n},hk={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?hk:n},pk=(e,t,n)=>{switch(t){case"xAxis":return lk(e,n);case"yAxis":return dk(e,n);case"zAxis":return fk(e,n);case"angleAxis":return Fw(e,n);case"radiusAxis":return zw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mk=(e,t,n)=>{switch(t){case"xAxis":return lk(e,n);case"yAxis":return dk(e,n);case"angleAxis":return Fw(e,n);case"radiusAxis":return zw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gk=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function vk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var yk=e=>e.graphicalItems.cartesianItems,xk=pp([Gw,Yw],vk),bk=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),wk=pp([yk,pk,xk],bk),kk=pp([wk],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(tk)),_k=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),Sk=pp([wk],_k),Ak=e=>e.map(e=>e.data).filter(Boolean).flat(1),Ek=pp([wk],Ak),jk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Ck=pp([Ek,qb],jk),Nk=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Gp(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Gp(e,t)}))):e.map(e=>({value:e})),Pk=pp([Ck,pk,wk],Nk);function Tk(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Ik(e){return e.filter(e=>yu(e)||e instanceof Date).map(Number).filter(e=>!1===mu(e))}function Ok(e,t,n){return!n||"number"!==typeof t||mu(t)?[]:n.length?Ik(n.flatMap(n=>{var r,i,a=Gp(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,Gb(r)&&Gb(i))return[t-r,t+i]})):[]}var Mk=pp([kk,qb,Jw],ek),Dk=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(Qw);return[r,{stackedData:Zp(e,a,n),graphicalItems:i}]}))},Rk=pp([Mk,kk,xw],Dk),Lk=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=rm(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},Fk=pp([Rk,Hb,Gw],Lk),zk=(e,t,n,r,i)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var a,s,o=null===(a=r[n.id])||void 0===a?void 0:a.filter(e=>Tk(i,e)),l=Gp(e,null!==(s=t.dataKey)&&void 0!==s?s:n.dataKey);return{value:l,errorDomain:Ok(e,l,o)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Gp(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),Vk=e=>e.errorBars,Bk=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>Tk(n,e)),Uk=(pp([Sk,Vk,Gw],Bk),pp([Ck,pk,Sk,Vk,Gw],zk));function Wk(e){var{value:t}=e;if(yu(t)||t instanceof Date)return t}var Hk=e=>{var t=Ik(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},Kk=e=>{var t;if(null==e||!("domain"in e))return ak;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=Ik(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:ak},qk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},Gk=e=>e.referenceElements.dots,Yk=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),Qk=pp([Gk,Gw,Yw],Yk),Xk=e=>e.referenceElements.areas,$k=pp([Xk,Gw,Yw],Yk),Jk=e=>e.referenceElements.lines,Zk=pp([Jk,Gw,Yw],Yk),e_=(e,t)=>{var n=Ik(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},t_=pp(Qk,Gw,e_),n_=(e,t)=>{var n=Ik(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},r_=pp([$k,Gw],n_),i_=(e,t)=>{var n=Ik(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},a_=pp(Zk,Gw,i_),s_=pp(t_,a_,r_,(e,t,n)=>qk(e,n,t)),o_=pp([pk],Kk),l_=(e,t,n,r,i,a,s)=>{var o=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(Gb(i))n=i;else if("function"===typeof i)return;if(Gb(a))r=a;else if("function"===typeof a)return;var s=[n,r];if(Qb(s))return s}}(t,e.allowDataOverflow);return null!=o?o:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(Qb(r))return Xb(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[s,o]=e;if("auto"===s)null!=t&&(i=Math.min(...t));else if(vu(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof s&&im.test(s)){var l=im.exec(s);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(a=Math.max(...t));else if(vu(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof o&&am.test(o)){var u=am.exec(o);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(Qb(h))return null==t?h:Xb(h,t,n)}}}(t,"vertical"===a&&"xAxis"===s||"horizontal"===a&&"yAxis"===s?qk(n,i,Hk(r)):qk(i,Hk(r)),e.allowDataOverflow)},c_=pp([pk,o_,Fk,Uk,s_,Im,Gw],l_),u_=[0,1],d_=(e,t,n,r,i,a,s)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==s){var{dataKey:o,type:l}=e,c=Yp(t,a);return c&&null==o?Dm()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(Wk).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&ku(r))?Dm()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?u_:s}},h_=pp([pk,Im,Ck,Pk,xw,Gw,c_],d_),f_=(t,n,r,i,a)=>{if(null!=t){var{scale:s,type:o}=t;if("auto"===s)return"radial"===n&&"radiusAxis"===a?"band":"radial"===n&&"angleAxis"===a?"linear":"category"===o&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"===typeof s){var l="scale".concat(Eu(s));return l in e?l:"point"}}},p_=pp([pk,Im,gk,bw,Gw],f_);function m_(t,n,r,i){if(null!=r&&null!=i){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(i);var a=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(Eu(t));return n in e?e[n]():void 0}}(n);if(null!=a){var s=a.domain(r).range(i);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-$p,a=Math.max(r[0],r[1])+$p,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}})(s),s}}}var g_=(e,t,n)=>{var r=Kk(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&Qb(e)?mw(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&Qb(e)?gw(e,t.tickCount,t.allowDecimals):void 0},v_=pp([h_,mk,p_],g_),y_=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&Qb(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},x_=pp([pk,h_,v_,Gw],y_),b_=pp(Pk,pk,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(Ik(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),w_=pp(b_,Im,yw,bm,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Gb(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var s=wu(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),k_=pp(lk,(e,t)=>{var n=lk(e,t);return null==n||"string"!==typeof n.padding?0:w_(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),__=pp(dk,(e,t)=>{var n=dk(e,t);return null==n||"string"!==typeof n.padding?0:w_(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),S_=pp([bm,k_,Em,Am,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),A_=pp([bm,Im,__,Em,Am,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),E_=(e,t,n,r)=>{var i;switch(t){case"xAxis":return S_(e,n,r);case"yAxis":return A_(e,n,r);case"zAxis":return null===(i=fk(e,n))||void 0===i?void 0:i.range;case"angleAxis":return Hw(e);case"radiusAxis":return Kw(e,n);default:return}},j_=pp([pk,E_],Ow),C_=pp([pk,p_,x_,j_],m_);pp([wk,Vk,Gw],Bk);function N_(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var P_=(e,t)=>t,T_=(e,t,n)=>n,I_=pp(fm,P_,T_,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(N_)),O_=pp(pm,P_,T_,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(N_)),M_=(e,t)=>({width:e.width,height:t.height}),D_=pp(bm,lk,M_),R_=pp(um,bm,I_,P_,T_,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=M_(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;s[n.id]=a-Number(l)*o.height,a+=(l?-1:1)*o.height}),s}),L_=pp(cm,bm,O_,P_,T_,(e,t,n,r,i)=>{var a,s={};return n.forEach(n=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;s[n.id]=a-Number(l)*o.width,a+=(l?-1:1)*o.width}),s}),F_=pp([bm,lk,(e,t)=>{var n=lk(e,t);if(null!=n)return R_(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),z_=pp([bm,dk,(e,t)=>{var n=dk(e,t);if(null!=n)return L_(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null===n||void 0===n?void 0:n[r];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),V_=pp(bm,dk,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),B_=(e,t,n)=>{switch(t){case"xAxis":return D_(e,n).width;case"yAxis":return V_(e,n).height;default:return}},U_=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Yp(e,r),l=t.map(e=>e.value);return s&&o&&"category"===a&&i&&ku(l)?l:void 0}},W_=pp([Im,Pk,pk,Gw],U_),H_=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!Yp(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},K_=pp([Im,Pk,mk,Gw],H_),q_=pp([Im,(e,t,n)=>{switch(t){case"xAxis":return lk(e,n);case"yAxis":return dk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},p_,C_,W_,K_,E_,v_,Gw],(e,t,n,r,i,a,s,o,l)=>{if(null==t)return null;var c=Yp(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}),G_=pp([Im,mk,p_,C_,v_,E_,W_,K_,Gw],(e,t,n,r,i,a,s,o,l)=>{if(null!=t&&null!=r){var c=Yp(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*pu(a[0]-a[1])*p:p;var m=d||i;if(m){var g=m.map((e,t)=>{var n=s?s.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}});return g.filter(e=>!mu(e.coordinate))}return c&&o?o.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:s?s[e]:e,index:t,offset:p}))}}),Y_=pp([Im,mk,C_,E_,W_,K_,Gw],(e,t,n,r,i,a,s)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=Yp(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null===r||void 0===r?void 0:r.length)>=2?2*pu(r[0]-r[1])*c:c,o&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),Q_=pp(pk,C_,(e,t)=>{if(null!=e&&null!=t)return rk(rk({},e),{},{scale:t})}),X_=pp([pk,p_,h_,j_],m_),$_=(pp((e,t,n)=>fk(e,n),X_,(e,t)=>{if(null!=e&&null!=t)return rk(rk({},e),{},{scale:t})}),pp([Im,fm,pm],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),J_=e=>e.options.defaultTooltipEventType,Z_=e=>e.options.validateTooltipEventTypes;function eS(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function tS(e,t){return eS(t,J_(e),Z_(e))}var nS=(e,t)=>{var n,r=Number(t);if(!mu(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rS(Object(n),!0).forEach(function(t){aS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sS=(e,t,n,r)=>{if(null==t)return Rf;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return Rf;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return iS(iS({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return iS(iS({},Rf),{},{coordinate:i.coordinate})},oS=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!Gb(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},lS=(e,t,n,r,i,a,s,o)=>{if(null!=a&&null!=o){var l=s[0],c=null==l?void 0:o(l.positions,a);if(null!=c)return c;var u=null===i||void 0===i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},cS=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},uS=e=>e.options.tooltipPayloadSearcher,dS=e=>e.tooltip;function hS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hS(Object(n),!0).forEach(function(t){pS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mS=(e,t,n,r,i,a,s)=>{if(null!=t&&null!=a){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,o),v=Array.isArray(g)?Wp(g,c,u):g,y=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:r,x=null===m||void 0===m?void 0:m.nameKey;(h=r&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===s?Su(v,r,i):a(v,t,l,x),Array.isArray(h))?h.forEach(t=>{var n=fS(fS({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(om({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:Gp(t.payload,t.dataKey),name:t.name}))}):e.push(om({tooltipEntrySettings:m,dataKey:y,payload:h,value:Gp(h,y),name:null!==(f=Gp(h,x))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},gS=pp([Jw,Im,gk,bw,Xw],f_),vS=pp([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),yS=pp([Xw,$w],vk),xS=pp([vS,Jw,yS],bk),bS=pp([xS],e=>e.filter(tk)),wS=pp([xS],Ak),kS=pp([wS,Hb],jk),_S=pp([bS,Hb,Jw],ek),SS=pp([kS,Jw,xS],Nk),AS=pp([Jw],Kk),ES=pp([xS],e=>e.filter(tk)),jS=pp([_S,ES,xw],Dk),CS=pp([jS,Hb,Xw],Lk),NS=pp([xS],_k),PS=pp([kS,Jw,NS,Vk,Xw],zk),TS=pp([Gk,Xw,$w],Yk),IS=pp([TS,Xw],e_),OS=pp([Xk,Xw,$w],Yk),MS=pp([OS,Xw],n_),DS=pp([Jk,Xw,$w],Yk),RS=pp([DS,Xw],i_),LS=pp([IS,RS,MS],qk),FS=pp([Jw,AS,CS,PS,LS,Im,Xw],l_),zS=pp([Jw,Im,kS,SS,xw,Xw,FS],d_),VS=pp([zS,Jw,gS],g_),BS=pp([Jw,zS,VS,Xw],y_),US=e=>{var t=Xw(e),n=$w(e);return E_(e,t,n,!1)},WS=pp([Jw,US],Ow),HS=pp([Jw,gS,BS,WS],m_),KS=pp([Im,SS,Jw,Xw],U_),qS=pp([Im,SS,Jw,Xw],H_),GS=pp([Im,Jw,gS,HS,US,KS,qS,Xw],(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=Yp(e,o);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===o&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*pu(i[0]-i[1])*d:d,c&&s?s.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),YS=pp([J_,Z_,e=>e.tooltip.settings],(e,t,n)=>eS(n.shared,e,t)),QS=e=>e.tooltip.settings.trigger,XS=e=>e.tooltip.settings.defaultIndex,$S=pp([dS,YS,QS,XS],sS),JS=pp([$S,kS],oS),ZS=pp([GS,JS],nS),eA=pp([$S],e=>{if(e)return e.dataKey}),tA=pp([dS,YS,QS,XS],cS),nA=pp([cm,um,Im,bm,GS,XS,tA,uS],lS),rA=pp([$S,nA],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),iA=pp([$S],e=>e.active),aA=pp([tA,JS,Hb,Zw,ZS,uS,YS],mS),sA=pp([aA],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),oA=()=>_p(bw),lA=(e,t)=>t,cA=(e,t,n)=>n,uA=(e,t,n,r)=>r,dA=pp(GS,e=>Ap()(e,e=>e.coordinate)),hA=pp([dS,lA,cA,uA],sS),fA=pp([hA,kS],oS),pA=pp([dS,lA,cA,uA],cS),mA=pp([cm,um,Im,bm,GS,uA,pA,uS],lS),gA=pp([hA,mA],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),vA=pp(GS,fA,nS),yA=pp([pA,fA,Hb,Zw,vA,uS,lA],mS),xA=pp([hA],e=>({isActive:e.active,activeIndex:e.index})),bA=pp([(e,t)=>t,Im,qw,Xw,WS,GS,dA,bm],(e,t,n,r,i,a,s,o)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?Up({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,s=-1,o=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(pu(u-c)!==pu(d-u)){var f=[];if(pu(d-u)===pu(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+i[1]-i[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:s}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:s}=n[l]);break}}}else if(t)for(var x=0;x<o;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:s}=t[x]);break}return s})(c,s,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:s}=r;return Kp(Kp(Kp({},r),Fp(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Kp(Kp(Kp({},r),Fp(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),wA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},kA=Ld("mouseClick"),_A=Ph();_A.startListening({actionCreator:kA,effect:(e,t)=>{var n=e.payload,r=bA(t.getState(),wA(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(qf({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var SA=Ld("mouseMove"),AA=Ph();function EA(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jA(Object(n),!0).forEach(function(t){NA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}AA.startListening({actionCreator:SA,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=tS(r,r.tooltip.settings.shared),a=bA(r,wA(n));"axis"===i&&(null!=(null===a||void 0===a?void 0:a.activeIndex)?t.dispatch(Kf({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Wf()))}});var PA=$d({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=CA(CA({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:TA,removeXAxis:IA,addYAxis:OA,removeYAxis:MA,addZAxis:DA,removeZAxis:RA,updateYAxisWidth:LA}=PA.actions,FA=PA.reducer,zA=$d({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Td(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Td(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Td(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:VA,replaceCartesianGraphicalItem:BA,removeCartesianGraphicalItem:UA,addPolarGraphicalItem:WA,removePolarGraphicalItem:HA}=zA.actions,KA=zA.reducer,qA=$d({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Td(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Td(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Td(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:GA,removeDot:YA,addArea:QA,removeArea:XA,addLine:$A,removeLine:JA}=qA.actions,ZA=qA.reducer,eE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tE=$d({name:"brush",initialState:eE,reducers:{setBrushSettings:(e,t)=>null==t.payload?eE:t.payload}}),{setBrushSettings:nE}=tE.actions,rE=tE.reducer,iE=$d({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Td(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:aE,setLegendSettings:sE,addLegendPayload:oE,removeLegendPayload:lE}=iE.actions,cE=iE.reducer,uE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},dE=$d({name:"rootProps",initialState:uE,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:uE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),hE=dE.reducer,{updateOptions:fE}=dE.actions,pE=$d({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:mE,removeRadiusAxis:gE,addAngleAxis:vE,removeAngleAxis:yE}=pE.actions,xE=pE.reducer,bE=$d({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:wE}=bE.actions,kE=bE.reducer,_E=Ld("keyDown"),SE=Ld("focus"),AE=Ph();AE.startListening({actionCreator:_E,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(oS(r,kS(n))),s=GS(n);if("Enter"!==i){var o=a+("ArrowRight"===i?1:-1)*("left-to-right"===$_(n)?1:-1);if(!(null==s||o>=s.length||o<0)){var l=mA(n,"axis","hover",String(o));t.dispatch(Yf({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=mA(n,"axis","hover",String(r.index));t.dispatch(Yf({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),AE.startListening({actionCreator:SE,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=mA(n,"axis","hover",String("0"));t.dispatch(Yf({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var EE=Ld("externalEvent"),jE=Ph();jE.startListening({actionCreator:EE,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:rA(n),activeDataKey:eA(n),activeIndex:JS(n),activeLabel:ZS(n),activeTooltipIndex:JS(n),isTooltipActive:iA(n)};e.payload.handler(r,e.payload.reactEvent)}}});var CE=pp([dS],e=>e.tooltipItemPayloads),NE=pp([CE,uS,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),PE=Ld("touchMove"),TE=Ph();TE.startListening({actionCreator:PE,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=tS(r,r.tooltip.settings.shared);if("axis"===i){var a=bA(r,wA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch(Kf({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var s,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(mm),u=null!==(s=l.getAttribute(gm))&&void 0!==s?s:void 0,d=NE(t.getState(),c,u);t.dispatch(Bf({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var IE=$d({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:OE,replaceErrorBar:ME,removeErrorBar:DE}=IE.actions,RE=IE.reducer,LE=!1,FE=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),zE=zu({brush:rE,cartesianAxis:FA,chartData:ep,errorBars:RE,graphicalItems:KA,layout:sp,legend:cE,options:Mh,polarAxis:xE,polarOptions:kE,referenceElements:ZA,rootProps:hE,tooltip:Qf});function VE(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Sm(),s=(0,i.useRef)(null);if(a)return n;null==s.current&&(s.current=function(e){return Hd({reducer:zE,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([_A.middleware,AA.middleware,AE.middleware,jE.middleware,TE.middleware]),devTools:LE&&{serialize:{replacer:EA},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,r));var o=vp;return i.createElement(qh,{context:o,store:s.current},n)}var BE=e=>{var{chartData:t}=e,n=xp(),r=Sm();return(0,i.useEffect)(()=>r?()=>{}:(n($f(t)),()=>{n($f(void 0))}),[t,n,r]),null};function UE(e){var{layout:t,width:n,height:r,margin:a}=e,s=xp(),o=Sm();return(0,i.useEffect)(()=>{o||(s(rp(t)),s(ip({width:n,height:r})),s(np(a)))},[s,o,t,n,r,a]),null}function WE(e){var t=xp();return(0,i.useEffect)(()=>{t(fE(e))},[t,e]),null}var HE=()=>_p(e=>e.rootProps.accessibilityLayer),KE=n(2086),qE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function GE(e){return"string"===typeof e&&qE.includes(e)}var YE=["points","pathLength"],QE={svg:["viewBox","children"],polygon:YE,polyline:YE},XE=(e,t)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var r={};return Object.keys(n).forEach(e=>{GE(e)&&(r[e]=t||(t=>n[e](n,t)))}),r},$E=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];GE(i)&&"function"===typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},JE=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function ZE(e){return"string"===typeof e&&JE.includes(e)}function ej(e){var t=Object.entries(e).filter(e=>{var[t]=e;return ZE(t)});return Object.fromEntries(t)}var tj=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",nj=null,rj=null,ij=e=>{if(e===nj&&Array.isArray(rj))return rj;var t=[];return i.Children.forEach(e,e=>{Au(e)||((0,KE.isFragment)(e)?t=t.concat(ij(e.props.children)):t.push(e))}),rj=t,nj=e,t};function aj(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>tj(e)):[tj(t)],ij(e).forEach(e=>{var t=fu()(e,"type.displayName")||fu()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var sj=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),oj=(e,t,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var a={};return Object.keys(r).forEach(e=>{var i;((e,t,n,r)=>{var i;if("symbol"===typeof t||"number"===typeof t)return!0;var a=null!==(i=r&&(null===QE||void 0===QE?void 0:QE[r]))&&void 0!==i?i:[],s=t.startsWith("data-"),o="function"!==typeof e&&(Boolean(r)&&a.includes(t)||ZE(t)),l=Boolean(n)&&GE(t);return s||o||l})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(a[e]=r[e])}),a},lj=["children","width","height","viewBox","className","style","title","desc"];function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cj.apply(null,arguments)}var uj=(0,i.forwardRef)((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,lj),h=s||{width:r,height:a,x:0,y:0},f=cu("recharts-surface",o);return i.createElement("svg",cj({},oj(d,!0,"svg"),{className:f,width:r,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),i.createElement("title",null,c),i.createElement("desc",null,u),n)}),dj=["children"];function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hj.apply(null,arguments)}var fj={width:"100%",height:"100%"},pj=(0,i.forwardRef)((e,t)=>{var n=Pm(),r=Tm(),a=HE();if(!Yb(n)||!Yb(r))return null;var s,o,{children:l,otherAttributes:c,title:u,desc:d}=e;return s="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,o="string"===typeof c.role?c.role:a?"application":void 0,i.createElement(uj,hj({},c,{title:u,desc:d,role:o,tabIndex:s,width:n,height:r,style:fj,ref:t}),l)}),mj=e=>{var{children:t}=e,n=_p(Em);if(!n)return null;var{width:r,height:a,y:s,x:o}=n;return i.createElement(uj,{width:r,height:a,x:o,y:s},t)},gj=(0,i.forwardRef)((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dj);return Sm()?i.createElement(mj,null,n):i.createElement(pj,hj({ref:t},r),n)});var vj=new(n(8499)),yj="recharts.syncEvent.tooltip",xj="recharts.syncEvent.brush";function bj(e){return e.tooltip.syncInteraction}var wj=["x","y"];function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(t){Sj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Aj=()=>{};function Ej(){var e=_p(ww),t=_p(_w),n=xp(),r=_p(kw),a=_p(GS),s=Om(),o=jm(),l=_p(e=>e.rootProps.className);(0,i.useEffect)(()=>{if(null==e)return Aj;var i=(i,l,c)=>{var u;if(t!==c&&e===i)if("index"!==r){if(null!=a){var d;if("function"===typeof r){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=r(a,h);d=a[f]}else"value"===r&&(d=a.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=o){var{x:m,y:g}=p,v=Math.min(m,o.x+o.width),y=Math.min(g,o.y+o.height),x={x:"horizontal"===s?d.coordinate:v,y:"horizontal"===s?y:d.coordinate},b=Gf({active:l.payload.active,coordinate:x,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label});n(b)}else n(Gf({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else if(o&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate){var w=l.payload.coordinate,{x:k,y:_}=w,S=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(w,wj),A=_j(_j(_j({},S),"number"===typeof k&&{x:Math.max(o.x,Math.min(k,o.x+o.width))}),"number"===typeof _&&{y:Math.max(o.y,Math.min(_,o.y+o.height))}),E=_j(_j({},l),{},{payload:_j(_j({},l.payload),{},{coordinate:A})});n(E)}else n(l)};return vj.on(yj,i),()=>{vj.off(yj,i)}},[l,n,t,e,r,a,s,o])}function jj(){var e=xp();(0,i.useEffect)(()=>{e(Dh())},[e]),Ej(),function(){var e=_p(ww),t=_p(_w),n=xp();(0,i.useEffect)(()=>{if(null==e)return Aj;var r=(r,i,a)=>{t!==a&&e===r&&n(Jf(i))};return vj.on(xj,r),()=>{vj.off(xj,r)}},[n,t,e])}()}function Cj(e,t,n,r,a,s){var o=_p(n=>((e,t,n)=>{if(null!=t){var r=dS(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),l=_p(_w),c=_p(ww),u=_p(kw),d=_p(bj),h=null===d||void 0===d?void 0:d.active;(0,i.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Gf({active:s,coordinate:n,dataKey:o,index:a,label:"number"===typeof r?String(r):r});vj.emit(yj,c,e,l)}},[h,n,o,a,r,l,c,u,s])}var Nj=(0,i.createContext)(null),Pj=(0,i.createContext)(null);function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ij(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(t){Oj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mj=(0,i.forwardRef)((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:y}=e,x=xp(),[b,w]=(0,i.useState)(null),[k,_]=(0,i.useState)(null);jj();var S=function(){var e=xp(),[t,n]=(0,i.useState)(null),r=_p(dm);return(0,i.useEffect)(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;Gb(n)&&n!==r&&e(ap(n))}},[t,e,r]),n}(),A=(0,i.useCallback)(e=>{S(e),"function"===typeof t&&t(e),w(e),_(e)},[S,t,w,_]),E=(0,i.useCallback)(e=>{x(kA(e)),x(EE({handler:s,reactEvent:e}))},[x,s]),j=(0,i.useCallback)(e=>{x(SA(e)),x(EE({handler:u,reactEvent:e}))},[x,u]),C=(0,i.useCallback)(e=>{x(Wf()),x(EE({handler:d,reactEvent:e}))},[x,d]),N=(0,i.useCallback)(e=>{x(SA(e)),x(EE({handler:h,reactEvent:e}))},[x,h]),P=(0,i.useCallback)(()=>{x(SE())},[x]),T=(0,i.useCallback)(e=>{x(_E(e.key))},[x]),I=(0,i.useCallback)(e=>{x(EE({handler:o,reactEvent:e}))},[x,o]),O=(0,i.useCallback)(e=>{x(EE({handler:l,reactEvent:e}))},[x,l]),M=(0,i.useCallback)(e=>{x(EE({handler:c,reactEvent:e}))},[x,c]),D=(0,i.useCallback)(e=>{x(EE({handler:f,reactEvent:e}))},[x,f]),R=(0,i.useCallback)(e=>{x(EE({handler:g,reactEvent:e}))},[x,g]),L=(0,i.useCallback)(e=>{x(PE(e)),x(EE({handler:m,reactEvent:e}))},[x,m]),F=(0,i.useCallback)(e=>{x(EE({handler:p,reactEvent:e}))},[x,p]);return i.createElement(Nj.Provider,{value:b},i.createElement(Pj.Provider,{value:k},i.createElement("div",{className:cu("recharts-wrapper",r),style:Ij({position:"relative",cursor:"default",width:y,height:a},v),onClick:E,onContextMenu:I,onDoubleClick:O,onFocus:P,onKeyDown:T,onMouseDown:M,onMouseEnter:j,onMouseLeave:C,onMouseMove:N,onMouseUp:D,onTouchEnd:F,onTouchMove:L,onTouchStart:R,ref:A},n)))}),Dj=pp([bm],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Rj=pp([Dj,cm,um],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Lj=()=>_p(Rj),Fj=(0,i.createContext)(void 0),zj=e=>{var{children:t}=e,[n]=(0,i.useState)("".concat(bu("recharts"),"-clip")),r=Lj();if(null==r)return null;var{x:a,y:s,width:o,height:l}=r;return i.createElement(Fj.Provider,{value:n},i.createElement("defs",null,i.createElement("clipPath",{id:n},i.createElement("rect",{x:a,y:s,height:l,width:o}))),t)},Vj=["children","className","width","height","style","compact","title","desc"];var Bj=(0,i.forwardRef)((e,t)=>{var{children:n,className:r,width:a,height:s,style:o,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Vj),h=ej(d);return l?i.createElement(gj,{otherAttributes:h,title:c,desc:u},n):i.createElement(Mj,{className:r,style:o,width:a,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},i.createElement(gj,{otherAttributes:h,title:c,desc:u,ref:t},i.createElement(zj,null,n)))});function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hj(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(t){Wj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var Kj=["width","height"];function qj(){return qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qj.apply(null,arguments)}var Gj={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},Yj=(0,i.forwardRef)(function(e,t){var n,r=Hj(e.categoricalChartProps,Gj),{width:a,height:s}=r,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,Kj);if(!Yb(a)||!Yb(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return i.createElement(VE,{preloadedState:{options:f},reduxStoreName:null!==(n=h.id)&&void 0!==n?n:l},i.createElement(BE,{chartData:h.data}),i.createElement(UE,{width:a,height:s,layout:r.layout,margin:r.margin}),i.createElement(WE,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),i.createElement(Bj,qj({},o,{width:a,height:s,ref:t})))}),Qj=["axis"],Xj=(0,i.forwardRef)((e,t)=>i.createElement(Yj,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qj,tooltipPayloadSearcher:Ih,categoricalChartProps:e,ref:t})),$j=n(7950);function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jj.apply(null,arguments)}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(t){tC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nC(e){return Array.isArray(e)&&yu(e[0])&&yu(e[1])?e.join(" ~ "):e}var rC=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,p=eC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=eC({margin:0},a),g=!Au(d),v=g?d:"",y=cu("recharts-default-tooltip",c),x=cu("recharts-tooltip-label",u);g&&h&&void 0!==s&&null!==s&&(v=h(d,s));var b=f?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",Jj({className:y,style:p},b),i.createElement("p",{className:x,style:m},i.isValidElement(v)?v:"".concat(v)),(()=>{if(s&&s.length){var e=(l?Ap()(s,l):s).map((e,n)=>{if("none"===e.type)return null;var a=e.formatter||o||nC,{value:l,name:c}=e,u=l,d=c;if(a){var h=a(l,c,e,n,s);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=eC({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},yu(d)?i.createElement("span",{className:"recharts-tooltip-item-name"},d):null,yu(d)?i.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,i.createElement("span",{className:"recharts-tooltip-item-value"},u),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},iC="recharts-tooltip-wrapper",aC={visibility:"hidden"};function sC(e){var{coordinate:t,translateX:n,translateY:r}=e;return cu(iC,{["".concat(iC,"-right")]:vu(n)&&t&&vu(t.x)&&n>=t.x,["".concat(iC,"-left")]:vu(n)&&t&&vu(t.x)&&n<t.x,["".concat(iC,"-bottom")]:vu(r)&&t&&vu(t.y)&&r>=t.y,["".concat(iC,"-top")]:vu(r)&&t&&vu(t.y)&&r<t.y})}function oC(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&vu(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?u:d;var h=l[r];return null==h?0:s[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function lC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lC(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class dC extends i.PureComponent{constructor(){super(...arguments),uC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uC(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:x}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:s,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=oC({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=oC({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:s,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):aC,{cssProperties:t,cssClasses:sC({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:t,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),b=v?{}:cC(cC({transition:l&&e?"transform ".concat(n,"ms ").concat(r):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=cC(cC({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return i.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:g},a)}}var hC=n(4332),fC=n.n(hC);var pC,mC,gC,vC,yC,xC,bC,wC,kC,_C,SC,AC,EC,jC;function CC(){}function NC(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function PC(e){this._context=e}function TC(e){this._context=e}function IC(e){this._context=e}PC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:NC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:NC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},TC.prototype={areaStart:CC,areaEnd:CC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:NC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},IC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:NC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class OC{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function MC(e){this._context=e}function DC(e){this._context=e}function RC(e){return new DC(e)}function LC(e){return e<0?-1:1}function FC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(LC(a)+LC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function zC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function VC(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function BC(e){this._context=e}function UC(e){this._context=new WC(e)}function WC(e){this._context=e}function HC(e){this._context=e}function KC(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function qC(e,t){this._context=e,this._t=t}function GC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}MC.prototype={areaStart:CC,areaEnd:CC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},DC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},BC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VC(this,this._t0,zC(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,VC(this,zC(this,n=FC(this,e,t)),n);break;default:VC(this,this._t0,n=FC(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(UC.prototype=Object.create(BC.prototype)).point=function(e,t){BC.prototype.point.call(this,t,e)},WC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},HC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=KC(e),i=KC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},qC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const YC=Math.PI,QC=2*YC,XC=1e-6,$C=QC-XC;function JC(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class ZC{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?JC:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return JC;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(pC||(pC=GC(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(mC||(mC=GC(["Z"]))))}lineTo(e,t){this._append(gC||(gC=GC(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(vC||(vC=GC(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(yC||(yC=GC(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,s=this._y1,o=n-e,l=r-t,c=a-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append(xC||(xC=GC(["M",",",""])),this._x1=e,this._y1=t);else if(d>XC)if(Math.abs(u*o-l*c)>XC&&i){let h=n-a,f=r-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),v=Math.sqrt(d),y=i*Math.tan((YC-Math.acos((p+d-m)/(2*g*v)))/2),x=y/v,b=y/g;Math.abs(x-1)>XC&&this._append(wC||(wC=GC(["L",",",""])),e+x*c,t+x*u),this._append(kC||(kC=GC(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+b*o,this._y1=t+b*l)}else this._append(bC||(bC=GC(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let s=n*Math.cos(r),o=n*Math.sin(r),l=e+s,c=t+o,u=1^a,d=a?r-i:i-r;null===this._x1?this._append(_C||(_C=GC(["M",",",""])),l,c):(Math.abs(this._x1-l)>XC||Math.abs(this._y1-c)>XC)&&this._append(SC||(SC=GC(["L",",",""])),l,c),n&&(d<0&&(d=d%QC+QC),d>$C?this._append(AC||(AC=GC(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-s,t-o,n,n,u,this._x1=l,this._y1=c):d>XC&&this._append(EC||(EC=GC(["A",",",",0,",",",",",",",""])),n,n,+(d>=YC),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(jC||(jC=GC(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function eN(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new ZC(t)}function tN(e){return e[0]}function nN(e){return e[1]}function rN(e,t){var n=Np(!0),r=null,i=RC,a=null,s=eN(o);function o(o){var l,c,u,d=(o=Cp(o)).length,h=!1;for(null==r&&(a=i(u=s())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?tN:Np(e),t="function"===typeof t?t:void 0===t?nN:Np(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:Np(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:Np(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:Np(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function iN(e,t,n){var r=null,i=Np(!0),a=null,s=RC,o=null,l=eN(c);function c(c){var u,d,h,f,p,m=(c=Cp(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==a&&(o=s(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(v[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),o.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(p)return o=null,p+""||null}function u(){return rN().defined(i).curve(s).context(a)}return e="function"===typeof e?e:void 0===e?tN:Np(+e),t="function"===typeof t?t:Np(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?nN:Np(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Np(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Np(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Np(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Np(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Np(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Np(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Np(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aN.apply(null,arguments)}function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(t){lN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cN={curveBasisClosed:function(e){return new TC(e)},curveBasisOpen:function(e){return new IC(e)},curveBasis:function(e){return new PC(e)},curveBumpX:function(e){return new OC(e,!0)},curveBumpY:function(e){return new OC(e,!1)},curveLinearClosed:function(e){return new MC(e)},curveLinear:RC,curveMonotoneX:function(e){return new BC(e)},curveMonotoneY:function(e){return new UC(e)},curveNatural:function(e){return new HC(e)},curveStep:function(e){return new qC(e,.5)},curveStepAfter:function(e){return new qC(e,1)},curveStepBefore:function(e){return new qC(e,0)}},uN=e=>Gb(e.x)&&Gb(e.y),dN=e=>e.x,hN=e=>e.y,fN=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:s=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(Eu(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?cN[n]||RC:cN["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=s?r.filter(uN):r;if(Array.isArray(i)){var c=s?i.filter(e=>uN(e)):i,u=l.map((e,t)=>oN(oN({},e),{},{base:c[t]}));return(t="vertical"===a?iN().y(hN).x1(dN).x0(e=>e.base.x):iN().x(dN).y1(hN).y0(e=>e.base.y)).defined(uN).curve(o),t(u)}return(t="vertical"===a&&vu(i)?iN().y(hN).x1(dN).x0(i):vu(i)?iN().x(dN).y1(hN).y0(i):rN().x(dN).y(hN)).defined(uN).curve(o),t(l)},pN=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?fN(e):r;return i.createElement("path",aN({},ej(e),XE(e),{className:cu("recharts-curve",t),d:null===s?void 0:s,ref:a}))},mN=["x","y","top","left","width","height","className"];function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gN.apply(null,arguments)}function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xN=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),bN=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,mN),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vN(Object(n),!0).forEach(function(t){yN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:a,width:s,height:o},c);return vu(t)&&vu(n)&&vu(s)&&vu(o)&&vu(r)&&vu(a)?i.createElement("path",gN({},oj(u,!0),{className:cu("recharts-cross",l),d:xN(t,n,s,o,r,a)})):null};function wN(){}function kN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kN(Object(n),!0).forEach(function(t){SN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AN=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),EN=(e,t)=>Object.keys(t).reduce((n,r)=>_N(_N({},n),{},{[r]:e(r,t[r])}),{});function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(t){NN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PN=(e,t,n)=>e+(t-e)*n,TN=e=>{var{from:t,to:n}=e;return t!==n},IN=(e,t,n)=>{var r=EN((t,n)=>{if(TN(n)){var[r,i]=e(n.from,n.to,n.velocity);return CN(CN({},n),{},{from:r,velocity:i})}return n},t);return n<1?EN((e,t)=>TN(t)?CN(CN({},t),{},{velocity:PN(t.velocity,r[e].velocity,n),from:PN(t.from,r[e].from,n)}):t,t):IN(e,r,n-1)};function ON(e,t,n,r,i,a){var s,o=r.reduce((n,r)=>CN(CN({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{s||(s=r);var u=(r-s)/n.dt;o=IN(n,o,u),i(CN(CN(CN({},e),t),EN((e,t)=>t.from,o))),s=r,Object.values(o).filter(TN).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const MN=(e,t,n,r,i,a)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?ON(e,t,n,l,i,a):function(e,t,n,r,i,a,s){var o,l=null,c=i.reduce((n,r)=>CN(CN({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{o||(o=i);var d=(i-o)/r,h=EN((e,t)=>PN(...t,n(d)),c);if(a(CN(CN(CN({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=EN((e,t)=>PN(...t,n(1)),c);a(CN(CN(CN({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};var DN=1e-4,RN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],LN=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),FN=(e,t)=>n=>{var r=RN(e,t);return LN(r,n)},zN=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var o=a[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,n,t,r]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=FN(e,t),d=FN(n,r),h=(l=e,c=t,e=>{var t=[...RN(l,c).map((e,t)=>e*t).slice(1),0];return LN(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<DN||a<DN)return d(n);n=f(n-i/a)}return d(n)};return p.isStepper=!1,p},VN=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zN(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var s=a+(-(e-i)*t-a*n)*r/1e3,o=a*r/1e3+e;return Math.abs(o-i)<DN&&Math.abs(s)<DN?[i,0]:[o,s]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return zN(e)}return"function"===typeof e?e:null};class BN{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}function UN(){return function(e){var t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,[o,...l]=s;return"number"===typeof o?void(r=e.setTimeout(i.bind(null,l),o)):(i(o),void(r=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new BN)}var WN=(0,i.createContext)(UN);var HN={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KN={t:0},qN={t:1};function GN(e){var t=Hj(e,HN),{isActive:n,canBegin:r,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=function(e,t){var n=(0,i.useContext)(WN);return(0,i.useMemo)(()=>null!==t&&void 0!==t?t:n(e),[e,t,n])}(t.animationId,t.animationManager),[h,f]=(0,i.useState)(n?KN:qN),p=(0,i.useRef)(null);return(0,i.useEffect)(()=>{n||f(qN)},[n]),(0,i.useEffect)(()=>{if(!n||!r)return wN;var e=MN(KN,qN,VN(s),a,f,d.getTimeoutController());return d.start([c,o,()=>{p.current=e()},a,l]),()=>{d.stop(),p.current&&p.current(),l()}},[n,r,a,s,o,c,l,d]),u(h.t)}function YN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,i.useRef)(bu(t)),r=(0,i.useRef)(e);return r.current!==e&&(n.current=bu(t),r.current=e),n.current}function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function XN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QN(Object(n),!0).forEach(function(t){$N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $N(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JN.apply(null,arguments)}var ZN=(e,t,n,r,i)=>{var a,s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>s?s:i[d];a="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),a+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),a+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);a="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},eP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tP=e=>{var t=Hj(e,eP),n=(0,i.useRef)(null),[r,a]=(0,i.useState)(-1);(0,i.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,v=(0,i.useRef)(l),y=(0,i.useRef)(c),x=(0,i.useRef)(s),b=(0,i.useRef)(o),w=YN((0,i.useMemo)(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var k=cu("recharts-rectangle",d);if(!g)return i.createElement("path",JN({},oj(t,!0),{className:k,d:ZN(s,o,l,c,u)}));var _=v.current,S=y.current,A=x.current,E=b.current,j="0px ".concat(-1===r?1:r,"px"),C="".concat(r,"px 0px"),N=AN(["strokeDasharray"],f,"string"===typeof h?h:void 0);return i.createElement(GN,{animationId:w,key:w,canBegin:r>0,duration:f,easing:h,isActive:g,begin:p},e=>{var r,a=_u(_,l,e),d=_u(S,c,e),h=_u(A,s,e),f=_u(E,o,e);return n.current&&(v.current=a,y.current=d,x.current=h,b.current=f),r=m?e>0?{transition:N,strokeDasharray:C}:{strokeDasharray:j}:{strokeDasharray:C},i.createElement("path",JN({},oj(t,!0),{className:k,d:ZN(h,f,a,d,u),ref:n,style:XN(XN({},r),t.style)}))})};function nP(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[Fp(t,n,r,i),Fp(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function rP(){return rP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rP.apply(null,arguments)}var iP=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,u=Math.asin(o/c)/Rp,d=l?i:i+a*u,h=l?i-a*u:i;return{center:Fp(t,n,c,d),circleTangency:Fp(t,n,r,d),lineTangency:Fp(t,n,c*Math.cos(u*Rp),h),theta:u}},aP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=((e,t)=>pu(t-e)*Math.min(Math.abs(t-e),359.999))(a,s),l=a+o,c=Fp(t,n,i,a),u=Fp(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=Fp(t,n,r,a),f=Fp(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},sP={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oP=e=>{var t=Hj(e,sP),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(s<a||u===d)return null;var f,p=cu("recharts-sector",h),m=s-a,g=wu(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=pu(c-l),{circleTangency:d,lineTangency:h,theta:f}=iP({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:g}=iP({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):aP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:x,lineTangency:b,theta:w}=iP({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:_,theta:S}=iP({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),A=o?Math.abs(l-c):Math.abs(l-c)-w-S;if(A<0&&0===a)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(_.x,",").concat(_.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):aP({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),i.createElement("path",rP({},oj(t,!0),{className:p,d:f}))};function lP(e,t,n){var r,i,a,s;if("horizontal"===e)a=r=t.x,i=n.top,s=n.top+n.height;else if("vertical"===e)s=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return nP(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Fp(o,l,c,d),f=Fp(o,l,u,d);r=h.x,i=h.y,a=f.x,s=f.y}return[{x:r,y:i},{x:a,y:s}]}function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(t){dP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hP=()=>{var e=_p(Jw),t=_p(GS),n=_p(HS);return sm(uP(uP({},e),{},{scale:n}),t)};function fP(){return fP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fP.apply(null,arguments)}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(t){gP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vP(e){var t,n,{coordinate:r,payload:a,index:s,offset:o,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=r,p=a,m=s;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)t=f,n=bN;else if("BarChart"===h)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,o,l),n=tP;else if("radial"===c){var{cx:g,cy:v,radius:y,startAngle:x,endAngle:b}=nP(f);t={cx:g,cy:v,startAngle:x,endAngle:b,innerRadius:y,outerRadius:y},n=oP}else t={points:lP(c,f,o)},n=pN;var w="object"===typeof u&&"className"in u?u.className:void 0,k=mP(mP(mP(mP({stroke:"#ccc",pointerEvents:"none"},o),t),oj(u,!1)),{},{payload:p,payloadIndex:m,className:cu("recharts-tooltip-cursor",w)});return(0,i.isValidElement)(u)?(0,i.cloneElement)(u,k):(0,i.createElement)(n,k)}function yP(e){var t=hP(),n=Nm(),r=Om(),a=oA();return i.createElement(vP,fP({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(t){wP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kP(e){return e.dataKey}var _P=[],SP={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!FE,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function AP(e){var t=Hj(e,SP),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:v,trigger:y,defaultIndex:x,portal:b,axisId:w}=t,k=xp(),_="number"===typeof x?String(x):x;(0,i.useEffect)(()=>{k(Vf({shared:v,trigger:y,axisId:w,active:n,defaultIndex:_}))},[k,v,y,w,n,_]);var S=jm(),A=HE(),E=function(e){return _p(t=>tS(t,e))}(v),{activeIndex:j,isActive:C}=_p(e=>xA(e,E,y,_)),N=_p(e=>yA(e,E,y,_)),P=_p(e=>vA(e,E,y,_)),T=_p(e=>gA(e,E,y,_)),I=N,O=(0,i.useContext)(Nj),M=null!==n&&void 0!==n?n:C,[D,R]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=(0,i.useState)({height:0,left:0,top:0,width:0}),r=(0,i.useCallback)(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}([I,M]),L="axis"===E?P:void 0;Cj(E,y,T,L,j,M);var F=null!==b&&void 0!==b?b:O;if(null==F)return null;var z=null!==I&&void 0!==I?I:_P;M||(z=_P),l&&z.length&&(z=function(e,t,n){return!0===t?fC()(e,n):"function"===typeof t?fC()(e,t):e}(I.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),d,kP));var V=z.length>0,B=i.createElement(dC,{allowEscapeViewBox:r,animationDuration:a,animationEasing:s,isAnimationActive:c,active:M,coordinate:T,hasPayload:V,offset:u,position:h,reverseDirection:f,useTranslate3d:p,viewBox:S,wrapperStyle:m,lastBoundingBox:D,innerRef:R,hasPortalFromProps:Boolean(b)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(rC,t)}(o,bP(bP({},t),{},{payload:z,label:L,active:M,coordinate:T,accessibilityLayer:A})));return i.createElement(i.Fragment,null,(0,$j.createPortal)(B,F),M&&i.createElement(yP,{cursor:g,tooltipEventType:E,coordinate:T,payload:I,index:j}))}function EP(){return EP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EP.apply(null,arguments)}var jP=e=>{var{cx:t,cy:n,r:r,className:a}=e,s=cu("recharts-dot",a);return t===+t&&n===+n&&r===+r?i.createElement("circle",EP({},ej(e),XE(e),{className:s,cx:t,cy:n,r:r})):null},CP=["children","className"];function NP(){return NP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NP.apply(null,arguments)}var PP=i.forwardRef((e,t)=>{var{children:n,className:r}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,CP),s=cu("recharts-layer",r);return i.createElement("g",NP({className:s},oj(a,!0),{ref:t}),n)}),TP=n(356),IP=n.n(TP);function OP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(t){RP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LP=DP({},{cacheSize:2e3,enableCache:!0}),FP=new class{constructor(e){OP(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(LP.cacheSize),zP={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VP="recharts_measurement_span";var BP=(e,t)=>{try{var n=document.getElementById(VP);n||((n=document.createElement("span")).setAttribute("id",VP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zP,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},UP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||FE)return{width:0,height:0};if(!LP.enableCache)return BP(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}(e,t),r=FP.get(n);if(r)return r;var i=BP(e,t);return FP.set(n,i),i},WP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KP=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qP=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,GP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},YP=Object.keys(GP),QP="NaN";class XP{static parse(e){var t,[,n,r]=null!==(t=qP.exec(e))&&void 0!==t?t:[];return new XP(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,mu(e)&&(this.unit=""),""===t||KP.test(t)||(this.num=NaN,this.unit=""),YP.includes(t)&&(this.num=function(e,t){return e*GP[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new XP(NaN,""):new XP(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new XP(NaN,""):new XP(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new XP(NaN,""):new XP(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new XP(NaN,""):new XP(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mu(this.num)}}function $P(e){if(e.includes(QP))return QP;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=WP.exec(t))&&void 0!==n?n:[],s=XP.parse(null!==r&&void 0!==r?r:""),o=XP.parse(null!==a&&void 0!==a?a:""),l="*"===i?s.multiply(o):s.divide(o);if(l.isNaN())return QP;t=t.replace(WP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=HP.exec(t))&&void 0!==c?c:[],f=XP.parse(null!==u&&void 0!==u?u:""),p=XP.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return QP;t=t.replace(HP,m.toString())}return t}var JP=/\(([^()]*)\)/;function ZP(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=JP.exec(n));){var[,r]=t;n=n.replace(JP,$P(r))}return n}(t),t=$P(t)}function eT(e){var t=function(e){try{return ZP(e)}catch(t){return QP}}(e.slice(5,-1));return t===QP?"":t}var tT=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nT=["dx","dy","angle","className","breakAll"];function rT(){return rT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rT.apply(null,arguments)}function iT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var aT=/[ \f\n\r\t\v\u2028\u2029]+/,sT=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return Au(t)||(i=n?t.toString().split(""):t.toString().split(aT)),{wordsWithComputedWidth:i.map(e=>({word:e,width:UP(e,r).width})),spaceWidth:n?0:UP("\xa0",r).width}}catch(a){return null}},oT=e=>[{words:Au(e)?[]:e.toString().split(aT)}],lT=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!FE){var o=sT({breakAll:a,children:r,style:i});if(!o)return oT(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=vu(a),u=s,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:s}=t,o=e[e.length-1];if(o&&(null==r||i||o.width+s+n<Number(r)))o.words.push(a),o.width+=s+n;else{var l={words:[a],width:s};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=sT({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},g=0,v=u.length-1,y=0;g<=v&&y<=u.length-1;){var x=Math.floor((g+v)/2),b=x-1,[w,k]=m(b),[_]=m(x);if(w||_||(g=x+1),w&&_&&(v=x-1),!w&&_){p=k;break}y++}return p||h})({breakAll:a,children:r,maxLines:s,style:i},l,c,t,n)}return oT(r)},cT="#808080",uT=(0,i.forwardRef)((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=cT}=e,d=iT(e,tT),h=(0,i.useMemo)(()=>lT({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:p,angle:m,className:g,breakAll:v}=d,y=iT(d,nT);if(!yu(n)||!yu(r)||0===h.length)return null;var x,b=n+(vu(f)?f:0),w=r+(vu(p)?p:0);switch(c){case"start":x=eT("calc(".concat(s,")"));break;case"middle":x=eT("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:x=eT("calc(".concat(h.length-1," * -").concat(a,")"))}var k=[];if(o){var _=h[0].width,{width:S}=d;k.push("scale(".concat(vu(S)?S/_:1,")"))}return m&&k.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),k.length&&(y.transform=k.join(" ")),i.createElement("text",rT({},oj(y,!0),{ref:t,x:b,y:w,className:cu("recharts-text",g),textAnchor:l,fill:u.includes("url")?cT:u}),h.map((e,t)=>{var n=e.words.join(v?"":" ");return i.createElement("tspan",{x:b,dy:0===t?x:a,key:"".concat(n,"-").concat(t)},n)}))});uT.displayName="Text";var dT=["labelRef"];function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(t){pT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mT(){return mT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mT.apply(null,arguments)}var gT=(0,i.createContext)(null),vT=e=>{var{x:t,y:n,width:r,height:a,children:s}=e,o=(0,i.useMemo)(()=>({x:t,y:n,width:r,height:a}),[t,n,r,a]);return i.createElement(gT.Provider,{value:o},s)},yT=()=>{var e=(0,i.useContext)(gT),t=jm();return e||t},xT=(0,i.createContext)(null),bT=()=>{var e=(0,i.useContext)(xT),t=_p(qw);return e||t},wT=e=>null!=e&&"function"===typeof e,kT=(e,t,n,r,a)=>{var s,o,{offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=a,v=(h+f)/2,y=((e,t)=>pu(t-e)*Math.min(Math.abs(t-e),360))(p,m),x=y>=0?1:-1;switch(t){case"insideStart":s=p+x*l,o=g;break;case"insideEnd":s=m-x*l,o=!g;break;case"end":s=m+x*l,o=g;break;default:throw new Error("Unsupported position ".concat(t))}o=y<=0?o:!o;var b=Fp(u,d,v,s),w=Fp(u,d,v,s+359*(o?1:-1)),k="M".concat(b.x,",").concat(b.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),_=Au(e.id)?bu("recharts-radial-line-"):e.id;return i.createElement("text",mT({},r,{dominantBaseline:"central",className:cu("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:_,d:k})),i.createElement("textPath",{xlinkHref:"#".concat(_)},n))},_T=e=>"cx"in e&&vu(e.cx),ST={offset:5};function AT(e){var t=Hj(e,ST),{viewBox:n,position:r,value:a,children:s,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=bT(),h=yT(),f=n||("center"===r?h:null!==d&&void 0!==d?d:h);if(!f||Au(a)&&Au(s)&&!(0,i.isValidElement)(o)&&"function"!==typeof o)return null;var p,m=fT(fT({},t),{},{viewBox:f});if((0,i.isValidElement)(o)){var{labelRef:g}=m,v=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(m,dT);return(0,i.cloneElement)(o,v)}if("function"===typeof o){if(p=(0,i.createElement)(o,m),(0,i.isValidElement)(p))return p}else p=(e=>{var{value:t,formatter:n}=e,r=Au(e.children)?t:e.children;return"function"===typeof n?n(r):r})(t);var y=_T(f),x=oj(t,!0);if(y&&("insideStart"===r||"insideEnd"===r||"end"===r))return kT(t,r,p,x,f);var b=y?((e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===n){var{x:u,y:d}=Fp(r,i,s+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:f,y:p}=Fp(r,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(f,t.offset,t.position):((e,t)=>{var n,{parentViewBox:r,offset:i,position:a}=e;null==r||_T(r)||(n=r);var{x:s,y:o,width:l,height:c}=t,u=c>=0?1:-1,d=u*i,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*i,g=p>0?"end":"start",v=p>0?"start":"end";if("top"===a)return fT(fT({},{x:s+l/2,y:o-u*i,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===a)return fT(fT({},{x:s+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===a){var y={x:s-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return fT(fT({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===a){var x={x:s+l+m,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return fT(fT({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?fT({x:s+m,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},b):"insideRight"===a?fT({x:s+l-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?fT({x:s+l/2,y:o+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===a?fT({x:s+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===a?fT({x:s+m,y:o+d,textAnchor:v,verticalAnchor:f},b):"insideTopRight"===a?fT({x:s+l-m,y:o+d,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===a?fT({x:s+m,y:o+c-d,textAnchor:v,verticalAnchor:h},b):"insideBottomRight"===a?fT({x:s+l-m,y:o+c-d,textAnchor:g,verticalAnchor:h},b):a&&"object"===typeof a&&(vu(a.x)||gu(a.x))&&(vu(a.y)||gu(a.y))?fT({x:s+wu(a.x,l),y:o+wu(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):fT({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(t,f);return i.createElement(uT,mT({ref:u,className:cu("recharts-label",l)},x,b,{breakAll:c}),p)}AT.displayName="Label";var ET=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return!0===e?i.createElement(AT,mT({key:"label-implicit"},r)):yu(e)?i.createElement(AT,mT({key:"label-implicit",value:e},r)):(0,i.isValidElement)(e)?e.type===AT?(0,i.cloneElement)(e,fT({key:"label-implicit"},r)):i.createElement(AT,mT({key:"label-implicit",content:e},r)):wT(e)?i.createElement(AT,mT({key:"label-implicit",content:e},r)):e&&"object"===typeof e?i.createElement(AT,mT({},e,{key:"label-implicit"},r)):null};function jT(e){var{label:t}=e,n=yT();return ET(t,n)||null}var CT=["valueAccessor"],NT=["dataKey","clockWise","id","textBreakAll"];function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PT.apply(null,arguments)}function TT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var IT=e=>Array.isArray(e.value)?IP()(e.value):e.value,OT=(0,i.createContext)(void 0),MT=OT.Provider,DT=(0,i.createContext)(void 0),RT=DT.Provider;function LT(e){var{valueAccessor:t=IT}=e,n=TT(e,CT),{dataKey:r,clockWise:a,id:s,textBreakAll:o}=n,l=TT(n,NT),c=(0,i.useContext)(OT),u=(0,i.useContext)(DT),d=c||u;return d&&d.length?i.createElement(PP,{className:"recharts-label-list"},d.map((e,a)=>{var c,u=Au(r)?t(e,a):Gp(e&&e.payload,r),d=Au(s)?{}:{id:"".concat(s,"-").concat(a)};return i.createElement(AT,PT({},oj(e,!0),l,d,{fill:null!==(c=n.fill)&&void 0!==c?c:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:o,viewBox:e.viewBox,key:"label-".concat(a),index:a}))})):null}function FT(e){var{label:t}=e;return t?!0===t?i.createElement(LT,{key:"labelList-implicit"}):i.isValidElement(t)||wT(t)?i.createElement(LT,{key:"labelList-implicit",content:t}):"object"===typeof t?i.createElement(LT,PT({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(t){BT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}LT.displayName="LabelList";function UT(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a}=e,s=_p(JS),o=_p(sA);if(null==t||null==o)return null;var l=t.find(e=>o.includes(e.payload));return Au(l)?null:(e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:s}=e;if(!1===a||null==t.x||null==t.y)return null;var o,l=VT(VT({index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:null!==r&&void 0!==r?r:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},oj(a,!1)),XE(a));return o=(0,i.isValidElement)(a)?(0,i.cloneElement)(a,l):"function"===typeof a?a(l):i.createElement(jP,l),i.createElement(PP,{className:"recharts-active-dot"},o)})({point:l,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r})}function WT(e){var{fn:t,args:n}=e,r=xp(),a=Sm();return(0,i.useEffect)(()=>{if(!a){var e=t(n);return r(Ff(e)),()=>{r(zf(e))}}},[t,n,r,a]),null}function HT(e,t){var n,r,i=_p(t=>lk(t,e)),a=_p(e=>dk(e,t)),s=null!==(n=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==n?n:sk.allowDataOverflow,o=null!==(r=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==r?r:ck.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function KT(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=Lj(),{needClipX:s,needClipY:o,needClip:l}=HT(t,n);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return i.createElement("clipPath",{id:"clipPath-".concat(r)},i.createElement("rect",{x:s?c:c-d/2,y:o?u:u-h/2,width:s?d:2*d,height:o?h:2*h}))}var qT,GT=(e,t,n,r)=>Q_(e,"xAxis",t,r),YT=(e,t,n,r)=>Y_(e,"xAxis",t,r),QT=(e,t,n,r)=>Q_(e,"yAxis",n,r),XT=(e,t,n,r)=>Y_(e,"yAxis",n,r),$T=pp([Im,GT,QT,YT,XT],(e,t,n,r,i)=>Yp(e,"xAxis")?sm(t,r,!1):sm(n,i,!1)),JT=pp([yk,(e,t,n,r,i)=>i],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),ZT=pp([Im,GT,QT,YT,XT,(e,t,n,r,i)=>{var a,s=JT(e,t,n,r,i);if(null!=s){var o,l=Im(e);if(null!=(o=Yp(l,"xAxis")?Rk(e,"yAxis",n,r):Rk(e,"xAxis",t,r))){var{stackId:c}=s,u=Qw(s);if(null!=c&&null!=u){var d=null===(a=o[c])||void 0===a?void 0:a.stackedData;return null===d||void 0===d?void 0:d.find(e=>e.key===u)}}}},qb,$T,JT],(e,t,n,r,i,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=s;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null===c||void 0===c?void 0:c.slice(u,d+1))){return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:i},stackedData:a,layout:s,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,m=a&&a.length,g=NI(s,o,r,l,c),v="horizontal"===s,y=!1,x=u.map((e,t)=>{var r;m?r=a[d+t]:(r=Gp(e,i),Array.isArray(r)?y=!0:r=[g,r]);var s=null==r[1]||m&&!n&&null==Gp(e,i);return v?{x:tm({axis:l,ticks:h,bandSize:p,entry:e,index:t}),y:s?null:c.scale(r[1]),value:r,payload:e}:{x:s?null:l.scale(r[1]),y:tm({axis:c,ticks:f,bandSize:p,entry:e,index:t}),value:r,payload:e}});t=m||y?x.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return v?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?l.scale(t):null,y:e.y,payload:e.payload}}):v?c.scale(g):l.scale(g);return{points:x,baseLine:t,isRange:y}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:u,areaSettings:l,stackedData:a,displayedData:h,chartBaseValue:undefined,bandSize:o})}}}),eI=()=>{};function tI(e){var{legendPayload:t}=e,n=xp(),r=Sm();return(0,i.useEffect)(()=>r?eI:(n(oE(t)),()=>{n(lE(t))}),[n,r,t]),null}function nI(e){var{legendPayload:t}=e,n=xp(),r=_p(Im);return(0,i.useEffect)(()=>"centric"!==r&&"radial"!==r?eI:(n(oE(t)),()=>{n(lE(t))}),[n,r,t]),null}var rI=null!==(qT=a["useId".toString()])&&void 0!==qT?qT:()=>{var[e]=i.useState(()=>bu("uid-"));return e};var iI=(0,i.createContext)(void 0),aI=e=>{var{id:t,type:n,children:r}=e,a=function(e,t){var n=rI();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(n),t);return i.createElement(iI.Provider,{value:a},r(a))};function sI(e){var t=xp(),n=(0,i.useRef)(null);return(0,i.useEffect)(()=>{null===n.current?t(VA(e)):n.current!==e&&t(BA({prev:n.current,next:e})),n.current=e},[t,e]),(0,i.useEffect)(()=>()=>{n.current&&(t(UA(n.current)),n.current=null)},[t]),null}function oI(e){var t=xp();return(0,i.useEffect)(()=>(t(WA(e)),()=>{t(HA(e))}),[t,e]),null}var lI=["id"],cI=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function uI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(t){fI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pI(){return pI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pI.apply(null,arguments)}function mI(e,t){return e&&"none"!==e?e:t}var gI=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:mI(r,i),value:lm(n,t),payload:e}]};function vI(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:lm(s,t),hide:o,type:e.tooltipType,color:mI(r,a),unit:l}}}function yI(e){var{clipPathId:t,points:n,props:r}=e,{needClip:a,dot:s,dataKey:o}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,s))return null;var l=sj(s),c=ej(r),u=oj(s,!0),d=n.map((e,t)=>{var r=hI(hI(hI({key:"dot-".concat(t),r:3},c),u),{},{index:t,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:n});return((e,t)=>{var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if("function"===typeof e)n=e(t);else{var r=cu("recharts-area-dot","boolean"!==typeof e?e.className:"");n=i.createElement(jP,pI({},t,{className:r}))}return n})(s,r)}),h={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return i.createElement(PP,pI({className:"recharts-area-dots"},h),d)}function xI(e){var{showLabels:t,children:n,points:r}=e,a=r.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return hI(hI({},t),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:t,fill:void 0})});return i.createElement(MT,{value:t?a:null},n)}function bI(e){var{points:t,baseLine:n,needClip:r,clipPathId:a,props:s}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=s,{id:h}=s,f=uI(s,lI),p=ej(f);return i.createElement(i.Fragment,null,(null===t||void 0===t?void 0:t.length)>1&&i.createElement(PP,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},i.createElement(pN,pI({},p,{id:h,points:t,connectNulls:u,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==c&&i.createElement(pN,pI({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),"none"!==c&&d&&i.createElement(pN,pI({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:n}))),i.createElement(yI,{points:t,props:f,clipPathId:a}))}function wI(e){var{alpha:t,baseLine:n,points:r,strokeWidth:a}=e,s=r[0].y,o=r[r.length-1].y;if(!Gb(s)||!Gb(o))return null;var l=t*Math.abs(s-o),c=Math.max(...r.map(e=>e.x||0));return vu(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.x||0),c)),vu(c)?i.createElement("rect",{x:0,y:s<o?s:s-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function kI(e){var{alpha:t,baseLine:n,points:r,strokeWidth:a}=e,s=r[0].x,o=r[r.length-1].x;if(!Gb(s)||!Gb(o))return null;var l=t*Math.abs(s-o),c=Math.max(...r.map(e=>e.y||0));return vu(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(e=>e.y||0),c)),vu(c)?i.createElement("rect",{x:s<o?s:s-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function _I(e){var{alpha:t,layout:n,points:r,baseLine:a,strokeWidth:s}=e;return"vertical"===n?i.createElement(wI,{alpha:t,points:r,baseLine:a,strokeWidth:s}):i.createElement(kI,{alpha:t,points:r,baseLine:a,strokeWidth:s})}function SI(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=r,m=YN(r,"recharts-area-"),[g,v]=(0,i.useState)(!1),y=!g,x=(0,i.useCallback)(()=>{"function"===typeof p&&p(),v(!1)},[p]),b=(0,i.useCallback)(()=>{"function"===typeof f&&f(),v(!0)},[f]),w=a.current,k=s.current;return i.createElement(xI,{showLabels:y,points:o},r.children,i.createElement(GN,{animationId:m,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:x,onAnimationStart:b,key:m},e=>{if(w){var u,d=w.length/o.length,h=1===e?o:o.map((t,n)=>{var r=Math.floor(n*d);if(w[r]){var i=w[r];return hI(hI({},t),{},{x:_u(i.x,t.x,e),y:_u(i.y,t.y,e)})}return t});return u=vu(l)?_u(k,l,e):Au(l)||mu(l)?_u(k,0,e):l.map((t,n)=>{var r=Math.floor(n*d);if(Array.isArray(k)&&k[r]){var i=k[r];return hI(hI({},t),{},{x:_u(i.x,t.x,e),y:_u(i.y,t.y,e)})}return t}),e>0&&(a.current=h,s.current=u),i.createElement(bI,{points:h,baseLine:u,needClip:t,clipPathId:n,props:r})}return e>0&&(a.current=o,s.current=l),i.createElement(PP,null,c&&i.createElement("defs",null,i.createElement("clipPath",{id:"animationClipPath-".concat(n)},i.createElement(_I,{alpha:e,points:o,baseLine:l,layout:r.layout,strokeWidth:r.strokeWidth}))),i.createElement(PP,{clipPath:"url(#animationClipPath-".concat(n,")")},i.createElement(bI,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),i.createElement(FT,{label:r.label}))}function AI(e){var{needClip:t,clipPathId:n,props:r}=e,a=(0,i.useRef)(null),s=(0,i.useRef)();return i.createElement(SI,{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s})}class EI extends i.PureComponent{render(){var e,{hide:t,dot:n,points:r,className:a,top:s,left:o,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:p}=this.props;if(t)return null;var m=cu("recharts-area",a),g=f,{r:v=3,strokeWidth:y=2}=null!==(e=oj(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},x=sj(n),b=2*v+y;return i.createElement(i.Fragment,null,i.createElement(PP,{className:m},l&&i.createElement("defs",null,i.createElement(KT,{clipPathId:g,xAxisId:c,yAxisId:u}),!x&&i.createElement("clipPath",{id:"clipPath-dots-".concat(g)},i.createElement("rect",{x:o-b/2,y:s-b/2,width:d+b,height:h+b}))),i.createElement(AI,{needClip:l,clipPathId:g,props:this.props})),i.createElement(UT,{points:r,mainColor:mI(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&i.createElement(UT,{points:p,mainColor:mI(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var jI={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!FE,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function CI(e){var t,n=Hj(e,jI),{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:m,xAxisId:g,yAxisId:v}=n,y=uI(n,cI),x=Om(),b=oA(),{needClip:w}=HT(g,v),k=Sm(),{points:_,isRange:S,baseLine:A}=null!==(t=_p(t=>ZT(t,g,v,k,e.id)))&&void 0!==t?t:{},E=Lj();if("horizontal"!==x&&"vertical"!==x||null==E)return null;if("AreaChart"!==b&&"ComposedChart"!==b)return null;var{height:j,width:C,x:N,y:P}=E;return _&&_.length?i.createElement(EI,pI({},y,{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:o,baseLine:A,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:j,hide:h,layout:x,isAnimationActive:f,isRange:S,legendType:p,needClip:w,points:_,stroke:m,width:C,left:N,top:P,xAxisId:g,yAxisId:v})):null}var NI=(e,t,n,r,i)=>{var a=null!==n&&void 0!==n?n:t;if(vu(a))return a;var s="horizontal"===e?i:r,o=s.scale.domain();if("number"===s.type){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===a?c:"dataMax"===a||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===a?o[0]:"dataMax"===a?o[1]:o[0]};function PI(e){var t=Hj(e,jI),n=Sm();return i.createElement(aI,{id:t.id,type:"area"},e=>i.createElement(i.Fragment,null,i.createElement(tI,{legendPayload:gI(t)}),i.createElement(WT,{fn:vI,args:t}),i.createElement(sI,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:em(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),i.createElement(CI,pI({},t,{id:e}))))}var TI=i.memo(PI);TI.displayName="Area";const II={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function OI(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const MI={date:OI({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:OI({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:OI({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},DI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function RI(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const LI={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:RI({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:RI({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:RI({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:RI({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:RI({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function FI(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(s)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}const zI={ordinalNumber:(VI={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(VI.matchPattern);if(!n)return null;const r=n[0],i=e.match(VI.parsePattern);if(!i)return null;let a=VI.valueCallback?VI.valueCallback(i[0]):i[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(r.length)}}),era:FI({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:FI({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:FI({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:FI({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:FI({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var VI;const BI={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=II[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:MI,formatRelative:(e,t,n,r)=>DI[e],localize:LI,match:zI,options:{weekStartsOn:0,firstWeekContainsDate:1}};let UI={};function WI(){return UI}Math.pow(10,8);const HI=6048e5,KI=Symbol.for("constructDateFrom");function qI(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&KI in e?e[KI](t):e instanceof Date?new e.constructor(t):new Date(t)}function GI(e,t){return qI(t||e,e)}function YI(e){const t=GI(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function QI(e,t){const n=GI(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function XI(e,t,n){const[r,i]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=qI.bind(null,e||n.find(e=>"object"===typeof e));return n.map(i)}(null===n||void 0===n?void 0:n.in,e,t),a=QI(r),s=QI(i),o=+a-YI(a),l=+s-YI(s);return Math.round((o-l)/864e5)}function $I(e,t){const n=GI(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function JI(e,t){const n=GI(e,null===t||void 0===t?void 0:t.in);return XI(n,$I(n))+1}function ZI(e,t){var n,r,i,a,s,o;const l=WI(),c=null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==n?n:0,u=GI(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function eO(e,t){return ZI(e,(0,o.A)((0,o.A)({},t),{},{weekStartsOn:1}))}function tO(e,t){const n=GI(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),i=qI(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=eO(i),s=qI(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=eO(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function nO(e,t){const n=tO(e,t),r=qI((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),eO(r)}function rO(e,t){const n=GI(e,null===t||void 0===t?void 0:t.in),r=+eO(n)-+nO(n);return Math.round(r/HI)+1}function iO(e,t){var n,r,i,a,s,o;const l=GI(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=WI(),d=null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(o=u.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,h=qI((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=ZI(h,t),p=qI((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=ZI(p,t);return+l>=+f?c+1:+l>=+m?c:c-1}function aO(e,t){var n,r,i,a,s,o;const l=WI(),c=null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,u=iO(e,t),d=qI((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return ZI(d,t)}function sO(e,t){const n=GI(e,null===t||void 0===t?void 0:t.in),r=+ZI(n,t)-+aO(n,t);return Math.round(r/HI)+1}function oO(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const lO={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return oO("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):oO(n+1,2)},d:(e,t)=>oO(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>oO(e.getHours()%12||12,t.length),H:(e,t)=>oO(e.getHours(),t.length),m:(e,t)=>oO(e.getMinutes(),t.length),s:(e,t)=>oO(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return oO(Math.trunc(r*Math.pow(10,n-3)),t.length)}},cO="midnight",uO="noon",dO="morning",hO="afternoon",fO="evening",pO="night",mO={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return lO.y(e,t)},Y:function(e,t,n,r){const i=iO(e,r),a=i>0?i:1-i;if("YY"===t){return oO(a%100,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):oO(a,t.length)},R:function(e,t){return oO(tO(e),t.length)},u:function(e,t){return oO(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return oO(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return oO(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return lO.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return oO(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=sO(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):oO(i,t.length)},I:function(e,t,n){const r=rO(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):oO(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):lO.d(e,t)},D:function(e,t,n){const r=JI(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):oO(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return oO(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return oO(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return oO(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?uO:0===r?cO:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?fO:r>=12?hO:r>=4?dO:pO,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return lO.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):lO.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):oO(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):oO(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):lO.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):lO.s(e,t)},S:function(e,t){return lO.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return vO(r);case"XXXX":case"XX":return yO(r);default:return yO(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return vO(r);case"xxxx":case"xx":return yO(r);default:return yO(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gO(r,":");default:return"GMT"+yO(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gO(r,":");default:return"GMT"+yO(r,":")}},t:function(e,t,n){return oO(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return oO(+e,t.length)}};function gO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+t+oO(a,2)}function vO(e,t){if(e%60===0){return(e>0?"-":"+")+oO(Math.abs(e)/60,2)}return yO(e,t)}function yO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+oO(Math.trunc(r/60),2)+t+oO(r%60,2)}const xO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},bO=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},wO={p:bO,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return xO(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",xO(r,t)).replace("{{time}}",bO(i,t))}},kO=/^D+$/,_O=/^Y+$/,SO=["D","DD","YY","YYYY"];function AO(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function EO(e){return!(!AO(e)&&"number"!==typeof e||isNaN(+GI(e)))}const jO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NO=/^'([^]*?)'?$/,PO=/''/g,TO=/[a-zA-Z]/;function IO(e,t,n){var r,i,a,s,o,l,c,u,d,h,f,p,m,g;const v=WI(),y=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:v.locale)&&void 0!==r?r:BI,x=null!==(a=null!==(s=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:v.firstWeekContainsDate)&&void 0!==s?s:null===(u=v.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:1,b=null!==(d=null!==(h=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:v.weekStartsOn)&&void 0!==h?h:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,w=GI(e,null===n||void 0===n?void 0:n.in);if(!EO(w))throw new RangeError("Invalid time value");let k=t.match(CO).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,wO[t])(e,y.formatLong)}return e}).join("").match(jO).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:OO(e)};if(mO[t])return{isToken:!0,value:e};if(t.match(TO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});y.localize.preprocessor&&(k=y.localize.preprocessor(w,k));const _={firstWeekContainsDate:x,weekStartsOn:b,locale:y};return k.map(r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return _O.test(e)}(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return kO.test(e)}(i))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),SO.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,mO[i[0]])(w,i,y.localize,_)}).join("")}function OO(e){const t=e.match(NO);return t?t[1].replace(PO,"'"):e}const MO={funds:tu,income:Ul,expenses:iu,budget:Kl,balance:Kl},DO={funds:["#6366f1","#a5b4fc"],income:["#10b981","#86efac"],expenses:["#f43f5e","#fca5a5"],budget:["#f59e0b","#fcd34d"],balance:["#06b6d4","#7dd3fc"]},RO={funds:"ring-indigo-200/70",income:"ring-emerald-200/70",expenses:"ring-rose-200/70",budget:"ring-amber-200/70",balance:"ring-cyan-200/70"},LO={funds:"bg-gradient-to-br from-indigo-600 to-sky-500",income:"bg-gradient-to-br from-emerald-600 to-teal-500",expenses:"bg-gradient-to-br from-rose-600 to-orange-500",budget:"bg-gradient-to-br from-amber-600 to-yellow-500",balance:"bg-gradient-to-br from-cyan-600 to-teal-500"};function FO(e){let{title:t,value:n,series:r=[],variant:a="funds",className:s=""}=e;const o=MO[a]||tu,l=(0,i.useMemo)(()=>"stat-grad-".concat(a,"-").concat(String(t)).replace(/[^a-z0-9-_]/gi,"-"),[a,t]),[c,u]=DO[a]||["#2563eb","#bfdbfe"],[d,h]=(0,i.useState)("W"),f="W"===d?7:"M"===d?30:365,p=(0,i.useMemo)(()=>(r||[]).map(e=>{var t,n,r,i;return{value:Number(null!==(t=null!==(n=e.value)&&void 0!==n?n:e.y)&&void 0!==t?t:0),label:null!==(r=null!==(i=e.date)&&void 0!==i?i:e.x)&&void 0!==r?r:null}}),[r]),m=(0,i.useMemo)(()=>p&&0!==p.length?p.length<=f?p:p.slice(-f):[],[p,f]),g=(0,i.useMemo)(()=>{var e,t,n,r;if(!m||m.length<2)return 0;const i=Number(null!==(e=null===(t=m[0])||void 0===t?void 0:t.value)&&void 0!==e?e:0),a=Number(null!==(n=null===(r=m[m.length-1])||void 0===r?void 0:r.value)&&void 0!==n?n:0);return i?(a-i)/Math.abs(i)*100:0},[m]),v=(0,i.useMemo)(()=>{var e;if(!m||0===m.length)return"";const t=null===(e=m[m.length-1])||void 0===e?void 0:e.label,n=t?new Date(t):new Date;if(isNaN(n))return"";try{return IO(n,"MMM d, yyyy")}catch(r){return""}},[m]),y=(0,i.useMemo)(()=>e=>{var t,n;let{active:r,payload:i}=e;if(!r||!i||0===i.length)return null;const a=(null===(t=i[0])||void 0===t?void 0:t.payload)||{},s=a.label?new Date(a.label):null,o=s&&!isNaN(s)?IO(s,"MMM d, yyyy"):"";return(0,Re.jsxs)("div",{className:"px-2 py-1 rounded-md bg-white/90 backdrop-blur ring-1 ring-slate-200 shadow text-[10px] text-slate-700 dark:bg-slate-800/90 dark:ring-slate-700 dark:text-slate-100",children:[(0,Re.jsx)("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:(null!==(n=a.value)&&void 0!==n?n:0).toLocaleString()}),o&&(0,Re.jsx)("div",{className:"text-slate-500 dark:text-slate-300",children:o})]})},[]);return(0,Re.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl bg-white/95 backdrop-blur-md ring-1 shadow hover:shadow-md transform hover:-translate-y-0.5 transition-all ".concat(RO[a]," ").concat(s," dark:bg-slate-900/70 dark:ring-slate-800 dark:shadow-none"),children:[(0,Re.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(135deg, ".concat(DO[a][0],"10, ").concat(DO[a][1],")")}}),(0,Re.jsxs)("div",{className:"relative p-4 sm:p-5 min-h-[132px] flex flex-col",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-4 min-w-0",children:[(0,Re.jsx)("div",{className:"h-10 w-10 flex items-center justify-center rounded-xl text-white shadow ".concat(LO[a]),children:(0,Re.jsx)(o,{className:"h-5 w-5 opacity-90"})}),(0,Re.jsxs)("div",{className:"min-w-0",children:[(0,Re.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500 truncate dark:text-slate-400",children:t}),(0,Re.jsx)("p",{className:"mt-1 font-semibold text-slate-900 whitespace-nowrap overflow-hidden text-ellipsis text-[clamp(0.95rem,2.2vw,1.55rem)] dark:text-slate-100",title:String(n),children:n})]})]}),m.length>0&&(0,Re.jsx)("div",{className:"mt-2 h-12 sm:h-16",children:(0,Re.jsx)(Tu,{width:"100%",height:"100%",children:(0,Re.jsxs)(Xj,{data:m,children:[(0,Re.jsx)("defs",{children:(0,Re.jsxs)("linearGradient",{id:l,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Re.jsx)("stop",{offset:"0%",stopColor:c,stopOpacity:.22}),(0,Re.jsx)("stop",{offset:"100%",stopColor:u,stopOpacity:.04})]})}),(0,Re.jsx)(AP,{content:y,cursor:{stroke:c,strokeWidth:1,strokeOpacity:.15}}),(0,Re.jsx)(TI,{type:"monotone",dataKey:"value",stroke:c,fill:"url(#".concat(l,")"),strokeWidth:1.5,strokeOpacity:.85,fillOpacity:1,strokeLinejoin:"round",strokeLinecap:"round",dot:!1})]})})}),m.length>1&&(0,Re.jsxs)("span",{className:"absolute top-2 right-3 rounded-full px-2 py-0.5 text-xs font-medium inline-flex items-center gap-1 ".concat(g>=0?"bg-emerald-50 text-emerald-700 dark:bg-emerald-500/15 dark:text-emerald-300":"bg-rose-50 text-rose-700 dark:bg-rose-500/15 dark:text-rose-300"),children:[g>=0?(0,Re.jsx)(ou,{className:"h-3.5 w-3.5"}):(0,Re.jsx)(iu,{className:"h-3.5 w-3.5"}),Math.abs(g).toFixed(1),"%"]}),(0,Re.jsxs)("div",{className:"mt-2 text-[11px] text-slate-500 flex items-center justify-between dark:text-slate-400",children:[(0,Re.jsx)("span",{className:"truncate",children:v?"as of ".concat(v):""}),(0,Re.jsx)("div",{className:"inline-flex items-center rounded-full bg-slate-100 p-0.5 shadow-inner dark:bg-slate-800/60",children:["W","M","Y"].map(e=>(0,Re.jsx)("button",{onClick:()=>h(e),className:"px-2 py-0.5 text-[10px] sm:text-xs rounded-full transition-colors ".concat(d===e?"bg-white text-slate-900 shadow dark:bg-slate-700 dark:text-slate-100":"text-slate-600 hover:text-slate-800 dark:text-slate-300 dark:hover:text-slate-100"),"aria-label":"Show ".concat("W"===e?"7d":"M"===e?"30d":"365d"),children:e},e))})]})]})]})}function zO(e){return e+.5|0}const VO=(e,t,n)=>Math.max(Math.min(e,n),t);function BO(e){return VO(zO(2.55*e),0,255)}function UO(e){return VO(zO(255*e),0,255)}function WO(e){return VO(zO(e/2.55)/100,0,1)}function HO(e){return VO(zO(100*e),0,100)}const KO={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qO=[..."0123456789ABCDEF"],GO=e=>qO[15&e],YO=e=>qO[(240&e)>>4]+qO[15&e],QO=e=>(240&e)>>4===(15&e);function XO(e){var t=(e=>QO(e.r)&&QO(e.g)&&QO(e.b)&&QO(e.a))(e)?GO:YO;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const $O=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function JO(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function ZO(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function eM(e,t,n){const r=JO(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function tM(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),a=Math.min(t,n,r),s=(i+a)/2;let o,l,c;return i!==a&&(c=i-a,l=s>.5?c/(2-i-a):c/(i+a),o=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),o=60*o+.5),[0|o,l||0,s]}function nM(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(UO)}function rM(e,t,n){return nM(JO,e,t,n)}function iM(e){return(e%360+360)%360}function aM(e){const t=$O.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?BO(+t[5]):UO(+t[5]));const i=iM(+t[2]),a=+t[3]/100,s=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return nM(eM,e,t,n)}(i,a,s):"hsv"===t[1]?function(e,t,n){return nM(ZO,e,t,n)}(i,a,s):rM(i,a,s),{r:n[0],g:n[1],b:n[2],a:r}}const sM={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let lM;function cM(e){lM||(lM=function(){const e={},t=Object.keys(oM),n=Object.keys(sM);let r,i,a,s,o;for(r=0;r<t.length;r++){for(s=o=t[r],i=0;i<n.length;i++)a=n[i],o=o.replace(a,sM[a]);a=parseInt(oM[s],16),e[o]=[a>>16&255,a>>8&255,255&a]}return e}(),lM.transparent=[0,0,0,0]);const t=lM[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const uM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const dM=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,hM=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function fM(e,t,n){if(e){let r=tM(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=rM(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function pM(e,t){return e?Object.assign(t||{},e):e}function mM(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=UO(e[3]))):(t=pM(e,{r:0,g:0,b:0,a:1})).a=UO(t.a),t}function gM(e){return"r"===e.charAt(0)?function(e){const t=uM.exec(e);let n,r,i,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?BO(e):VO(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?BO(n):VO(n,0,255)),r=255&(t[4]?BO(r):VO(r,0,255)),i=255&(t[6]?BO(i):VO(i,0,255)),{r:n,g:r,b:i,a:a}}}(e):aM(e)}class vM{constructor(e){if(e instanceof vM)return e;const t=typeof e;let n;"object"===t?n=mM(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*KO[e[1]],g:255&17*KO[e[2]],b:255&17*KO[e[3]],a:5===n?17*KO[e[4]]:255}:7!==n&&9!==n||(t={r:KO[e[1]]<<4|KO[e[2]],g:KO[e[3]]<<4|KO[e[4]],b:KO[e[5]]<<4|KO[e[6]],a:9===n?KO[e[7]]<<4|KO[e[8]]:255})),t}(e)||cM(e)||gM(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=pM(this._rgb);return e&&(e.a=WO(e.a)),e}set rgb(e){this._rgb=mM(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(WO(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?XO(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=tM(e),n=t[0],r=HO(t[1]),i=HO(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(WO(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const a=t===i?.5:t,s=2*a-1,o=n.a-r.a,l=((s*o===-1?s:(s+o)/(1+s*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=hM(WO(e.r)),i=hM(WO(e.g)),a=hM(WO(e.b));return{r:UO(dM(r+n*(hM(WO(t.r))-r))),g:UO(dM(i+n*(hM(WO(t.g))-i))),b:UO(dM(a+n*(hM(WO(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new vM(this.rgb)}alpha(e){return this._rgb.a=UO(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=zO(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return fM(this._rgb,2,e),this}darken(e){return fM(this._rgb,2,-e),this}saturate(e){return fM(this._rgb,1,e),this}desaturate(e){return fM(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=tM(e);n[0]=iM(n[0]+t),n=rM(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function yM(){}const xM=(()=>{let e=0;return()=>e++})();function bM(e){return null===e||void 0===e}function wM(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function kM(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function _M(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function SM(e,t){return _M(e)?e:t}function AM(e,t){return"undefined"===typeof e?t:e}const EM=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function jM(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function CM(e,t,n,r){let i,a,s;if(wM(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(kM(e))for(s=Object.keys(e),a=s.length,i=0;i<a;i++)t.call(n,e[s[i]],s[i])}function NM(e,t){let n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function PM(e){if(wM(e))return e.map(PM);if(kM(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=PM(e[n[i]]);return t}return e}function TM(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function IM(e,t,n,r){if(!TM(e))return;const i=t[e],a=n[e];kM(i)&&kM(a)?OM(i,a,r):t[e]=PM(a)}function OM(e,t,n){const r=wM(t)?t:[t],i=r.length;if(!kM(e))return e;const a=(n=n||{}).merger||IM;let s;for(let o=0;o<i;++o){if(s=r[o],!kM(s))continue;const t=Object.keys(s);for(let r=0,i=t.length;r<i;++r)a(t[r],e,s,n)}return e}function MM(e,t){return OM(e,t,{merger:DM})}function DM(e,t,n){if(!TM(e))return;const r=t[e],i=n[e];kM(r)&&kM(i)?MM(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=PM(i))}const RM={"":e=>e,x:e=>e.x,y:e=>e.y};function LM(e,t){const n=RM[t]||(RM[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function FM(e){return e.charAt(0).toUpperCase()+e.slice(1)}const zM=e=>"undefined"!==typeof e,VM=e=>"function"===typeof e,BM=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const UM=Math.PI,WM=2*UM,HM=WM+UM,KM=Number.POSITIVE_INFINITY,qM=UM/180,GM=UM/2,YM=UM/4,QM=2*UM/3,XM=Math.log10,$M=Math.sign;function JM(e,t,n){return Math.abs(e-t)<n}function ZM(e){const t=Math.round(e);e=JM(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(XM(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function eD(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function tD(e,t,n){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function nD(e){return e*(UM/180)}function rD(e){return e*(180/UM)}function iD(e){if(!_M(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function aD(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*UM&&(a+=WM),{angle:a,distance:i}}function sD(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function oD(e,t){return(e-t+HM)%WM-UM}function lD(e){return(e%WM+WM)%WM}function cD(e,t,n,r){const i=lD(e),a=lD(t),s=lD(n),o=lD(a-i),l=lD(s-i),c=lD(i-a),u=lD(i-s);return i===a||i===s||r&&a===s||o>l&&c<u}function uD(e,t,n){return Math.max(t,Math.min(n,e))}function dD(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function hD(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,a=0;for(;i-a>1;)r=a+i>>1,n(r)?a=r:i=r;return{lo:a,hi:i}}const fD=(e,t,n,r)=>hD(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),pD=(e,t,n)=>hD(e,n,r=>e[r][t]>=n);const mD=["push","pop","shift","splice","unshift"];function gD(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(mD.forEach(t=>{delete e[t]}),delete e._chartjs)}function vD(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const yD="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function xD(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];n=a,r||(r=!0,yD.call(window,()=>{r=!1,e.apply(t,n)}))}}const bD=e=>"start"===e?"left":"end"===e?"right":"center",wD=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function kD(e,t,n){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:s,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=s.axis,{min:d,max:h,minDefined:f,maxDefined:p}=s.getUserBounds();if(f){if(i=Math.min(fD(l,u,d).lo,n?r:fD(t,u,s.getPixelForValue(d)).lo),c){const e=l.slice(0,i+1).reverse().findIndex(e=>!bM(e[o.axis]));i-=Math.max(0,e)}i=uD(i,0,r-1)}if(p){let e=Math.max(fD(l,s.axis,h,!0).hi+1,n?0:fD(t,u,s.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!bM(e[o.axis]));e+=Math.max(0,t)}a=uD(e,i,r)-i}else a=r-i}return{start:i,count:a}}function _D(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const SD=e=>0===e||1===e,AD=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*WM/n),ED=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*WM/n)+1,jD={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*GM),easeOutSine:e=>Math.sin(e*GM),easeInOutSine:e=>-.5*(Math.cos(UM*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>SD(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>SD(e)?e:AD(e,.075,.3),easeOutElastic:e=>SD(e)?e:ED(e,.075,.3),easeInOutElastic(e){const t=.1125;return SD(e)?e:e<.5?.5*AD(2*e,t,.45):.5+.5*ED(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-jD.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*jD.easeInBounce(2*e):.5*jD.easeOutBounce(2*e-1)+.5};function CD(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function ND(e){return CD(e)?e:new vM(e)}function PD(e){return CD(e)?e:new vM(e).saturate(.5).darken(.1).hexString()}const TD=["x","y","borderWidth","radius","tension"],ID=["color","borderColor","backgroundColor"];const OD=new Map;function MD(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=OD.get(n);return r||(r=new Intl.NumberFormat(e,t),OD.set(n,r)),r}(t,n).format(e)}const DD={values:e=>wM(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const s=XM(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),MD(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(XM(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?DD.numeric.call(this,e,t,n):""}};var RD={formatters:DD};const LD=Object.create(null),FD=Object.create(null);function zD(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function VD(e,t,n){return"string"===typeof t?OM(zD(e,t),n):OM(zD(e,""),t)}class BD{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>PD(t.backgroundColor),this.hoverBorderColor=(e,t)=>PD(t.borderColor),this.hoverColor=(e,t)=>PD(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return VD(this,e,t)}get(e){return zD(this,e)}describe(e,t){return VD(FD,e,t)}override(e,t){return VD(LD,e,t)}route(e,t,n,r){const i=zD(this,e),a=zD(this,n),s="_"+t;Object.defineProperties(i,{[s]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=a[r];return kM(e)?Object.assign({},t,e):AM(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach(e=>e(this))}}var UD=new BD({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:ID},numbers:{type:"number",properties:TD}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:RD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function WD(e,t,n,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function HD(e,t,n,r){let i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let s=0;const o=n.length;let l,c,u,d,h;for(l=0;l<o;l++)if(d=n[l],void 0===d||null===d||wM(d)){if(wM(d))for(c=0,u=d.length;c<u;c++)h=d[c],void 0===h||null===h||wM(h)||(s=WD(e,i,a,s,h))}else s=WD(e,i,a,s,d);e.restore();const f=a.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[a[l]];a.splice(0,f)}return s}function KD(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function qD(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function GD(e,t,n,r){YD(e,t,n,r,null)}function YD(e,t,n,r,i){let a,s,o,l,c,u,d,h;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*qM;if(f&&"object"===typeof f&&(a=f.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,m,0,0,WM):e.arc(n,r,m,0,WM),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=QM,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=QM,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,s=Math.cos(g+YM)*l,d=Math.cos(g+YM)*(i?i/2-c:l),o=Math.sin(g+YM)*l,h=Math.sin(g+YM)*(i?i/2-c:l),e.arc(n-d,r-o,c,g-UM,g-GM),e.arc(n+h,r-s,c,g-GM,g),e.arc(n+d,r+o,c,g,g+GM),e.arc(n-h,r+s,c,g+GM,g+UM),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}g+=YM;case"rectRot":d=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+h,r-s),e.lineTo(n+d,r+o),e.lineTo(n-h,r+s),e.closePath();break;case"crossRot":g+=YM;case"cross":d=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-s),e.lineTo(n-h,r+s);break;case"star":d=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-s),e.lineTo(n-h,r+s),g+=YM,d=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,o=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-o),e.lineTo(n+d,r+o),e.moveTo(n+h,r-s),e.lineTo(n-h,r+s);break;case"line":s=i?i/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(n-s,r-o),e.lineTo(n+s,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function QD(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function XD(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function $D(e){e.restore()}function JD(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function ZD(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function eR(e,t,n,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,u),e.lineTo(o,u),e.stroke()}}function tR(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function nR(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=wM(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),bM(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<s.length;++l)c=s[l],a.backdrop&&tR(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),bM(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,r,a.maxWidth)),e.fillText(c,n,r,a.maxWidth),eR(e,n,r,c,a),r+=Number(i.lineHeight);e.restore()}function rR(e,t){const{x:n,y:r,w:i,h:a,radius:s}=t;e.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*UM,UM,!0),e.lineTo(n,r+a-s.bottomLeft),e.arc(n+s.bottomLeft,r+a-s.bottomLeft,s.bottomLeft,UM,GM,!0),e.lineTo(n+i-s.bottomRight,r+a),e.arc(n+i-s.bottomRight,r+a-s.bottomRight,s.bottomRight,GM,0,!0),e.lineTo(n+i,r+s.topRight),e.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-GM,!0),e.lineTo(n+s.topLeft,r)}const iR=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aR=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function sR(e,t){const n=(""+e).match(iR);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const oR=e=>+e||0;function lR(e,t){const n={},r=kM(t),i=r?Object.keys(t):t,a=kM(e)?r?n=>AM(e[n],e[t[n]]):t=>e[t]:()=>e;for(const s of i)n[s]=oR(a(s));return n}function cR(e){return lR(e,{top:"y",right:"x",bottom:"y",left:"x"})}function uR(e){return lR(e,["topLeft","topRight","bottomLeft","bottomRight"])}function dR(e){const t=cR(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hR(e,t){e=e||{},t=t||UD.font;let n=AM(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=AM(e.style,t.style);r&&!(""+r).match(aR)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:AM(e.family,t.family),lineHeight:sR(AM(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:AM(e.weight,t.weight),string:""};return i.string=function(e){return!e||bM(e.size)||bM(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function fR(e,t,n,r){let i,a,s,o=!0;for(i=0,a=e.length;i<a;++i)if(s=e[i],void 0!==s&&(void 0!==t&&"function"===typeof s&&(s=s(t),o=!1),void 0!==n&&wM(s)&&(s=s[n%s.length],o=!1),void 0!==s))return r&&!o&&(r.cacheable=!1),s}function pR(e,t){return Object.assign(Object.create(e),t)}function mR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=ER("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>mR([r,...e],t,i,n)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>bR(n,r,()=>function(e,t,n,r){let i;for(const a of t)if(i=ER(yR(a,e),n),"undefined"!==typeof i)return xR(e,i)?SR(n,r,e,i):i}(r,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>jR(e).includes(t),ownKeys:e=>jR(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function gR(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:vR(e,r),setContext:t=>gR(e,t,n,r),override:i=>gR(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>bR(e,t,()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:s}=e;let o=r[t];VM(o)&&s.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:i,_context:a,_subProxy:s,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,s||r);o.delete(e),xR(e,l)&&(l=SR(i._scopes,i,e,l));return l}(t,o,e,n));wM(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:i,_context:a,_subProxy:s,_descriptors:o}=n;if("undefined"!==typeof a.index&&r(e))return t[a.index%t.length];if(kM(t[0])){const n=t,r=i._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=SR(r,i,e,l);t.push(gR(n,a,s&&s[e],o))}}return t}(t,o,e,s.isIndexable));xR(t,o)&&(o=gR(o,i,a&&a[t],s));return o}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function vR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:VM(n)?n:()=>n,isIndexable:VM(r)?r:()=>r}}const yR=(e,t)=>e?e+FM(t):t,xR=(e,t)=>kM(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function bR(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function wR(e,t,n){return VM(e)?e(t,n):e}const kR=(e,t)=>!0===e?t:"string"===typeof e?LM(t,e):void 0;function _R(e,t,n,r,i){for(const a of t){const t=kR(n,a);if(t){e.add(t);const a=wR(t._fallback,n,i);if("undefined"!==typeof a&&a!==n&&a!==r)return a}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function SR(e,t,n,r){const i=t._rootScopes,a=wR(t._fallback,n,r),s=[...e,...i],o=new Set;o.add(r);let l=AR(o,s,n,a||n,r);return null!==l&&(("undefined"===typeof a||a===n||(l=AR(o,s,a,l,r),null!==l))&&mR(Array.from(o),[""],i,a,()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(wM(i)&&kM(n))return n;return i||{}}(t,n,r)))}function AR(e,t,n,r,i){for(;n;)n=_R(e,t,n,r,i);return n}function ER(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function jR(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function CR(e,t,n,r){const{iScale:i}=e,{key:a="r"}=this._parsing,s=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],s[o]={r:i.parse(LM(u,a),c)};return s}const NR=Number.EPSILON||1e-14,PR=(e,t)=>t<e.length&&!e[t].skip&&e[t],TR=e=>"x"===e?"y":"x";function IR(e,t,n,r){const i=e.skip?t:e,a=t,s=n.skip?t:n,o=sD(a,i),l=sD(s,a);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:a.x-d*(s.x-i.x),y:a.y-d*(s.y-i.y)},next:{x:a.x+h*(s.x-i.x),y:a.y+h*(s.y-i.y)}}}function OR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=TR(t),r=e.length,i=Array(r).fill(0),a=Array(r);let s,o,l,c=PR(e,0);for(s=0;s<r;++s)if(o=l,l=c,c=PR(e,s+1),l){if(c){const e=c[t]-l[t];i[s]=0!==e?(c[n]-l[n])/e:0}a[s]=o?c?$M(i[s-1])!==$M(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}!function(e,t,n){const r=e.length;let i,a,s,o,l,c=PR(e,0);for(let u=0;u<r-1;++u)l=c,c=PR(e,u+1),l&&c&&(JM(t[u],0,NR)?n[u]=n[u+1]=0:(i=n[u]/t[u],a=n[u+1]/t[u],o=Math.pow(i,2)+Math.pow(a,2),o<=9||(s=3/Math.sqrt(o),n[u]=i*s*t[u],n[u+1]=a*s*t[u])))}(e,i,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=TR(n),i=e.length;let a,s,o,l=PR(e,0);for(let c=0;c<i;++c){if(s=o,o=l,l=PR(e,c+1),!o)continue;const i=o[n],u=o[r];s&&(a=(i-s[n])/3,o["cp1".concat(n)]=i-a,o["cp1".concat(r)]=u-a*t[c]),l&&(a=(l[n]-i)/3,o["cp2".concat(n)]=i+a,o["cp2".concat(r)]=u+a*t[c])}}(e,a,t)}function MR(e,t,n){return Math.max(Math.min(e,n),t)}function DR(e,t,n,r,i){let a,s,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)OR(e,i);else{let n=r?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)o=e[a],l=IR(n,o,e[Math.min(a+1,s-(r?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,i,a,s,o=QD(e[0],t);for(n=0,r=e.length;n<r;++n)s=a,a=o,o=n<r-1&&QD(e[n+1],t),a&&(i=e[n],s&&(i.cp1x=MR(i.cp1x,t.left,t.right),i.cp1y=MR(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=MR(i.cp2x,t.left,t.right),i.cp2y=MR(i.cp2y,t.top,t.bottom)))}(e,n)}function RR(){return"undefined"!==typeof window&&"undefined"!==typeof document}function LR(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function FR(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const zR=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const VR=["top","right","bottom","left"];function BR(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=VR[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function UR(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=zR(n),a="border-box"===i.boxSizing,s=BR(i,"padding"),o=BR(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=r;let s,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,a,e.target))s=i,o=a;else{const e=t.getBoundingClientRect();s=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:s,y:o,box:l}}(e,n),d=s.left+(u&&o.left),h=s.top+(u&&o.top);let{width:f,height:p}=t;return a&&(f-=s.width+o.width,p-=s.height+o.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/p*n.height/r)}}const WR=e=>Math.round(10*e)/10;function HR(e,t,n,r){const i=zR(e),a=BR(i,"margin"),s=FR(i.maxWidth,e,"clientWidth")||KM,o=FR(i.maxHeight,e,"clientHeight")||KM,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const a=e&&LR(e);if(a){const e=a.getBoundingClientRect(),s=zR(a),o=BR(s,"border","width"),l=BR(s,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=FR(s.maxWidth,a,"clientWidth"),i=FR(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||KM,maxHeight:i||KM}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=BR(i,"border","width"),t=BR(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-a.width),u=Math.max(0,r?c/r:u-a.height),c=WR(Math.min(c,s,l.maxWidth)),u=WR(Math.min(u,o,l.maxHeight)),c&&!u&&(u=WR(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=WR(Math.floor(u*r))),{width:c,height:u}}function KR(e,t,n){const r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height="".concat(e.height,"px"),s.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||s.height!==i||s.width!==a)&&(e.currentDevicePixelRatio=r,s.height=i,s.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}const qR=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};RR()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(s5){}return e}();function GR(e,t){const n=function(e,t){return zR(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function YR(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function QR(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function XR(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=YR(e,i,n),o=YR(i,a,n),l=YR(a,t,n),c=YR(s,o,n),u=YR(o,l,n);return YR(c,u,n)}function $R(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function JR(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function ZR(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function eL(e){return"angle"===e?{between:cD,compare:oD,normalize:lD}:{between:dD,compare:(e,t)=>e-t,normalize:e=>e}}function tL(e){let{start:t,end:n,count:r,loop:i,style:a}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:a}}function nL(e,t,n){if(!n)return[e];const{property:r,start:i,end:a}=n,s=t.length,{compare:o,between:l,normalize:c}=eL(r),{start:u,end:d,loop:h,style:f}=function(e,t,n){const{property:r,start:i,end:a}=n,{between:s,normalize:o}=eL(r),l=t.length;let c,u,{start:d,end:h,loop:f}=e;if(f){for(d+=l,h+=l,c=0,u=l;c<u&&s(o(t[d%l][r]),i,a);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:f,style:e.style}}(e,t,n),p=[];let m,g,v,y=!1,x=null;const b=()=>y||l(i,v,m)&&0!==o(i,v),w=()=>!y||0===o(a,m)||l(a,v,m);for(let k=u,_=u;k<=d;++k)g=t[k%s],g.skip||(m=c(g[r]),m!==v&&(y=l(m,i,a),null===x&&b()&&(x=0===o(m,i)?k:_),null!==x&&w()&&(p.push(tL({start:x,end:k,loop:h,count:s,style:f})),x=null),_=k,v=m));return null!==x&&p.push(tL({start:x,end:d,loop:h,count:s,style:f})),p}function rL(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const a=nL(r[i],e.points,t);a.length&&n.push(...a)}return n}function iL(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),a=aL(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=n.length,c=[];let u=a,d=t[0].start,h=d;function f(e,t,r,i){const a=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,d=t%l)}}for(const p of t){d=o?d:p.start;let e,t=n[d%l];for(h=d+1;h<=p.end;h++){const a=n[h%l];e=aL(r.setContext(pR(i,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),sL(e,u)&&f(d,h-1,p.loop,u),t=a,u=e}d<h-1&&f(d,h-1,p.loop,u)}return c}(e,t,n,r):t}function aL(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function sL(e,t){if(!t)return!1;const n=[],r=function(e,t){return CD(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function oL(e,t,n){return e.options.clip?e[n]:t[n]}function lL(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:oL(n,t,"left"),right:oL(n,t,"right"),top:oL(r,t,"top"),bottom:oL(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class cL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],a=t.duration;i.forEach(r=>r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=yD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let a,s=i.length-1,o=!1;for(;s>=0;--s)a=i[s],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),o=!0):(i[s]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var uL=new cL;const dL="transparent",hL={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=ND(e||dL),i=r.valid&&ND(t||dL);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class fL{constructor(e,t,n,r){const i=t[n];r=fR([e.to,r,i,e.from]);const a=fR([e.from,i,r]);this._active=!0,this._fn=e.fn||hL[e.type||typeof a],this._easing=jD[e.easing]||jD.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=fR([e.to,t,r,e.from]),this._from=fR([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,a=this._loop,s=this._to;let o;if(this._active=i!==s&&(a||t<n),!this._active)return this._target[r]=s,void this._notify(!0);t<0?this._target[r]=i:(o=t/n%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(i,s,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class pL{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!kM(e))return;const t=Object.keys(UD.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!kM(i))return;const a={};for(const e of t)a[e]=i[e];(wM(i.properties)&&i.properties||[r]).forEach(e=>{e!==r&&n.has(e)||n.set(e,a)})})}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),s=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,s);continue}u.cancel()}d&&d.duration?(i[l]=u=new fL(d,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(uL.add(this._chart,n),!0):void 0}}function mL(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:i,end:r?i:a}}function gL(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function vL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,a="single"===r.mode;let s,o,l,c;if(null===t)return;let u=!1;for(s=0,o=i.length;s<o;++s){if(l=+i[s],l===n){if(u=!0,r.all)continue;break}c=e.values[l],_M(c)&&(a||0===t||$M(t)===$M(c))&&(t+=c)}return u||r.all?t:0}function yL(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function xL(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function bL(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function wL(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:s,index:o}=r,l=a.axis,c=s.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,s,r),d=t.length;let h;for(let f=0;f<d;++f){const e=t[f],{[l]:n,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=xL(i,u,n),h[o]=a,h._top=bL(h,s,!0,r.type),h._bottom=bL(h,s,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=a}}function kL(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function _L(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const SL=e=>"reset"===e||"none"===e,AL=(e,t)=>t?e:Object.assign({},e);class EL{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=yL(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_L(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=AM(n.xAxisID,kL(e,"x")),a=t.yAxisID=AM(n.yAxisID,kL(e,"y")),s=t.rAxisID=AM(n.rAxisID,kL(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,i,a,s),c=t.vAxisID=r(o,a,i,s);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&gD(this._data,this),e._stacked&&_L(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(kM(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",a="x"===r.axis?"x":"y",s=Object.keys(e),o=new Array(s.length);let l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],o[l]={[i]:u,[a]:e[u]};return o}(t,e)}else if(n!==t){if(n){gD(n,this);const e=this._cachedMeta;_L(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),mD.forEach(t=>{const n="_onData"+FM(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];const s=r.apply(this,i);return e._chartjs.listeners.forEach(e=>{"function"===typeof e[n]&&e[n](...i)}),s}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=yL(t.vScale,t),t.stack!==n.stack&&(r=!0,_L(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(wL(this,t._parsed),t._stacked=yL(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:a}=n,s=i.axis;let o,l,c,u=0===e&&t===r.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=wM(r[e])?this.parseArrayData(n,r,e,t):kM(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[s]||d&&l[s]<d[s];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(i()&&(u=!1),d=l);n._sorted=u}a&&wL(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:a}=e,s=i.axis,o=a.axis,l=i.getLabels(),c=i===a,u=new Array(r);let d,h,f;for(d=0,h=r;d<h;++d)f=d+n,u[d]={[s]:c||i.parse(l[f],f),[o]:a.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:a}=e,s=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],s[o]={x:i.parse(u[0],c),y:a.parse(u[1],c)};return s}parseObjectData(e,t,n,r){const{xScale:i,yScale:a}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+n,h=t[d],l[c]={x:i.parse(LM(h,s),d),y:a.parse(LM(h,o),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,a=t[e.axis];return vL({keys:gL(r,!0),values:t._stacks[e.axis]._visualValues},a,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let a=null===i?NaN:i;const s=r&&n._stacks[t.axis];r&&s&&(r.values=s,a=vL(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,a=r.length,s=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:gL(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(s);let d,h;function f(){h=r[d];const t=h[s.axis];return!_M(h[e.axis])||c>t||u<t}for(d=0;d<a&&(f()||(this.updateRangeFromParsed(l,e,h,o),!i));++d);if(i)for(d=a-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,a;for(r=0,i=t.length;r<i;++r)a=t[r][e.axis],_M(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return kM(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(AM(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=mL(e,n),i=mL(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,a=[],s=this._drawStart||0,o=this._drawCount||r.length-s,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,s,o),c=s;c<s+o;++c){const t=r[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,i))}for(c=0;c<a.length;++c)a[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return pR(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return pR(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,a=e+"-"+t,s=i[a],o=this.enableOptionSharing&&zM(n);if(s)return AL(s,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(UD.elements[e]),f=l.resolveNamedOptions(d,h,()=>this.getContext(n,r,t),u);return f.$shared&&(f.$shared=o,i[a]=Object.freeze(AL(f,o))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,a="animation-".concat(t),s=i[a];if(s)return s;let o;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),a=r.getOptionScopes(this.getDataset(),i);o=r.createResolver(a,this.getContext(e,n,t))}const l=new pL(r,o&&o.animations);return o&&o._cacheable&&(i[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||SL(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}updateElement(e,t,n,r){SL(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!SL(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[s,o,l]of this._syncList)this[s](o,l);this._syncList=[];const r=n.length,i=t.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,a=e+t;let s;const o=e=>{for(e.length+=t,s=e.length-1;s>=a;s--)e[s]=e[s-t]};for(o(i),s=e;s<a;++s)i[s]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&_L(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function jL(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=vD(r.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let r,i,a,s,o=t._length;const l=()=>{32767!==a&&-32768!==a&&(zM(s)&&(o=Math.min(o,Math.abs(a-s)||o)),s=a)};for(r=0,i=n.length;r<i;++r)a=t.getPixelForValue(n[r]),l();for(s=void 0,r=0,i=t.ticks.length;r<i;++r)a=t.getPixelForTick(r),l();return o}function CL(e,t,n,r){return wM(e)?function(e,t,n,r){const i=n.parse(e[0],r),a=n.parse(e[1],r),s=Math.min(i,a),o=Math.max(i,a);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:a,min:s,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function NL(e,t,n,r){const i=e.iScale,a=e.vScale,s=i.getLabels(),o=i===a,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=t[c],d={},d[i.axis]=o||i.parse(s[c],c),l.push(CL(h,d,a,c));return l}function PL(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function TL(e,t,n,r){let i=t.borderSkipped;const a={};if(!i)return void(e.borderSkipped=a);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:o,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(a[IL(u,s,o,l)]=!0,i=c)),a[IL(i,s,o,l)]=!0,e.borderSkipped=a}function IL(e,t,n,r){var i,a,s;return r?(s=n,e=OL(e=(i=e)===(a=t)?s:i===s?a:i,n,t)):e=OL(e,t,n),e}function OL(e,t,n){return"start"===e?t:"end"===e?n:e}function ML(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}(0,Iu.A)(EL,"defaults",{}),(0,Iu.A)(EL,"datasetElementType",null),(0,Iu.A)(EL,"dataElementType",null);class DL extends EL{parsePrimitiveData(e,t,n,r){return NL(e,t,n,r)}parseArrayData(e,t,n,r){return NL(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:a}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?s:o,c="x"===a.axis?s:o,u=[];let d,h,f,p;for(d=n,h=n+r;d<h;++d)p=t[d],f={},f[i.axis]=i.parse(LM(p,l),d),u.push(CL(LM(p,c),f,a,d));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),a=i._custom,s=PL(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:a,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=i||bM(t[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),f=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[s.axis],m={horizontal:l,base:n.base,enableBorderRadius:!p||PL(t._custom)||a===p._top||a===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=m.options||e[h].options;TL(m,g,p,a),ML(m,g,c.ratio),this.updateElement(e[h],h,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),i=n.options.stacked,a=[],s=this._cachedMeta.controller.getParsed(t),o=s&&s[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===o),r=t&&t[e.vScale.axis];if(bM(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===i||-1===a.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[AM("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,a;for(i=0,a=t.data.length;i<a;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const s=e.barThickness;return{min:s||jL(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:a}}=this,s=i||0,o=this.getParsed(e),l=o._custom,c=PL(l);let u,d,h=o[t.axis],f=0,p=n?this.applyStack(t,o,n):h;p!==h&&(f=p-h,p=h),c&&(h=l.barStart,p=l.barEnd-l.barStart,0!==h&&$M(h)!==$M(l.barEnd)&&(f=0),f+=h);const m=bM(i)||c?f:i;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):g,d=u-g,Math.abs(d)<a){d=function(e,t,n){return 0!==e?$M(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,s)*a,h===s&&(g-=d/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);g=Math.max(Math.min(g,f),l),u=g+d,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(s)){const e=$M(d)*t.getLineWidthForValue(s)/2;g+=e,d-=e}return{size:d,base:g,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,a=AM(r.maxBarThickness,1/0);let s,o;const l=this._getAxisCount();if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,a=i[e];let s=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===s&&(s=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-s);const c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n*l):function(e,t,n,r){const i=n.barThickness;let a,s;return bM(i)?(a=t.min*n.categoryPercentage,s=n.barPercentage):(a=i*r,s=1),{chunk:a/r,ratio:s,start:t.pixels[e]-a/2}}(e,t,r,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(AM(u,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+d;s=c.start+c.chunk*h+c.chunk/2,o=Math.min(a,c.chunk*c.ratio)}else s=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(a,t.min*t.ratio);return{base:s-o/2,head:s+o/2,center:s,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}(0,Iu.A)(DL,"id","bar"),(0,Iu.A)(DL,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,Iu.A)(DL,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class RL extends EL{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let a=0;a<i.length;a++){const e=t[n+a];i[a]._custom=AM(e[2],this.resolveDataElementOptions(a+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let a=0;a<i.length;a++){const e=t[n+a];i[a]._custom=AM(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,a=this.getParsed(e),s=r.getLabelForValue(a.x),o=i.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+s+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),c=a.axis,u=s.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!i&&this.getParsed(d),h={},f=h[c]=i?a.getPixelForDecimal(.5):a.getPixelForValue(n[c]),p=h[u]=i?s.getBasePixel():s.getPixelForValue(n[u]);h.skip=isNaN(f)||isNaN(p),l&&(h.options=o||this.resolveDataElementOptions(d,t.active?"active":r),i&&(h.options.radius=0)),this.updateElement(t,d,h,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=AM(n&&n._custom,i),r}}(0,Iu.A)(RL,"id","bubble"),(0,Iu.A)(RL,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,Iu.A)(RL,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class LL extends EL{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,a,s=e=>+n[e];if(kM(n[e])){const{key:e="value"}=this._parsing;s=t=>+LM(n[t],e)}for(i=e,a=e+t;i<a;++i)r._parsed[i]=s(i)}}_getRotation(){return nD(this.options.rotation-90)}_getCircumference(){return nD(this.options.circumference)}_getRotationExtents(){let e=WM,t=-WM;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-a)/2,0),o=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,s),1),l=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:f,offsetY:p}=function(e,t,n){let r=1,i=1,a=0,s=0;if(t<WM){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(e,t,r)=>cD(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>cD(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),m=f(0,c,d),g=f(GM,u,h),v=p(UM,c,d),y=p(UM+GM,u,h);r=(m-v)/2,i=(g-y)/2,a=-(m+v)/2,s=-(g+y)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:s}}(u,c,o),m=(n.width-a)/d,g=(n.height-a)/h,v=Math.max(Math.min(m,g)/2,0),y=EM(this.options.radius,v),x=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=p*y,r.total=this.calculateTotal(),this.outerRadius=y-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*l,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/WM)}updateElements(e,t,n,r){const i="reset"===r,a=this.chart,s=a.chartArea,o=a.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,u=i&&o.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,i);for(m=t;m<t+n;++m){const t=this._circumference(m,i),n=e[m],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:d};p&&(a.options=f||this.resolveDataElementOptions(m,n.active?"active":r)),g+=t,this.updateElement(n,m,a,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?WM*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=MD(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,a,s,o;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){a=n.getDatasetMeta(r),e=a.data,s=a.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)o=s.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(AM(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,Iu.A)(LL,"id","doughnut"),(0,Iu.A)(LL,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,Iu.A)(LL,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,Iu.A)(LL,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((t,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class FL extends EL{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:s,count:o}=kD(t,r,a);this._drawStart=s,this._drawCount=o,_D(t)&&(s=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(r,s,o,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),d=a.axis,h=s.axis,{spanGaps:f,segment:p}=this.options,m=eD(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,v=t+n,y=e.length;let x=t>0&&this.getParsed(t-1);for(let b=0;b<y;++b){const n=e[b],f=g?n:{};if(b<t||b>=v){f.skip=!0;continue}const y=this.getParsed(b),w=bM(y[h]),k=f[d]=a.getPixelForValue(y[d],b),_=f[h]=i||w?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,y,o):y[h],b);f.skip=isNaN(k)||isNaN(_)||w,f.stop=b>0&&Math.abs(y[d]-x[d])>m,p&&(f.parsed=y,f.raw=l.data[b]),u&&(f.options=c||this.resolveDataElementOptions(b,n.active?"active":r)),g||this.updateElement(n,b,f,r),x=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,Iu.A)(FL,"id","line"),(0,Iu.A)(FL,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,Iu.A)(FL,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class zL extends EL{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=MD(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return CR.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),a=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,r){const i="reset"===r,a=this.chart,s=a.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,u=o.getIndexAngle(0)-.5*UM;let d,h=u;const f=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,r,f);for(d=t;d<t+n;d++){const t=e[d];let n=h,p=h+this._computeAngle(d,r,f),m=a.getDataVisibility(d)?o.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=p,i&&(s.animateScale&&(m=0),s.animateRotate&&(n=p=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(d,t.active?"active":r)};this.updateElement(t,d,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?nD(this.resolveDataElementOptions(e,t).angle||n):0}}(0,Iu.A)(zL,"id","polarArea"),(0,Iu.A)(zL,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,Iu.A)(zL,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((t,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class VL extends LL{}(0,Iu.A)(VL,"id","pie"),(0,Iu.A)(VL,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class BL extends EL{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return CR.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,a="reset"===r;for(let s=t;s<t+n;s++){const t=e[s],n=this.resolveDataElementOptions(s,t.active?"active":r),o=i.getPointPositionForValue(s,this.getParsed(s).r),l=a?i.xCenter:o.x,c=a?i.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,s,u,r)}}}(0,Iu.A)(BL,"id","radar"),(0,Iu.A)(BL,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,Iu.A)(BL,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class UL extends EL{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,a=this.getParsed(e),s=r.getLabelForValue(a.x),o=i.getLabelForValue(a.y);return{label:n[e]||"",value:"("+s+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:a}=kD(t,n,r);if(this._drawStart=i,this._drawCount=a,_D(t)&&(i=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:a}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=n;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),d=this.includeOptions(r,u),h=a.axis,f=s.axis,{spanGaps:p,segment:m}=this.options,g=eD(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let y=t>0&&this.getParsed(t-1);for(let x=t;x<t+n;++x){const t=e[x],n=this.getParsed(x),c=v?t:{},p=bM(n[f]),b=c[h]=a.getPixelForValue(n[h],x),w=c[f]=i||p?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,n,o):n[f],x);c.skip=isNaN(b)||isNaN(w)||p,c.stop=x>0&&Math.abs(n[h]-y[h])>g,m&&(c.parsed=n,c.raw=l.data[x]),d&&(c.options=u||this.resolveDataElementOptions(x,t.active?"active":r)),v||this.updateElement(t,x,c,r),y=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,a)/2}}(0,Iu.A)(UL,"id","scatter"),(0,Iu.A)(UL,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,Iu.A)(UL,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function WL(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class HL{static override(e){Object.assign(HL.prototype,e)}constructor(e){(0,Iu.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return WL()}parse(){return WL()}format(){return WL()}add(){return WL()}diff(){return WL()}startOf(){return WL()}endOf(){return WL()}}var KL=HL;function qL(e,t,n,r){const{controller:i,data:a,_sorted:s}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&s&&a.length){const s=o._reversePixels?pD:fD;if(!r){const r=s(a,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,a=n.slice(0,r.lo+1).reverse().findIndex(e=>!bM(e[t.axis]));r.lo-=Math.max(0,a);const s=n.slice(r.hi).findIndex(e=>!bM(e[t.axis]));r.hi+=Math.max(0,s)}return r}if(i._sharedOptions){const e=a[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=s(a,t,n-r),i=s(a,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:a.length-1}}function GL(e,t,n,r,i){const a=e.getSortedVisibleDatasetMetas(),s=n[t];for(let o=0,l=a.length;o<l;++o){const{index:e,data:n}=a[o],{lo:l,hi:c}=qL(a[o],t,s,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function YL(e,t,n,r,i){const a=[];if(!i&&!e.isPointInArea(t))return a;return GL(e,n,t,function(n,s,o){(i||QD(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:s,index:o})},!0),a}function QL(e,t,n,r,i,a){let s=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return GL(e,n,t,function(n,c,u){const d=n.inRange(t.x,t.y,i);if(r&&!d)return;const h=n.getCenterPoint(i);if(!(!!a||e.isPointInArea(h))&&!d)return;const f=o(t,h);f<l?(s=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&s.push({element:n,datasetIndex:c,index:u})}),s}function XL(e,t,n,r,i,a){return a||e.isPointInArea(t)?"r"!==n||r?QL(e,t,n,r,i,a):function(e,t,n,r){let i=[];return GL(e,n,t,function(e,n,a){const{startAngle:s,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=aD(e,{x:t.x,y:t.y});cD(l,s,o)&&i.push({element:e,datasetIndex:n,index:a})}),i}(e,t,n,i):[]}function $L(e,t,n,r,i){const a=[],s="x"===n?"inXRange":"inYRange";let o=!1;return GL(e,n,t,(e,r,l)=>{e[s]&&e[s](t[n],i)&&(a.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,i))}),r&&!o?[]:a}var JL={evaluateInteractionItems:GL,modes:{index(e,t,n,r){const i=UR(t,e),a=n.axis||"x",s=n.includeInvisible||!1,o=n.intersect?YL(e,i,a,r,s):XL(e,i,a,!1,r,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,r){const i=UR(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;let o=n.intersect?YL(e,i,a,r,s):XL(e,i,a,!1,r,s);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>YL(e,UR(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=UR(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;return XL(e,i,a,n.intersect,r,s)},x:(e,t,n,r)=>$L(e,UR(t,e),"x",n.intersect,r),y:(e,t,n,r)=>$L(e,UR(t,e),"y",n.intersect,r)}};const ZL=["left","top","right","bottom"];function eF(e,t){return e.filter(e=>e.pos===t)}function tF(e,t){return e.filter(e=>-1===ZL.indexOf(e.pos)&&e.box.axis===t)}function nF(e,t){return e.sort((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function rF(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!ZL.includes(r))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,s,o;for(a=0,s=e.length;a<s;++a){o=e[a];const{fullSize:s}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:s&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:s&&t.availableHeight)}return n}function iF(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function aF(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function sF(e,t,n,r){const{pos:i,box:a}=n,s=e.maxPadding;if(!kM(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[i]+=n.size}a.getPadding&&aF(s,a.getPadding());const o=Math.max(0,t.outerWidth-iF(s,e,"left","right")),l=Math.max(0,t.outerHeight-iF(s,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function oF(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],n[e])}),r}return r(e?["left","right"]:["top","bottom"])}function lF(e,t,n,r){const i=[];let a,s,o,l,c,u;for(a=0,s=e.length,c=0;a<s;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,oF(o.horizontal,t));const{same:s,other:d}=sF(t,n,o,r);c|=s&&i.length,u=u||d,l.fullSize||i.push(o)}return c&&lF(i,t,n,r)||u}function cF(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function uF(e,t,n,r){const i=n.padding;let{x:a,y:s}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,a=l.size||e.height;zM(l.start)&&(s=l.start),e.fullSize?cF(e,i.left,s,n.outerWidth-i.right-i.left,a):cF(e,t.left+l.placed,s,r,a),l.start=s,l.placed+=r,s=e.bottom}else{const r=t.h*c,s=l.size||e.width;zM(l.start)&&(a=l.start),e.fullSize?cF(e,a,i.top,s,n.outerHeight-i.bottom-i.top):cF(e,a,t.top+l.placed,s,r),l.start=a,l.placed+=r,a=e.right}}t.x=a,t.y=s}var dF={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=dR(e.options.layout.padding),a=Math.max(t-i.width,0),s=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,r,i,a,s,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:a,options:{stack:s,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&a+s,stackWeight:o});return t}(e),n=nF(t.filter(e=>e.box.fullSize),!0),r=nF(eF(t,"left"),!0),i=nF(eF(t,"right")),a=nF(eF(t,"top"),!0),s=nF(eF(t,"bottom")),o=tF(t,"x"),l=tF(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(l).concat(s).concat(o),chartArea:eF(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:a.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;CM(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const u=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},i);aF(h,dR(r));const f=Object.assign({maxPadding:h,w:a,h:s,x:i.left,y:i.top},i),p=rF(l.concat(c),d);lF(o.fullSize,f,d,p),lF(l,f,d,p),lF(c,f,d,p)&&lF(l,f,d,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),uF(o.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,uF(o.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},CM(o.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class hF{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class fF extends hF{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const pF="$chartjs",mF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gF=e=>null===e||""===e;const vF=!!qR&&{passive:!0};function yF(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,vF)}function xF(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function bF(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||xF(n.addedNodes,r),t=t&&!xF(n.removedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function wF(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||xF(n.removedNodes,r),t=t&&!xF(n.addedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const kF=new Map;let _F=0;function SF(){const e=window.devicePixelRatio;e!==_F&&(_F=e,kF.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function AF(e,t,n){const r=e.canvas,i=r&&LR(r);if(!i)return;const a=xD((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()},window),s=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)});return s.observe(i),function(e,t){kF.size||window.addEventListener("resize",SF),kF.set(e,t)}(e,a),s}function EF(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){kF.delete(e),kF.size||window.removeEventListener("resize",SF)}(e)}function jF(e,t,n){const r=e.canvas,i=xD(t=>{null!==e.ctx&&n(function(e,t){const n=mF[e.type]||e.type,{x:r,y:i}=UR(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,vF)}(r,t,i),i}class CF extends hF{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[pF]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",gF(i)){const t=GR(e,"width");void 0!==t&&(e.width=t)}if(gF(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=GR(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[pF])return!1;const n=t[pF].initial;["height","width"].forEach(e=>{const r=n[e];bM(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=n.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[pF],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:bF,detach:wF,resize:AF}[t]||jF;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:EF,detach:EF,resize:EF}[t]||yF)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return HR(e,t,n,r)}isAttached(e){const t=e&&LR(e);return!(!t||!t.isConnected)}}class NF{constructor(){(0,Iu.A)(this,"x",void 0),(0,Iu.A)(this,"y",void 0),(0,Iu.A)(this,"active",!1),(0,Iu.A)(this,"options",void 0),(0,Iu.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return eD(this.x)&&eD(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),r}}function PF(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],s=a.length,o=a[0],l=a[s-1],c=[];if(s>i)return function(e,t,n,r){let i,a=0,s=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===s&&(t.push(e[i]),a++,s=n[a*r])}(t,c,a,s/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const a=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(r);for(let s=0,o=a.length-1;s<o;s++){const e=a[s];if(e>i)return e}return Math.max(i,1)}(a,t,i);if(s>0){let e,n;const r=s>1?Math.round((l-o)/(s-1)):null;for(TF(t,c,u,bM(r)?0:o-r,o),e=0,n=s-1;e<n;e++)TF(t,c,u,a[e],a[e+1]);return TF(t,c,u,l,bM(r)?t.length:l+r),c}return TF(t,c,u),c}function TF(e,t,n,r,i){const a=AM(r,0),s=Math.min(AM(i,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),i&&(o=i-r,n=o/Math.floor(o/n)),c=a;c<0;)u++,c=Math.round(a+u*n);for(l=Math.max(a,0);l<s;l++)l===c&&(t.push(e[l]),u++,c=Math.round(a+u*n))}(0,Iu.A)(NF,"defaults",{}),(0,Iu.A)(NF,"defaultRoutes",void 0);const IF=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,OF=(e,t)=>Math.min(t||e,e);function MF(e,t){const n=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function DF(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,s=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-a,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<a-o||c>s+o)))return c}function RF(e){return e.drawTicks?e.tickLength:0}function LF(e,t){if(!e.display)return 0;const n=hR(e.font,t),r=dR(e.padding);return(wM(e.text)?e.text.length:1)*n.lineHeight+r.height}function FF(e,t,n){let r=bD(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class zF extends NF{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=SM(e,Number.POSITIVE_INFINITY),t=SM(t,Number.NEGATIVE_INFINITY),n=SM(n,Number.POSITIVE_INFINITY),r=SM(r,Number.NEGATIVE_INFINITY),{min:SM(e,n),max:SM(t,r),minDefined:_M(e),maxDefined:_M(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds();if(i&&a)return{min:n,max:r};const s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),a||(r=Math.max(r,t.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:SM(n,SM(r,n)),max:SM(r,SM(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jM(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,a=EM(t,(i-r)/2),s=(e,t)=>n&&0===e?0:e+t;return{min:s(r,-Math.abs(a)),max:s(i,a)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=s<this.ticks.length;this._convertTicksToLabels(o?MF(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=PF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jM(this.options.afterUpdate,[this])}beforeSetDimensions(){jM(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jM(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),jM(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jM(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=jM(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){jM(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jM(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=OF(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let a,s,o,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=uD(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),u+6>a&&(a=h/(n-(e.offset?.5:1)),s=this.maxHeight-RF(e.grid)-t.padding-LF(e.title,this.chart.options.font),o=Math.sqrt(u*u+d*d),l=rD(Math.min(Math.asin(uD((c.highest.height+6)/a,-1,1)),Math.asin(uD(s/o,-1,1))-Math.asin(uD(d/o,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){jM(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jM(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){const a=LF(r,t.options.font);if(s?(e.width=this.maxWidth,e.height=RF(i)+a):(e.height=this.maxHeight,e.width=RF(i)+a),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:a}=this._getLabelSizes(),o=2*n.padding,l=nD(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const t=n.mirror?0:u*i.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:a},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;o?l?(u=r*e.width,d=n*t.height):(u=n*e.height,d=r*t.width):"start"===i?d=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-s+a)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+a,this.paddingBottom=r+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jM(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)bM(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=MF(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,a=[],s=[],o=Math.floor(t/OF(t,n));let l,c,u,d,h,f,p,m,g,v,y,x=0,b=0;for(l=0;l<t;l+=o){if(d=e[l].label,h=this._resolveTickFontOptions(l),r.font=f=h.string,p=i[f]=i[f]||{data:{},gc:[]},m=h.lineHeight,g=v=0,bM(d)||wM(d)){if(wM(d))for(c=0,u=d.length;c<u;++c)y=d[c],bM(y)||wM(y)||(g=WD(r,p.data,p.gc,g,y),v+=m)}else g=WD(r,p.data,p.gc,g,d),v=m;a.push(g),s.push(v),x=Math.max(g,x),b=Math.max(v,b)}!function(e,t){CM(e,e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}})}(i,t);const w=a.indexOf(x),k=s.indexOf(b),_=e=>({width:a[e]||0,height:s[e]||0});return{first:_(0),last:_(t-1),widest:_(w),highest:_(k),widths:a,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return uD(e,-32768,32767)}(this._alignToPixels?KD(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return pR(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=function(e,t){return pR(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=nD(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,s=i?i.widest.width+a:0,o=i?i.highest.height+a:0;return this.isHorizontal()?o*n>s*r?s/n:o/r:o*r<s*n?o/n:s/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:a,border:s}=r,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=RF(i),d=[],h=s.setContext(this.getContext()),f=h.display?h.width:0,p=f/2,m=function(e){return KD(n,e,f)};let g,v,y,x,b,w,k,_,S,A,E,j;if("top"===a)g=m(this.bottom),w=this.bottom-u,_=g-p,A=m(e.top)+p,j=e.bottom;else if("bottom"===a)g=m(this.top),A=e.top,j=m(e.bottom)-p,w=g+p,_=this.top+u;else if("left"===a)g=m(this.right),b=this.right-u,k=g-p,S=m(e.left)+p,E=e.right;else if("right"===a)g=m(this.left),S=e.left,E=m(e.right)-p,b=g+p,k=this.left+u;else if("x"===t){if("center"===a)g=m((e.top+e.bottom)/2+.5);else if(kM(a)){const e=Object.keys(a)[0],t=a[e];g=m(this.chart.scales[e].getPixelForValue(t))}A=e.top,j=e.bottom,w=g+p,_=w+u}else if("y"===t){if("center"===a)g=m((e.left+e.right)/2);else if(kM(a)){const e=Object.keys(a)[0],t=a[e];g=m(this.chart.scales[e].getPixelForValue(t))}b=g-p,k=b-u,S=e.left,E=e.right}const C=AM(r.ticks.maxTicksLimit,c),N=Math.max(1,Math.ceil(c/C));for(v=0;v<c;v+=N){const e=this.getContext(v),t=i.setContext(e),r=s.setContext(e),a=t.lineWidth,c=t.color,u=r.dash||[],h=r.dashOffset,f=t.tickWidth,p=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=DF(this,v,o),void 0!==y&&(x=KD(n,y,a),l?b=k=S=E=x:w=_=A=j=x,d.push({tx1:b,ty1:w,tx2:k,ty2:_,x1:S,y1:A,x2:E,y2:j,width:a,color:c,borderDash:u,borderDashOffset:h,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,a=this.isHorizontal(),s=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=i,d=RF(n.grid),h=d+c,f=u?-c:h,p=-nD(this.labelRotation),m=[];let g,v,y,x,b,w,k,_,S,A,E,j,C="middle";if("top"===r)w=this.bottom-f,k=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,k=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(d);k=e.textAlign,b=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(d);k=e.textAlign,b=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(kM(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}k=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)b=(e.left+e.right)/2-h;else if(kM(r)){const e=Object.keys(r)[0],t=r[e];b=this.chart.scales[e].getPixelForValue(t)}k=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===o?C="top":"end"===o&&(C="bottom"));const N=this._getLabelSizes();for(g=0,v=s.length;g<v;++g){y=s[g],x=y.label;const e=i.setContext(this.getContext(g));_=this.getPixelForTick(g)+i.labelOffset,S=this._resolveTickFontOptions(g),A=S.lineHeight,E=wM(x)?x.length:1;const t=E/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let d,h=k;if(a?(b=_,"inner"===k&&(h=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),j="top"===r?"near"===l||0!==p?-E*A+A/2:"center"===l?-N.highest.height/2-t*A+A:-N.highest.height+A/2:"near"===l||0!==p?A/2:"center"===l?N.highest.height/2-t*A:N.highest.height-E*A,u&&(j*=-1),0===p||e.showLabelBackdrop||(b+=A/2*Math.sin(p))):(w=_,j=(1-E)*A/2),e.showLabelBackdrop){const t=dR(e.backdropPadding),n=N.heights[g],r=N.widths[g];let i=j-t.top,a=0-t.left;switch(C){case"middle":i-=n/2;break;case"bottom":i-=n}switch(k){case"center":a-=r/2;break;case"right":a-=r;break;case"inner":g===v-1?a-=r:g>0&&(a-=r/2)}d={left:a,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:x,font:S,textOffset:j,options:{rotation:p,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:C,translation:[b,w],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-nD(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,a=e+i,s=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=s/2):(o="right",l+=s)):(l=this.right-a,"near"===n?o="right":"center"===n?(o="center",l-=s/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=s/2):(o="left",l-=s)):(l=this.left+a,"near"===n?o="left":"center"===n?(o="center",l+=s/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const s=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,a=r.length;i<a;++i){const e=r[i];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const s=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=KD(e,this.left,a)-a/2,c=KD(e,this.right,s)+s/2,u=d=o):(u=KD(e,this.top,a)-a/2,d=KD(e,this.bottom,s)+s/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&XD(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;nR(t,i.label,0,i.textOffset,n,e)}n&&$D(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=hR(n.font),a=dR(n.padding),s=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||kM(t)?(o+=a.bottom,wM(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=a.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,r){const{top:i,left:a,bottom:s,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,f,p=0;const m=s-i,g=o-a;if(e.isHorizontal()){if(h=wD(r,a,o),kM(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+m-t}else f="center"===n?(c.bottom+c.top)/2+m-t:IF(e,n,t);d=o-a}else{if(kM(n)){const e=Object.keys(n)[0],r=n[e];h=u[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:IF(e,n,t);f=wD(r,s,i),p="left"===n?-GM:GM}return{titleX:h,titleY:f,maxWidth:d,rotation:p}}(this,o,t,s);nR(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:FF(s,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=AM(e.grid&&e.grid.z,-1),r=AM(e.border&&e.border.z,0);return this._isVisible()&&this.draw===zF.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,a;for(i=0,a=t.length;i<a;++i){const a=t[i];a[n]!==this.id||e&&a.type!==e||r.push(a)}return r}_resolveTickFontOptions(e){return hR(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class VF{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=OM(Object.create(null),[n?UD.get(n):{},UD.get(t),e.defaults]);UD.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),s=t[n].split("."),o=s.pop(),l=s.join(".");UD.route(a,i,l,o)})}(t,e.defaultRoutes);e.descriptors&&UD.describe(t,e.descriptors)}(e,a,n),this.override&&UD.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in UD[r]&&(delete UD[r][n],this.override&&delete LD[n])}}class BF{constructor(){this.controllers=new VF(EL,"datasets",!0),this.elements=new VF(NF,"elements"),this.plugins=new VF(Object,"plugins"),this.scales=new VF(zF,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):CM(t,t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,n){const r=FM(e);jM(n["before"+r],[],n),t[e](n),jM(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var UF=new BF;class WF{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===jM(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){bM(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=AM(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(UF.plugins.items);for(let a=0;a<r.length;a++)n.push(UF.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const e=i[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:a}=t;const s=[],o=e.getContext();for(const l of i){const t=l.id,i=HF(n[t],r);null!==i&&s.push({plugin:l,options:KF(e.config,{plugin:l,local:a[t]},i,o)})}return s}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function HF(e,t){return t||!1!==e?!0===e?{}:e:null}function KF(e,t,n,r){let{plugin:i,local:a}=t;const s=e.pluginScopeKeys(i),o=e.getOptionScopes(n,s);return a&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qF(e,t){const n=UD.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function GF(e){if("x"===e||"y"===e||"r"===e)return e}function YF(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function QF(e){if(GF(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){const t=i.axis||YF(i.position)||e.length>1&&GF(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function XF(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function $F(e,t){const n=LD[e.type]||{scales:{}},r=t.scales||{},i=qF(e.type,t),a=Object.create(null);return Object.keys(r).forEach(t=>{const s=r[t];if(!kM(s))return console.error("Invalid scale configuration for scale: ".concat(t));if(s._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=QF(t,s,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return XF(e,"x",n[0])||XF(e,"y",n[0])}return{}}(t,e),UD.scales[s.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};a[t]=MM(Object.create(null),[{axis:o},s,c[o],c[l]])}),e.data.datasets.forEach(n=>{const i=n.type||e.type,s=n.indexAxis||qF(i,t),o=(LD[i]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,s),i=n[t+"AxisID"]||t;a[i]=a[i]||Object.create(null),MM(a[i],[{axis:t},r[i],o[e]])})}),Object.keys(a).forEach(e=>{const t=a[e];MM(t,[UD.scales[t.type],UD.scale])}),a}function JF(e){const t=e.options||(e.options={});t.plugins=AM(t.plugins,{}),t.scales=$F(e,t)}function ZF(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const ez=new Map,tz=new Set;function nz(e,t){let n=ez.get(e);return n||(n=t(),ez.set(e,n),tz.add(n)),n}const rz=(e,t,n)=>{const r=LM(t,n);void 0!==r&&e.add(r)};class iz{constructor(e){this._config=function(e){return(e=e||{}).data=ZF(e.data),JF(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ZF(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),JF(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return nz(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return nz("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return nz("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return nz("".concat(n,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,a=this._cachedScopes(e,n),s=a.get(t);if(s)return s;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>rz(o,e,t))),t.forEach(e=>rz(o,r,e)),t.forEach(e=>rz(o,LD[i]||{},e)),t.forEach(e=>rz(o,UD,e)),t.forEach(e=>rz(o,FD,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),tz.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,LD[t]||{},UD.datasets[t]||{},{type:t},UD,FD]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:a,subPrefixes:s}=az(this._resolverCache,e,r);let o=a;if(function(e,t){const{isScriptable:n,isIndexable:r}=vR(e);for(const i of t){const t=n(i),a=r(i),s=(a||t)&&e[i];if(t&&(VM(s)||sz(s))||a&&wM(s))return!0}return!1}(a,t)){i.$shared=!1;o=gR(a,n=VM(n)?n():n,this.createResolver(e,n,s))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=az(this._resolverCache,e,n);return kM(t)?gR(i,t,void 0,r):i}}function az(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let a=r.get(i);if(!a){a={resolver:mR(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},r.set(i,a)}return a}const sz=e=>kM(e)&&Object.getOwnPropertyNames(e).some(t=>VM(e[t]));const oz=["top","bottom","left","right","chartArea"];function lz(e,t){return"top"===e||"bottom"===e||-1===oz.indexOf(e)&&"x"===t}function cz(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function uz(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),jM(n&&n.onComplete,[e],t)}function dz(e){const t=e.chart,n=t.options.animation;jM(n&&n.onProgress,[e],t)}function hz(e){return RR()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const fz={},pz=e=>{const t=hz(e);return Object.values(fz).filter(e=>e.canvas===t).pop()};function mz(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const a=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=a)}}}class gz{static register(){UF.add(...arguments),vz()}static unregister(){UF.remove(...arguments),vz()}constructor(e,t){const n=this.config=new iz(t),r=hz(e),i=pz(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!RR()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?fF:CF}(r)),this.platform.updateConfig(n);const s=this.platform.acquireContext(r,a.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;this.id=xM(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new WF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],fz[this.id]=this,s&&o?(uL.listen(this,"complete",uz),uL.listen(this,"progress",dz),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return bM(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return UF}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():KR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qD(this.canvas,this.ctx),this}stop(){return uL.stop(this),this}resize(e,t){uL.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,i),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,KR(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),jM(n.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){CM(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let i=[];t&&(i=i.concat(Object.keys(t).map(e=>{const n=t[e],r=QF(e,n),i="r"===r,a="x"===r;return{options:n,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}}))),CM(i,t=>{const i=t.options,a=i.id,s=QF(a,i),o=AM(i.type,t.dtype);void 0!==i.position&&lz(i.position,s)===lz(t.dposition)||(i.position=t.dposition),r[a]=!0;let l=null;if(a in n&&n[a].type===o)l=n[a];else{l=new(UF.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)}),CM(r,(e,t)=>{e||delete n[t]}),CM(n,e=>{dF.configure(this,e,e.options),dF.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(cz("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const a=r.type||this.config.type;if(i.type&&i.type!==a&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=a,i.indexAxis=r.indexAxis||qF(a,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=UF.getController(a),{datasetElementType:r,dataElementType:s}=UD.datasets[a];Object.assign(t,{dataElementType:UF.getElement(s),datasetElementType:r&&UF.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){CM(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||CM(i,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(cz("z","_idx"));const{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){CM(this.scales,e=>{dF.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);BM(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){mz(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=n(0);for(let i=1;i<t;i++)if(!BM(r,n(i)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;dF.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],CM(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,VM(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(uL.has(this)?this.attached&&!uL.running(this)&&uL.start(this):(this.draw(),uz({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=lL(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&XD(t,r),e.controller.draw(),r&&$D(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return QD(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=JL.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=pR(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);zM(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),uL.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),qD(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete fz[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};CM(this.options.events,e=>n(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const s=()=>{r("attach",s),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",s)},t.isAttached(this.canvas)?s():a()}unbindEvents(){CM(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},CM(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,a,s,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),s=0,o=e.length;s<o;++s){a=e[s];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}});!NM(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=i(t,e),s=n?e:i(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),s.length&&r.mode&&this.updateHoverStyle(s,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,a=t,s=this._getActiveElements(e,r,n,a),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,jM(i.onHover,[e,s,this],this),o&&jM(i.onClick,[e,s,this],this));const c=!NM(s,r);return(c||t)&&(this._active=s,this._updateHoverStyles(s,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function vz(){return CM(gz.instances,e=>e._plugins.invalidate())}function yz(e,t,n,r){const i=function(e){return lR(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),a=(n-t)/2,s=Math.min(a,r*t/2),o=e=>{const t=(n-Math.min(a,e))*r/2;return uD(e,0,Math.min(a,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:uD(i.innerStart,0,s),innerEnd:uD(i.innerEnd,0,s)}}function xz(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function bz(e,t,n,r,i,a){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(d>0?d-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const m=(p-Math.max(.001,p*d-n/UM)/d)/2,g=l+m+f,v=i-m-f,{outerStart:y,outerEnd:x,innerStart:b,innerEnd:w}=yz(t,h,d,v-g),k=d-y,_=d-x,S=g+y/k,A=v-x/_,E=h+b,j=h+w,C=g+b/E,N=v-w/j;if(e.beginPath(),a){const t=(S+A)/2;if(e.arc(s,o,d,S,t),e.arc(s,o,d,t,A),x>0){const t=xz(_,A,s,o);e.arc(t.x,t.y,x,A,v+GM)}const n=xz(j,v,s,o);if(e.lineTo(n.x,n.y),w>0){const t=xz(j,N,s,o);e.arc(t.x,t.y,w,v+GM,N+Math.PI)}const r=(v-w/h+(g+b/h))/2;if(e.arc(s,o,h,v-w/h,r,!0),e.arc(s,o,h,r,g+b/h,!0),b>0){const t=xz(E,C,s,o);e.arc(t.x,t.y,b,C+Math.PI,g-GM)}const i=xz(k,g,s,o);if(e.lineTo(i.x,i.y),y>0){const t=xz(k,S,s,o);e.arc(t.x,t.y,y,g-GM,S)}}else{e.moveTo(s,o);const t=Math.cos(S)*d+s,n=Math.sin(S)*d+o;e.lineTo(t,n);const r=Math.cos(A)*d+s,i=Math.sin(A)*d+o;e.lineTo(r,i)}e.closePath()}function wz(e,t,n,r,i){const{fullCircles:a,startAngle:s,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let m=t.endAngle;if(a){bz(e,t,n,r,m,i);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(m=s+(o%WM||WM))}p&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:a,y:s,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(a,s,o,r-c,n+c),l>i?(c=i/l,e.arc(a,s,l,n+c,r-c,!0)):e.arc(a,s,i,n+GM,r-GM),e.closePath(),e.clip()}(e,t,m),l.selfJoin&&m-s>=UM&&0===f&&"miter"!==u&&function(e,t,n){const{startAngle:r,x:i,y:a,outerRadius:s,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/s,lD(r-n));if(e.beginPath(),e.arc(i,a,s-c/2,r+d/2,n-d/2),o>0){const t=Math.min(c/o,lD(r-n));e.arc(i,a,o+c/2,n-t/2,r+t/2,!0)}else{const t=Math.min(c/2,s*lD(r-n));if("round"===u)e.arc(i,a,t,n-UM/2,r+UM/2,!0);else if("bevel"===u){const s=2*t*t,o=-s*Math.cos(n+UM/2)+i,l=-s*Math.sin(n+UM/2)+a,c=s*Math.cos(r+UM/2)+i,u=s*Math.sin(r+UM/2)+a;e.lineTo(o,l),e.lineTo(c,u)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,m),a||(bz(e,t,n,r,m,i),e.stroke())}(0,Iu.A)(gz,"defaults",UD),(0,Iu.A)(gz,"instances",fz),(0,Iu.A)(gz,"overrides",LD),(0,Iu.A)(gz,"registry",UF),(0,Iu.A)(gz,"version","4.5.0"),(0,Iu.A)(gz,"getChart",pz);class kz extends NF{constructor(e){super(),(0,Iu.A)(this,"circumference",void 0),(0,Iu.A)(this,"endAngle",void 0),(0,Iu.A)(this,"fullCircles",void 0),(0,Iu.A)(this,"innerRadius",void 0),(0,Iu.A)(this,"outerRadius",void 0),(0,Iu.A)(this,"pixelMargin",void 0),(0,Iu.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:a}=aD(r,{x:e,y:t}),{startAngle:s,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,h=AM(u,o-s),f=cD(i,s,o)&&s!==o,p=h>=WM||f,m=dD(a,l+d,c+d);return p&&m}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+i)/2,u=(a+s+l+o)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>WM?Math.floor(n/WM):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*r,Math.sin(s)*r);const o=r*(1-Math.sin(Math.min(UM,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:a,startAngle:s,circumference:o}=t;let l=t.endAngle;if(a){bz(e,t,n,r,l,i);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=s+(o%WM||WM))}bz(e,t,n,r,l,i),e.fill()}(e,this,o,i,a),wz(e,this,o,i,a),e.restore()}}function _z(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=AM(n.borderCapStyle,t.borderCapStyle),e.setLineDash(AM(n.borderDash,t.borderDash)),e.lineDashOffset=AM(n.borderDashOffset,t.borderDashOffset),e.lineJoin=AM(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=AM(n.borderWidth,t.borderWidth),e.strokeStyle=AM(n.borderColor,t.borderColor)}function Sz(e,t,n){e.lineTo(n.x,n.y)}function Az(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:a=r-1}=n,{start:s,end:o}=t,l=Math.max(i,s),c=Math.min(a,o),u=i<s&&a<s||i>o&&a>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function Ez(e,t,n,r){const{points:i,options:a}=t,{count:s,start:o,loop:l,ilen:c}=Az(i,n,r),u=function(e){return e.stepped?JD:e.tension||"monotone"===e.cubicInterpolationMode?ZD:Sz}(a);let d,h,f,{move:p=!0,reverse:m}=r||{};for(d=0;d<=c;++d)h=i[(o+(m?c-d:d))%s],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):u(e,f,h,m,a.stepped),f=h);return l&&(h=i[(o+(m?c:0))%s],u(e,f,h,m,a.stepped)),!!l}function jz(e,t,n,r){const i=t.points,{count:a,start:s,ilen:o}=Az(i,n,r),{move:l=!0,reverse:c}=r||{};let u,d,h,f,p,m,g=0,v=0;const y=e=>(s+(c?o-e:e))%a,x=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(d=i[y(0)],e.moveTo(d.x,d.y)),u=0;u<=o;++u){if(d=i[y(u)],d.skip)continue;const t=d.x,n=d.y,r=0|t;r===h?(n<f?f=n:n>p&&(p=n),g=(v*g+t)/++v):(x(),e.lineTo(t,n),h=r,v=0,f=p=n),m=n}x()}function Cz(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?jz:Ez}(0,Iu.A)(kz,"id","arc"),(0,Iu.A)(kz,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,Iu.A)(kz,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,Iu.A)(kz,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Nz="function"===typeof Path2D;function Pz(e,t,n,r){Nz&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),_z(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:a}=t,s=Cz(t);for(const o of i)_z(e,a,o.style),e.beginPath(),s(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class Tz extends NF{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;DR(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:s,end:o}=function(e,t,n,r){let i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}(n,i,a,r);return iL(e,!0===r?[{start:s,end:o,loop:a}]:function(e,t,n,r){const i=e.length,a=[];let s,o=t,l=e[t];for(s=t+1;s<=n;++s){const n=e[s%i];n.skip||n.stop?l.skip||(r=!1,a.push({start:t%i,end:(s-1)%i,loop:r}),t=o=n.stop?s:null):(o=s,l.skip&&(t=s)),l=n}return null!==o&&a.push({start:t%i,end:o%i,loop:r}),a}(n,s,o<s?o+i:o,!!e._fullLoop&&0===s&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,a=rL(this,{property:t,start:r,end:r});if(!a.length)return;const s=[],o=function(e){return e.stepped?QR:e.tension||"monotone"===e.cubicInterpolationMode?XR:YR}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:u}=a[l],d=i[c],h=i[u];if(d===h){s.push(d);continue}const f=o(d,h,Math.abs((r-d[t])/(h[t]-d[t])),n.stepped);f[t]=e[t],s.push(f)}return 1===s.length?s[0]:s}pathSegment(e,t,n){return Cz(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=Cz(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const s of r)a&=i(e,this,s,{start:t,end:t+n-1});return!!a}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Pz(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Iz(e,t,n,r){const i=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<i.radius+i.hitRadius}(0,Iu.A)(Tz,"id","line"),(0,Iu.A)(Tz,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,Iu.A)(Tz,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,Iu.A)(Tz,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Oz extends NF{constructor(e){super(),(0,Iu.A)(this,"parsed",void 0),(0,Iu.A)(this,"skip",void 0),(0,Iu.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:a}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Iz(this,e,"x",t)}inYRange(e,t){return Iz(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!QD(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,GD(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Mz(e,t){const{x:n,y:r,base:i,width:a,height:s}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,d;return e.horizontal?(d=s/2,o=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=a/2,o=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function Dz(e,t,n,r){return e?0:uD(t,n,r)}function Rz(e){const t=Mz(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,a=cR(r);return{t:Dz(i.top,a.top,0,n),r:Dz(i.right,a.right,0,t),b:Dz(i.bottom,a.bottom,0,n),l:Dz(i.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=uR(i),s=Math.min(t,n),o=e.borderSkipped,l=r||kM(i);return{topLeft:Dz(!l||o.top||o.left,a.topLeft,0,s),topRight:Dz(!l||o.top||o.right,a.topRight,0,s),bottomLeft:Dz(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:Dz(!l||o.bottom||o.right,a.bottomRight,0,s)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Lz(e,t,n,r){const i=null===t,a=null===n,s=e&&!(i&&a)&&Mz(e,r);return s&&(i||dD(t,s.left,s.right))&&(a||dD(n,s.top,s.bottom))}function Fz(e,t){e.rect(t.x,t.y,t.w,t.h)}function zz(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,s=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+s,radius:e.radius}}(0,Iu.A)(Oz,"id","point"),(0,Iu.A)(Oz,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,Iu.A)(Oz,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Vz extends NF{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:a}=Rz(this),s=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?rR:Fz;var o;e.save(),a.w===i.w&&a.h===i.h||(e.beginPath(),s(e,zz(a,t,i)),e.clip(),s(e,zz(i,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),s(e,zz(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return Lz(this,e,t,n)}inXRange(e,t){return Lz(this,e,null,t)}inYRange(e,t){return Lz(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,Iu.A)(Vz,"id","bar"),(0,Iu.A)(Vz,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,Iu.A)(Vz,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Bz(e,t,n,r){if(r)return;let i=t[e],a=n[e];return"angle"===e&&(i=lD(i),a=lD(a)),{property:e,start:i,end:a}}function Uz(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Wz(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Hz(e,t){let n=[],r=!1;return wM(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,a=[];return t.segments.forEach(e=>{let{start:t,end:s}=e;s=Uz(t,s,i);const o=i[t],l=i[s];null!==r?(a.push({x:o.x,y:r}),a.push({x:l.x,y:r})):null!==n&&(a.push({x:n,y:o.y}),a.push({x:n,y:l.y}))}),a}(e,t),n.length?new Tz({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Kz(e){return e&&!1!==e.fill}function qz(e,t,n){let r=e[t].fill;const i=[t];let a;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!_M(r))return r;if(a=e[r],!a)return!1;if(a.visible)return r;i.push(r),r=a.fill}return!1}function Gz(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=AM(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(kM(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return _M(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Yz(e,t,n){const r=[];for(let i=0;i<n.length;i++){const a=n[i],{first:s,last:o,point:l}=Qz(a,t,"x");if(!(!l||s&&o))if(s)r.unshift(l);else if(e.push(l),!o)break}e.push(...r)}function Qz(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],a=e.segments,s=e.points;let o=!1,l=!1;for(let c=0;c<a.length;c++){const e=a[c],t=s[e.start][n],r=s[e.end][n];if(dD(i,t,r)){o=i===t,l=i===r;break}}return{first:o,last:l,point:r}}class Xz{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:i,radius:a}=this;return t=t||{start:0,end:WM},e.arc(r,i,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function $z(e){const{chart:t,fill:n,line:r}=e;if(_M(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,i=[],a=r.segments,s=r.points,o=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const e=r[i];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);o.push(Hz({x:null,y:t.bottom},r));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)Yz(i,s[t],o)}return new Tz({points:i,options:{}})}(e);if("shape"===n)return!0;const i=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,a=r.reverse?t.max:t.min,s=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:kM(e)?e.value:t.getBaseValue(),r}(n,t,a),o=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,a);return new Xz({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)o.push(t.getPointPositionForValue(l,s));return o}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:kM(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(_M(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return i instanceof Xz?i:Hz(i,r)}function Jz(e,t,n){const r=$z(t),{chart:i,index:a,line:s,scale:o,axis:l}=t,c=s.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:f=d}=u||{},p=i.getDatasetMeta(a),m=lL(i,p);r&&s.points.length&&(XD(e,n),function(e,t){const{line:n,target:r,above:i,below:a,area:s,scale:o,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let u=a;a!==i&&("x"===c?(Zz(e,r,s.top),tV(e,{line:n,target:r,color:i,scale:o,property:c,clip:l}),e.restore(),e.save(),Zz(e,r,s.bottom)):"y"===c&&(eV(e,r,s.left),tV(e,{line:n,target:r,color:a,scale:o,property:c,clip:l}),e.restore(),e.save(),eV(e,r,s.right),u=i));tV(e,{line:n,target:r,color:u,scale:o,property:c,clip:l}),e.restore()}(e,{line:s,target:r,above:h,below:f,area:n,scale:o,axis:l,clip:m}),$D(e))}function Zz(e,t,n){const{segments:r,points:i}=t;let a=!0,s=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,c=i[r],u=i[Uz(r,l,i)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,o,{move:s}),s?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function eV(e,t,n){const{segments:r,points:i}=t;let a=!0,s=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,c=i[r],u=i[Uz(r,l,i)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(n,c.y),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,o,{move:s}),s?e.closePath():e.lineTo(n,u.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function tV(e,t){const{line:n,target:r,property:i,color:a,scale:s,clip:o}=t,l=function(e,t,n){const r=e.segments,i=e.points,a=t.points,s=[];for(const o of r){let{start:e,end:r}=o;r=Uz(e,r,i);const l=Bz(n,i[e],i[r],o.loop);if(!t.segments){s.push({source:o,target:l,start:i[e],end:i[r]});continue}const c=rL(t,l);for(const t of c){const e=Bz(n,a[t.start],a[t.end],t.loop),r=nL(o,i,e);for(const i of r)s.push({source:i,target:t,start:{[n]:Wz(l,e,"start",Math.max)},end:{[n]:Wz(l,e,"end",Math.min)}})}}return s}(n,r,i);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:t=a}={}}=c,l=!0!==r;e.save(),e.fillStyle=t,nV(e,s,o,l&&Bz(i,d,h)),e.beginPath();const f=!!n.pathSegment(e,c);let p;if(l){f?e.closePath():rV(e,r,h,i);const t=!!r.pathSegment(e,u,{move:f,reverse:!0});p=f&&t,p||rV(e,r,d,i)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function nV(e,t,n,r){const i=t.chart.chartArea,{property:a,start:s,end:o}=r||{};if("x"===a||"y"===a){let t,r,l,c;"x"===a?(t=s,r=i.top,l=o,c=i.bottom):(t=i.left,r=s,l=i.right,c=o),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),r=Math.max(r,n.top),c=Math.min(c,n.bottom)),e.rect(t,r,l-t,c-r),e.clip()}}function rV(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var iV={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let a,s,o,l;for(s=0;s<r;++s)a=e.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof Tz&&(l={visible:e.isDatasetVisible(s),index:s,fill:Gz(o,s,r),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],l&&!1!==l.fill&&(l.fill=qz(i,s,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let s=i.length-1;s>=0;--s){const t=i[s].$filler;t&&(t.line.updateControlPoints(a,t.axis),r&&t.fill&&Jz(e.ctx,t,a))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;Kz(t)&&Jz(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;Kz(r)&&"beforeDatasetDraw"===n.drawTime&&Jz(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const aV=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class sV extends NF{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=jM(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=hR(n.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:o}=aV(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,i,s,o)+10):(c=this.maxHeight,l=this._fitCols(a,r,s,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+s;let u=e;i.textAlign="left",i.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*s>a)&&(u+=c,l[l.length-(f>0?0:1)]=0,h+=c,d++),o[f]={left:0,top:h,row:d,width:p,height:r},l[l.length-1]+=p+s}),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let u=s,d=0,h=0,f=0,p=0;return this.legendItems.forEach((e,a)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,i){const a=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+r.measureText(i).width}(r,e,t,n),s=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=oV(t,n));return r}(i,r,t.lineHeight);return{itemWidth:a,itemHeight:s}}(n,t,i,e,r);a>0&&h+g+2*s>c&&(u+=d+s,l.push({width:d,height:h}),f+=d+s,p++,d=h=0),o[a]={left:f,top:h,col:p,width:m,height:g},d=Math.max(d,m),h+=g+s}),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,a=$R(i,this.left,this.width);if(this.isHorizontal()){let i=0,s=wD(n,this.left+r,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,s=wD(n,this.left+r,this.right-this.lineWidths[i])),o.top+=this.top+e+r,o.left=a.leftForLtr(a.x(s),o.width),s+=o.width+r}else{let i=0,s=wD(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,s=wD(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),o.top=s,o.left+=this.left+r,o.left=a.leftForLtr(a.x(o.left),o.width),s+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;XD(e,this),this._draw(),$D(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:a}=e,s=UD.color,o=$R(e.rtl,this.left,this.width),l=hR(a.font),{padding:c}=a,u=l.size,d=u/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=aV(a,u),g=this.isHorizontal(),v=this._computeTitleHeight();h=g?{x:wD(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:wD(i,this.top+v+c,this.bottom-t[0].height),line:0},JR(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach((x,b)=>{r.strokeStyle=x.fontColor,r.fillStyle=x.fontColor;const w=r.measureText(x.text).width,k=o.textAlign(x.textAlign||(x.textAlign=a.textAlign)),_=f+d+w;let S=h.x,A=h.y;o.setWidth(this.width),g?b>0&&S+_+c>this.right&&(A=h.y+=y,h.line++,S=h.x=wD(i,this.left+c,this.right-n[h.line])):b>0&&A+y>this.bottom&&(S=h.x=S+t[h.line].width+c,h.line++,A=h.y=wD(i,this.top+v+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=AM(n.lineWidth,1);if(r.fillStyle=AM(n.fillStyle,s),r.lineCap=AM(n.lineCap,"butt"),r.lineDashOffset=AM(n.lineDashOffset,0),r.lineJoin=AM(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=AM(n.strokeStyle,s),r.setLineDash(AM(n.lineDash,[])),a.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);YD(r,s,l,t+d,a.pointStyleWidth&&f)}else{const a=t+Math.max((u-p)/2,0),s=o.leftForLtr(e,f),l=uR(n.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?rR(r,{x:s,y:a,w:f,h:p,radius:l}):r.rect(s,a,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(o.x(S),A,x),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(k,S+f+d,g?S+_:this.right,e.rtl),function(e,t,n){nR(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(S),A,x),g)h.x+=_+c;else if("string"!==typeof x.text){const e=l.lineHeight;h.y+=oV(x,e)+c}else h.y+=y}),ZR(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=hR(t.font),r=dR(t.padding);if(!t.display)return;const i=$R(e.rtl,this.left,this.width),a=this.ctx,s=t.position,o=n.size/2,l=r.top+o;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=wD(e.align,u,this.right-d);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+wD(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=wD(s,u,u+d);a.textAlign=i.textAlign(bD(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,nR(a,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=hR(e.font),n=dR(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(dD(e,this.left,this.right)&&dD(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],dD(e,r.left,r.left+r.width)&&dD(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&jM(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&jM(t.onHover,[e,n,this],this)}else n&&jM(t.onClick,[e,n,this],this)}}function oV(e,t){return t*(e.text?e.text.length:0)}var lV={id:"legend",_element:sV,start(e,t,n){const r=e.legend=new sV({ctx:e.ctx,options:n,chart:e});dF.configure(e,r,n),dF.addBox(e,r)},stop(e){dF.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;dF.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a,useBorderRadius:s,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=dR(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class cV extends NF{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=wM(n.text)?n.text.length:1;this._padding=dR(n.padding);const i=r*hR(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:a}=this,s=a.align;let o,l,c,u=0;return this.isHorizontal()?(l=wD(s,n,i),c=t+e,o=i-n):("left"===a.position?(l=n+e,c=wD(s,r,t),u=-.5*UM):(l=i-e,c=wD(s,t,r),u=.5*UM),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=hR(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:a,maxWidth:s,rotation:o}=this._drawArgs(r);nR(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:o,textAlign:bD(t.align),textBaseline:"middle",translation:[i,a]})}}var uV={id:"title",_element:cV,start(e,t,n){!function(e,t){const n=new cV({ctx:e.ctx,options:t,chart:e});dF.configure(e,n,t),dF.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;dF.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;dF.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const dV={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++a}}if(0===a||0===r.size)return!1;const s=[...r].reduce((e,t)=>e+t)/r.size;return{x:s,y:i/a}},nearest(e,t){if(!e.length)return!1;let n,r,i,a=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=sD(t,r.getCenterPoint());e<o&&(o=e,i=r)}}if(i){const e=i.tooltipPosition();a=e.x,s=e.y}return{x:a,y:s}}};function hV(e,t){return t&&(wM(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function fV(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function pV(e,t){const{element:n,datasetIndex:r,index:i}=t,a=e.getDatasetMeta(r).controller,{label:s,value:o}=a.getLabelAndValue(i);return{chart:e,label:s,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function mV(e,t){const n=e.chart.ctx,{body:r,footer:i,title:a}=e,{boxWidth:s,boxHeight:o}=t,l=hR(t.bodyFont),c=hR(t.titleFont),u=hR(t.footerFont),d=a.length,h=i.length,f=r.length,p=dR(t.padding);let m=p.height,g=0,v=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){m+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let y=0;const x=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,CM(e.title,x),n.font=l.string,CM(e.beforeBody.concat(e.afterBody),x),y=t.displayColors?s+2+t.boxPadding:0,CM(r,e=>{CM(e.before,x),CM(e.lines,x),CM(e.after,x)}),y=0,n.font=u.string,CM(e.footer,x),n.restore(),g+=p.width,{width:g,height:m}}function gV(e,t,n,r){const{x:i,width:a}=n,{width:s,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=i<=(o+l)/2?"left":"right":i<=a/2?c="left":i>=s-a/2&&(c="right"),function(e,t,n,r){const{x:i,width:a}=r,s=n.caretSize+n.caretPadding;return"left"===e&&i+a+s>t.width||"right"===e&&i-a-s<0||void 0}(c,e,t,n)&&(c="center"),c}function vV(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||gV(e,t,n,r),yAlign:r}}function yV(e,t,n,r){const{caretSize:i,caretPadding:a,cornerRadius:s}=e,{xAlign:o,yAlign:l}=n,c=i+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=uR(s);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const m=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(u,h)+i:"right"===o&&(p+=Math.max(d,f)+i),{x:uD(p,0,r.width-t.width),y:uD(m,0,r.height-t.height)}}function xV(e,t,n){const r=dR(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function bV(e){return hV([],fV(e))}function wV(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const kV={beforeTitle:yM,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:yM,beforeBody:yM,beforeLabel:yM,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return bM(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:yM,afterBody:yM,beforeFooter:yM,footer:yM,afterFooter:yM};function _V(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?kV[t].call(n,r):i}class SV extends NF{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new pL(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,pR(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=_V(n,"beforeTitle",this,e),i=_V(n,"title",this,e),a=_V(n,"afterTitle",this,e);let s=[];return s=hV(s,fV(r)),s=hV(s,fV(i)),s=hV(s,fV(a)),s}getBeforeBody(e,t){return bV(_V(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return CM(e,e=>{const t={before:[],lines:[],after:[]},i=wV(n,e);hV(t.before,fV(_V(i,"beforeLabel",this,e))),hV(t.lines,_V(i,"label",this,e)),hV(t.after,fV(_V(i,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return bV(_V(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=_V(n,"beforeFooter",this,e),i=_V(n,"footer",this,e),a=_V(n,"afterFooter",this,e);let s=[];return s=hV(s,fV(r)),s=hV(s,fV(i)),s=hV(s,fV(a)),s}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],a=[];let s,o,l=[];for(s=0,o=t.length;s<o;++s)l.push(pV(this.chart,t[s]));return e.filter&&(l=l.filter((t,r,i)=>e.filter(t,r,i,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),CM(l,t=>{const n=wV(e.callbacks,t);r.push(_V(n,"labelColor",this,t)),i.push(_V(n,"labelPointStyle",this,t)),a.push(_V(n,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(r.length){const e=dV[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=mV(this,n),s=Object.assign({},e,t),o=vV(this.chart,n,s),l=yV(n,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:s}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=uR(s),{x:d,y:h}=e,{width:f,height:p}=t;let m,g,v,y,x,b;return"center"===i?(x=h+p/2,"left"===r?(m=d,g=m-a,y=x+a,b=x-a):(m=d+f,g=m+a,y=x-a,b=x+a),v=m):(g="left"===r?d+Math.max(o,c)+a:"right"===r?d+f-Math.max(l,u)-a:this.caretX,"top"===i?(y=h,x=y-a,m=g-a,v=g+a):(y=h+p,x=y+a,m=g+a,v=g-a),b=y),{x1:m,x2:g,x3:v,y1:y,y2:x,y3:b}}drawTitle(e,t,n){const r=this.title,i=r.length;let a,s,o;if(i){const l=$R(n.rtl,this.x,this.width);for(e.x=xV(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=hR(n.titleFont),s=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,o=0;o<i;++o)t.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s,o+1===i&&(e.y+=n.titleMarginBottom-s)}}_drawColorBox(e,t,n,r,i){const a=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=hR(i.bodyFont),u=xV(this,"left",i),d=r.x(u),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=r.leftForLtr(d,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,GD(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,GD(e,t,n,c)}else{e.lineWidth=kM(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=r.leftForLtr(d,l),n=r.leftForLtr(r.xPlus(d,1),l-2),s=uR(a.borderRadius);Object.values(s).some(e=>0!==e)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,rR(e,{x:t,y:f,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),rR(e,{x:n,y:f+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=a.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:s,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=hR(n.bodyFont);let d=u.lineHeight,h=0;const f=$R(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+h),e.y+d/2),e.y+=d+i},m=f.textAlign(a);let g,v,y,x,b,w,k;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=xV(this,m,n),t.fillStyle=n.bodyColor,CM(this.beforeBody,p),h=s&&"right"!==m?"center"===a?l/2+c:l+2+c:0,x=0,w=r.length;x<w;++x){for(g=r[x],v=this.labelTextColors[x],t.fillStyle=v,CM(g.before,p),y=g.lines,s&&y.length&&(this._drawColorBox(t,e,x,f,n),d=Math.max(u.lineHeight,o)),b=0,k=y.length;b<k;++b)p(y[b]),d=u.lineHeight;CM(g.after,p)}h=0,d=u.lineHeight,CM(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let a,s;if(i){const o=$R(n.rtl,this.x,this.width);for(e.x=xV(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",a=hR(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,s=0;s<i;++s)t.fillText(r[s],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:a}=this,{x:s,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=uR(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(s+u,o),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(s+l-d,o),t.quadraticCurveTo(s+l,o,s+l,o+d),"center"===a&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(s+l,o+c-f),t.quadraticCurveTo(s+l,o+c,s+l-f,o+c),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(s+h,o+c),t.quadraticCurveTo(s,o+c,s,o+c-h),"center"===a&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(s,o+u),t.quadraticCurveTo(s,o,s+u,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=dV[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=mV(this,e),s=Object.assign({},n,this._size),o=vV(t,e,s),l=yV(e,s,o,t);r._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=dR(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),JR(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),ZR(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}),i=!NM(n,r),a=this._positionChanged(r,t);(i||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),s=this._positionChanged(a,e),o=t||!NM(a,i)||s;return o&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,a=dV[i.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}(0,Iu.A)(SV,"positioners",dV);var AV={id:"tooltip",_element:SV,positioners:dV,afterInit(e,t,n){n&&(e.tooltip=new SV({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",(0,o.A)((0,o.A)({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kV},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function EV(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function jV(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class CV extends zF{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(bM(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:uD(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:EV(n,e,AM(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return jV.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function NV(e,t){const n=[],{bounds:r,step:i,min:a,max:s,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=i||1,f=c-1,{min:p,max:m}=t,g=!bM(a),v=!bM(s),y=!bM(l),x=(m-p)/(u+1);let b,w,k,_,S=ZM((m-p)/f/h)*h;if(S<1e-14&&!g&&!v)return[{value:p},{value:m}];_=Math.ceil(m/S)-Math.floor(p/S),_>f&&(S=ZM(_*S/f/h)*h),bM(o)||(b=Math.pow(10,o),S=Math.ceil(S*b)/b),"ticks"===r?(w=Math.floor(p/S)*S,k=Math.ceil(m/S)*S):(w=p,k=m),g&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((s-a)/i,S/1e3)?(_=Math.round(Math.min((s-a)/S,c)),S=(s-a)/_,w=a,k=s):y?(w=g?a:w,k=v?s:k,_=l-1,S=(k-w)/_):(_=(k-w)/S,_=JM(_,Math.round(_),S/1e3)?Math.round(_):Math.ceil(_));const A=Math.max(iD(S),iD(w));b=Math.pow(10,bM(o)?A:o),w=Math.round(w*b)/b,k=Math.round(k*b)/b;let E=0;for(g&&(d&&w!==a?(n.push({value:a}),w<a&&E++,JM(Math.round((w+E*S)*b)/b,a,PV(a,x,e))&&E++):w<a&&E++);E<_;++E){const e=Math.round((w+E*S)*b)/b;if(v&&e>s)break;n.push({value:e})}return v&&d&&k!==s?n.length&&JM(n[n.length-1].value,s,PV(s,x,e))?n[n.length-1].value=s:n.push({value:s}):v&&k!==s||n.push({value:k}),n}function PV(e,t,n){let{horizontal:r,minRotation:i}=n;const a=nD(i),s=(r?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}(0,Iu.A)(CV,"id","category"),(0,Iu.A)(CV,"defaults",{ticks:{callback:jV}});class TV extends zF{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return bM(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const a=e=>r=t?r:e,s=e=>i=n?i:e;if(e){const e=$M(r),t=$M(i);e<0&&t<0?s(0):e>0&&t>0&&a(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);s(i+t),e||a(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=NV({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&tD(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return MD(e,this.chart.options.locale,this.options.ticks.format)}}class IV extends TV{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=_M(e)?e:0,this.max=_M(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=nD(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,Iu.A)(IV,"id","linear"),(0,Iu.A)(IV,"defaults",{ticks:{callback:RD.formatters.numeric}});const OV=e=>Math.floor(XM(e)),MV=(e,t)=>Math.pow(10,OV(e)+t);function DV(e){return 1===e/Math.pow(10,OV(e))}function RV(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function LV(e,t){let{min:n,max:r}=t;n=SM(e.min,n);const i=[],a=OV(n);let s=function(e,t){let n=OV(t-e);for(;RV(e,t,n)>10;)n++;for(;RV(e,t,n)<10;)n--;return Math.min(n,OV(e))}(n,r),o=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((n-c)*o)/o,d=Math.floor((n-c)/l/10)*l*10;let h=Math.floor((u-d)/Math.pow(10,s)),f=SM(e.min,Math.round((c+d+h*Math.pow(10,s))*o)/o);for(;f<r;)i.push({value:f,major:DV(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((c+d+h*Math.pow(10,s))*o)/o;const p=SM(e.max,f);return i.push({value:p,major:DV(p),significand:h}),i}class FV extends zF{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=TV.prototype.parse.apply(this,[e,t]);if(0!==n)return _M(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=_M(e)?Math.max(0,e):null,this.max=_M(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_M(this._userMin)&&(this.min=e===MV(this.min,0)?MV(this.min,-1):MV(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,a=e=>r=t?r:e;n===r&&(n<=0?(i(1),a(10)):(i(MV(n,-1)),a(MV(r,1)))),n<=0&&i(MV(r,-1)),r<=0&&a(MV(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=LV({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&tD(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":MD(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=XM(e),this._valueRange=XM(this.max)-XM(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(XM(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function zV(e){const t=e.ticks;if(t.display&&e.display){const e=dR(t.backdropPadding);return AM(t.font&&t.font.size,UD.font.size)+e.height}return 0}function VV(e,t,n){return n=wM(n)?n:[n],{w:HD(e,t.string,n),h:n.length*t.lineHeight}}function BV(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function UV(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],a=e._pointLabels.length,s=e.options.pointLabels,o=s.centerPointLabels?UM/a:0;for(let l=0;l<a;l++){const a=s.setContext(e.getPointLabelContext(l));i[l]=a.padding;const c=e.getPointPosition(l,e.drawingArea+i[l],o),u=hR(a.font),d=VV(e.ctx,u,e._pointLabels[l]);r[l]=d;const h=lD(e.getIndexAngle(l)+o),f=Math.round(rD(h));WV(n,t,h,BV(f,c.x,d.w,0,180),BV(f,c.y,d.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,a=e.options,{centerPointLabels:s,display:o}=a.pointLabels,l={extra:zV(a)/2,additionalAngle:s?UM/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const i=HV(e,u,l);r.push(i),"auto"===o&&(i.visible=KV(i,c),i.visible&&(c=i))}return r}(e,r,i)}function WV(e,t,n,r,i){const a=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/s,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function HV(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:a,padding:s,size:o}=n,l=e.getPointPosition(t,r+i+s,a),c=Math.round(rD(lD(l.angle+GM))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),d=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+o.w,bottom:u+o.h}}function KV(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:a}=e;return!(QD({x:n,y:r},t)||QD({x:n,y:a},t)||QD({x:i,y:r},t)||QD({x:i,y:a},t))}function qV(e,t,n){const{left:r,top:i,right:a,bottom:s}=n,{backdropColor:o}=t;if(!bM(o)){const n=uR(t.borderRadius),l=dR(t.backdropPadding);e.fillStyle=o;const c=r-l.left,u=i-l.top,d=a-r+l.width,h=s-i+l.height;Object.values(n).some(e=>0!==e)?(e.beginPath(),rR(e,{x:c,y:u,w:d,h:h,radius:n}),e.fill()):e.fillRect(c,u,d,h)}}function GV(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,WM);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let a=1;a<r;a++)n=e.getPointPosition(a,t),i.lineTo(n.x,n.y)}}(0,Iu.A)(FV,"id","logarithmic"),(0,Iu.A)(FV,"defaults",{ticks:{callback:RD.formatters.logarithmic,major:{enabled:!0}}});class YV extends TV{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=dR(zV(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=_M(e)&&!isNaN(e)?e:0,this.max=_M(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/zV(this.options))}generateTickLabels(e){TV.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=jM(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?UV(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return lD(e*(WM/(this._pointLabels.length||1))+nD(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(bM(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(bM(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return pR(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-GM+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),GV(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,a=this._pointLabels.length;let s,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const a=r.setContext(e.getPointLabelContext(i));qV(n,a,t);const s=hR(a.font),{x:o,y:l,textAlign:c}=t;nR(n,e._pointLabels[i],o,l+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),s=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const a=e.ctx,s=t.circular,{color:o,lineWidth:l}=t;!s&&!r||!o||!l||n<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),GV(e,n,s,r),a.closePath(),a.stroke(),a.restore())}(this,s,o,a,l)}}),n.display){for(e.save(),s=a-1;s>=0;s--){const r=n.setContext(this.getPointLabelContext(s)),{color:i,lineWidth:a}=r;a&&i&&(e.lineWidth=a,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(s,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,s)=>{if(0===s&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(s)),l=hR(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[s].value),o.showLabelBackdrop){e.font=l.string,a=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=dR(o.backdropPadding);e.fillRect(-a/2-t.left,-i-l.size/2-t.top,a+t.width,l.size+t.height)}nR(e,r.label,0,-i,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),e.restore()}drawTitle(){}}(0,Iu.A)(YV,"id","radialLinear"),(0,Iu.A)(YV,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:RD.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,Iu.A)(YV,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,Iu.A)(YV,"descriptors",{angleLines:{_fallback:"grid"}});const QV={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},XV=Object.keys(QV);function $V(e,t){return e-t}function JV(e,t){if(bM(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let s=t;return"function"===typeof r&&(s=r(s)),_M(s)||(s="string"===typeof r?n.parse(s,r):n.parse(s)),null===s?null:(i&&(s="week"!==i||!eD(a)&&!0!==a?n.startOf(s,i):n.startOf(s,"isoWeek",a)),+s)}function ZV(e,t,n,r){const i=XV.length;for(let a=XV.indexOf(e);a<i-1;++a){const e=QV[XV[a]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return XV[a]}return XV[i-1]}function eB(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=hD(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function tB(e,t,n){const r=[],i={},a=t.length;let s,o;for(s=0;s<a;++s)o=t[s],i[o]=s,r.push({value:o,major:!1});return 0!==a&&n?function(e,t,n,r){const i=e._adapter,a=+i.startOf(t[0].value,r),s=t[t.length-1].value;let o,l;for(o=a;o<=s;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class nB extends zF{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new KL(e.adapters.date);r.init(t),MM(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:JV(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:s}=this.getUserBounds();function o(e){a||isNaN(e.min)||(r=Math.min(r,e.min)),s||isNaN(e.max)||(i=Math.max(i,e.max))}a&&s||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=_M(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=_M(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?ZV(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let a=XV.length-1;a>=XV.indexOf(n);a--){const n=XV[a];if(QV[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return XV[n?XV.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=XV.indexOf(e)+1,n=XV.length;t<n;++t)if(QV[XV[t]].common)return XV[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),tB(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;r=uD(r,0,a),i=uD(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,a=i.unit||ZV(i.minUnit,t,n,this._getLabelCapacity(t)),s=AM(r.ticks.stepSize,1),o="week"===a&&i.isoWeekday,l=eD(o)||!0===o,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":a),e.diff(n,t,a)>1e5*s)throw new Error(t+" and "+n+" are too far apart with stepSize of "+s+" "+a);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,s,a),d++)eB(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==d||eB(c,u,f),Object.keys(c).sort($V).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,a=i.ticks.callback;if(a)return jM(a,[e,t,n],this);const s=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&s[o],u=l&&s[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,r||(h?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=nD(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),a=Math.sin(r),s=this._resolveTickFontOptions(0).size;return{w:n*i+s*a,h:n*a+s*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,tB(this,[e],this._majorUnit),r),a=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(JV(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return vD(e.sort($V))}}function rB(e,t,n){let r,i,a,s,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=fD(e,"pos",t)),({pos:r,time:a}=e[o]),({pos:i,time:s}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=fD(e,"time",t)),({time:r,pos:a}=e[o]),({time:i,pos:s}=e[l]));const c=i-r;return c?a+(s-a)*(t-r)/c:a}(0,Iu.A)(nB,"id","time"),(0,Iu.A)(nB,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class iB extends nB{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=rB(t,this.min),this._tableRange=rB(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let a,s,o,l,c;for(a=0,s=e.length;a<s;++a)l=e[a],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,s=r.length;a<s;++a)c=r[a+1],o=r[a-1],l=r[a],Math.round((c+o)/2)!==l&&i.push({time:l,pos:a/(s-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(rB(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return rB(this._table,n*this._tableRange+this._minPos,!0)}}(0,Iu.A)(iB,"id","timeseries"),(0,Iu.A)(iB,"defaults",nB.defaults);const aB=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],sB="label";function oB(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function lB(e,t){e.labels=t}function cB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sB;const r=[];e.datasets=t.map(t=>{const i=e.datasets.find(e=>e[n]===t[n]);return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):(0,o.A)({},t)})}function uB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sB;const n={labels:[],datasets:[]};return lB(n,e.labels),cB(n,e.datasets,t),n}function dB(e,t){const{height:n=150,width:r=300,redraw:a=!1,datasetIdKey:s,type:l,data:c,options:u,plugins:d=[],fallbackContent:h,updateMode:f}=e,p=ze(e,aB),m=(0,i.useRef)(null),g=(0,i.useRef)(null),v=()=>{m.current&&(g.current=new gz(m.current,{type:l,data:uB(c,s),options:u&&(0,o.A)({},u),plugins:d}),oB(t,g.current))},y=()=>{oB(t,null),g.current&&(g.current.destroy(),g.current=null)};return(0,i.useEffect)(()=>{!a&&g.current&&u&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,u)},[a,u]),(0,i.useEffect)(()=>{!a&&g.current&&lB(g.current.config.data,c.labels)},[a,c.labels]),(0,i.useEffect)(()=>{!a&&g.current&&c.datasets&&cB(g.current.config.data,c.datasets,s)},[a,c.datasets]),(0,i.useEffect)(()=>{g.current&&(a?(y(),setTimeout(v)):g.current.update(f))},[a,u,c.labels,c.datasets,f]),(0,i.useEffect)(()=>{g.current&&(y(),setTimeout(v))},[l]),(0,i.useEffect)(()=>(v(),()=>y()),[]),i.createElement("canvas",(0,o.A)({ref:m,role:"img",height:n,width:r},p),h)}const hB=(0,i.forwardRef)(dB);function fB(e,t){return gz.register(t),(0,i.forwardRef)((t,n)=>i.createElement(hB,(0,o.A)((0,o.A)({},t),{},{ref:n,type:e})))}const pB=fB("line",FL);function mB(e){let{initialWallet:t="ALL"}=e;const{incomes:n,expenses:r,projects:a,totals:s,byFunder:l}=Ol(),{currency:c}=wl(),{isDark:u}=Sl(),[d,h]=(0,i.useState)({labels:[],datasets:[]}),[f,p]=(0,i.useState)(7),m=(0,i.useRef)(null),[g,v]=(0,i.useState)(null),[y,x]=(0,i.useState)({lastValue:0,valuePct:0}),[b,w]=(0,i.useState)(t),[k,_]=(0,i.useState)({total:!0,igp:!0,income:!0});(0,i.useEffect)(()=>{const e=new Date,t=new Date;t.setDate(e.getDate()-f);const i=e=>e?new Date(e):new Date,s=[...(n||[]).filter(e=>"posted"===e.status).map(e=>({date:i(e.date||e.createdAt||e.timestamp),delta:Number(e.amount||0),projectId:e.projectId,walletId:e.walletId||null})),...(r||[]).filter(e=>"posted"===e.status).map(e=>({date:i(e.date||e.createdAt||e.timestamp),delta:-Number(e.amount||0),projectId:e.projectId,walletId:e.walletId||null}))].filter(n=>n.date>=t&&n.date<=e).sort((e,t)=>e.date-t.date),l="ALL"===b?s:s.filter(e=>!e.walletId||e.walletId===b),d=new Map;l.forEach(e=>{const t=e.date.toISOString().slice(0,10);d.set(t,(d.get(t)||0)+e.delta)});const p=[],m=new Date(t);m.setHours(0,0,0,0);const g=new Date(e);for(g.setHours(0,0,0,0);m<=g;)p.push(m.toISOString().slice(0,10)),m.setDate(m.getDate()+1);const y=new Map;(n||[]).filter(n=>"posted"===n.status&&(!n.date||new Date(n.date)>=t&&new Date(n.date)<=e)).forEach(e=>{const t=(e.date?new Date(e.date):new Date).toISOString().slice(0,10);y.set(t,(y.get(t)||0)+Number(e.amount||0))});let w=0;const _=[];for(const n of p)w+=y.get(n)||0,_.push({date:n,value:w});const S=_.length?_.map(e=>e.date):[],A=S.map(e=>IO(new Date(e),"MMM d")),E=(n||[]).filter(e=>"posted"===e.status).reduce((e,t)=>e+Number(t.amount||0),0);if(_.length){const e=_.length-1,t=Number(_[e].value||0);Math.abs(t-E)>1e-4&&(_[e].value=E)}const j=_.length?_[_.length-1].value:E||0,C=_.length?_[0].value:j,N=C?(j-C)/Math.abs(C||1)*100:0;x({lastValue:j,valuePct:N});const P=_.length?_.map(e=>e.value):A.map(()=>j),T=new Set((a||[]).filter(e=>"igp"===e.type).map(e=>e.id)),I=new Map;(n||[]).filter(n=>"posted"===n.status&&(!n.date||new Date(n.date)>=t&&new Date(n.date)<=e)&&T.has(n.projectId)).forEach(e=>{const t=(e.date?new Date(e.date):new Date).toISOString().slice(0,10);I.set(t,(I.get(t)||0)+Number(e.amount||0))});let O=0,M=p.map(e=>(O+=I.get(e)||0,O));const D=(n||[]).filter(e=>"posted"===e.status&&T.has(e.projectId)).reduce((e,t)=>e+Number(t.amount||0),0);M.length&&(M[M.length-1]=D);const R=new Map;(n||[]).filter(n=>"posted"===n.status&&(!n.date||new Date(n.date)>=t&&new Date(n.date)<=e)).forEach(e=>{const t=(a||[]).find(t=>t.id===e.projectId);if("ORG"===(e.walletId||(null===t||void 0===t?void 0:t.funderId)||"ORG"))return;const n=(e.date?new Date(e.date):new Date).toISOString().slice(0,10);R.set(n,(R.get(n)||0)+Number(e.amount||0))});let L=0,F=p.map(e=>(L+=R.get(e)||0,L));const z=(n||[]).filter(e=>"posted"===e.status).reduce((e,t)=>{const n=(a||[]).find(e=>e.id===t.projectId);return"ORG"===(t.walletId||(null===n||void 0===n?void 0:n.funderId)||"ORG")?e:e+Number(t.amount||0)},0);F.length&&(F[F.length-1]=z);const V=[];k.total&&V.push({label:"Total Funds (All Income)",data:P,borderColor:"#2563eb",backgroundColor:e=>{const t=e.chart,{ctx:n,chartArea:r}=t;if(!r)return"rgba(37,99,235,0.12)";const i=n.createLinearGradient(0,r.bottom,0,r.top);return i.addColorStop(0,"rgba(37,99,235,0)"),i.addColorStop(1,"rgba(37,99,235,0.20)"),i},fill:!0,tension:.6,cubicInterpolationMode:"default",borderWidth:2,pointRadius:e=>e.dataIndex===e.dataset.data.length-1?4:0,pointBackgroundColor:e=>e.dataIndex===e.dataset.data.length-1?"#2563eb":"rgba(37,99,235,0.6)",pointHoverRadius:6,hoverBorderWidth:3,borderCapStyle:"round",borderJoinStyle:"round"}),k.igp&&V.push({label:"IGP Income",data:M,borderColor:"#059669",backgroundColor:e=>{const t=e.chart,{ctx:n,chartArea:r}=t;if(!r)return"rgba(5,150,105,0.12)";const i=n.createLinearGradient(0,r.bottom,0,r.top);return i.addColorStop(0,"rgba(5,150,105,0)"),i.addColorStop(1,"rgba(5,150,105,0.18)"),i},fill:!0,tension:.6,borderWidth:2,pointRadius:0}),k.income&&V.push({label:"Funding Income (Donors)",data:F,borderColor:"#d97706",borderDash:[6,4],fill:!1,tension:.6,borderWidth:2,pointRadius:0}),h({labels:A,datasets:V}),v(e=>(0,o.A)((0,o.A)({},e||{}),{},{animation:{duration:600,easing:"easeOutCubic"}}));const B=[];P&&P.length&&B.push(...P),k.igp&&M&&M.length&&B.push(...M),k.income&&F&&F.length&&B.push(...F),0===B.length&&B.push(0);const U=Math.min(...B),W=Math.max(...B),H=Math.max(1,W-U);v({responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!0,position:"bottom",labels:{usePointStyle:!0,boxWidth:8,boxHeight:8,color:u?"#cbd5e1":"#0f172a"}},tooltip:{backgroundColor:u?"rgba(15,23,42,0.95)":"white",titleColor:u?"#e2e8f0":"#0f172a",bodyColor:u?"#e2e8f0":"#0f172a",padding:10,boxPadding:6,borderWidth:1,borderColor:u?"#334155":"#e6eefc",callbacks:{title:e=>IO(new Date(S[e[0].dataIndex]||new Date),"MMM d, yyyy"),label:e=>"".concat(e.dataset.label,": ").concat(Al(e.parsed.y,c))}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0,color:u?"#94a3b8":void 0},offset:!0},y:{beginAtZero:!1,suggestedMin:U-.25*H,grid:{display:!1},ticks:{color:u?"#94a3b8":void 0,callback:e=>Al(e,c)},grace:"20%"}}})},[n,r,a,b,f,s,l]),(0,i.useEffect)(()=>{try{const e=m.current,t=(null===e||void 0===e?void 0:e.chartInstance)||(null===e||void 0===e?void 0:e.chart)||e;t&&"function"===typeof t.update?t.update():e&&"function"===typeof e.forceUpdate&&e.forceUpdate()}catch(s5){}},[d]);const S=(n||[]).filter(e=>"posted"===e.status).reduce((e,t)=>e+Number(t.amount||0),0),A=(n||[]).filter(e=>"posted"===e.status).reduce((e,t)=>{const n=(a||[]).find(e=>e.id===t.projectId);return"ORG"===(t.walletId||(null===n||void 0===n?void 0:n.funderId)||"ORG")?e:e+Number(t.amount||0)},0);return(0,Re.jsxs)("div",{className:"bg-white/80 backdrop-blur p-6 rounded-2xl border border-slate-200 shadow-sm dark:bg-slate-900/70 dark:border-slate-800 dark:shadow-none dark:text-slate-100",children:[(0,Re.jsxs)("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-3 min-w-0",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Funds Overview"}),(0,Re.jsxs)("div",{className:"flex items-center gap-3 flex-wrap justify-end",children:[(0,Re.jsxs)("div",{className:"inline-flex items-center rounded-full bg-slate-100 p-1 shadow-inner dark:bg-slate-800",children:[(0,Re.jsx)("button",{onClick:()=>p(7),className:"px-3 py-1.5 text-sm font-medium rounded-full transition-colors duration-200 focus:outline-none ".concat(7===f?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"),children:"7 Days"}),(0,Re.jsx)("button",{onClick:()=>p(30),className:"px-3 py-1.5 text-sm font-medium rounded-full transition-colors duration-200 focus:outline-none ".concat(30===f?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"),children:"30 Days"}),(0,Re.jsx)("button",{onClick:()=>p(90),className:"px-3 py-1.5 text-sm font-medium rounded-full transition-colors duration-200 focus:outline-none ".concat(90===f?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"),children:"90 Days"})]}),(0,Re.jsxs)("div",{className:"hidden sm:inline-flex items-center rounded-full bg-slate-100 p-1 shadow-inner dark:bg-slate-800",children:[(0,Re.jsx)("button",{onClick:()=>_(e=>(0,o.A)((0,o.A)({},e),{},{total:!e.total})),className:"px-3 py-1.5 text-xs font-medium rounded-full transition-colors duration-200 ".concat(k.total?"bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"),children:"Total"}),(0,Re.jsx)("button",{onClick:()=>_(e=>(0,o.A)((0,o.A)({},e),{},{igp:!e.igp})),className:"px-3 py-1.5 text-xs font-medium rounded-full transition-colors duration-200 ".concat(k.igp?"bg-white dark:bg-slate-700 text-emerald-700 dark:text-emerald-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"),children:"IGP"}),(0,Re.jsx)("button",{onClick:()=>_(e=>(0,o.A)((0,o.A)({},e),{},{income:!e.income})),className:"px-3 py-1.5 text-xs font-medium rounded-full transition-colors duration-200 ".concat(k.income?"bg-white dark:bg-slate-700 text-amber-700 dark:text-amber-300 shadow dark:shadow-none":"text-slate-600 hover:text-slate-800 hover:bg-slate-200/60 dark:text-slate-300 dark:hover:text-slate-100 dark:hover:bg-slate-700"),children:"Funding"})]})]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[(0,Re.jsxs)("div",{className:"relative overflow-hidden rounded-2xl p-4 border shadow-sm transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1 group",style:{background:"linear-gradient(180deg, #FFFFFF, #F8FAFF)",borderColor:"#E7E9FF"},children:[(0,Re.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-tr-xl rounded-br-xl group-hover:w-2 transition-all duration-300",style:{background:"linear-gradient(180deg, #6366F1, #8B5CF6)"}}),(0,Re.jsxs)("div",{className:"flex items-center gap-3 z-10 relative",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-lg transform transition-all duration-300 group-hover:scale-105",style:{background:"linear-gradient(135deg,#6366F1,#8B5CF6)",color:"white"},children:(0,Re.jsx)(tu,{className:"h-5 w-5"})}),(0,Re.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Re.jsx)("div",{className:"text-xs",style:{color:"#312E81",fontWeight:700,letterSpacing:"0.04em"},children:"Total Funds"}),(0,Re.jsx)("div",{className:"mt-1 font-bold text-[clamp(1rem,2.5vw,1.25rem)] whitespace-nowrap overflow-hidden text-ellipsis",style:{color:"#0f172a"},children:Al(S,c)}),(0,Re.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-600",children:[(0,Re.jsxs)("div",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium transition-colors duration-200 ".concat(y.valuePct>=0?"bg-indigo-50 text-indigo-700":"bg-rose-50 text-rose-700"),children:[y.valuePct>=0?(0,Re.jsx)(ou,{className:"h-3 w-3 mr-1",style:{color:"#4F46E5"}}):(0,Re.jsx)(iu,{className:"h-3 w-3 mr-1",style:{color:"#EF4444"}}),"".concat(Math.abs(y.valuePct).toFixed(1),"%")]}),(0,Re.jsxs)("div",{className:"text-xs text-slate-400",children:["in last ",f," days"]})]})]})]})]}),(0,Re.jsxs)("div",{className:"relative overflow-hidden rounded-2xl p-4 border shadow-sm transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1 group",style:{background:"linear-gradient(180deg, #FFFFFF, #F8FFFE)",borderColor:"#E6FFFA"},children:[(0,Re.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-tr-xl rounded-br-xl group-hover:w-2 transition-all duration-300",style:{background:"linear-gradient(180deg, #06B6D4, #14B8A6)"}}),(0,Re.jsxs)("div",{className:"flex items-center gap-3 z-10 relative",children:[(0,Re.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-lg transform transition-all duration-300 group-hover:scale-105",style:{background:"linear-gradient(135deg,#06B6D4,#14B8A6)",color:"white"},children:(0,Re.jsx)(Ul,{className:"h-5 w-5"})}),(0,Re.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Re.jsx)("div",{className:"text-xs font-bold tracking-wide dark:text-teal-100",style:{color:"#064E3B",letterSpacing:"0.04em"},children:"Funding Sources"}),(0,Re.jsx)("div",{className:"mt-1 font-bold text-[clamp(1rem,2.5vw,1.25rem)] whitespace-nowrap overflow-hidden text-ellipsis dark:text-white",style:{color:"#0f172a"},children:Al(A,c)}),(0,Re.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-600",children:[(0,Re.jsxs)("div",{className:"text-xs text-slate-400",children:["Across ",(null===l||void 0===l?void 0:l.length)||0," funders"]}),(0,Re.jsx)("div",{className:"ml-auto text-xs",style:{color:"#064E3B",fontWeight:600},children:"Total"})]})]})]})]})]}),(0,Re.jsxs)("div",{className:"h-80 relative",children:[(0,Re.jsx)("div",{className:"absolute right-4 top-4 z-10",children:(0,Re.jsxs)("div",{className:"bg-white/80 px-3 py-1 rounded-full text-xs text-slate-600 shadow dark:bg-slate-800/80 dark:text-slate-200",children:[f," days"]})}),(0,Re.jsx)("div",{className:"h-full",children:d.labels&&d.labels.length>0?(0,Re.jsx)(pB,{ref:m,options:g||{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1}}},data:d}):(0,Re.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Re.jsx)("p",{className:"text-gray-500 dark:text-slate-400",children:"No data available for the selected time range."})})})]})]})}gz.register(CV,IV,Oz,Tz,uV,AV,lV,iV);var gB=["axis","item"],vB=(0,i.forwardRef)((e,t)=>i.createElement(Yj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gB,tooltipPayloadSearcher:Ih,categoricalChartProps:e,ref:t}));function yB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xB{static create(e){return new xB(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}yB(xB,"EPS",1e-4);function bB(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function wB(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),s=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function kB(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_B(Object(n),!0).forEach(function(t){AB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EB(e,t,n){var r,{tick:i,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(vu(c)||FE)return null!==(r=function(e,t){return bB(e,t+1)}(a,vu(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?UP(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"===typeof u?u(e.value,r):e.value;return"width"===p?wB(UP(i,{fontSize:t,letterSpacing:n}),m,h):UP(i,{fontSize:t,letterSpacing:n})[p]},v=a.length>=2?pu(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:i,y:a,width:s,height:o}=e;return 1===t?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}(s,v,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,s=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:bB(r,u)};var a,s=c,h=()=>(void 0===a&&(a=n(t,s)),a),f=t.coordinate,p=0===c||kB(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=s.length;)if(a=h())return a.v;return[]}(v,y,g,a,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=SB(SB({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),kB(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),s[o-1]=SB(SB({},u),{},{isShow:!0}))}for(var f=a?o-1:o,p=function(t){var r,a=s[t],o=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*o()/2-l);s[t]=a=SB(SB({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else s[t]=a=SB(SB({},a),{},{tickCoord:a.coordinate});kB(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+i),s[t]=SB(SB({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(v,y,g,a,o,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===s-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=SB(SB({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=SB(SB({},c),{},{tickCoord:c.coordinate});kB(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=SB(SB({},c),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}(v,y,g,a,o),f.filter(e=>e.isShow))}function jB(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var CB=["axisLine","width","height","className","hide","ticks"],NB=["viewBox"],PB=["viewBox"];function TB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IB(){return IB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IB.apply(null,arguments)}function OB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OB(Object(n),!0).forEach(function(t){DB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RB={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function LB(e){var{x:t,y:n,width:r,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=MB(MB(MB({},c),oj(l,!1)),{},{fill:"none"});if("top"===s||"bottom"===s){var d=+("top"===s&&!o||"bottom"===s&&o);u=MB(MB({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var h=+("left"===s&&!o||"right"===s&&o);u=MB(MB({},u),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+a})}return i.createElement("line",IB({},u,{className:cu("recharts-cartesian-axis-line",fu()(l,"className"))}))}function FB(e){var t,{option:n,tickProps:r,value:a}=e,s=cu(r.className,"recharts-cartesian-axis-tick-value");if(i.isValidElement(n))t=i.cloneElement(n,MB(MB({},r),{},{className:s}));else if("function"===typeof n)t=n(MB(MB({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof n&&(o=cu(o,null===n||void 0===n?void 0:n.className)),t=i.createElement(uT,IB({},r,{className:o}),a)}return t}function zB(e){var{ticks:t=[],tick:n,tickLine:r,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:f,width:p,height:m,tickSize:g,tickMargin:v,fontSize:y,letterSpacing:x,getTicksConfig:b,events:w}=e,k=EB(MB(MB({},b),{},{ticks:t}),y,x),_=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(u,d),S=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(u,d),A=ej(b),E=oj(n,!1),j=MB(MB({},A),{},{fill:"none"},oj(r,!1)),C=k.map((e,t)=>{var{line:y,tick:x}=function(e,t,n,r,i,a,s,o,l){var c,u,d,h,f,p,m=o?-1:1,g=e.tickSize||s,v=vu(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,p=(d=(h=n+ +!o*i)-m*g)-m*l,f=v;break;case"left":d=h=e.coordinate,f=(c=(u=t+ +!o*r)-m*g)-m*l,p=v;break;case"right":d=h=e.coordinate,f=(c=(u=t+ +o*r)+m*g)+m*l,p=v;break;default:c=u=e.coordinate,p=(d=(h=n+ +o*i)+m*g)+m*l,f=v}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:p}}}(e,h,f,p,m,u,g,d,v),b=MB(MB(MB(MB({textAnchor:_,verticalAnchor:S},A),{},{stroke:"none",fill:a},E),x),{},{index:t,payload:e,visibleTicksCount:k.length,tickFormatter:s,padding:l},c);return i.createElement(PP,IB({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},$E(w,e,t)),r&&i.createElement("line",IB({},j,y,{className:cu("recharts-cartesian-axis-tick-line",fu()(r,"className"))})),n&&i.createElement(FB,{option:n,tickProps:b,value:"".concat("function"===typeof s?s(e.value,t):e.value).concat(o||"")}))});return C.length>0?i.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}var VB=(0,i.forwardRef)((e,t)=>{var{axisLine:n,width:r,height:a,className:s,hide:o,ticks:l}=e,c=TB(e,CB),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),p=(0,i.useRef)([]);(0,i.useImperativeHandle)(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=n?n.getBoundingClientRect().width:0,l=s+(i+a)+o+(n?r:0);return Math.round(l)}return 0})({ticks:p.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=(0,i.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n),i=r.fontSize,a=r.letterSpacing;i===u&&a===h||(d(i),f(a))}}},[u,h]);return o||null!=r&&r<=0||null!=a&&a<=0?null:i.createElement(PP,{className:cu("recharts-cartesian-axis",s),ref:m},i.createElement(LB,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ej(e)}),i.createElement(zB,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:e,events:c}),i.createElement(vT,{x:e.x,y:e.y,width:e.width,height:e.height},i.createElement(jT,{label:e.label}),e.children))}),BB=i.memo(VB,(e,t)=>{var{viewBox:n}=e,r=TB(e,NB),{viewBox:i}=t,a=TB(t,PB);return jB(n,i)&&jB(r,a)}),UB=i.forwardRef((e,t)=>{var n=Hj(e,RB);return i.createElement(BB,IB({},n,{ref:t}))});UB.displayName="CartesianAxis";var WB=["x1","y1","x2","y2","key"],HB=["offset"],KB=["xAxisId","yAxisId"],qB=["xAxisId","yAxisId"];function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GB(Object(n),!0).forEach(function(t){QB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XB(){return XB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XB.apply(null,arguments)}function $B(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var JB=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:r,y:a,width:s,height:o,ry:l}=e;return i.createElement("rect",{x:r,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZB(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if("function"===typeof e)n=e(t);else{var{x1:r,y1:a,x2:s,y2:o,key:l}=t,c=ej($B(t,WB)),{offset:u}=c,d=$B(c,HB);n=i.createElement("line",XB({},d,{x1:r,y1:a,x2:s,y2:o,fill:"none",key:l}))}return n}function eU(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=$B(e,KB),c=a.map((e,i)=>{var a=YB(YB({},l),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(i),index:i});return ZB(r,a)});return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function tU(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=$B(e,qB),c=a.map((e,i)=>{var a=YB(YB({},l),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(i),index:i});return ZB(r,a)});return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function nU(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?a+o-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:c,width:s,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function rU(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,t)=>{var c=!u[t+1]?a+o-e:u[t+1]-e;if(c<=0)return null;var d=t%n.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:c,height:l,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var iU=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return Qp(EB(YB(YB(YB({},RB),n),{},{ticks:Xp(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},aU=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return Qp(EB(YB(YB(YB({},RB),n),{},{ticks:Xp(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},sU={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function oU(e){var t=Pm(),n=Tm(),r=Nm(),a=YB(YB({},Hj(e,sU)),{},{x:vu(e.x)?e.x:r.left,y:vu(e.y)?e.y:r.top,width:vu(e.width)?e.width:r.width,height:vu(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,m=Sm(),g=_p(e=>q_(e,"xAxis",s,m)),v=_p(e=>q_(e,"yAxis",o,m));if(!vu(u)||u<=0||!vu(d)||d<=0||!vu(l)||l!==+l||!vu(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||iU,x=a.horizontalCoordinatesGenerator||aU,{horizontalPoints:b,verticalPoints:w}=a;if((!b||!b.length)&&"function"===typeof x){var k=f&&f.length,_=x({yAxis:v?YB(YB({},v),{},{ticks:k?f:v.ticks}):void 0,width:t,height:n,offset:r},!!k||h);ju(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(b=_)}if((!w||!w.length)&&"function"===typeof y){var S=p&&p.length,A=y({xAxis:g?YB(YB({},g),{},{ticks:S?p:g.ticks}):void 0,width:t,height:n,offset:r},!!S||h);ju(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(w=A)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(JB,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),i.createElement(nU,XB({},a,{horizontalPoints:b})),i.createElement(rU,XB({},a,{verticalPoints:w})),i.createElement(eU,XB({},a,{offset:r,horizontalPoints:b,xAxis:g,yAxis:v})),i.createElement(tU,XB({},a,{offset:r,verticalPoints:w,xAxis:g,yAxis:v})))}oU.displayName="CartesianGrid";var lU=["dangerouslySetInnerHTML","ticks"],cU=["id"],uU=["domain"],dU=["domain"];function hU(){return hU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hU.apply(null,arguments)}function fU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pU(e){var t=xp();return(0,i.useEffect)(()=>(t(TA(e)),()=>{t(IA(e))}),[e,t]),null}var mU=e=>{var{xAxisId:t,className:n}=e,r=_p(km),a=Sm(),s="xAxis",o=_p(e=>C_(e,s,t,a)),l=_p(e=>G_(e,s,t,a)),c=_p(e=>D_(e,t)),u=_p(e=>F_(e,t)),d=_p(e=>ok(e,t));if(null==c||null==u||null==d)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,p=fU(e,lU),{id:m}=d,g=fU(d,cU);return i.createElement(UB,hU({},p,g,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:cu("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l}))},gU={allowDataOverflow:sk.allowDataOverflow,allowDecimals:sk.allowDecimals,allowDuplicatedCategory:sk.allowDuplicatedCategory,height:sk.height,hide:!1,mirror:sk.mirror,orientation:sk.orientation,padding:sk.padding,reversed:sk.reversed,scale:sk.scale,tickCount:sk.tickCount,type:sk.type,xAxisId:0},vU=e=>{var t,n,r,a,s,o=Hj(e,gU);return i.createElement(i.Fragment,null,i.createElement(pU,{interval:null!==(t=o.interval)&&void 0!==t?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:null!==(n=o.includeHidden)&&void 0!==n&&n,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(r=o.angle)&&void 0!==r?r:0,minTickGap:null!==(a=o.minTickGap)&&void 0!==a?a:5,tick:null===(s=o.tick)||void 0===s||s,tickFormatter:o.tickFormatter}),i.createElement(mU,o))},yU=(e,t)=>{var{domain:n}=e,r=fU(e,uU),{domain:i}=t;return!!jB(r,fU(t,dU))&&(Array.isArray(n)&&2===n.length&&Array.isArray(i)&&2===i.length?n[0]===i[0]&&n[1]===i[1]:jB({domain:n},{domain:i}))},xU=i.memo(vU,yU);xU.displayName="XAxis";var bU=["dangerouslySetInnerHTML","ticks"],wU=["id"],kU=["domain"],_U=["domain"];function SU(){return SU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SU.apply(null,arguments)}function AU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EU(e){var t=xp();return(0,i.useEffect)(()=>(t(OA(e)),()=>{t(MA(e))}),[e,t]),null}var jU=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,s=(0,i.useRef)(null),o=(0,i.useRef)(null),l=_p(km),c=Sm(),u=xp(),d="yAxis",h=_p(e=>C_(e,d,t,c)),f=_p(e=>V_(e,t)),p=_p(e=>z_(e,t)),m=_p(e=>G_(e,d,t,c)),g=_p(e=>uk(e,t));if((0,i.useLayoutEffect)(()=>{if("auto"===r&&f&&!wT(a)&&!(0,i.isValidElement)(a)&&null!=g){var e=s.current;if(e){var n=e.getCalculatedWidth();Math.round(f.width)!==Math.round(n)&&u(LA({id:t,width:n}))}}},[m,f,u,a,t,r,g]),null==f||null==p||null==g)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=AU(e,bU),{id:b}=g,w=AU(g,wU);return i.createElement(UB,SU({},x,w,{ref:s,labelRef:o,scale:h,x:p.x,y:p.y,tickTextProps:"auto"===r?{width:void 0}:{width:r},width:f.width,height:f.height,className:cu("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:m}))},CU={allowDataOverflow:ck.allowDataOverflow,allowDecimals:ck.allowDecimals,allowDuplicatedCategory:ck.allowDuplicatedCategory,hide:!1,mirror:ck.mirror,orientation:ck.orientation,padding:ck.padding,reversed:ck.reversed,scale:ck.scale,tickCount:ck.tickCount,type:ck.type,width:ck.width,yAxisId:0},NU=e=>{var t,n,r,a,s,o=Hj(e,CU);return i.createElement(i.Fragment,null,i.createElement(EU,{interval:null!==(t=o.interval)&&void 0!==t?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:null!==(n=o.includeHidden)&&void 0!==n&&n,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(r=o.angle)&&void 0!==r?r:0,minTickGap:null!==(a=o.minTickGap)&&void 0!==a?a:5,tick:null===(s=o.tick)||void 0===s||s,tickFormatter:o.tickFormatter}),i.createElement(jU,o))},PU=(e,t)=>{var{domain:n}=e,r=AU(e,kU),{domain:i}=t;return!!jB(r,AU(t,_U))&&(Array.isArray(n)&&2===n.length&&Array.isArray(i)&&2===i.length?n[0]===i[0]&&n[1]===i[1]:jB({domain:n},{domain:i}))},TU=i.memo(NU,PU);TU.displayName="YAxis";var IU=e=>null;IU.displayName="Cell";var OU="Invariant failed";var MU=n(9397),DU=n.n(MU);function RU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RU(Object(n),!0).forEach(function(t){FU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zU(){return zU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zU.apply(null,arguments)}var VU=(e,t,n,r,i)=>{var a,s=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},BU={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UU=e=>{var t=Hj(e,BU),{x:n,y:r,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,f=(0,i.useRef)(),[p,m]=(0,i.useState)(-1),g=(0,i.useRef)(a),v=(0,i.useRef)(s),y=(0,i.useRef)(o),x=(0,i.useRef)(n),b=(0,i.useRef)(r),w=YN(e,"trapezoid-");if((0,i.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&m(e)}catch(t){}},[]),n!==+n||r!==+r||a!==+a||s!==+s||o!==+o||0===a&&0===s||0===o)return null;var k=cu("recharts-trapezoid",l);if(!h)return i.createElement("g",null,i.createElement("path",zU({},oj(t,!0),{className:k,d:VU(n,r,a,s,o)})));var _=g.current,S=v.current,A=y.current,E=x.current,j=b.current,C="0px ".concat(-1===p?1:p,"px"),N="".concat(p,"px 0px"),P=AN(["strokeDasharray"],u,c);return i.createElement(GN,{animationId:w,key:w,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},e=>{var l=_u(_,a,e),c=_u(S,s,e),u=_u(A,o,e),d=_u(E,n,e),h=_u(j,r,e);f.current&&(g.current=l,v.current=c,y.current=u,x.current=d,b.current=h);var p=e>0?{transition:P,strokeDasharray:N}:{strokeDasharray:C};return i.createElement("path",zU({},oj(t,!0),{className:k,d:VU(d,h,l,c,u),ref:f,style:LU(LU({},p),t.style)}))})};Math.abs,Math.atan2;const WU=Math.cos,HU=(Math.max,Math.min,Math.sin),KU=Math.sqrt,qU=Math.PI,GU=2*qU;const YU={draw(e,t){const n=KU(t/qU);e.moveTo(n,0),e.arc(0,0,n,0,GU)}},QU={draw(e,t){const n=KU(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},XU=KU(1/3),$U=2*XU,JU={draw(e,t){const n=KU(t/$U),r=n*XU;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},ZU={draw(e,t){const n=KU(t),r=-n/2;e.rect(r,r,n,n)}},eW=HU(qU/10)/HU(7*qU/10),tW=HU(GU/10)*eW,nW=-WU(GU/10)*eW,rW={draw(e,t){const n=KU(.8908130915292852*t),r=tW*n,i=nW*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=GU*a/5,s=WU(t),o=HU(t);e.lineTo(o*n,-s*n),e.lineTo(s*r-o*i,o*r+s*i)}e.closePath()}},iW=KU(3),aW={draw(e,t){const n=-KU(t/(3*iW));e.moveTo(0,2*n),e.lineTo(-iW*n,-n),e.lineTo(iW*n,-n),e.closePath()}},sW=-.5,oW=KU(3)/2,lW=1/KU(12),cW=3*(lW/2+1),uW={draw(e,t){const n=KU(t/cW),r=n/2,i=n*lW,a=r,s=n*lW+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(sW*r-oW*i,oW*r+sW*i),e.lineTo(sW*a-oW*s,oW*a+sW*s),e.lineTo(sW*o-oW*l,oW*o+sW*l),e.lineTo(sW*r+oW*i,sW*i-oW*r),e.lineTo(sW*a+oW*s,sW*s-oW*a),e.lineTo(sW*o+oW*l,sW*l-oW*o),e.closePath()}};KU(3),KU(3);var dW=["type","size","sizeType"];function hW(){return hW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hW.apply(null,arguments)}function fW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fW(Object(n),!0).forEach(function(t){mW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gW={symbolCircle:YU,symbolCross:QU,symbolDiamond:JU,symbolSquare:ZU,symbolStar:rW,symbolTriangle:aW,symbolWye:uW},vW=Math.PI/180,yW=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dW),s=pW(pW({},a),{},{type:t,size:n,sizeType:r}),o="circle";"string"===typeof t&&(o=t);var{className:l,cx:c,cy:u}=s,d=oj(s,!0);return c===+c&&u===+u&&n===+n?i.createElement("path",hW({},d,{className:cu("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Eu(e));return gW[t]||YU})(o),t=function(e,t){let n=null,r=eN(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Np(e||YU),t="function"===typeof t?t:Np(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Np(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Np(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*vW;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,r,o));return t()})()})):null};yW.registerSymbol=(e,t)=>{gW["symbol".concat(Eu(e))]=t};var xW=["option","shapeType","propTransformer","activeClassName","isActive"];function bW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bW(Object(n),!0).forEach(function(t){kW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _W(e,t){return wW(wW({},t),e)}function SW(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return i.createElement(tP,n);case"trapezoid":return i.createElement(UU,n);case"sector":return i.createElement(oP,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(yW,n);break;default:return null}}function AW(e){var t,{option:n,shapeType:r,propTransformer:a=_W,activeClassName:s="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,xW);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,wW(wW({},l),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)t=n(l);else if(DU()(n)&&"boolean"!==typeof n){var c=a(n,l);t=i.createElement(SW,{shapeType:r,elementProps:c})}else{var u=l;t=i.createElement(SW,{shapeType:r,elementProps:u})}return o?i.createElement(PP,{className:s},t):t}var EW=["x","y"];function jW(){return jW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jW.apply(null,arguments)}function CW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CW(Object(n),!0).forEach(function(t){PW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,EW),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return NW(NW(NW(NW(NW({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function IW(e){return i.createElement(AW,jW({shapeType:"rectangle",propTransformer:TW,activeClassName:"recharts-active-bar"},e))}var OW=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(vu(e))return e;var i=vu(n)||Au(n);return i?e(n,r):(i||function(e){if(!e)throw new Error(OU)}(!1),t)}},MW=(e,t)=>{var n=xp();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(Bf({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},DW=e=>{var t=xp();return(n,r)=>i=>{null===e||void 0===e||e(n,r,i),t(Uf())}},RW=(e,t)=>{var n=xp();return(r,i)=>a=>{null===e||void 0===e||e(r,i,a),n(Hf({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},LW=["children"];var FW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zW=(0,i.createContext)(FW);function VW(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,LW);return i.createElement(zW.Provider,{value:n},t)}function BW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BW(Object(n),!0).forEach(function(t){WW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HW=pp([yk,(e,t,n,r,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),KW=pp([HW],e=>null===e||void 0===e?void 0:e.maxBarSize),qW=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!Au(r))return wu(r,t,0)},GW=pp([Im,yk,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),YW=pp([GW,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===Im(e)?B_(e,"xAxis",t):B_(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(tk),i=e.filter(e=>null==e.stackId),a=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),s=Object.entries(a).map(e=>{var[r,i]=e;return{stackId:r,dataKeys:i.map(e=>e.dataKey),barSize:qW(t,n,i[0].barSize)}});return[...s,...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:qW(t,n,e.barSize)}))]}),QW=(e,t,n,r)=>{var i,a;return"horizontal"===Im(e)?(i=Q_(e,"xAxis",t,r),a=Y_(e,"xAxis",t,r)):(i=Q_(e,"yAxis",n,r),a=Y_(e,"yAxis",n,r)),sm(i,a)};var XW=pp([YW,vw,e=>e.rootProps.barGap,yw,(e,t,n,r,i)=>{var a,s,o=HW(e,t,n,r,i);if(null!=o){var l,c,u=Im(e),d=vw(e),{maxBarSize:h}=o,f=Au(h)?d:h;return"horizontal"===u?(l=Q_(e,"xAxis",t,r),c=Y_(e,"xAxis",t,r)):(l=Q_(e,"yAxis",n,r),c=Y_(e,"yAxis",n,r)),null!==(a=null!==(s=sm(l,c,!0))&&void 0!==s?s:f)&&void 0!==a?a:0}},QW,KW],(e,t,n,r,i,a,s)=>{var o=Au(s)?t:s,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var s,o=wu(e,n,0,!0),l=[];if(Gb(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(a-1)*o)>=n&&(d-=(a-1)*o,o=0),d>=n&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((n-d)/2|0)-o,size:0};s=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=wu(t,n,0,!0);n-2*f-(a-1)*o<=0&&(o=0);var p=(n-2*f-(a-1)*o)/a;p>1&&(p>>=0);var m=Gb(i)?Math.min(p,i):p;s=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+o)*n+(p-m)/2,size:m}}],l)}return s}}(n,r,i!==a?i:a,e,o);return i!==a&&null!=l&&(l=l.map(e=>UW(UW({},e),{},{position:UW(UW({},e.position),{},{offset:e.position.offset-i/2})}))),l}),$W=pp([XW,HW],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),JW=pp([(e,t,n,r)=>"horizontal"===Im(e)?Rk(e,"yAxis",n,r):Rk(e,"xAxis",t,r),HW],(e,t)=>{var n=Qw(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===n)}}}}),ZW=pp([bm,km,(e,t,n,r)=>Q_(e,"xAxis",t,r),(e,t,n,r)=>Q_(e,"yAxis",n,r),(e,t,n,r)=>Y_(e,"xAxis",t,r),(e,t,n,r)=>Y_(e,"yAxis",n,r),$W,Im,qb,QW,JW,HW,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,s,o,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=l;if(null!=d&&null!=s&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=n&&null!=r&&null!=i&&null!=a&&null!=c){var g,{data:v}=d;if(null!=(g=null!=v&&v.length>0?v:null===f||void 0===f?void 0:f.slice(p,m+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:p}=e,m="horizontal"===t?o:s,g=u?m.scale.domain():null,v=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:m});return d.map((e,d)=>{var m,y,x,b,w,k;u?m=((e,t)=>{if(!t||2!==t.length||!vu(t[0])||!vu(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!vu(e[0])||e[0]<n)&&(i[0]=n),(!vu(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[d],g):(m=Gp(e,n),Array.isArray(m)||(m=[v,m]));var _=OW(r,yH)(m[1],d);if("horizontal"===t){var S,[A,E]=[o.scale(m[0]),o.scale(m[1])];y=nm({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),x=null!==(S=null!==E&&void 0!==E?E:A)&&void 0!==S?S:void 0,b=i.size;var j=A-E;if(w=mu(j)?0:j,k={x:y,y:h.top,width:b,height:h.height},Math.abs(_)>0&&Math.abs(w)<Math.abs(_)){var C=pu(w||_)*(Math.abs(_)-Math.abs(w));x-=C,w+=C}}else{var[N,P]=[s.scale(m[0]),s.scale(m[1])];if(y=N,x=nm({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),b=P-N,w=i.size,k={x:h.left,y:x,width:h.width,height:w},Math.abs(_)>0&&Math.abs(b)<Math.abs(_))b+=pu(b||_)*(Math.abs(_)-Math.abs(b))}return null==y||null==x||null==b||null==w?null:sH(sH({},e),{},{x:y,y:x,width:b,height:w,value:u?m:m[1],payload:e,background:k,tooltipPosition:{x:y+b/2,y:x+w/2},parentViewBox:p},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:g,offset:e,cells:h})}}),eH=["onMouseEnter","onMouseLeave","onClick"],tH=["value","background","tooltipPosition"],nH=["id"],rH=["onMouseEnter","onClick","onMouseLeave"];function iH(){return iH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iH.apply(null,arguments)}function aH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aH(Object(n),!0).forEach(function(t){oH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var cH=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:lm(n,t),payload:e}]};function uH(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:lm(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function dH(e){var t=_p(JS),{data:n,dataKey:r,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=lH(s,eH),d=MW(o,r),h=DW(l),f=RW(c,r);if(!a||null==n)return null;var p=oj(a,!1);return i.createElement(i.Fragment,null,n.map((e,n)=>{var{value:s,background:o,tooltipPosition:l}=e,c=lH(e,tH);if(!o)return null;var m=d(e,n),g=h(e,n),v=f(e,n),y=sH(sH(sH(sH(sH({option:a,isActive:String(n)===t},c),{},{fill:"#eee"},o),p),$E(u,e,n)),{},{onMouseEnter:m,onMouseLeave:g,onClick:v,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return i.createElement(IW,iH({key:"background-bar-".concat(y.index)},y))}))}function hH(e){var{showLabels:t,children:n,rects:r}=e,a=null===r||void 0===r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return sH(sH({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return i.createElement(MT,{value:t?a:void 0},n)}function fH(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:s,dataKey:o}=e,l=_p(JS),c=_p(eA),u=n&&String(s)===l&&(null==c||o===c),d=u?n:t;return i.createElement(IW,iH({},r,a,{isActive:u,option:d,index:s,dataKey:o}))}function pH(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:s}=e;return i.createElement(IW,iH({},n,r,{isActive:!1,option:t,index:a,dataKey:s}))}function mH(e){var{data:t,props:n}=e,r=ej(n),{id:a}=r,s=lH(r,nH),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,f=lH(n,rH),p=MW(u,l),m=DW(h),g=RW(d,l);return t?i.createElement(i.Fragment,null,t.map((e,t)=>i.createElement(PP,iH({className:"recharts-bar-rectangle"},$E(f,e,t),{onMouseEnter:p(e,t),onMouseLeave:m(e,t),onClick:g(e,t),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(t)}),c?i.createElement(fH,{shape:o,activeBar:c,baseProps:s,entry:e,index:t,dataKey:l}):i.createElement(pH,{shape:o,baseProps:s,entry:e,index:t,dataKey:l})))):null}function gH(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=n.current,f=YN(t,"recharts-bar-"),[p,m]=(0,i.useState)(!1),g=!p,v=(0,i.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),y=(0,i.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return i.createElement(hH,{showLabels:g,rects:r},i.createElement(GN,{animationId:f,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:y,key:f},e=>{var s=1===e?r:null===r||void 0===r?void 0:r.map((t,n)=>{var r=h&&h[n];if(r)return sH(sH({},t),{},{x:_u(r.x,t.x,e),y:_u(r.y,t.y,e),width:_u(r.width,t.width,e),height:_u(r.height,t.height,e)});if("horizontal"===a){var i=_u(0,t.height,e);return sH(sH({},t),{},{y:t.y+t.height-i,height:i})}var s=_u(0,t.width,e);return sH(sH({},t),{},{width:s})});return e>0&&(n.current=null!==s&&void 0!==s?s:null),null==s?null:i.createElement(PP,null,i.createElement(mH,{props:t,data:s}))}),i.createElement(FT,{label:t.label}),t.children)}function vH(e){var t=(0,i.useRef)(null);return i.createElement(gH,{previousRectanglesRef:t,props:e})}var yH=0,xH=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Gp(e,t)}};class bH extends i.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e||null==t)return null;var u=cu("recharts-bar",r),d=c;return i.createElement(PP,{className:u,id:c},o&&i.createElement("defs",null,i.createElement(KT,{clipPathId:d,xAxisId:a,yAxisId:s})),i.createElement(PP,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},i.createElement(dH,{data:t,dataKey:n,background:l,allOtherBarProps:this.props}),i.createElement(vH,this.props)))}}var wH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!FE,legendType:"rect",minPointSize:yH,xAxisId:0,yAxisId:0};function kH(e){var t,{xAxisId:n,yAxisId:r,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=HT(n,r),p=Om(),m=Sm(),g=aj(e.children,IU),v=_p(t=>ZW(t,n,r,m,e.id,g));if("vertical"!==p&&"horizontal"!==p)return null;var y=null===v||void 0===v?void 0:v[0];return t=null==y||null==y.height||null==y.width?0:"vertical"===p?y.height/2:y.width/2,i.createElement(VW,{xAxisId:n,yAxisId:r,data:v,dataPointFormatter:xH,errorBarOffset:t},i.createElement(bH,iH({},e,{layout:p,needClip:f,data:v,xAxisId:n,yAxisId:r,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function _H(e){var t=Hj(e,wH),n=Sm();return i.createElement(aI,{id:t.id,type:"bar"},e=>i.createElement(i.Fragment,null,i.createElement(tI,{legendPayload:cH(t)}),i.createElement(WT,{fn:uH,args:t}),i.createElement(sI,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:em(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),i.createElement(kH,iH({},t,{id:e}))))}var SH=i.memo(_H);SH.displayName="Bar";const AH=["#6366F1","#06B6D4","#F59E0B","#EF4444","#10B981","#0EA5E9","#8B5CF6","#84CC16","#14B8A6","#F97316"];function EH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:t,maximumFractionDigits:0}).format(e||0)}catch(s5){return(new Intl.NumberFormat).format(Math.round(e||0))}}const jH=e=>{let{active:t,payload:n,label:r,currency:i}=e;if(t&&n&&n.length){const e=n.reduce((e,t)=>e+(Number(t.value)||0),0);return(0,Re.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200 min-w-[220px] dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[(0,Re.jsx)("div",{className:"text-sm font-semibold text-slate-800 mb-1 dark:text-slate-100",children:r}),(0,Re.jsx)("div",{className:"space-y-1",children:n.map(e=>(0,Re.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:e.color}}),(0,Re.jsx)("span",{className:"text-slate-600 dark:text-slate-300",children:e.name})]}),(0,Re.jsx)("span",{className:"font-medium text-slate-800 dark:text-slate-100",children:EH(e.value,i)})]},e.dataKey))}),(0,Re.jsxs)("div",{className:"border-t border-slate-100 mt-2 pt-2 text-xs flex items-center justify-between dark:border-slate-700",children:[(0,Re.jsx)("span",{className:"text-slate-500 dark:text-slate-400",children:"Total"}),(0,Re.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:EH(e,i)})]})]})}return null};function CH(e){var t,n;let{className:r="",timeRange:a="All",compact:s=!1}=e;const{expenses:o,projects:l}=Ol(),{orgs:c,activeOrgId:u,currency:d}=wl(),{isDark:h}=Sl(),f=(0,i.useMemo)(()=>{const e=(e=>{switch(e){case"1M":return 30;case"3M":return 90;case"6M":return 180;case"1Y":return 365;default:return 1/0}})(a),t=new Date,n=Number.isFinite(e)?new Date(t.getTime()-24*e*60*60*1e3):null,r=(o||[]).filter(e=>"posted"===e.status).filter(e=>{if(!n)return!0;const r=(i=e.date||e.createdAt||e.timestamp)?new Date(i):null;var i;return!r||r>=n&&r<=t}),i=(null===c||void 0===c?void 0:c.find(e=>e.id===u))||null,s=Array.isArray(null===i||void 0===i?void 0:i.internalCategories)?i.internalCategories.map(e=>(e||"").trim()).filter(Boolean):[],d=new Set(s);r.forEach(e=>{e.category&&d.add(e.category)});const h=Array.from(d.size?d:new Set(["Other"])),f=new Map;r.forEach(e=>{const t=(l||[]).find(t=>t.id===e.projectId),n=(null===t||void 0===t?void 0:t.name)||"Unassigned",r=(null===t||void 0===t?void 0:t.id)||"UNASSIGNED",i=Math.abs(Number(e.amount||0)),a=e.category||"Other";if(!f.has(r)){const e={name:n};h.forEach(t=>e[t]=0),f.set(r,e)}const s=f.get(r);s[a]=(s[a]||0)+i});const p=[];for(const[,a]of f.entries()){const e={project:a.name};h.forEach(t=>{e[t]=a[t]||0}),e.total=h.reduce((t,n)=>t+(e[n]||0),0),p.push(e)}return p.sort((e,t)=>(t.total||0)-(e.total||0)),{rows:p,categoriesList:h}},[o,l,c,u,a]),[p,m]=(0,i.useState)(new Set),[g,v]=(0,i.useState)(!1),y=f.categoriesList||[],x=y.filter(e=>!p.has(e)),b=g?y:y.slice(0,10);if(!(f&&f.rows&&f.rows.length))return(0,Re.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 ".concat(r," dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100"),children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700 dark:text-slate-100",children:"Project Expenses"}),(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No expense data yet."})]});const w=(null===(t=f.rows)||void 0===t?void 0:t.length)>6?-25:0,k=s?28:36,_=Math.max(s?380:520,((null===(n=f.rows)||void 0===n?void 0:n.length)||0)*k),S=AH,A=(f.categoriesList||[]).reduce((e,t,n)=>(e[t]=S[n%S.length],e),{});return(0,Re.jsxs)("div",{className:"overflow-hidden rounded-3xl bg-gradient-to-b from-white/95 to-white/80 backdrop-blur-xl ring-1 ring-gray-200 shadow-sm hover:shadow-md transition-shadow ".concat(r," dark:from-slate-900/80 dark:to-slate-900/60 dark:ring-slate-800 dark:text-slate-100"),children:[(0,Re.jsxs)("div",{className:"px-5 pt-5 pb-3 flex items-center justify-between border-b border-slate-100/70 dark:border-slate-800",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsx)("div",{className:"h-9 w-9 rounded-xl bg-blue-500/10 text-blue-600 dark:text-blue-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3v18h18M7 13h6m-6-4h10m-10 8h4"})})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Project Expenses"}),(0,Re.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Stacked by category"})]})]}),(0,Re.jsx)("span",{className:"text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:"Live"})]}),(0,Re.jsxs)("div",{className:"px-5 py-4",children:[(0,Re.jsx)("div",{className:"".concat(s?"h-36 lg:h-44":"h-48 lg:h-60"," overflow-x-auto"),children:(0,Re.jsx)("div",{style:{minWidth:_},className:"h-full lg:max-w-4xl",children:(0,Re.jsx)(Tu,{width:"100%",height:"100%",children:(0,Re.jsxs)(vB,{data:f.rows,margin:{top:10,right:8,bottom:6,left:8},barCategoryGap:"10%",barGap:6,children:[(0,Re.jsxs)("defs",{children:[x.map((e,t)=>{const n="grad-project-".concat(e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase()),r=A[e];return(0,Re.jsxs)("linearGradient",{id:n,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Re.jsx)("stop",{offset:"0%",stopColor:r,stopOpacity:"1"}),(0,Re.jsx)("stop",{offset:"100%",stopColor:r,stopOpacity:"0.75"})]},n)}),(0,Re.jsx)("filter",{id:"barShadowP",x:"-20%",y:"-20%",width:"140%",height:"140%",children:(0,Re.jsx)("feDropShadow",{dx:"0",dy:"6",stdDeviation:"8",floodColor:"#0ea5e9",floodOpacity:"0.07"})})]}),(0,Re.jsx)(oU,{strokeDasharray:"2 4",vertical:!1,stroke:h?"#334155":"#e5e7eb"}),(0,Re.jsx)(xU,{dataKey:"project",tick:{fontSize:12,fill:h?"#cbd5e1":"#475569"},interval:0,angle:w,height:w?70:50,dy:w?12:10}),(0,Re.jsx)(TU,{tick:{fontSize:12,fill:h?"#cbd5e1":"#475569"},tickFormatter:e=>EH(e,d)}),(0,Re.jsx)(AP,{content:(0,Re.jsx)(jH,{currency:d}),cursor:{fill:"rgba(2,132,199,0.06)"}}),x.map((e,t)=>{const n="grad-project-".concat(e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase());return(0,Re.jsx)(SH,{dataKey:e,name:e,stackId:"a",fill:"url(#".concat(n,")"),radius:[12,12,12,12],barSize:14,stroke:"#ffffff",strokeWidth:2,filter:"url(#barShadowP)"},e)})]})})})}),(0,Re.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[b.map(e=>{const t=p.has(e);return(0,Re.jsxs)("button",{type:"button",onClick:()=>{return t=e,void m(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},"aria-pressed":!t,title:t?"Show ".concat(e):"Hide ".concat(e),className:"flex items-center gap-2 text-xs md:text-sm px-2.5 py-1.5 rounded-full border transition ".concat(t?"bg-white/70 text-slate-400 border-slate-200 dark:bg-slate-900/50 dark:text-slate-500 dark:border-slate-700":"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700"),children:[(0,Re.jsx)("span",{className:"inline-block h-2.5 w-2.5 rounded-full ring-2 ring-white",style:{background:A[e],opacity:t?.35:1}}),(0,Re.jsx)("span",{className:"truncate max-w-[140px]",children:e})]},e)}),y.length>10&&(0,Re.jsx)("button",{type:"button",className:"text-xs md:text-sm px-2 py-1 rounded-full bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-300",onClick:()=>v(e=>!e),children:g?"Show less":"Show all (".concat(y.length,")")})]})]})]})}function NH(e){var t=xp();return(0,i.useEffect)(()=>{t(wE(e))},[t,e]),null}var PH=["width","height","layout"];function TH(){return TH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TH.apply(null,arguments)}var IH={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},OH=(0,i.forwardRef)(function(e,t){var n,r=Hj(e.categoricalChartProps,IH),{width:a,height:s,layout:o}=r,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,PH);if(!Yb(a)||!Yb(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return i.createElement(VE,{preloadedState:{options:f},reduxStoreName:null!==(n=r.id)&&void 0!==n?n:c},i.createElement(BE,{chartData:r.data}),i.createElement(UE,{width:a,height:s,layout:o,margin:r.margin}),i.createElement(WE,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),i.createElement(NH,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),i.createElement(Bj,TH({width:a,height:s},l,{ref:t})))}),MH=["item"],DH={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},RH=(0,i.forwardRef)((e,t)=>{var n=Hj(e,DH);return i.createElement(OH,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:MH,tooltipPayloadSearcher:Ih,categoricalChartProps:n,ref:t})}),LH=e=>e.graphicalItems.polarItems,FH=pp([Gw,Yw],vk),zH=pp([LH,pk,FH],bk),VH=pp([zH],Ak),BH=pp([VH,Kb],jk),UH=pp([BH,pk,zH],Nk),WH=pp([BH,pk,zH],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:Gp(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Gp(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),HH=()=>{},KH=pp([pk,o_,HH,WH,HH,Im,Gw],l_),qH=pp([pk,Im,BH,UH,xw,Gw,KH],d_),GH=pp([qH,pk,p_],g_);pp([pk,qH,GH,Gw],y_);function YH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YH(Object(n),!0).forEach(function(t){XH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $H=pp([LH,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),JH=[],ZH=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?JH:n,eK=pp([Kb,$H,ZH],(e,t,n)=>{var r,{chartData:i}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>QH(QH({},t.presentationProps),e.props))),null!=r))return r}),tK=pp([eK,$H,ZH],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var i,a,s=Gp(e,t.nameKey,t.name);return a=null!==n&&void 0!==n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:lm(s,t.dataKey),color:a,payload:e,type:t.legendType}})}),nK=pp([eK,$H,ZH,bm],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:a,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),m=pK(c,u),g=Math.abs(m),v=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter(e=>0!==Gp(e,d,0)).length,x=g-y*p-(g>=360?y:y-1)*v,b=a.reduce((e,t)=>{var n=Gp(t,d,0);return e+(vu(n)?n:0)},0);b>0&&(n=a.map((e,t)=>{var n,a=Gp(e,d,0),u=Gp(e,h,t),g=fK(i,o,e),y=(vu(a)?a:0)/b,w=lK(lK({},e),s&&s[t]&&s[t].props),k=(n=t?r.endAngle+pu(m)*v*(0!==a?1:0):c)+pu(m)*((0!==a?p:0)+y*x),_=(n+k)/2,S=(g.innerRadius+g.outerRadius)/2,A=[{name:u,value:a,payload:w,dataKey:d,type:f}],E=Fp(g.cx,g.cy,S,_);return r=lK(lK(lK(lK({},i.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:A,midAngle:_,middleRadius:S,tooltipPosition:E},w),g),{},{value:a,startAngle:n,endAngle:k,payload:w,paddingAngle:pu(m)*v})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),rK=["onMouseEnter","onClick","onMouseLeave"],iK=["id"],aK=["id"];function sK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oK(Object(n),!0).forEach(function(t){cK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uK(){return uK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uK.apply(null,arguments)}function dK(e){var t=(0,i.useMemo)(()=>aj(e.children,IU),[e.children]),n=_p(n=>tK(n,e.id,t));return null==n?null:i.createElement(nI,{legendPayload:n})}function hK(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:r.map(e=>e.tooltipPayload),positions:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:lm(o,t),hide:l,type:c,color:s,unit:""}}}var fK=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=zp(a,s),l=i+wu(e.cx,a,a/2),c=r+wu(e.cy,s,s/2),u=wu(e.innerRadius,o,0),d=((e,t,n)=>wu("function"===typeof t?t(e):t,n,.8*n))(n,e.outerRadius,o);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(a*a+s*s)/2}},pK=(e,t)=>pu(t-e)*Math.min(Math.abs(t-e),360);function mK(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:s,dataKey:o}=n;if(!r||!a||!t)return null;var l=ej(n),c=oj(a,!1),u=oj(s,!1),d="object"===typeof a&&"offsetRadius"in a&&"number"===typeof a.offsetRadius&&a.offsetRadius||20,h=t.map((e,t)=>{var n,r,h=(e.startAngle+e.endAngle)/2,f=Fp(e.cx,e.cy,e.outerRadius+d,h),p=lK(lK(lK(lK({},l),e),{},{stroke:"none"},c),{},{index:t,textAnchor:(n=f.x,r=e.cx,n>r?"start":n<r?"end":"middle")},f),m=lK(lK(lK(lK({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:t,points:[Fp(e.cx,e.cy,e.outerRadius,h),f],key:"line"});return i.createElement(PP,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},s&&((e,t)=>{if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return e(t);var n=cu("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return i.createElement(pN,uK({},t,{type:"linear",className:n}))})(s,m),((e,t,n)=>{if(i.isValidElement(e))return i.cloneElement(e,t);var r=n;if("function"===typeof e&&(r=e(t),i.isValidElement(r)))return r;var a,s=cu("recharts-pie-label-text",(a=e)&&"object"===typeof a&&"className"in a&&"string"===typeof a.className?a.className:"");return i.createElement(uT,uK({},t,{alignmentBaseline:"middle",className:s}),r)})(a,p,Gp(e,o)))});return i.createElement(PP,{className:"recharts-pie-labels"},h)}function gK(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return"object"===typeof a&&null!=a&&"position"in a?i.createElement(FT,{label:a}):i.createElement(mK,{sectors:t,props:n,showLabels:r})}function vK(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a}=e,s=_p(JS),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=sK(a,rK),d=MW(o,a.dataKey),h=DW(c),f=RW(l,a.dataKey);return null==t||0===t.length?null:i.createElement(i.Fragment,null,t.map((e,o)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==t.length)return null;var l=n&&String(o)===s,c=l?n:s?r:null,p=lK(lK({},e),{},{stroke:e.stroke,tabIndex:-1,[mm]:o,[gm]:a.dataKey});return i.createElement(PP,uK({tabIndex:-1,className:"recharts-pie-sector"},$E(u,e,o),{onMouseEnter:d(e,o),onMouseLeave:h(e,o),onClick:f(e,o),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o)}),i.createElement(AW,uK({option:c,isActive:l,shapeType:"sector"},p)))}))}function yK(e){var{showLabels:t,sectors:n,children:r}=e,a=(0,i.useMemo)(()=>t&&n?n.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[n,t]);return i.createElement(RT,{value:t?a:void 0},r)}function xK(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=t,f=YN(t,"recharts-pie-"),p=n.current,[m,g]=(0,i.useState)(!1),v=(0,i.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),y=(0,i.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return i.createElement(yK,{showLabels:!m,sectors:r},i.createElement(GN,{animationId:f,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:v,key:f},e=>{var a=[],s=r&&r[0],o=null===s||void 0===s?void 0:s.startAngle;return null===r||void 0===r||r.forEach((t,n)=>{var r=p&&p[n],i=n>0?fu()(t,"paddingAngle",0):0;if(r){var s=_u(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),l=lK(lK({},t),{},{startAngle:o+i,endAngle:o+s+i});a.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=_u(0,c-u,e),h=lK(lK({},t),{},{startAngle:o+i,endAngle:o+d+i});a.push(h),o=h.endAngle}}),n.current=a,i.createElement(PP,null,i.createElement(vK,{sectors:a,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),i.createElement(gK,{showLabels:!m,sectors:r,props:t}),t.children)}var bK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!FE,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function wK(e){var{id:t}=e,n=sK(e,iK),{hide:r,className:a,rootTabIndex:s}=e,o=(0,i.useMemo)(()=>aj(e.children,IU),[e.children]),l=_p(e=>nK(e,t,o)),c=(0,i.useRef)(null),u=cu("recharts-pie",a);return r||null==l?(c.current=null,i.createElement(PP,{tabIndex:s,className:u})):i.createElement(i.Fragment,null,i.createElement(WT,{fn:hK,args:lK(lK({},e),{},{sectors:l})}),i.createElement(PP,{tabIndex:s,className:u},i.createElement(xK,{props:lK(lK({},n),{},{sectors:l}),previousSectorsRef:c})))}function kK(e){var t=Hj(e,bK),{id:n}=t,r=sK(t,aK),a=ej(r);return i.createElement(aI,{id:n,type:"pie"},e=>i.createElement(i.Fragment,null,i.createElement(oI,{type:"pie",id:e,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),i.createElement(dK,uK({},r,{id:e})),i.createElement(wK,uK({},r,{id:e}))))}kK.displayName="Pie";const _K=["#4F46E5","#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16","#14B8A6","#6366F1","#EC4899","#F43F5E","#0EA5E9","#22C55E"];function SK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:t,maximumFractionDigits:0}).format(e||0)}catch(s5){return(new Intl.NumberFormat).format(Math.round(e||0))}}const AK=e=>{let{title:t,amount:n,share:r,currency:i}=e;return(0,Re.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[(0,Re.jsx)("div",{className:"font-semibold",children:t}),(0,Re.jsxs)("div",{className:"text-sm",children:["Amount: ",(0,Re.jsx)("span",{className:"font-medium",children:SK(n,i)})]}),(0,Re.jsxs)("div",{className:"text-sm",children:["Share: ",(0,Re.jsxs)("span",{className:"font-medium",children:[(100*r).toFixed(1),"%"]})]})]})},EK=e=>{let{active:t,payload:n,currency:r}=e;if(t&&n&&n.length){const e=n[0];return(0,Re.jsx)(AK,{title:e.name,amount:e.value,share:e.payload.percent,currency:r})}return null},jK=e=>{let{name:t,percent:n,cx:r,cy:i,midAngle:a,outerRadius:s,fill:o,value:l}=e;if(n<.03)return null;const c=Math.PI/180,u=1.1*s,d=r+u*Math.cos(-a*c),h=i+u*Math.sin(-a*c),f=d>r?"start":"end",p=(100*n).toFixed(0)+"%";return(0,Re.jsxs)("g",{children:[(0,Re.jsx)("line",{x1:r+.7*s*Math.cos(-a*c),y1:i+.7*s*Math.sin(-a*c),x2:d-(d>r?5:-5),y2:h,stroke:o,strokeWidth:1.5,strokeDasharray:"2 2"}),(0,Re.jsxs)("text",{x:d+(d>r?5:-5),y:h+4,fill:"#374151",textAnchor:f,dominantBaseline:"middle",fontSize:11,fontWeight:500,children:[t,": ",p]})]})},CK=e=>{let{data:t,compact:n=!1}=e;const{expenses:r}=Ol(),{orgs:a,activeOrgId:s,currency:l}=wl(),{data:c,total:u}=(0,i.useMemo)(()=>{const e=t&&t.length?t:r||[],n=new Map;(e||[]).forEach(e=>{const t=(e.category||"Miscellaneous").trim()||"Miscellaneous",r=Math.abs(Number(e.amount||0));n.set(t,(n.get(t)||0)+r)});const i=(null===a||void 0===a?void 0:a.find(e=>e.id===s))||null,l=Array.isArray(null===i||void 0===i?void 0:i.internalCategories)&&i.internalCategories.length?i.internalCategories.map(e=>e.trim()).filter(Boolean):null,c=Array.from(n.entries()).map(e=>{let[t,n]=e;return{name:t,value:n}}).filter(e=>Number(e.value)>0),u=l?[...c.filter(e=>l.includes(e.name)).sort((e,t)=>l.indexOf(e.name)-l.indexOf(t.name)),...c.filter(e=>!l.includes(e.name)).sort((e,t)=>t.value-e.value)]:c.sort((e,t)=>t.value-e.value),d=u.reduce((e,t)=>e+t.value,0),h=u.map(e=>(0,o.A)((0,o.A)({},e),{},{percent:d?e.value/d:0,change:0,pctChange:0})).sort((e,t)=>e.percent-t.percent);return{data:h,total:d}},[r,t,a,s]);return c&&0!==c.length?n?(0,Re.jsxs)("div",{className:"overflow-hidden rounded-2xl bg-white/90 backdrop-blur ring-1 ring-gray-200 shadow-sm p-4 max-w-[16rem] sm:max-w-[18rem] dark:bg-slate-900/70 dark:ring-slate-800 dark:text-slate-100",children:[(0,Re.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-3 dark:text-slate-100",children:"Expenses Breakdown"}),(0,Re.jsxs)("div",{className:"h-48 relative",children:[(0,Re.jsx)(Tu,{width:"100%",height:"100%",children:(0,Re.jsxs)(RH,{children:[(0,Re.jsx)("defs",{children:c.map((e,t)=>(0,Re.jsxs)("linearGradient",{id:"gradient-".concat(t),x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Re.jsx)("stop",{offset:"0%",stopColor:_K[t%_K.length],stopOpacity:.9}),(0,Re.jsx)("stop",{offset:"100%",stopColor:_K[t%_K.length],stopOpacity:.7})]},"gradient-".concat(t)))}),(0,Re.jsx)(kK,{data:c,dataKey:"value",cx:"50%",cy:"50%",innerRadius:"70%",outerRadius:"90%",paddingAngle:1,startAngle:90,endAngle:-270,isAnimationActive:!0,animationDuration:1200,animationEasing:"ease-out",labelLine:!1,label:jK,children:c.map((e,t)=>(0,Re.jsx)(IU,{fill:"url(#gradient-".concat(t,")"),stroke:"#fff",strokeWidth:1,style:{transition:"opacity 0.3s",cursor:"pointer",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}},"cell-".concat(t)))}),(0,Re.jsx)(AP,{content:(0,Re.jsx)(EK,{currency:l})})]})}),(0,Re.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[(0,Re.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Spent"}),(0,Re.jsx)("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:SK(u,l)})]})]}),(0,Re.jsxs)("div",{className:"mt-2 text-xs text-slate-600 dark:text-slate-300",children:[(0,Re.jsx)("span",{className:"text-slate-500 dark:text-slate-400",children:"Total: "}),(0,Re.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:SK(u,l)})]}),(0,Re.jsx)("div",{className:"mt-2 space-y-1.5 max-h-32 overflow-auto pr-1",children:c.map((e,t)=>(0,Re.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,Re.jsx)("span",{className:"inline-block h-2 w-5 rounded-full",style:{background:_K[t%_K.length]}}),(0,Re.jsx)("span",{className:"text-[11px] text-slate-700 truncate dark:text-slate-200",children:e.name})]}),(0,Re.jsxs)("div",{className:"text-[11px] text-slate-500 whitespace-nowrap dark:text-slate-400",children:[(0,Re.jsxs)("span",{className:"font-medium text-slate-800 mr-1 dark:text-slate-100",children:[(100*e.percent).toFixed(0),"%"]}),SK(e.value,l)]})]},e.name))})]}):(0,Re.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100 flex flex-col md:flex-row gap-4 items-stretch dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100",children:[(0,Re.jsx)("div",{className:"flex-1 min-h-[220px] flex items-center justify-center",children:(0,Re.jsxs)("div",{className:"w-full max-w-md h-56 relative flex items-center justify-center",children:[(0,Re.jsx)(Tu,{width:"100%",height:"100%",children:(0,Re.jsxs)(RH,{children:[(0,Re.jsx)(kK,{data:c,dataKey:"value",cx:"45%",cy:"50%",innerRadius:68,outerRadius:102,paddingAngle:2,startAngle:90,endAngle:-270,isAnimationActive:!0,animationDuration:900,labelLine:!0,label:jK,children:c.map((e,t)=>(0,Re.jsx)(IU,{fill:_K[t%_K.length]},"cell-".concat(t)))}),(0,Re.jsx)(AP,{content:(0,Re.jsx)(EK,{currency:l})})]})}),(0,Re.jsxs)("div",{className:"absolute pointer-events-none flex flex-col items-center justify-center text-center",children:[(0,Re.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total Expenses"}),(0,Re.jsx)("div",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:SK(u,l)})]})]})}),(0,Re.jsxs)("div",{className:"w-full md:w-80 flex-shrink-0",children:[(0,Re.jsx)("h4",{className:"text-sm font-semibold text-slate-700 mb-3 dark:text-slate-200",children:"Breakdown"}),(0,Re.jsx)("div",{className:"space-y-3",children:c.map((e,t)=>(0,Re.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsx)("div",{className:"h-3 w-8 rounded-full shadow-sm",style:{background:_K[t%_K.length]}}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:e.name}),(0,Re.jsxs)("div",{className:"text-xs text-slate-400 dark:text-slate-400",children:[SK(e.value,l)," \u2022 ",(100*e.percent).toFixed(1),"%"]})]})]}),(0,Re.jsxs)("div",{className:"text-sm font-medium text-slate-400 dark:text-slate-400",children:[(100*e.percent).toFixed(1),"%"]})]},e.name))})]})]}):(0,Re.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700 dark:text-slate-100",children:"Expenses by Category"}),(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No expenses yet."})]})},NK=["#6366F1","#06B6D4","#F59E0B","#EF4444","#10B981","#0EA5E9","#8B5CF6","#84CC16","#14B8A6","#F97316"];function PK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:t,maximumFractionDigits:0}).format(e||0)}catch(s5){return(new Intl.NumberFormat).format(Math.round(e||0))}}const TK=e=>{let{active:t,payload:n,label:r,currency:i}=e;if(t&&n&&n.length){const e=n.reduce((e,t)=>e+(Number(t.value)||0),0);return(0,Re.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200 min-w-[220px] dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[(0,Re.jsx)("div",{className:"text-sm font-semibold text-slate-800 mb-1 dark:text-slate-100",children:r}),(0,Re.jsx)("div",{className:"space-y-1",children:n.map(e=>(0,Re.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("span",{className:"inline-block h-2.5 w-2.5 rounded-full",style:{background:e.color}}),(0,Re.jsx)("span",{className:"text-slate-600 dark:text-slate-300",children:e.name})]}),(0,Re.jsx)("span",{className:"font-medium text-slate-800 dark:text-slate-100",children:PK(e.value,i)})]},e.dataKey))}),(0,Re.jsxs)("div",{className:"border-t border-slate-100 mt-2 pt-2 text-xs flex items-center justify-between dark:border-slate-700",children:[(0,Re.jsx)("span",{className:"text-slate-500 dark:text-slate-400",children:"Total"}),(0,Re.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:PK(e,i)})]})]})}return null};function IK(e){let{className:t="",timeRange:n="All"}=e;const{expenses:r,projects:a,funders:s}=Ol(),{orgs:o,activeOrgId:l,currency:c}=wl(),{isDark:u}=Sl(),{data:d,categories:h}=(0,i.useMemo)(()=>{const e=(e=>{switch(e){case"1M":return 30;case"3M":return 90;case"6M":return 180;case"1Y":return 365;default:return 1/0}})(n),t=new Date,i=Number.isFinite(e)?new Date(t.getTime()-24*e*60*60*1e3):null,c=(r||[]).filter(e=>"posted"===e.status).filter(e=>{if(!i)return!0;const n=(r=e.date||e.createdAt||e.timestamp)?new Date(r):null;var r;return!n||n>=i&&n<=t}),u=(null===o||void 0===o?void 0:o.find(e=>e.id===l))||null,d=Array.isArray(null===u||void 0===u?void 0:u.internalCategories)?u.internalCategories.map(e=>(e||"").trim()).filter(Boolean):[],h=new Set(d);c.forEach(e=>{e.category&&h.add(e.category)});const f=Array.from(h.size?h:new Set(["Other"])),p=new Map;c.forEach(e=>{var t;const n=(a||[]).find(t=>t.id===e.projectId),r=e.walletId||(null===n||void 0===n?void 0:n.funderId)||"ORG",i=(null===(t=(s||[]).find(e=>e.id===r))||void 0===t?void 0:t.name)||("ORG"===r?"Organization":r),o=Math.abs(Number(e.amount||0)),l=e.category||"Other";if(!p.has(r)){const e={funder:i};f.forEach(t=>e[t]=0),p.set(r,e)}const c=p.get(r);c[l]=(c[l]||0)+o});const m=[];for(const[,n]of p.entries()){const e={funder:n.funder};f.forEach(t=>{e[t]=n[t]||0}),e.total=f.reduce((t,n)=>t+(e[n]||0),0),m.push(e)}return m.sort((e,t)=>(t.total||0)-(e.total||0)),{data:m,categories:f}},[r,a,o,l,n,s]),[f,p]=(0,i.useState)(new Set),[m,g]=(0,i.useState)(!1),v=h||[],y=v.filter(e=>!f.has(e)),x=m?v:v.slice(0,10);if(null===d||void 0===d||!d.length)return(0,Re.jsxs)("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 ".concat(t," dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100"),children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700 dark:text-slate-100",children:"Funders Expenses Breakdown"}),(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No expense data yet."})]});const b=(null===d||void 0===d?void 0:d.length)>6?-25:0,w=Math.max(520,36*((null===d||void 0===d?void 0:d.length)||0)),k=NK,_=(h||[]).reduce((e,t,n)=>(e[t]=k[n%k.length],e),{});return(0,Re.jsxs)("div",{className:"overflow-hidden rounded-3xl bg-gradient-to-b from-white/95 to-white/80 backdrop-blur-xl ring-1 ring-gray-200 shadow-sm hover:shadow-md transition-shadow ".concat(t," dark:from-slate-900/80 dark:to-slate-900/60 dark:ring-slate-800 dark:text-slate-100"),children:[(0,Re.jsxs)("div",{className:"px-5 pt-5 pb-3 flex items-center justify-between border-b border-slate-100/70 dark:border-slate-800",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsx)("div",{className:"h-9 w-9 rounded-xl bg-emerald-500/10 text-emerald-600 dark:text-emerald-300 flex items-center justify-center",children:(0,Re.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7h18M7 11h10M7 15h6"})})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Funders Expenses"}),(0,Re.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Stacked by category"})]})]}),(0,Re.jsx)("span",{className:"text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:"Live"})]}),(0,Re.jsxs)("div",{className:"px-5 py-4",children:[(0,Re.jsx)("div",{className:"h-48 lg:h-60 overflow-x-auto",children:(0,Re.jsx)("div",{style:{minWidth:w},className:"h-full lg:max-w-4xl",children:(0,Re.jsx)(Tu,{width:"100%",height:"100%",children:(0,Re.jsxs)(vB,{data:d,margin:{top:10,right:8,bottom:6,left:8},barCategoryGap:"10%",barGap:6,children:[(0,Re.jsxs)("defs",{children:[y.map(e=>{const t="grad-funder-".concat(e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase()),n=_[e];return(0,Re.jsxs)("linearGradient",{id:t,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Re.jsx)("stop",{offset:"0%",stopColor:n,stopOpacity:"1"}),(0,Re.jsx)("stop",{offset:"100%",stopColor:n,stopOpacity:"0.75"})]},t)}),(0,Re.jsx)("filter",{id:"barShadowF",x:"-20%",y:"-20%",width:"140%",height:"140%",children:(0,Re.jsx)("feDropShadow",{dx:"0",dy:"6",stdDeviation:"8",floodColor:"#0ea5e9",floodOpacity:"0.07"})})]}),(0,Re.jsx)(oU,{strokeDasharray:"2 4",vertical:!1,stroke:u?"#334155":"#e5e7eb"}),(0,Re.jsx)(xU,{dataKey:"funder",tick:{fontSize:12,fill:u?"#cbd5e1":"#475569"},interval:0,angle:b,height:b?70:50,dy:b?12:10}),(0,Re.jsx)(TU,{tick:{fontSize:12,fill:u?"#cbd5e1":"#475569"},tickFormatter:e=>PK(e,c)}),(0,Re.jsx)(AP,{content:(0,Re.jsx)(TK,{currency:c}),cursor:{fill:"rgba(2,132,199,0.06)"}}),y.map(e=>{const t="grad-funder-".concat(e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase());return(0,Re.jsx)(SH,{dataKey:e,name:e,stackId:"a",fill:"url(#".concat(t,")"),radius:[12,12,12,12],barSize:14,stroke:"#ffffff",strokeWidth:2,filter:"url(#barShadowF)"},e)})]})})})}),(0,Re.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.map(e=>{const t=f.has(e);return(0,Re.jsxs)("button",{type:"button",onClick:()=>{return t=e,void p(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},"aria-pressed":!t,title:t?"Show ".concat(e):"Hide ".concat(e),className:"flex items-center gap-2 text-xs md:text-sm px-2.5 py-1.5 rounded-full border transition ".concat(t?"bg-white/70 text-slate-400 border-slate-200 dark:bg-slate-900/50 dark:text-slate-500 dark:border-slate-700":"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700"),children:[(0,Re.jsx)("span",{className:"inline-block h-2.5 w-2.5 rounded-full ring-2 ring-white",style:{background:_[e],opacity:t?.35:1}}),(0,Re.jsx)("span",{className:"truncate max-w-[140px]",children:e})]},e)}),v.length>10&&(0,Re.jsx)("button",{type:"button",className:"text-xs md:text-sm px-2 py-1 rounded-full bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-300",onClick:()=>g(e=>!e),children:m?"Show less":"Show all (".concat(v.length,")")})]})]})]})}function OK(e){let{children:t}=e;const{role:n}=wl();return"admin"===n?(0,Re.jsx)(Re.Fragment,{children:t}):null}function MK(e){try{return new Date(e).toLocaleString()}catch(t){return e}}function DK(e){let{full:t=!1}=e;const{logs:n=[],removeItem:r,softRemoveLog:a,restoreLog:s,finalizeRemoveLog:l}=Ol(),{activeOrg:c,role:u}=wl(),{user:d}=yl(),h=Number({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_UNDO_WINDOW_MS)||6e3,f=(n||[]).filter(e=>!e.deleted).filter(e=>!(e=>{const t=String(e||"").toLowerCase();return t.startsWith("log_")||"item_removed"===t})(e.action)).slice(0,20),[p,m]=(0,i.useState)({}),[g,v]=(0,i.useState)({open:!1,title:"",message:"",onConfirm:null,hasItem:!1}),[y,x]=(0,i.useState)([]);function b(){v({open:!1,title:"",message:"",onConfirm:null})}return(0,i.useEffect)(()=>{let e=!0;const t=(n||[]).filter(e=>!e.byEmail&&e.by&&!e.deleted).map(e=>e.by).filter(Boolean),r=Array.from(new Set(t)).filter(e=>!p[e]);return 0===r.length||(async()=>{const t={};await Promise.all(r.map(async e=>{try{let n=null;if(c&&Array.isArray(c.memberships)){const t=c.memberships.find(t=>t.userId===e||t.userId===(e||""));t&&t.email&&(n=t.email)}if(n)return void(t[e]=n);try{const n=(0,ol.H9)(fl,"users",e),r=await(0,ol.getDoc)(n);if(r.exists()){const n=r.data();return void(t[e]=(null===n||void 0===n?void 0:n.email)||(null===n||void 0===n?void 0:n.name)||null)}}catch(s5){}t[e]=null}catch(s5){t[e]=null}})),e&&m(e=>(0,o.A)((0,o.A)({},e),t))})(),()=>{e=!1}},[n,c]),(0,Re.jsxs)("div",{className:"recent-activities-card w-full ".concat(t?"lg:w-full":""," overflow-hidden rounded-3xl bg-white/90 backdrop-blur ring-1 ring-gray-200 px-4 py-4 shadow-sm sm:p-6 min-w-0 dark:bg-slate-900/70 dark:ring-slate-800"),children:[(0,Re.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Recent activities"}),(0,Re.jsx)("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Timeline of recent actions"})]}),(0,Re.jsx)(Qn,{to:"/audit",className:"text-xs text-sky-700 hover:underline self-start",children:"View all"})]}),(0,Re.jsxs)("div",{className:"max-h-[520px] overflow-auto",children:[0===f.length&&(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400 p-4",children:"No recent activity"}),(0,Re.jsx)("div",{className:"space-y-3",children:f.map(e=>{const t=e.byEmail||e.byName||p[e.by]||e.by||"Unknown",n=e.byRole||e.role||"",i=(t||"U").charAt(0).toUpperCase(),s=function(e){const t=(e||"").toLowerCase();return t.includes("income")?{label:(e||"").replace(/_/g," "),border:"border-l-4 border-green-500",badgeBg:"bg-green-100",badgeText:"text-green-800",cardBg:"bg-green-50",cardBgDark:"bg-green-900/20"}:t.includes("expense")?{label:(e||"").replace(/_/g," "),border:"border-l-4 border-red-500",badgeBg:"bg-red-100",badgeText:"text-red-800",cardBg:"bg-red-50",cardBgDark:"bg-red-900/20"}:t.includes("approve")||t.includes("approval")?{label:(e||"").replace(/_/g," "),border:"border-l-4 border-sky-500",badgeBg:"bg-sky-100",badgeText:"text-sky-800",cardBg:"bg-sky-50",cardBgDark:"bg-sky-900/20"}:{label:(e||"").replace(/_/g," "),border:"border-l-4 border-gray-200",badgeBg:"bg-gray-100",badgeText:"text-gray-800",cardBg:"bg-white/60",cardBgDark:"bg-slate-900/60"}}(e.action),c=function(e){const t=(e||"").toLowerCase();return t.includes("income")?"incomes":t.includes("expense")?"expenses":t.includes("project")?"projects":t.includes("funder")?"funders":null}(e.action);return(0,Re.jsx)("div",{className:"".concat(s.border," rounded-2xl ").concat(s.cardBg," dark:").concat(s.cardBgDark," p-3 shadow-sm hover:shadow-md transition transform-gpu"),children:(0,Re.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Re.jsx)("div",{className:"flex-shrink-0",children:(0,Re.jsx)("div",{className:"h-10 w-10 rounded-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white font-semibold",children:i})}),(0,Re.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsx)("span",{className:"px-3 py-0.5 rounded-full text-xs font-semibold ".concat(s.badgeBg," ").concat(s.badgeText),children:s.label}),(0,Re.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100 truncate",children:t})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("div",{className:"text-xs text-gray-400 dark:text-slate-500",children:MK(e.at)}),(0,Re.jsx)(OK,{children:(0,Re.jsx)("button",{title:"Delete activity",onClick:()=>{return t={title:"Delete activity",message:c&&e.refId?"Delete the referenced ".concat(c.replace(/s$/,"")," (id: ").concat(e.refId,") or just remove this activity?"):"Remove this activity from the timeline?",hasItem:Boolean(c&&e.refId),onConfirm:async t=>{try{if("log"===t){a(e.id);const t=setTimeout(()=>{try{l(e.id)}catch(s5){console.error(s5)}x(t=>t.filter(t=>t.id!==e.id))},h);return x(n=>[...n,{id:e.id,timer:t}]),void b()}if(("item"===t||"both"===t)&&c&&e.refId&&await r(c,e.refId),"both"===t){a(e.id);const t=setTimeout(()=>{try{l(e.id)}catch(s5){console.error(s5)}x(t=>t.filter(t=>t.id!==e.id))},h);x(n=>[...n,{id:e.id,timer:t}])}}catch(n){console.error("delete failed",n)}b()}},void v((0,o.A)({open:!0},t));var t},className:"h-8 w-8 rounded-full flex items-center justify-center bg-white shadow-sm text-rose-600 hover:bg-rose-50 dark:bg-slate-800 dark:text-rose-400",children:(0,Re.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18M8 6v12a2 2 0 002 2h4a2 2 0 002-2V6m-5 2v8"})})})}),null!==d&&void 0!==d&&d.id&&d.id===e.by||"admin"===u?(0,Re.jsx)("button",{title:"Remove activity",onClick:async()=>{if(window.confirm("Remove this activity from the timeline? You can undo for 6 seconds."))try{a(e.id);const t=setTimeout(()=>{try{l(e.id)}catch(s5){console.error(s5)}x(t=>t.filter(t=>t.id!==e.id))},h);x(n=>[...n,{id:e.id,timer:t}])}catch(t){console.error("remove activity failed",t);try{window.alert("Failed to remove activity")}catch(n){}}},className:"h-7 w-7 rounded-md flex items-center justify-center text-gray-500 hover:bg-gray-100 dark:hover:bg-slate-800",children:(0,Re.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M1 7h22M10 3h4a1 1 0 011 1v2H9V4a1 1 0 011-1z"})})}):null]})]}),(0,Re.jsxs)("div",{className:"mt-1 text-xs text-gray-500 dark:text-slate-400 flex items-center justify-between",children:[(0,Re.jsx)("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:n||"\u2014"}),(0,Re.jsx)("span",{className:"text-[12px] text-gray-400",children:e.refId?"ref: ".concat(e.refId):""})]})]})]})},e.id)})})]}),g.open&&(0,Re.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:b}),(0,Re.jsxs)("div",{className:"relative bg-white dark:bg-slate-900 rounded-xl shadow-lg max-w-md w-full p-6",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:g.title}),(0,Re.jsx)("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-2",children:g.message}),(0,Re.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,Re.jsx)("button",{className:"px-3 py-2 rounded-md bg-white border border-gray-200 text-sm text-gray-700 hover:bg-gray-50",onClick:b,children:"Cancel"}),g.hasItem?(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)("button",{className:"px-3 py-2 rounded-md bg-rose-600 text-sm text-white",onClick:()=>g.onConfirm("log"),children:"Delete activity"}),(0,Re.jsx)("button",{className:"px-3 py-2 rounded-md bg-yellow-500 text-sm text-white",onClick:()=>g.onConfirm("item"),children:"Delete referenced item"}),(0,Re.jsx)("button",{className:"px-3 py-2 rounded-md bg-red-700 text-sm text-white",onClick:()=>g.onConfirm("both"),children:"Delete both"})]}):(0,Re.jsx)("button",{className:"px-3 py-2 rounded-md bg-rose-600 text-sm text-white",onClick:()=>g.onConfirm("log"),children:"Delete activity"})]})]})]}),y.length>0&&(0,Re.jsx)("div",{className:"fixed right-4 bottom-4 z-50 space-y-2",children:y.map(e=>(0,Re.jsxs)("div",{className:"flex items-center gap-3 bg-white rounded-md px-3 py-2 shadow ring-1 ring-slate-200 dark:bg-slate-800 dark:ring-slate-700",children:[(0,Re.jsx)("div",{className:"text-sm text-slate-700 dark:text-slate-100",children:"Activity removed"}),(0,Re.jsx)("button",{onClick:()=>{clearTimeout(e.timer),s(e.id),x(t=>t.filter(t=>t.id!==e.id))},className:"text-sm text-sky-700 hover:underline",children:"Undo"})]},e.id))})]})}function RK(e){let{segments:t=[],className:n="",height:r=10,animateSequence:a=!0,duration:s=600,stagger:o=120}=e;const[l,c]=(0,i.useState)(()=>t.map(()=>0)),u=(0,i.useRef)([]),d=(0,i.useRef)([]);return(0,i.useEffect)(()=>{u.current.forEach(e=>clearTimeout(e)),u.current=[];const e=t.map(e=>Math.max(0,Math.min(100,Number(e.percent)||0)));if(c(e=>t.map((t,n)=>"number"===typeof e[n]?e[n]:0)),a)e.forEach((e,t)=>{const n=setTimeout(()=>{c(n=>{const r=[...n];return r[t]=e,r})},t*o+20);u.current.push(n)});else{const t=setTimeout(()=>c(e),20);u.current.push(t)}return d.current=e,()=>{u.current.forEach(e=>clearTimeout(e)),u.current=[]}},[t,a,o]),(0,Re.jsxs)("div",{className:"progressive-bar-container ".concat(n),style:{height:r},role:"progressbar","aria-valuemin":0,"aria-valuemax":100,children:[(0,Re.jsx)("div",{className:"progressive-bar-track",style:{height:r},children:t.map((e,t)=>{var n;const r=null!==(n=l[t])&&void 0!==n?n:0,i=e.leftRounded?"0.75rem":0,a=e.rightRounded?"0.75rem":0,o="width ".concat(s,"ms cubic-bezier(.2,.9,.2,1), filter 160ms");return(0,Re.jsx)("div",{className:"progressive-bar-segment",title:"".concat(e.key||"",": ").concat(Math.round(Number(e.percent||0)),"%"),style:{width:"".concat(r,"%"),background:e.background||"#000",borderTopLeftRadius:i,borderBottomLeftRadius:i,borderTopRightRadius:a,borderBottomRightRadius:a,transition:o,display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.95)",fontSize:"11px",fontWeight:600,overflow:"hidden",whiteSpace:"nowrap"},children:r>8?"".concat(Math.round(r),"%"):null},e.key||t)})}),(0,Re.jsx)("style",{children:"\n        .progressive-bar-container { width: 100%; border-radius: 0.75rem; overflow: hidden; }\n        .progressive-bar-track { width: 100%; background: rgba(15,23,42,0.04); display: flex; align-items: center; border-radius: 0.75rem; overflow: hidden; }\n        .progressive-bar-segment { height: 100%; }\n        .progressive-bar-container:hover .progressive-bar-segment { filter: brightness(1.06); }\n      "})]})}const LK=()=>{const[e,t]=(0,i.useState)("6M"),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)("available"),[c,u]=(0,i.useState)(!1),{currency:d}=wl(),{stats:h=[],fundingRows:f={rows:[]},byFunder:p=[],byProject:m=[],seriesMap:g={}}=Ol(),v=e=>window.location.pathname.includes("/app/dashboard/".concat(e));return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Dashboard"}),(0,Re.jsxs)("nav",{className:"mt-2 flex space-x-3",children:[(0,Re.jsx)(Qn,{to:"/app/dashboard/overview",className:"px-3 py-1 rounded-md text-sm ".concat(v("overview")?"button-brand":"text-gray-600 bg-white border border-gray-100 dark:text-slate-300 dark:bg-slate-800 dark:border-slate-700"),children:"Overview"}),(0,Re.jsx)(Qn,{to:"/app/dashboard/funders",className:"px-3 py-1 rounded-md text-sm ".concat(v("funders")?"button-brand":"text-gray-600 bg-white border border-gray-100 dark:text-slate-300 dark:bg-slate-800 dark:border-slate-700"),children:"Funders"}),(0,Re.jsx)(Qn,{to:"/app/dashboard/projects",className:"px-3 py-1 rounded-md text-sm ".concat(v("projects")?"button-brand":"text-gray-600 bg-white border border-gray-100 dark:text-slate-300 dark:bg-slate-800 dark:border-slate-700"),children:"Projects"})]})]})}),v("overview")&&(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 min-w-0",children:h.map(e=>FO?(0,Re.jsx)(FO,{title:e.name,value:e.value,rawValue:e.raw,variant:e.variant,series:g[e.name]},e.name):(0,Re.jsx)("div",{className:"p-4 rounded bg-red-50 text-red-700",children:"StatCard missing"},e.name))}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-3 min-w-0 mt-6",children:[(0,Re.jsx)("div",{className:"lg:col-span-2 min-w-0",children:mB?(0,Re.jsx)(mB,{}):(0,Re.jsx)("div",{className:"p-4",children:"FundsChart missing"})}),(0,Re.jsx)("div",{className:"overflow-hidden rounded-2xl bg-white/90 backdrop-blur-sm ring-1 ring-gray-200/50 shadow-sm hover:shadow-md transition-all duration-300 dark:bg-slate-900/80 dark:ring-slate-700/50",children:(0,Re.jsxs)("div",{className:"px-5 pt-5 pb-3",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Funding Sources"}),(0,Re.jsx)("div",{className:"flex space-x-1 p-0.5 bg-gray-100 dark:bg-slate-800 rounded-lg",children:["income","expenses","available"].map(e=>(0,Re.jsx)("button",{onClick:()=>l(e),className:"px-3 py-1 text-xs font-medium rounded-md transition-colors ".concat(o===e?"bg-white dark:bg-slate-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-slate-400 dark:hover:text-slate-200"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),0===f.rows.length?(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400 text-center py-4",children:"No funding sources available"}):(0,Re.jsxs)("div",{className:"space-y-4",children:[f.rows.slice(0,c?f.rows.length:5).map(e=>{const t=Number(e[f.metric]||0),n=(Math.round(Math.abs(t)/(f.maxVal||1)*100),"available"===f.metric&&t<0),r=Math.abs(e.income)+Math.abs(e.expenses)+Math.abs(e.available),i=r>0?Math.abs(e.income)/r*100:0,a=r>0?Math.abs(e.expenses)/r*100:0,s=r>0?Math.abs(e.available)/r*100:0,o=n?"linear-gradient(90deg, #EF4444, #FB7185)":"linear-gradient(90deg, #3B82F6, #8B5CF6)";return(0,Re.jsxs)("div",{className:"group",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Re.jsx)("div",{className:"flex-1 min-w-0",children:(0,Re.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-slate-100 truncate",title:e.funder.name,children:e.funder.name})}),(0,Re.jsx)("div",{className:"ml-2 text-right text-sm font-semibold whitespace-nowrap ".concat(n?"text-rose-600 dark:text-rose-400":"text-gray-700 dark:text-slate-200"),children:Al(t,d)})]}),(0,Re.jsx)("div",{className:"relative",children:(0,Re.jsx)(RK,{height:10,segments:[{key:"income",percent:i,background:"linear-gradient(90deg, #10B981, #34D399)",leftRounded:!0,rightRounded:i>=100},{key:"expenses",percent:a,background:"linear-gradient(90deg, #EF4444, #F97316)",leftRounded:i<=0,rightRounded:i+a>=100},{key:"available",percent:s,background:o,leftRounded:i+a<=0,rightRounded:!0}]})})]},e.funder.id)}),f.rows.length>5&&(0,Re.jsx)("button",{onClick:()=>u(!c),className:"w-full py-2 text-xs font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200 mt-2",children:c?"Show less":"Show all ".concat(f.rows.length," sources")})]})]})})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-3 mt-6 min-w-0",children:[(0,Re.jsx)("div",{className:"lg:col-span-2 min-w-0",children:CH?(0,Re.jsx)(CH,{timeRange:e,compact:!0}):(0,Re.jsx)("div",{className:"p-4",children:"ProjectExpensesStackedBar missing"})}),(0,Re.jsx)("div",{children:CK?(0,Re.jsx)(CK,{compact:!0}):(0,Re.jsx)("div",{className:"p-4",children:"ExpensePieChart missing"})})]}),(0,Re.jsx)("div",{className:"mt-8",children:DK?(0,Re.jsx)(DK,{full:!0}):(0,Re.jsx)("div",{className:"p-4",children:"RecentActivities missing"})})]}),v("funders")&&(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold",children:"Funders"}),(0,Re.jsx)("div",{className:"pt-2",children:(0,Re.jsx)("input",{value:n,onChange:e=>r(e.target.value),placeholder:"Search funders",className:"w-full px-3 py-2 rounded-md ring-1 ring-gray-200 bg-white text-sm placeholder:text-gray-400 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700"})}),(0,Re.jsx)("div",{className:"mt-4",children:(0,Re.jsx)(IK,{timeRange:e})}),(p||[]).filter(e=>!n||(e.funder.name||"").toLowerCase().includes(n.toLowerCase())).length?(0,Re.jsx)("div",{className:"grid grid-cols-1 gap-3",children:(p||[]).filter(e=>!n||(e.funder.name||"").toLowerCase().includes(n.toLowerCase())).map(e=>(0,Re.jsxs)("div",{className:"rounded-lg border border-gray-200 p-4 bg-white flex justify-between items-center gap-3 min-w-0 dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100",children:[(0,Re.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900 truncate dark:text-slate-100",title:e.funder.name,children:e.funder.name}),(0,Re.jsxs)("div",{className:"text-sm text-gray-500 dark:text-slate-300",children:["Allocation: ",Al(e.allocation,d)]}),(0,Re.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-1",children:[(0,Re.jsx)("span",{children:"Budget Used"}),(0,Re.jsxs)("span",{className:"font-medium",children:[Math.round(e.used/e.allocation*100),"%"]})]}),(0,Re.jsx)("div",{className:"h-2 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:(0,Re.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-500 ease-out",style:{width:"".concat(Math.min(e.used/e.allocation*100,100),"%"),minWidth:"4px"}})})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-1",children:[(0,Re.jsx)("span",{children:"Expense Ratio"}),(0,Re.jsxs)("span",{className:"font-medium",children:[e.income>0?Math.round(e.expenses/e.income*100):0,"%"]})]}),(0,Re.jsx)("div",{className:"h-2 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:(0,Re.jsx)("div",{className:"h-full bg-gradient-to-r from-amber-400 to-amber-600 transition-all duration-500 ease-out",style:{width:"".concat(Math.min(e.expenses/(e.income||1)*100,100),"%"),minWidth:"4px"}})})]})]})]}),(0,Re.jsx)("div",{className:"text-right text-sm text-gray-700 dark:text-slate-200 font-semibold whitespace-nowrap overflow-hidden text-ellipsis",title:Al(e.available,d),children:Al(e.available,d)})]},e.funder.id))}):(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No funders match your search."})]}),v("projects")&&(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold",children:"Projects"}),(0,Re.jsx)("div",{className:"pt-2",children:(0,Re.jsx)("input",{value:a,onChange:e=>s(e.target.value),placeholder:"Search projects",className:"w-full px-3 py-2 rounded-md ring-1 ring-gray-200 bg-white text-sm placeholder:text-gray-400 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700"})}),(0,Re.jsxs)("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Re.jsx)(CH,{timeRange:e,compact:!0}),(0,Re.jsx)(CK,{compact:!0})]}),(m||[]).filter(e=>!a||(e.project.name||"").toLowerCase().includes(a.toLowerCase())).length?(0,Re.jsx)("div",{className:"grid grid-cols-1 gap-3",children:(m||[]).filter(e=>!a||(e.project.name||"").toLowerCase().includes(a.toLowerCase())).map(e=>(0,Re.jsxs)("div",{className:"rounded-lg border border-gray-200 p-4 bg-white flex justify-between items-center gap-3 min-w-0 dark:bg-slate-900/70 dark:border-slate-800 dark:text-slate-100",children:[(0,Re.jsxs)("div",{className:"min-w-0",children:[(0,Re.jsx)("div",{className:"font-medium text-gray-900 truncate dark:text-slate-100",title:e.project.name,children:e.project.name}),(0,Re.jsxs)("div",{className:"text-sm text-gray-500 dark:text-slate-300",children:["Budget: ",Al(Number(e.project.allocation||0),d)]})]}),(0,Re.jsxs)("div",{className:"text-right text-sm text-gray-700 dark:text-slate-200 font-semibold whitespace-nowrap overflow-hidden text-ellipsis",title:Al(e.available,d),children:["Available: ",Al(e.available,d)]})]},e.project.id))}):(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No projects match your search."})]})]})},FK=["label","id","error","className"],zK=(0,i.forwardRef)((e,t)=>{let{label:n,id:r,error:i,className:a=""}=e,s=ze(e,FK);return(0,Re.jsxs)("div",{className:"form-field mb-4 ".concat(a),children:[n&&(0,Re.jsx)("label",{htmlFor:r,className:"form-label block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:n}),(0,Re.jsx)("input",(0,o.A)({id:r,ref:t,className:"form-control w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus-ring-brand ring-1 ring-gray-100 dark:ring-0\n          ".concat(i?"border-red-500":"border-gray-300","\n          bg-white text-gray-900 placeholder:text-gray-400\n          dark:bg-slate-800 dark:text-slate-100 dark:placeholder:text-slate-400 dark:border-slate-700")},s)),i&&(0,Re.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-rose-300",children:i})]})});zK.displayName="FormInput";const VK=zK;function BK(e){let{className:t="",children:n}=e;return(0,Re.jsx)("div",{className:"bg-white/90 backdrop-blur rounded-2xl border border-slate-200 shadow-sm ".concat(t," dark:bg-slate-900/70 dark:border-slate-800 dark:shadow-none"),children:n})}function UK(e){let{className:t="",children:n}=e;return(0,Re.jsx)("div",{className:"px-5 py-4 border-b border-slate-100 flex items-center justify-between ".concat(t," dark:border-slate-800"),children:n})}function WK(e){let{children:t,className:n=""}=e;return(0,Re.jsx)("h3",{className:"text-base md:text-lg font-semibold text-slate-900 dark:text-slate-100 ".concat(n),children:t})}function HK(e){let{className:t="",children:n}=e;return(0,Re.jsx)("div",{className:"p-5 ".concat(t," dark:text-slate-100"),children:n})}const KK={primary:"bg-sky-700 hover:bg-sky-800 text-white shadow-sm",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-800 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-100",success:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-sm",danger:"bg-rose-600 hover:bg-rose-700 text-white shadow-sm",outline:"bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100 dark:hover:bg-slate-700"},qK={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5"};function GK(e){let{children:t,className:n="",variant:r="primary",size:i="md",type:a="button",disabled:s=!1,onClick:o}=e;const l=["inline-flex items-center rounded-md transition-colors duration-150 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",KK[r]||KK.primary,qK[i]||qK.md,n].filter(Boolean).join(" ");return(0,Re.jsx)("button",{type:a,onClick:o,className:l,disabled:s,children:t})}const YK=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),{login:c}=yl(),u=Ht(),{search:d}=window.location,h=new URLSearchParams(d).get("redirect")||"/";return(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-neutral-base bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-50 via-white to-blue-100 py-12 px-4 sm:px-6 lg:px-8 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:(0,Re.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-gray-900 dark:text-slate-100",children:"Sign in to your account"}),(0,Re.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-slate-300",children:["Or"," ",(0,Re.jsx)(Qn,{to:"/register",className:"font-medium brand-text hover:underline",children:"create a new account"})]})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Sign in"})}),(0,Re.jsxs)(HK,{children:[a&&(0,Re.jsx)("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4 dark:bg-rose-900/20 dark:border-rose-700",children:(0,Re.jsxs)("div",{className:"flex",children:[(0,Re.jsx)("div",{className:"flex-shrink-0",children:(0,Re.jsx)("svg",{className:"h-5 w-5 text-amber-500 dark:text-amber-300",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Re.jsx)("div",{className:"ml-3",children:(0,Re.jsx)("p",{className:"text-sm text-red-700 dark:text-rose-300",children:a})})]})}),(0,Re.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),s(""),e&&n)try{l(!0);const{success:t,error:r}=await c(e,n);t?u(h||"/"):s(r||"Failed to log in. Please check your credentials.")}catch(r){s("An error occurred. Please try again."),console.error("Login error:",r)}finally{l(!1)}else s("Please fill in all fields")},children:[(0,Re.jsx)(VK,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,label:"Email address",value:e,onChange:e=>t(e.target.value)}),(0,Re.jsx)(VK,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,label:"Password",value:n,onChange:e=>r(e.target.value)}),(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 brand-emerald focus:ring-0 border-gray-300 rounded dark:border-slate-600"}),(0,Re.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900 dark:text-slate-100",children:"Remember me"})]}),(0,Re.jsx)("div",{className:"text-sm",children:(0,Re.jsx)(Qn,{to:"/forgot",className:"font-medium brand-text hover:underline dark:text-slate-200",children:"Forgot your password?"})})]}),(0,Re.jsx)("div",{children:(0,Re.jsx)(GK,{type:"submit",disabled:o,className:"w-full justify-center",variant:"primary",children:o?"Signing in...":"Sign in"})})]})]})]})]})})};function QK(e,t){-1===e.indexOf(t)&&e.push(t)}function XK(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $K{constructor(){this.subscriptions=[]}add(e){return QK(this.subscriptions,e),()=>XK(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function JK(e,t){return t?e*(1e3/t):0}const ZK={},eq=e=>e,tq=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],nq={value:null,addProjectionMetrics:null};function rq(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=tq.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{o=e,i?a=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&nq.value&&nq.value.frameloop[t].push(l),l=0,n.clear(),i=!1,a&&(a=!1,u.process(e)))}};return u}(a,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=s,m=()=>{const a=ZK.useManualTiming?i.timestamp:performance.now();n=!1,ZK.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1)),i.timestamp=a,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=tq.reduce((t,a)=>{const o=s[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(m)),o.schedule(t,a,s)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<tq.length;t++)s[tq[t]].cancel(e)},state:i,steps:s}}const{schedule:iq,cancel:aq,state:sq,steps:oq}=rq("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:eq,!0);let lq;function cq(){lq=void 0}const uq={now:()=>(void 0===lq&&uq.set(sq.isProcessing||ZK.useManualTiming?sq.timestamp:performance.now()),lq),set:e=>{lq=e,queueMicrotask(cq)}},dq={current:void 0};class hq{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=uq.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=uq.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new $K);const n=this.events[e].add(t);return"change"===e?()=>{n(),iq.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return dq.current&&dq.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=uq.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return JK(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fq(e,t){return new hq(e,t)}function pq(e,t){let n;const r=()=>{const{currentTime:r}=t,i=(null===r?0:r.value)/100;n!==i&&e(i),n=i};return iq.preUpdate(r,!0),()=>aq(r)}function mq(e){let t;return()=>(void 0===t&&(t=e()),t)}const gq=mq(()=>void 0!==window.ScrollTimeline);function vq(e){return"object"===typeof e&&null!==e}function yq(e){return vq(e)&&"ownerSVGElement"in e}function xq(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const a=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const bq=new WeakMap;let wq;const kq=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+"Size"]:yq(r)&&"getBBox"in r?r.getBBox()[t]:r[n],_q=kq("inline","width","offsetWidth"),Sq=kq("block","height","offsetHeight");function Aq(e){var t;let{target:n,borderBoxSize:r}=e;null===(t=bq.get(n))||void 0===t||t.forEach(e=>{e(n,{get width(){return _q(n,r)},get height(){return Sq(n,r)}})})}function Eq(e){e.forEach(Aq)}function jq(e,t){wq||"undefined"!==typeof ResizeObserver&&(wq=new ResizeObserver(Eq));const n=xq(e);return n.forEach(e=>{var n;let r=bq.get(e);r||(r=new Set,bq.set(e,r)),r.add(t),null===(n=wq)||void 0===n||n.observe(e)}),()=>{n.forEach(e=>{const n=bq.get(e);var r;(null===n||void 0===n||n.delete(t),null!==n&&void 0!==n&&n.size)||(null===(r=wq)||void 0===r||r.unobserve(e))})}}const Cq=new Set;let Nq;function Pq(e){return Cq.add(e),Nq||(Nq=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Cq.forEach(t=>t(e))},window.addEventListener("resize",Nq)),()=>{Cq.delete(e),Cq.size||"function"!==typeof Nq||(window.removeEventListener("resize",Nq),Nq=void 0)}}const Tq=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Iq={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Oq(e,t,n,r){const i=n[t],{length:a,position:s}=Iq[t],o=i.current,l=n.time;i.current=e["scroll".concat(s)],i.scrollLength=e["scroll".concat(a)]-e["client".concat(a)],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Tq(0,i.scrollLength,i.current);const c=r-l;i.velocity=c>50?0:JK(i.current-o,c)}const Mq=(e,t)=>n=>t(e(n)),Dq=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Mq)},Rq=(e,t,n)=>n>t?t:n<e?e:n,Lq=e=>t=>"string"===typeof t&&t.startsWith(e),Fq=Lq("--"),zq=Lq("var(--"),Vq=e=>!!zq(e)&&Bq.test(e.split("/*")[0].trim()),Bq=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,Uq={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Wq=(0,o.A)((0,o.A)({},Uq),{},{transform:e=>Rq(0,1,e)}),Hq=(0,o.A)((0,o.A)({},Uq),{},{default:1}),Kq=e=>Math.round(1e5*e)/1e5,qq=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Gq=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Yq=(e,t)=>n=>Boolean("string"===typeof n&&Gq.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Qq=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,a,s,o]=r.match(qq);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},Xq=(0,o.A)((0,o.A)({},Uq),{},{transform:e=>Math.round((e=>Rq(0,255,e))(e))}),$q={test:Yq("rgb","red"),parse:Qq("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Xq.transform(t)+", "+Xq.transform(n)+", "+Xq.transform(r)+", "+Kq(Wq.transform(i))+")"}};const Jq={test:Yq("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:$q.transform},Zq=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),eG=Zq("deg"),tG=Zq("%"),nG=Zq("px"),rG=Zq("vh"),iG=Zq("vw"),aG=(()=>(0,o.A)((0,o.A)({},tG),{},{parse:e=>tG.parse(e)/100,transform:e=>tG.transform(100*e)}))(),sG={test:Yq("hsl","hue"),parse:Qq("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+tG.transform(Kq(n))+", "+tG.transform(Kq(r))+", "+Kq(Wq.transform(i))+")"}},oG={test:e=>$q.test(e)||Jq.test(e)||sG.test(e),parse:e=>$q.test(e)?$q.parse(e):sG.test(e)?sG.parse(e):Jq.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?$q.transform(e):sG.transform(e),getAnimatableNone:e=>{const t=oG.parse(e);return t.alpha=0,oG.transform(t)}},lG=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const cG="number",uG="color",dG=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function hG(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const s=t.replace(dG,e=>(oG.test(e)?(r.color.push(a),i.push(uG),n.push(oG.parse(e))):e.startsWith("var(")?(r.var.push(a),i.push("var"),n.push(e)):(r.number.push(a),i.push(cG),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:s,indexes:r,types:i}}function fG(e){return hG(e).values}function pG(e){const{split:t,types:n}=hG(e),r=t.length;return e=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],void 0!==e[a]){const t=n[a];i+=t===cG?Kq(e[a]):t===uG?oG.transform(e[a]):e[a]}return i}}const mG=e=>"number"===typeof e?0:oG.test(e)?oG.getAnimatableNone(e):e;const gG={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(qq))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(lG))||void 0===n?void 0:n.length)||0)>0},parse:fG,createTransformer:pG,getAnimatableNone:function(e){const t=fG(e);return pG(e)(t.map(mG))}};function vG(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yG(e,t){return n=>n>0?t:e}const xG=(e,t,n)=>e+(t-e)*n,bG=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},wG=[Jq,$q,sG];function kG(e){const t=(n=e,wG.find(e=>e.test(n)));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===sG&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let a=0,s=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;a=vG(i,e,t+1/3),s=vG(i,e,t),o=vG(i,e,t-1/3)}else a=s=o=r;return{red:Math.round(255*a),green:Math.round(255*s),blue:Math.round(255*o),alpha:i}}(r)),r}const _G=(e,t)=>{const n=kG(e),r=kG(t);if(!n||!r)return yG(e,t);const i=(0,o.A)({},n);return e=>(i.red=bG(n.red,r.red,e),i.green=bG(n.green,r.green,e),i.blue=bG(n.blue,r.blue,e),i.alpha=xG(n.alpha,r.alpha,e),$q.transform(i))},SG=new Set(["none","hidden"]);function AG(e,t){return n=>xG(e,t,n)}function EG(e){return"number"===typeof e?AG:"string"===typeof e?Vq(e)?yG:oG.test(e)?_G:NG:Array.isArray(e)?jG:"object"===typeof e?oG.test(e)?_G:CG:yG}function jG(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>EG(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function CG(e,t){const n=(0,o.A)((0,o.A)({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=EG(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const NG=(e,t)=>{const n=gG.createTransformer(t),r=hG(e),i=hG(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?SG.has(e)&&!i.values.length||SG.has(t)&&!r.values.length?function(e,t){return SG.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Dq(jG(function(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){var i;const s=t.types[a],o=e.indexes[s][r[s]],l=null!==(i=e.values[o])&&void 0!==i?i:0;n[a]=l,r[s]++}return n}(r,i),i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),yG(e,t))};function PG(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return xG(e,t,n);return EG(e)(e,t)}function TG(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||ZK.mix||PG,a=e.length-1;for(let s=0;s<a;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||eq:t;n=Dq(e,n)}r.push(n)}return r}(t,r,i),l=o.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=Tq(e[r],e[r+1],n);return o[r](i)};return n?t=>c(Rq(e[0],e[a-1],t)):c}function IG(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Tq(0,t,r);e.push(xG(n,1,i))}}(t,e.length-1),t}function OG(e){return vq(e)&&"offsetHeight"in e}const MG={start:0,center:.5,end:1};function DG(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;if(e in MG&&(e=MG[e]),"string"===typeof e){const t=parseFloat(e);e.endsWith("px")?r=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?r=t/100*document.documentElement.clientWidth:e.endsWith("vh")?r=t/100*document.documentElement.clientHeight:e=t}return"number"===typeof e&&(r=t*e),n+r}const RG=[0,0];function LG(e,t,n,r){let i=Array.isArray(e)?e:RG,a=0,s=0;return"number"===typeof e?i=[e,e]:"string"===typeof e&&(i=(e=e.trim()).includes(" ")?e.split(" "):[e,MG[e]?e:"0"]),a=DG(i[0],n,r),s=DG(i[1],t),a-s}const FG={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},zG={x:0,y:0};function VG(e,t,n){const{offset:r=FG.All}=n,{target:i=e,axis:a="y"}=n,s="y"===a?"height":"width",o=i!==e?function(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(OG(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if("svg"===r.tagName){const e=r.getBoundingClientRect();r=r.parentElement;const t=r.getBoundingClientRect();n.x+=e.left-t.left,n.y+=e.top-t.top}else{if(!(r instanceof SVGGraphicsElement))break;{const{x:e,y:t}=r.getBBox();n.x+=e,n.y+=t;let i=null,a=r.parentNode;for(;!i;)"svg"===a.tagName&&(i=a),a=r.parentNode;r=i}}return n}(i,e):zG,l=i===e?{width:e.scrollWidth,height:e.scrollHeight}:function(e){return"getBBox"in e&&"svg"!==e.tagName?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}(i),c={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let u=!t[a].interpolate;const d=r.length;for(let h=0;h<d;h++){const e=LG(r[h],c[s],l[s],o[a]);u||e===t[a].interpolatorOffsets[h]||(u=!0),t[a].offset[h]=e}u&&(t[a].interpolate=TG(t[a].offset,IG(r),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=Rq(0,1,t[a].interpolate(t[a].current))}function BG(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{measure:t=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0;if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}(e,r.target,n),function(e,t,n){Oq(e,"x",t,n),Oq(e,"y",t,n),t.time=n}(e,n,t),(r.offset||r.target)&&VG(e,n,r)},notify:()=>t(n)}}const UG=["container"],WG=new WeakMap,HG=new WeakMap,KG=new WeakMap,qG=e=>e===document.scrollingElement?window:e;function GG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{container:n=document.scrollingElement}=t,r=ze(t,UG);if(!n)return eq;let i=KG.get(n);i||(i=new Set,KG.set(n,i));const a=BG(n,e,{time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}},r);if(i.add(a),!WG.has(n)){const e=()=>{for(const e of i)e.measure(sq.timestamp);iq.preUpdate(t)},t=()=>{for(const e of i)e.notify()},r=()=>iq.read(e);WG.set(n,r);const a=qG(n);window.addEventListener("resize",r,{passive:!0}),n!==document.documentElement&&HG.set(n,function(e,t){return"function"===typeof e?Pq(e):jq(e,t)}(n,r)),a.addEventListener("scroll",r,{passive:!0}),r()}const s=WG.get(n);return iq.read(s,!1,!0),()=>{aq(s);const e=KG.get(n);if(!e)return;if(e.delete(a),e.size)return;const t=WG.get(n);var r;(WG.delete(n),t)&&(qG(n).removeEventListener("scroll",t),null===(r=HG.get(n))||void 0===r||r(),window.removeEventListener("resize",t))}}const YG=["source","container"],QG=new Map;function XG(e){var t,n,r,i;let{source:a,container:s}=e,l=ze(e,YG);const{axis:c}=l;a&&(s=a);const u=null!==(t=QG.get(s))&&void 0!==t?t:new Map;QG.set(s,u);const d=null!==(n=l.target)&&void 0!==n?n:"self",h=null!==(r=u.get(d))&&void 0!==r?r:{},f=c+(null!==(i=l.offset)&&void 0!==i?i:[]).join(",");return h[f]||(h[f]=!l.target&&gq()?new ScrollTimeline({source:s,axis:c}):function(e){const t={value:0},n=GG(n=>{t.value=100*n[e.axis].progress},e);return{currentTime:t,cancel:n}}((0,o.A)({container:s},l))),h[f]}const $G=["axis","container"];function JG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{axis:n="y",container:r=document.scrollingElement}=t,i=ze(t,$G);if(!r)return eq;const a=(0,o.A)({axis:n,container:r},i);return"function"===typeof e?function(e,t){return function(e){return 2===e.length}(e)?GG(n=>{e(n[t.axis].progress,n)},t):pq(e,XG(t))}(e,a):function(e,t){const n=XG(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:e=>(e.pause(),pq(t=>{e.time=e.iterationDuration*t},n))})}(e,a)}function ZG(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const eY="undefined"!==typeof window,tY=eY?i.useLayoutEffect:i.useEffect,nY=["container","target"],rY=()=>({scrollX:fq(0),scrollY:fq(0),scrollXProgress:fq(0),scrollYProgress:fq(0)}),iY=e=>!!e&&!e.current;const aY={current:null},sY={current:!1};function oY(){if(sY.current=!0,eY)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>aY.current=e.matches;e.addEventListener("change",t),t()}else aY.current=!1}function lY(){!sY.current&&oY();const[e]=(0,i.useState)(aY.current);return e}const cY=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function uY(e,t){const n=function(e){const t=ZG(()=>fq(e)),{isStatic:n}=(0,i.useContext)(cY);if(n){const[,n]=(0,i.useState)(e);(0,i.useEffect)(()=>t.on("change",n),[])}return t}(t()),r=()=>n.set(t());return r(),tY(()=>{const t=()=>iq.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),aq(r)}}),n}function dY(e,t,n,r){if("function"===typeof e)return function(e){dq.current=[],e();const t=uY(dq.current,e);return dq.current=void 0,t}(e);const i="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],r=TG(1+t<0||arguments.length<=1+t?void 0:arguments[1+t],2+t<0||arguments.length<=2+t?void 0:arguments[2+t],3+t<0||arguments.length<=3+t?void 0:arguments[3+t]);return e?r(n):r}(t,n,r);return Array.isArray(e)?hY(e,i):hY([e],e=>{let[t]=e;return i(t)})}function hY(e,t){const n=ZG(()=>[]);return uY(e,()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}const fY=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pY=(()=>new Set(fY))(),mY=e=>180*e/Math.PI,gY=e=>{const t=mY(Math.atan2(e[1],e[0]));return yY(t)},vY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:gY,rotateZ:gY,skewX:e=>mY(Math.atan(e[1])),skewY:e=>mY(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},yY=e=>((e%=360)<0&&(e+=360),e),xY=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),bY=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),wY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xY,scaleY:bY,scale:e=>(xY(e)+bY(e))/2,rotateX:e=>yY(mY(Math.atan2(e[6],e[5]))),rotateY:e=>yY(mY(Math.atan2(-e[2],e[0]))),rotateZ:gY,rotate:gY,skewX:e=>mY(Math.atan(e[4])),skewY:e=>mY(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function kY(e){return e.includes("scale")?1:0}function _Y(e,t){if(!e||"none"===e)return kY(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=wY,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=vY,i=t}if(!i)return kY(t);const a=r[t],s=i[1].split(",").map(SY);return"function"===typeof a?a(s):s[a]}function SY(e){return parseFloat(e.trim())}function AY(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function EY(e){return void 0===e||1===e}function jY(e){let{scale:t,scaleX:n,scaleY:r}=e;return!EY(t)||!EY(n)||!EY(r)}function CY(e){return jY(e)||NY(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function NY(e){return PY(e.x)||PY(e.y)}function PY(e){return e&&"0%"!==e}function TY(e,t,n){return n+t*(e-n)}function IY(e,t,n,r,i){return void 0!==i&&(e=TY(e,i,r)),TY(e,n,r)+t}function OY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=IY(e.min,t,n,r,i),e.max=IY(e.max,t,n,r,i)}function MY(e,t){let{x:n,y:r}=t;OY(e.x,n.translate,n.scale,n.originPoint),OY(e.y,r.translate,r.scale,r.originPoint)}const DY=.999999999999,RY=1.0000000000001;function LY(e,t){e.min=e.min+t,e.max=e.max+t}function FY(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;OY(e,t,n,xG(e.min,e.max,i),r)}function zY(e,t){FY(e.x,t.x,t.scaleX,t.scale,t.originX),FY(e.y,t.y,t.scaleY,t.scale,t.originY)}function VY(e,t){return AY(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const BY=new Set(["width","height","top","left","right","bottom",...fY]),UY=e=>t=>t.test(e),WY=[Uq,nG,tG,eG,iG,rG,{test:e=>"auto"===e,parse:e=>e}],HY=e=>WY.find(UY(e)),KY=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),qY=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function GY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,i]=function(e){const t=qY.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return KY(e)?parseFloat(e):e}return Vq(i)?GY(i,t,n+1):i}const YY=e=>e===Uq||e===nG,QY=new Set(["x","y","z"]),XY=fY.filter(e=>!QY.has(e));const $Y={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return _Y(n,"x")},y:(e,t)=>{let{transform:n}=t;return _Y(n,"y")}};$Y.translateX=$Y.x,$Y.translateY=$Y.y;const JY=new Set;let ZY=!1,eQ=!1,tQ=!1;function nQ(){if(eQ){const e=Array.from(JY).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return XY.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}eQ=!1,ZY=!1,JY.forEach(e=>e.complete(tQ)),JY.clear()}function rQ(){JY.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eQ=!0)})}class iQ{constructor(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(JY.add(this),ZY||(ZY=!0,iq.read(rQ),iq.resolveKeyframes(nQ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,a);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),JY.delete(this)}cancel(){"scheduled"===this.state&&(JY.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const aQ=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function sQ(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||aQ(e))}const oQ=new Set(["brightness","contrast","saturate","opacity"]);function lQ(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(qq)||[];if(!r)return e;const i=n.replace(r,"");let a=oQ.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const cQ=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,uQ=(0,o.A)((0,o.A)({},gG),{},{getAnimatableNone:e=>{const t=e.match(cQ);return t?t.map(lQ).join(" "):e}}),dQ=(0,o.A)((0,o.A)({},Uq),{},{transform:Math.round}),hQ={rotate:eG,rotateX:eG,rotateY:eG,rotateZ:eG,scale:Hq,scaleX:Hq,scaleY:Hq,scaleZ:Hq,skew:eG,skewX:eG,skewY:eG,distance:nG,translateX:nG,translateY:nG,translateZ:nG,x:nG,y:nG,z:nG,perspective:nG,transformPerspective:nG,opacity:Wq,originX:aG,originY:aG,originZ:nG},fQ=(0,o.A)((0,o.A)({borderWidth:nG,borderTopWidth:nG,borderRightWidth:nG,borderBottomWidth:nG,borderLeftWidth:nG,borderRadius:nG,radius:nG,borderTopLeftRadius:nG,borderTopRightRadius:nG,borderBottomRightRadius:nG,borderBottomLeftRadius:nG,width:nG,maxWidth:nG,height:nG,maxHeight:nG,top:nG,right:nG,bottom:nG,left:nG,padding:nG,paddingTop:nG,paddingRight:nG,paddingBottom:nG,paddingLeft:nG,margin:nG,marginTop:nG,marginRight:nG,marginBottom:nG,marginLeft:nG,backgroundPositionX:nG,backgroundPositionY:nG},hQ),{},{zIndex:dQ,fillOpacity:Wq,strokeOpacity:Wq,numOctaves:dQ}),pQ=(0,o.A)((0,o.A)({},fQ),{},{color:oG,backgroundColor:oG,outlineColor:oG,fill:oG,stroke:oG,borderColor:oG,borderTopColor:oG,borderRightColor:oG,borderBottomColor:oG,borderLeftColor:oG,filter:uQ,WebkitFilter:uQ}),mQ=e=>pQ[e];function gQ(e,t){let n=mQ(e);return n!==uQ&&(n=gG),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vQ=new Set(["auto","none","0"]);class yQ extends iQ{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),Vq(n))){const r=GY(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!BY.has(n)||2!==e.length)return;const[r,i]=e,a=HY(r),s=HY(i);if(a!==s)if(YY(a)&&YY(s))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else $Y[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||sQ(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!vQ.has(t)&&hG(t).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=gQ(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$Y[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=$Y[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const xQ=e=>Boolean(e&&e.getVelocity),bQ=[...WY,oG,gG],{schedule:wQ,cancel:kQ}=rq(queueMicrotask,!1),_Q={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},SQ={};for(const n in _Q)SQ[n]={isEnabled:e=>_Q[n].some(t=>!!e[t])};const AQ=()=>({x:{min:0,max:0},y:{min:0,max:0}}),EQ=new WeakMap;function jQ(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function CQ(e){return"string"===typeof e||Array.isArray(e)}const NQ=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],PQ=["initial",...NQ];function TQ(e){return jQ(e.animate)||PQ.some(t=>CQ(e[t]))}function IQ(e){return Boolean(TQ(e)||e.variants)}function OQ(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function MQ(e,t,n,r){if("function"===typeof t){const[i,a]=OQ(r);t=t(void 0!==n?n:e.custom,i,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,a]=OQ(r);t=t(void 0!==n?n:e.custom,i,a)}return t}const DQ=["willChange"],RQ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LQ{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iQ,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=uq.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,iq.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=s;this.latestValues=c,this.baseTarget=(0,o.A)({},c),this.initialValues=n.initial?(0,o.A)({},c):{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=TQ(n),this.isVariantNode=IQ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=d,f=ze(d,DQ);for(const o in f){const e=f[o];void 0!==c[o]&&xQ(e)&&e.set(c[o])}}mount(e){var t;this.current=e,EQ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),sY.current||oY(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||aY.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),aq(this.notifyUpdate),aq(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=pY.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&iq.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in SQ){const t=SQ[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<RQ.length;n++){const t=RQ[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],a=n[r];if(xQ(i))e.addValue(r,i);else if(xQ(a))e.addValue(r,fq(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,fq(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=fq(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(KY(r)||aQ(r))?r=parseFloat(r):(i=r,!bQ.find(UY(i))&&gG.test(t)&&(r=gQ(e,t))),this.setBaseTarget(e,xQ(r)?r.get():r)),xQ(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=MQ(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||xQ(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new $K),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){wQ.render(this.render)}}class FQ extends LQ{constructor(){super(...arguments),this.KeyframeResolver=yQ}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xQ(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const zQ=(e,t)=>t&&"number"===typeof e?t.transform(e):e,VQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BQ=fY.length;function UQ(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const l in t){const e=t[l];if(pY.has(l))s=!0;else if(Fq(l))i[l]=e;else{const t=zQ(e,fQ[l]);l.startsWith("origin")?(o=!0,a[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let a=0;a<BQ;a++){const s=fY[a],o=e[s];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(s.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=zQ(o,fQ[s]);l||(i=!1,r+="".concat(VQ[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function WQ(e,t,n,r){let{style:i,vars:a}=t;const s=e.style;let o;for(o in i)s[o]=i[o];for(o in null===r||void 0===r||r.applyProjectionStyles(s,n),a)s.setProperty(o,a[o])}const HQ={};function KQ(e,t){let{layout:n,layoutId:r}=t;return pY.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!HQ[e]||"opacity"===e)}function qQ(e,t,n){const{style:r}=e,i={};for(const s in r){var a;(xQ(r[s])||t.style&&xQ(t.style[s])||KQ(s,e)||void 0!==(null===n||void 0===n||null===(a=n.getValue(s))||void 0===a?void 0:a.liveStyle))&&(i[s]=r[s])}return i}class GQ extends FQ{constructor(){super(...arguments),this.type="html",this.renderInstance=WQ}readValueFromInstance(e,t){var n,r;if(pY.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?kY(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return _Y(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(Fq(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return VY(e,n)}build(e,t,n){UQ(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return qQ(e,t,n)}}const YQ=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),QQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},XQ={offset:"strokeDashoffset",array:"strokeDasharray"};const $Q=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function JQ(e,t,n,r,i){let{attrX:a,attrY:s,attrScale:o,pathLength:l,pathSpacing:c=1,pathOffset:u=0}=t;if(UQ(e,ze(t,$Q),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;var f,p;(d.transform&&(h.transform=d.transform,delete d.transform),h.transform||d.transformOrigin)&&(h.transformOrigin=null!==(f=d.transformOrigin)&&void 0!==f?f:"50% 50%",delete d.transformOrigin);h.transform&&(h.transformBox=null!==(p=null===i||void 0===i?void 0:i.transformBox)&&void 0!==p?p:"fill-box",delete d.transformBox);void 0!==a&&(d.x=a),void 0!==s&&(d.y=s),void 0!==o&&(d.scale=o),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=i?QQ:XQ;e[a.offset]=nG.transform(-r);const s=nG.transform(t),o=nG.transform(n);e[a.array]="".concat(s," ").concat(o)}(d,l,c,u,!1)}const ZQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),eX=e=>"string"===typeof e&&"svg"===e.toLowerCase();function tX(e,t,n){const r=qQ(e,t,n);for(const i in e)if(xQ(e[i])||xQ(t[i])){r[-1!==fY.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}class nX extends FQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=AQ}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(pY.has(t)){const e=mQ(t);return e&&e.default||0}return t=ZQ.has(t)?t:YQ(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return tX(e,t,n)}build(e,t,n){JQ(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){WQ(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(ZQ.has(i)?i:YQ(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=eX(e.tagName),super.mount(e)}}const rX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iX(e){return"string"===typeof e&&!e.includes("-")&&!!(rX.indexOf(e)>-1||/[A-Z]/.test(e))}const aX=(e,t)=>iX(e)?new nX(t):new GQ(t,{allowProjection:e!==i.Fragment}),sX=(0,i.createContext)({}),oX=(0,i.createContext)({strict:!1}),lX=(0,i.createContext)({});function cX(e){const{initial:t,animate:n}=function(e,t){if(TQ(e)){const{initial:t,animate:n}=e;return{initial:!1===t||CQ(t)?t:void 0,animate:CQ(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(lX));return(0,i.useMemo)(()=>({initial:t,animate:n}),[uX(t),uX(n)])}function uX(e){return Array.isArray(e)?e.join(" "):e}const dX=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hX(e,t,n){for(const r in t)xQ(t[r])||KQ(r,n)||(e[r]=t[r])}function fX(e,t){const n={};return hX(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return UQ(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function pX(e,t){const n={},r=fX(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const mX=()=>(0,o.A)((0,o.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function gX(e,t,n,r){const a=(0,i.useMemo)(()=>{const n=mX();return JQ(n,t,eX(r),e.transformTemplate,e.style),(0,o.A)((0,o.A)({},n.attrs),{},{style:(0,o.A)({},n.style)})},[t]);if(e.style){const t={};hX(t,e.style,e),a.style=(0,o.A)((0,o.A)({},t),a.style)}return a}const vX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yX(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vX.has(e)}let xX=e=>!yX(e);try{"function"===typeof(bX=require("@emotion/is-prop-valid").default)&&(xX=e=>e.startsWith("on")?!yX(e):bX(e))}catch(l5){}var bX;function wX(e,t,n,r,a){let{latestValues:s}=r,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const c=(iX(e)?gX:pX)(t,s,a,e),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(xX(i)||!0===n&&yX(i)||!t&&!yX(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"===typeof e,l),d=e!==i.Fragment?(0,o.A)((0,o.A)((0,o.A)({},u),c),{},{ref:n}):{},{children:h}=t,f=(0,i.useMemo)(()=>xQ(h)?h.get():h,[h]);return(0,i.createElement)(e,(0,o.A)((0,o.A)({},d),{},{children:f}))}const kX=(0,i.createContext)(null);function _X(e){return xQ(e)?e.get():e}const SX=["transitionEnd","transition"];function AX(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=_X(a[h]);let{initial:s,animate:o}=e;const l=TQ(e),c=IQ(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const d=u?o:s;if(d&&"boolean"!==typeof d&&!jQ(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=MQ(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=ze(r,SX);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const EX=e=>(t,n)=>{const r=(0,i.useContext)(lX),a=(0,i.useContext)(kX),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:a}=e;return{latestValues:AX(t,n,r,i),renderState:a()}}(e,t,r,a);return n?s():ZG(s)},jX=EX({scrapeMotionValuesFromProps:qQ,createRenderState:dX}),CX=EX({scrapeMotionValuesFromProps:tX,createRenderState:mX});const NX=Symbol.for("motionComponentSymbol");function PX(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function TX(e,t,n){return(0,i.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):PX(n)&&(n.current=r))},[t])}const IX="data-"+YQ("framerAppearId"),OX=(0,i.createContext)({});function MX(e,t,n,r,a){var s,o,l,c;const{visualElement:u}=(0,i.useContext)(lX),d=(0,i.useContext)(oX),h=(0,i.useContext)(kX),f=(0,i.useContext)(cY).reducedMotion,p=(0,i.useRef)(null);r=r||d.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:u,props:n,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:f}));const m=p.current,g=(0,i.useContext)(OX);!m||m.projection||!a||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:DX(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(s)||o&&PX(o),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(p.current,n,a,g);const v=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{m&&v.current&&m.update(n,h)});const y=n[IX],x=(0,i.useRef)(Boolean(y)&&!(null!==(s=(o=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(o,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return tY(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),(0,i.useEffect)(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)}),x.current=!1),m.enteringChildren=void 0)}),m}function DX(e){if(e)return!1!==e.options.allowProjection?e.projection:DX(e.parent)}function RX(e){var t,n;let{forwardMotionProps:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)SQ[t]=(0,o.A)((0,o.A)({},SQ[t]),e[t])}(a);const l=iX(e)?CX:jX;function c(t,n){let a;const c=(0,o.A)((0,o.A)((0,o.A)({},(0,i.useContext)(cY)),t),{},{layoutId:LX(t)}),{isStatic:u}=c,d=cX(t),h=l(t,u);if(!u&&eY){!function(){(0,i.useContext)(oX).strict;0}();const t=function(e){const{drag:t,layout:n}=SQ;if(!t&&!n)return{};const r=(0,o.A)((0,o.A)({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(c);a=t.MeasureLayout,d.visualElement=MX(e,h,c,s,t.ProjectionNode)}return(0,Re.jsxs)(lX.Provider,{value:d,children:[a&&d.visualElement?(0,Re.jsx)(a,(0,o.A)({visualElement:d.visualElement},c)):null,wX(e,t,TX(h,d.visualElement,n),h,u,r)]})}c.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const u=(0,i.forwardRef)(c);return u[NX]=e,u}function LX(e){let{layoutId:t}=e;const n=(0,i.useContext)(sX).id;return n&&void 0!==t?n+"-"+t:t}function FX(e,t){if("undefined"===typeof Proxy)return RX;const n=new Map,r=(n,r)=>RX(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>"create"===a?r:(n.has(a)||n.set(a,RX(a,void 0,e,t)),n.get(a))})}function zX(e,t,n){const r=e.getProps();return MQ(r,t,void 0!==n?n:r.custom,e)}function VX(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const BX=e=>Array.isArray(e),UX=["transitionEnd","transition"];function WX(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fq(n))}function HX(e){return BX(e)?e[e.length-1]||0:e}function KX(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(xQ(e)&&e.add)}(n))return n.add(t);if(!n&&ZK.WillChange){const n=new ZK.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function qX(e){return e.props[IX]}function GX(e){e.duration=0,e.type="keyframes"}const YX=e=>1e3*e,QX=e=>e/1e3,XX={layout:0,mainThread:0,waapi:0},$X=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return iq.update(t,e)},stop:()=>aq(t),now:()=>sq.isProcessing?sq.timestamp:uq.now()}},JX=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(1e4*e(a/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},ZX=2e4;function e$(e){let t=0;let n=e.next(t);for(;!n.done&&t<ZX;)t+=50,n=e.next(t);return t>=ZX?1/0:t}function t$(e,t,n){const r=Math.max(t-5,0);return JK(n-e(r),t-r)}const n$={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},r$=.001;function i$(e){let t,n,{duration:r=n$.duration,bounce:i=n$.bounce,velocity:a=n$.velocity,mass:s=n$.mass}=e;YX(n$.maxDuration);let o=1-i;o=Rq(n$.minDamping,n$.maxDamping,o),r=Rq(n$.minDuration,n$.maxDuration,QX(r)),o<1?(t=e=>{const t=e*o,n=t*r,i=t-a,s=s$(e,o),l=Math.exp(-n);return r$-i/s*l},n=e=>{const n=e*o*r,i=n*a+a,s=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=s$(Math.pow(e,2),o);return(-t(e)+r$>0?-1:1)*((i-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(a-e)));const l=function(e,t,n){let r=n;for(let i=1;i<a$;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=YX(r),isNaN(l))return{stiffness:n$.stiffness,damping:n$.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*o*Math.sqrt(s*e),duration:r}}}const a$=12;function s$(e,t){return e*Math.sqrt(1-t*t)}const o$=["duration","bounce"],l$=["stiffness","damping","mass"];function c$(e,t){return t.some(t=>void 0!==e[t])}function u$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n$.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n$.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=function(e){let t=(0,o.A)({velocity:n$.velocity,stiffness:n$.stiffness,damping:n$.damping,mass:n$.mass,isResolvedFromDuration:!1},e);if(!c$(e,l$)&&c$(e,o$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,a=2*Rq(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=(0,o.A)((0,o.A)({},t),{},{mass:n$.mass,stiffness:i,damping:a})}else{const n=i$(e);t=(0,o.A)((0,o.A)((0,o.A)({},t),n),{},{mass:n$.mass}),t.isResolvedFromDuration=!0}return t}((0,o.A)((0,o.A)({},n),{},{velocity:-QX(n.velocity||0)})),m=f||0,g=u/(2*Math.sqrt(c*d)),v=s-a,y=QX(Math.sqrt(c/d)),x=Math.abs(v)<5;let b;if(r||(r=x?n$.restSpeed.granular:n$.restSpeed.default),i||(i=x?n$.restDelta.granular:n$.restDelta.default),g<1){const e=s$(y,g);b=t=>{const n=Math.exp(-g*y*t);return s-n*((m+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)b=e=>s-Math.exp(-y*e)*(v+(m+y*v)*e);else{const e=y*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*y*t),r=Math.min(e*t,300);return s-n*((m+g*y*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const w={calculatedDuration:p&&h||null,next:e=>{const t=b(e);if(p)l.done=e>=h;else{let n=0===e?m:0;g<1&&(n=0===e?YX(m):t$(b,e,t));const a=Math.abs(n)<=r,o=Math.abs(s-t)<=i;l.done=a&&o}return l.value=l.done?s:t,l},toString:()=>{const e=Math.min(e$(w),ZX),t=JX(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function d$(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===o?g:o(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/i),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let w,k;const _=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=u$({keyframes:[f.value,p(f.value)],velocity:t$(x,e,f.value),damping:a,stiffness:s,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,b(e),_(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&b(e),f)}}}u$.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)((0,o.A)((0,o.A)({},e),{},{keyframes:[0,t]})),r=Math.min(e$(n),ZX);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:QX(r)}}(e,100,u$);return e.ease=t.ease,e.duration=YX(t.duration),e.type="keyframes",e};const h$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function f$(e,t,n,r){if(e===t&&n===r)return eq;const i=t=>function(e,t,n,r,i){let a,s,o=0;do{s=t+(n-t)/2,a=h$(s,r,i)-e,a>0?n=s:t=s}while(Math.abs(a)>1e-7&&++o<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:h$(i(e),t,r)}const p$=f$(.42,0,1,1),m$=f$(0,0,.58,1),g$=f$(.42,0,.58,1),v$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,y$=e=>t=>1-e(1-t),x$=f$(.33,1.53,.69,.99),b$=y$(x$),w$=v$(b$),k$=e=>(e*=2)<1?.5*b$(e):.5*(2-Math.pow(2,-10*(e-1))),_$=e=>1-Math.sin(Math.acos(e)),S$=y$(_$),A$=v$(_$),E$=e=>Array.isArray(e)&&"number"===typeof e[0],j$={linear:eq,easeIn:p$,easeInOut:g$,easeOut:m$,circIn:_$,circInOut:A$,circOut:S$,backIn:b$,backInOut:w$,backOut:x$,anticipate:k$},C$=e=>{if(E$(e)){e.length;const[t,n,r,i]=e;return f$(t,n,r,i)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),j$[e]):e};function N$(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(C$):C$(i),s={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:IG(n),t),l=TG(o,n,{ease:Array.isArray(a)?a:(c=n,u=a,c.map(()=>u||g$).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const P$=e=>null!==e;function T$(e,t,n){let{repeat:r,repeatType:i="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(P$),o=a<0||r&&"loop"!==i&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}const I$={decay:d$,inertia:d$,tween:N$,keyframes:N$,spring:u$};function O$(e){"string"===typeof e.type&&(e.type=I$[e.type])}class M${constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const D$=e=>e/100;class R$ extends M${constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==uq.now()&&this.tick(uq.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},XX.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;O$(e);const{type:t=N$,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:s}=e;const l=t||N$;l!==N$&&"number"!==typeof s[0]&&(this.mixKeyframes=Dq(D$,PG(s[0],s[1])),s=[0,100]);const c=l((0,o.A)((0,o.A)({},e),{},{keyframes:s}));"mirror"===i&&(this.mirroredGenerator=l((0,o.A)((0,o.A)({},e),{},{keyframes:[...s].reverse(),velocity:-a}))),null===c.calculatedDuration&&(c.calculatedDuration=e$(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,x=n;if(u){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/s)):"mirror"===d&&(x=a)),y=Rq(0,1,n)*s}const b=v?{done:!1,value:c[0]}:x.next(y);i&&(b.value=i(b.value));let{done:w}=b;v||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&f!==d$&&(b.value=T$(c,this.options,m,this.speed)),p&&p(b.value),k&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return QX(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+QX(e)}get time(){return QX(this.currentTime)}set time(e){var t;e=YX(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(uq.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=QX(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=$X,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(uq.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,XX.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const L$={};function F$(e,t){const n=mq(e);return()=>{var e;return null!==(e=L$[t])&&void 0!==e?e:n()}}const z$=F$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(s5){return!1}return!0},"linearEasing"),V$=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},B$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:V$([0,.65,.55,1]),circOut:V$([.55,0,1,.45]),backIn:V$([.31,.01,.66,-.59]),backOut:V$([.33,1.53,.69,.99])};function U$(e,t){return e?"function"===typeof e?z$()?JX(e,t):"ease-out":E$(e)?V$(e):Array.isArray(e)?e.map(e=>U$(e,t)||B$.easeOut):B$[e]:void 0}function W$(e,t,n){let{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=U$(o,i);Array.isArray(d)&&(u.easing=d),nq.value&&XX.waapi++;const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);const f=e.animate(u,h);return nq.value&&f.finished.finally(()=>{XX.waapi--}),f}function H$(e){return"function"===typeof e&&"applyToOptions"in e}const K$=["type"];class q$ extends M${constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=a,this.options=e,e.type;const l=function(e){let{type:t}=e,n=ze(e,K$);return H$(t)&&z$()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var r,i}(e);this.animation=W$(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=T$(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===o||void 0===o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(s5){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return QX(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+QX(e)}get time(){return QX(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=YX(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&gq()?(this.animation.timeline=t,eq):n(this)}}const G$={anticipate:k$,backInOut:w$,circInOut:A$};function Y$(e){"string"===typeof e.ease&&e.ease in G$&&(e.ease=G$[e.ease])}const Q$=["motionValue","onUpdate","onComplete","element"];class X$ extends q${constructor(e){Y$(e),O$(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:i,onComplete:a,element:s}=n,l=ze(n,Q$);if(!r)return;if(void 0!==e)return void r.set(e);const c=new R$((0,o.A)((0,o.A)({},l),{},{autoplay:!1})),u=YX(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(c.sample(u-10).value,c.sample(u).value,10),c.stop()}}const $$=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!gG.test(e)&&"0"!==e||e.startsWith("url(")));const J$=new Set(["opacity","clipPath","filter","transform"]),Z$=mq(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const eJ=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class tJ extends M${constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:l="loop",keyframes:c,name:u,motionValue:d,element:h}=e,f=ze(e,eJ);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=uq.now();const p=(0,o.A)({autoplay:n,delay:r,type:i,repeat:a,repeatDelay:s,repeatType:l,name:u,motionValue:d,element:h},f),m=(null===h||void 0===h?void 0:h.KeyframeResolver)||iQ;this.keyframeResolver=new m(c,(e,t,n)=>this.onKeyframesResolved(e,t,p,!n),u,d,h),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:s,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=uq.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],s=$$(i,t),o=$$(a,t);return"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(a,'". "').concat(s?a:i,'" is not an animatable value.'),!(!s||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||H$(n))&&r)}(e,i,a,s)||(!ZK.instantAnimations&&l||null===u||void 0===u||u(T$(e,n,t)),e[0]=e[e.length-1],GX(n),n.repeat=0);const d=r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,h=(0,o.A)((0,o.A)({startTime:d,finalKeyframe:t},n),{},{keyframes:e}),f=!c&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Z$()&&r&&J$.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==a&&0!==s&&"inertia"!==o}(h)?new X$((0,o.A)((0,o.A)({},h),{},{element:h.motionValue.owner.current})):new R$(h);f.finished.then(()=>this.notifyFinished()).catch(eq),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),tQ=!0,rQ(),nQ(),tQ=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const nJ=e=>null!==e;const rJ={type:"spring",stiffness:500,damping:25,restSpeed:10},iJ={type:"keyframes",duration:.8},aJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sJ=(e,t)=>{let{keyframes:n}=t;return n.length>2?iJ:pY.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:rJ:aJ},oJ=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const lJ=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return s=>{const l=VX(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u-=YX(c);const d=(0,o.A)((0,o.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-u,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,d=ze(e,oJ);return!!Object.keys(d).length})(l)||Object.assign(d,sJ(e,d)),d.duration&&(d.duration=YX(d.duration)),d.repeatDelay&&(d.repeatDelay=YX(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(GX(d),0===d.delay&&(h=!0)),(ZK.instantAnimations||ZK.skipAnimations)&&(h=!0,GX(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const a=e.filter(nJ),s=r&&"loop"!==i&&r%2===1?0:a.length-1;return s&&void 0!==n?n:a[s]}(d.keyframes,l);if(void 0!==e)return void iq.update(()=>{d.onUpdate(e),d.onComplete()})}return l.isSync?new R$(d):new tJ(d)}},cJ=["transition","transitionEnd"];function uJ(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function dJ(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:s}=t,l=ze(t,cJ);r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){var d;const t=e.getValue(h,null!==(d=e.latestValues[h])&&void 0!==d?d:null),r=l[h];if(void 0===r||u&&uJ(u,h))continue;const i=(0,o.A)({delay:n},VX(a||{},h)),s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(r)&&r===s&&!i.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=qX(e);if(t){const e=window.MotionHandoffAnimation(t,h,iq);null!==e&&(i.startTime=e,f=!0)}}KX(e,h),t.start(lJ(h,t,r,e.shouldReduceMotion&&BY.has(h)?{type:!1}:i,e,f));const p=t.animation;p&&c.push(p)}return s&&Promise.all(c).then(()=>{iq.update(()=>{s&&function(e,t){let n=zX(e,t)||{},{transitionEnd:r={},transition:i={}}=n,a=ze(n,UX);a=(0,o.A)((0,o.A)({},a),r);for(const s in a)WX(e,s,HX(a[s]))}(e,s)})}),c}function hJ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*r;return"function"===typeof n?n(a,s):1===i?a*r:o-a*r}function fJ(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=zX(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const s=i?()=>Promise.all(dJ(e,i,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:l}=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(fJ(c,t,(0,o.A)((0,o.A)({},s),{},{delay:n+("function"===typeof r?0:r)+hJ(e.variantChildren,c,r,i,a)})).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}(e,t,n,i,s,l,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[e,t]="beforeChildren"===c?[s,l]:[l,s];return e().then(()=>t())}return Promise.all([s(),l(r.delay)])}function pJ(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const mJ=PQ.length;function gJ(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&gJ(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<mJ;n++){const r=PQ[n],i=e.props[r];(CQ(i)||!1===i)&&(t[r]=i)}return t}const vJ=["transition","transitionEnd"],yJ=[...NQ].reverse(),xJ=NQ.length;function bJ(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>fJ(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=fJ(e,t,r);else{const i="function"===typeof t?zX(e,t,r.custom):t;n=Promise.all(dJ(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function wJ(e){let t=bJ(e),n=SJ(),r=!0;const i=t=>(n,r)=>{var i;const a=zX(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,r=ze(a,vJ);n=(0,o.A)((0,o.A)((0,o.A)({},n),r),t)}return n};function a(a){const{props:s}=e,l=gJ(e.parent)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<xJ;t++){const f=yJ[t],p=n[f],m=void 0!==s[f]?s[f]:l[f],g=CQ(m),v=f===a?p.isActive:null;!1===v&&(h=t);let y=m===l[f]&&m!==s[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=(0,o.A)({},d),!p.isActive&&null===v||!m&&!p.prevProp||jQ(m)||"boolean"===typeof m)continue;const x=kJ(p.prevProp,m);let b=x||f===a&&p.isActive&&!y&&g||t>h&&g,w=!1;const k=Array.isArray(m)?m:[m];let _=k.reduce(i(f),{});!1===v&&(_={});const{prevResolvedValues:S={}}=p,A=(0,o.A)((0,o.A)({},S),_),E=t=>{b=!0,u.has(t)&&(w=!0,u.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in A){const t=_[e],n=S[e];if(d.hasOwnProperty(e))continue;let r=!1;r=BX(t)&&BX(n)?!pJ(t,n):t!==n,r?void 0!==t&&null!==t?E(e):u.add(e):void 0!==t&&u.has(e)?E(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=_,p.isActive&&(d=(0,o.A)((0,o.A)({},d),_)),r&&e.blockInitialAnimation&&(b=!1);const j=y&&x;b&&(!j||w)&&c.push(...k.map(t=>{const n={type:f};if("string"===typeof t&&r&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=zX(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=hJ(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(u.size){const t={};if("boolean"!==typeof s.initial){const n=zX(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}u.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const s=a(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=SJ()}}}function kJ(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!pJ(t,e)}function _J(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SJ(){return{animate:_J(!0),whileInView:_J(),whileHover:_J(),whileTap:_J(),whileDrag:_J(),whileFocus:_J(),exit:_J()}}class AJ{constructor(e){this.isMounted=!1,this.node=e}update(){}}let EJ=0;const jJ={animation:{Feature:class extends AJ{constructor(e){super(e),e.animationState||(e.animationState=wJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jQ(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends AJ{constructor(){super(...arguments),this.id=EJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},CJ={x:!1,y:!1};function NJ(){return CJ.x||CJ.y}function PJ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const TJ=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function IJ(e){return{point:{x:e.pageX,y:e.pageY}}}function OJ(e,t,n,r){return PJ(e,t,(e=>t=>TJ(t)&&e(t,IJ(t)))(n),r)}function MJ(e){return e.max-e.min}function DJ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=xG(t.min,t.max,e.origin),e.scale=MJ(n)/MJ(t),e.translate=xG(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function RJ(e,t,n,r){DJ(e.x,t.x,n.x,r?r.originX:void 0),DJ(e.y,t.y,n.y,r?r.originY:void 0)}function LJ(e,t,n){e.min=n.min+t.min,e.max=e.min+MJ(t)}function FJ(e,t,n){e.min=t.min-n.min,e.max=e.min+MJ(t)}function zJ(e,t,n){FJ(e.x,t.x,n.x),FJ(e.y,t.y,n.y)}function VJ(e){return[e("x"),e("y")]}const BJ=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},UJ=(e,t)=>Math.abs(e-t);class WJ{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=qJ(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=UJ(e.x,t.x),r=UJ(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=sq;this.history.push((0,o.A)((0,o.A)({},r),{},{timestamp:i}));const{onStart:a,onMove:s}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=HJ(t,this.transformPagePoint),iq.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=qJ("pointercancel"===e.type?this.lastMoveEventInfo:HJ(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!TJ(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const s=HJ(IJ(e),this.transformPagePoint),{point:l}=s,{timestamp:c}=sq;this.history=[(0,o.A)((0,o.A)({},l),{},{timestamp:c})];const{onSessionStart:u}=t;u&&u(e,qJ(s,this.history)),this.removeListeners=Dq(OJ(this.contextWindow,"pointermove",this.handlePointerMove),OJ(this.contextWindow,"pointerup",this.handlePointerUp),OJ(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),aq(this.updatePoint)}}function HJ(e,t){return t?{point:t(e.point)}:e}function KJ(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qJ(e,t){let{point:n}=e;return{point:n,delta:KJ(n,YJ(t)),offset:KJ(n,GJ(t)),velocity:QJ(t,.1)}}function GJ(e){return e[0]}function YJ(e){return e[e.length-1]}function QJ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=YJ(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>YX(t)));)n--;if(!r)return{x:0,y:0};const a=QX(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function XJ(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function $J(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const JJ=.35;function ZJ(e,t,n){return{min:eZ(e,t),max:eZ(e,n)}}function eZ(e,t){return"number"===typeof e?e:e[t]||0}const tZ=new WeakMap;class nZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new WJ(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(IJ(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?CJ[a]?null:(CJ[a]=!0,()=>{CJ[a]=!1}):CJ.x||CJ.y?null:(CJ.x=CJ.y=!0,()=>{CJ.x=CJ.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),VJ(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tG.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=MJ(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&iq.postRender(()=>i(e,t)),KX(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>VJ(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:BJ(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&iq.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!rZ(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?xG(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?xG(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&PX(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:a}=t;return{x:XJ(e.x,r,a),y:XJ(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JJ;return!1===e?e=0:!0===e&&(e=JJ),{x:ZJ(e,"left","right"),y:ZJ(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&VJ(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!PX(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=VY(e,n),{scroll:i}=t;return i&&(LY(r.x,i.offset.x),LY(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:$J(e.x,t.x),y:$J(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=AY(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=VJ(s=>{if(!rZ(s,t,this.currentDirection))return;let c=l&&l[s]||{};a&&(c={min:0,max:0});const u=r?200:1e6,d=r?40:1e7,h=(0,o.A)((0,o.A)({type:"inertia",velocity:n?e[s]:0,bounceStiffness:u,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},i),c);return this.startAxisValueAnimation(s,h)});return Promise.all(c).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return KX(this.visualElement,e),n.start(lJ(e,n,0,t,this.visualElement,!1))}stopAnimation(){VJ(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){VJ(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){VJ(t=>{const{drag:n}=this.getProps();if(!rZ(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-xG(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!PX(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};VJ(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=MJ(e),i=MJ(t);return i>r?n=Tq(t.min,t.max-r,e.min):r>i&&(n=Tq(e.min,e.max-i,t.min)),Rq(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),VJ(t=>{if(!rZ(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(xG(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;tZ.set(this.visualElement,this);const e=OJ(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();PX(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),iq.read(t);const i=PJ(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(VJ(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=JJ,dragMomentum:s=!0}=e;return(0,o.A)((0,o.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:s})}}function rZ(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const iZ=e=>(t,n)=>{e&&iq.postRender(()=>e(t,n))};const aZ={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sZ(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const oZ={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!nG.test(e))return e;e=parseFloat(e)}const n=sZ(e,t.target.x),r=sZ(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},lZ={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,a=gG.parse(e);if(a.length>5)return i;const s=gG.createTransformer(e),o="number"!==typeof a[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;a[0+o]/=l,a[1+o]/=c;const u=xG(l,c,.5);return"number"===typeof a[2+o]&&(a[2+o]/=u),"number"===typeof a[3+o]&&(a[3+o]/=u),s(a)}};let cZ=!1;class uZ extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)HQ[t]=e[t],Fq(t)&&(HQ[t].isCSSVariable=!0)}(hZ),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),cZ&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions((0,o.A)((0,o.A)({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),aZ.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,cZ=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||iq.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wQ.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;cZ=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dZ(e){const[t,n]=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(kX);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,s=(0,i.useId)();(0,i.useEffect)(()=>{if(e)return a(s)},[e]);const o=(0,i.useCallback)(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}(),r=(0,i.useContext)(sX);return(0,Re.jsx)(uZ,(0,o.A)((0,o.A)({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(OX),isPresent:t,safeToRemove:n}))}const hZ={borderRadius:(0,o.A)((0,o.A)({},oZ),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:oZ,borderTopRightRadius:oZ,borderBottomLeftRadius:oZ,borderBottomRightRadius:oZ,boxShadow:lZ};const fZ=(e,t)=>e.depth-t.depth;class pZ{constructor(){this.children=[],this.isDirty=!1}add(e){QK(this.children,e),this.isDirty=!0}remove(e){XK(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fZ),this.isDirty=!1,this.children.forEach(e)}}function mZ(e,t){const n=uq.now(),r=i=>{let{timestamp:a}=i;const s=a-n;s>=t&&(aq(r),e(s-t))};return iq.setup(r,!0),()=>aq(r)}const gZ=["TopLeft","TopRight","BottomLeft","BottomRight"],vZ=gZ.length,yZ=e=>"string"===typeof e?parseFloat(e):e,xZ=e=>"number"===typeof e||nG.test(e);function bZ(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const wZ=_Z(0,.5,S$),kZ=_Z(.5,.95,eq);function _Z(e,t,n){return r=>r<e?0:r>t?1:n(Tq(e,t,r))}function SZ(e,t){e.min=t.min,e.max=t.max}function AZ(e,t){SZ(e.x,t.x),SZ(e.y,t.y)}function EZ(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function jZ(e,t,n,r,i){return e=TY(e-=t,1/n,r),void 0!==i&&(e=TY(e,1/i,r)),e}function CZ(e,t,n,r,i){let[a,s,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;tG.test(t)&&(t=parseFloat(t),t=xG(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let o=xG(a.min,a.max,r);e===a&&(o-=t),e.min=jZ(e.min,t,n,o,i),e.max=jZ(e.max,t,n,o,i)}(e,t[a],t[s],t[o],t.scale,r,i)}const NZ=["x","scaleX","originX"],PZ=["y","scaleY","originY"];function TZ(e,t,n,r){CZ(e.x,t,NZ,n?n.x:void 0,r?r.x:void 0),CZ(e.y,t,PZ,n?n.y:void 0,r?r.y:void 0)}function IZ(e){return 0===e.translate&&1===e.scale}function OZ(e){return IZ(e.x)&&IZ(e.y)}function MZ(e,t){return e.min===t.min&&e.max===t.max}function DZ(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function RZ(e,t){return DZ(e.x,t.x)&&DZ(e.y,t.y)}function LZ(e){return MJ(e.x)/MJ(e.y)}function FZ(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zZ{constructor(){this.members=[]}add(e){QK(this.members,e),e.scheduleRender()}remove(e){if(XK(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const VZ={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},BZ=["","X","Y","Z"];let UZ=0;function WZ(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function HZ(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=qX(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",iq,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&HZ(r)}function KZ(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=UZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nq.value&&(VZ.nodes=VZ.calculatedTargetDeltas=VZ.calculatedProjections=0),this.nodes.forEach(YZ),this.nodes.forEach(t0),this.nodes.forEach(n0),this.nodes.forEach(QZ),nq.addProjectionMetrics&&nq.addProjectionMetrics(VZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new pZ)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new $K),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=yq(e)&&!(yq(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;iq.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=mZ(i,250),aZ.hasAnimatedSinceResize&&(aZ.hasAnimatedSinceResize=!1,this.nodes.forEach(e0)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||l0,{onLayoutAnimationStart:l,onLayoutAnimationComplete:c}=a.getProps(),u=!this.targetLayout||!RZ(this.targetLayout,i),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=(0,o.A)((0,o.A)({},VX(s,"layout")),{},{onPlay:l,onComplete:c});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||e0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),aq(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r0),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach($Z);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(JZ);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ZZ),this.nodes.forEach(qZ),this.nodes.forEach(GZ)):this.nodes.forEach(JZ),this.clearAllSnapshots();const e=uq.now();sq.delta=Rq(0,1e3/60,e-sq.timestamp),sq.timestamp=e,sq.isProcessing=!0,oq.update.process(sq),oq.preRender.process(sq),oq.render.process(sq),sq.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wQ.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XZ),this.sharedNodes.forEach(i0)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,iq.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){iq.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||MJ(this.snapshot.measuredBox.x)||MJ(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!OZ(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||CY(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),d0((r=n).x),d0(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(f0))){const{scroll:e}=this.root;e&&(LY(n.x,e.offset.x),LY(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(AZ(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:a}=t;t!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&AZ(n,e),LY(n.x,i.offset.x),LY(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};AZ(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&zY(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),CY(e.latestValues)&&zY(n,e.latestValues)}return CY(this.latestValues)&&zY(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};AZ(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!CY(e.latestValues))continue;jY(e.latestValues)&&e.updateSnapshot();const r=AQ();AZ(r,e.measurePageBox()),TZ(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return CY(this.latestValues)&&TZ(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,o.A)((0,o.A)((0,o.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sq.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=sq.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},zJ(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),AZ(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,LJ(s.x,o.x,l.x),LJ(s.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):AZ(this.target,this.layout.layoutBox),MY(this.target,this.targetDelta)):AZ(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},zJ(this.relativeTargetOrigin,this.target,e.target),AZ(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nq.value&&VZ.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!jY(this.parent.latestValues)&&!NY(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===sq.timestamp&&(r=!1),r)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;AZ(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let a,s;t.x=t.y=1;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&zY(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,MY(e,s)),r&&CY(a.latestValues)&&zY(e,a.latestValues))}t.x<RY&&t.x>DY&&(t.x=1),t.y<RY&&t.y>DY&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(EZ(this.prevProjectionDelta.x,this.projectionDelta.x),EZ(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),RJ(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&FZ(this.projectionDelta.x,this.prevProjectionDelta.x)&&FZ(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),nq.value&&VZ.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=(0,o.A)({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,d=Boolean(l&&!u&&!0===this.options.crossfade&&!this.path.some(o0));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;a0(a.x,e.x,n),a0(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zJ(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){s0(e.x,t.x,n.x,r),s0(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),h&&function(e,t){return MZ(e.x,t.x)&&MZ(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),AZ(h,this.relativeTarget)),l&&(this.animationValues=i,function(e,t,n,r,i,a){var s,o;if(i)e.opacity=xG(0,null!==(s=n.opacity)&&void 0!==s?s:1,wZ(r)),e.opacityExit=xG(null!==(o=t.opacity)&&void 0!==o?o:1,0,kZ(r));else if(a){var l,c;e.opacity=xG(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<vZ;u++){const i="border".concat(gZ[u],"Radius");let a=bZ(t,i),s=bZ(n,i);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||xZ(a)===xZ(s)?(e[i]=Math.max(xG(yZ(a),yZ(s),r),0),(tG.test(s)||tG.test(a))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=xG(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(aq(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=iq.update(()=>{aZ.hasAnimatedSinceResize=!0,XX.layout++,this.motionValue||(this.motionValue=fq(0)),this.currentAnimation=function(e,t,n){const r=xQ(e)?e:fq(e);return r.start(lJ("",r,t,n)),r.animation}(this.motionValue,[0,1e3],(0,o.A)((0,o.A)({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{XX.layout--},onComplete:()=>{XX.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&h0(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=MJ(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=MJ(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}AZ(t,n),zY(t,i),RJ(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new zZ);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&WZ("z",e,r,this.animationValues);for(let i=0;i<BZ.length;i++)WZ("rotate".concat(BZ[i]),e,r,this.animationValues),WZ("skew".concat(BZ[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=_X(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=_X(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!CY(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((i||a||s)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:s,skewY:o}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),a&&(r+="rotateY(".concat(a,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),o&&(r+="skewY(".concat(o,"deg) "))}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+="scale(".concat(o,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;const{x:s,y:o}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*s.origin,"% ").concat(100*o.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=i.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const u in HQ){if(void 0===i[u])continue;const{correct:t,applyTo:n,isCSSVariable:s}=HQ[u],o="none"===a?i[u]:t(i[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=o}else s?this.options.visualElement.renderState.vars[u]=o:e[u]=o}this.options.layoutId&&(e.pointerEvents=r===this?_X(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach($Z),this.root.sharedNodes.clear()}}}function qZ(e){e.updateLayout()}function GZ(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;"size"===i?VJ(e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],i=MJ(r);r.min=t[e].min,r.max=r.min+i}):h0(i,n.layoutBox,t)&&VJ(r=>{const i=a?n.measuredBox[r]:n.layoutBox[r],s=MJ(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};RJ(s,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?RJ(o,e.applyTransform(r,!0),n.measuredBox):RJ(o,t,n.layoutBox);const l=!OZ(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const s={x:{min:0,max:0},y:{min:0,max:0}};zJ(s,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};zJ(o,t,a.layoutBox),RZ(s,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function YZ(e){nq.value&&VZ.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function QZ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function XZ(e){e.clearSnapshot()}function $Z(e){e.clearMeasurements()}function JZ(e){e.isLayoutDirty=!1}function ZZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function e0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function t0(e){e.resolveTargetDelta()}function n0(e){e.calcProjection()}function r0(e){e.resetSkewAndRotation()}function i0(e){e.removeLeadSnapshot()}function a0(e,t,n){e.translate=xG(t.translate,0,n),e.scale=xG(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function s0(e,t,n,r){e.min=xG(t.min,n.min,r),e.max=xG(t.max,n.max,r)}function o0(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const l0={duration:.45,ease:[.4,0,.1,1]},c0=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),u0=c0("applewebkit/")&&!c0("chrome/")?Math.round:eq;function d0(e){e.min=u0(e.min),e.max=u0(e.max)}function h0(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(LZ(t),LZ(n),.2)}function f0(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const p0=KZ({attachResizeListener:(e,t)=>PJ(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),m0={current:void 0},g0=KZ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!m0.current){const e=new p0({});e.mount(window),e.setOptions({layoutScroll:!0}),m0.current=e}return m0.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),v0={pan:{Feature:class extends AJ{constructor(){super(...arguments),this.removePointerDownListener=eq}onPointerDown(e){this.session=new WJ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BJ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:iZ(e),onStart:iZ(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&iq.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=OJ(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends AJ{constructor(e){super(e),this.removeGroupControls=eq,this.removeListeners=eq,this.controls=new nZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eq}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:g0,MeasureLayout:dZ}};function y0(e,t){const n=xq(e),r=new AbortController;return[n,(0,o.A)((0,o.A)({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function x0(e){return!("touch"===e.pointerType||NJ())}function b0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&iq.postRender(()=>i(t,IJ(t)))}const w0=(e,t)=>!!t&&(e===t||w0(e,t.parentElement)),k0=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const _0=new WeakSet;function S0(e){return t=>{"Enter"===t.key&&e(t)}}function A0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function E0(e){return TJ(e)&&!NJ()}function j0(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,a]=y0(e,n),s=e=>{const r=e.currentTarget;if(!E0(e))return;_0.add(r);const a=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),_0.has(r)&&_0.delete(r),E0(e)&&"function"===typeof a&&a(e,{success:t})},o=e=>{s(e,r===window||r===document||n.useGlobalTarget||w0(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),OG(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=S0(()=>{if(_0.has(n))return;A0(n,"down");const e=S0(()=>{A0(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>A0(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,k0.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function C0(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&iq.postRender(()=>i(t,IJ(t)))}const N0=["root"],P0=new WeakMap,T0=new WeakMap,I0=e=>{const t=P0.get(e.target);t&&t(e)},O0=e=>{e.forEach(I0)};function M0(e,t,n){const r=function(e){let{root:t}=e,n=ze(e,N0);const r=t||document;T0.has(r)||T0.set(r,{});const i=T0.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(O0,(0,o.A)({root:t},n))),i[a]}(t);return P0.set(e,n),r.observe(e),()=>{P0.delete(e),r.unobserve(e)}}const D0={some:0,all:1};const R0={inView:{Feature:class extends AJ{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:D0[r]};return M0(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends AJ{mount(){const{current:e}=this.node;e&&(this.unmount=j0(e,(e,t)=>(C0(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return C0(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends AJ{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(s5){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dq(PJ(this.node.current,"focus",()=>this.onFocus()),PJ(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends AJ{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,a]=y0(e,n),s=e=>{if(!x0(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const a=e=>{x0(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return r.forEach(e=>{e.addEventListener("pointerenter",s,i)}),a}(e,(e,t)=>(b0(this.node,t,"Start"),e=>b0(this.node,e,"End"))))}unmount(){}}}},L0={layout:{ProjectionNode:g0,MeasureLayout:dZ}},F0=FX((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},jJ),R0),v0),L0),aX);function z0(){const{isDark:e,toggleTheme:t}=Sl();return(0,Re.jsx)("button",{onClick:t,"aria-label":"Toggle theme",className:"px-3 py-2 rounded-md bg-white/80 ring-1 ring-slate-200 hover:shadow transition hidden sm:inline-flex items-center gap-2 dark:bg-slate-800 dark:text-slate-100",children:e?"\ud83c\udf19 Dark":"\u2600\ufe0f Light"})}function V0(){const{isDark:e}=Sl(),{scrollYProgress:t}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{container:t,target:n}=e,r=ze(e,nY);const a=ZG(rY),s=(0,i.useRef)(null),l=(0,i.useRef)(!1),c=(0,i.useCallback)(()=>(s.current=JG((e,t)=>{let{x:n,y:r}=t;a.scrollX.set(n.current),a.scrollXProgress.set(n.progress),a.scrollY.set(r.current),a.scrollYProgress.set(r.progress)},(0,o.A)((0,o.A)({},r),{},{container:(null===t||void 0===t?void 0:t.current)||void 0,target:(null===n||void 0===n?void 0:n.current)||void 0})),()=>{var e;null===(e=s.current)||void 0===e||e.call(s)}),[t,n,JSON.stringify(r.offset)]);return tY(()=>(l.current=!1,iY(t)||iY(n)?void(l.current=!0):c()),[c]),(0,i.useEffect)(()=>l.current?(iY(t),iY(n),c()):void 0,[c]),a}(),n=lY(),r="A modern way to manage grants and funds",[a,s]=(0,i.useState)(n?r:""),[l,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(n)return;let e;const t=l?80:120;return!l&&a.length<39?e=setTimeout(()=>s(r.slice(0,a.length+1)),t):l||39!==a.length?l&&a.length>0?e=setTimeout(()=>s(r.slice(0,a.length-1)),t):l&&0===a.length&&(e=setTimeout(()=>c(!1),4e3)):e=setTimeout(()=>c(!0),4e3),()=>clearTimeout(e)},[a,l,n]);const u=dY(t,[0,1],[0,n?0:12]),d=dY(t,[0,1],[0,n?0:-12]),h={hidden:{opacity:0,y:24},show:{opacity:1,y:0,transition:{staggerChildren:.08,duration:.5}}},f={hidden:{opacity:0,y:16},show:{opacity:1,y:0,transition:{type:"spring",stiffness:70,damping:16,mass:.8}}},p={initial:{opacity:0,y:12},in:{opacity:1,y:0,transition:{duration:.5}},float:n?{}:{y:[0,-4,0],transition:{duration:6,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}};return(0,Re.jsxs)("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-b from-slate-50 via-white to-slate-100 text-[var(--text,#0f172a)] dark:bg-gradient-to-b dark:from-[#071022] dark:via-[#081427] dark:to-[#071022] dark:text-slate-100",children:[(0,Re.jsx)("div",{className:"absolute -top-40 -left-40 w-[560px] h-[560px] ".concat(e?"bg-gradient-to-br from-[var(--brand-primary)] to-[var(--accent-sky)]":"bg-gradient-to-br from-indigo-400 to-purple-500"," ").concat(e?"opacity-12":"opacity-20"," rounded-full blur-3xl transform rotate-[15deg] pointer-events-none z-0")}),",",(0,Re.jsx)("div",{className:"absolute -bottom-40 -right-40 w-[480px] h-[480px] ".concat(e?"bg-gradient-to-br from-[var(--accent-sky)] to-[var(--accent-coral)]":"bg-gradient-to-br from-emerald-300 to-teal-400"," ").concat(e?"opacity-8":"opacity-15"," rounded-full blur-3xl transform -rotate-12 pointer-events-none z-0")}),(0,Re.jsxs)("header",{className:"relative z-30 max-w-6xl mx-auto px-6 py-8 flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsx)("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-sky-500 to-indigo-600 shadow-sm","aria-hidden":"true"}),(0,Re.jsx)("div",{className:"font-semibold text-lg tracking-tight brand-logo",children:"Fundify"})]}),(0,Re.jsxs)("nav",{className:"flex items-center gap-4 text-sm text-slate-700",children:[(0,Re.jsx)("a",{href:"#features",className:"px-3 py-2 rounded-md nav-link",children:"Features"}),(0,Re.jsx)(Qn,{to:"/how",className:"px-3 py-2 rounded-md nav-link",children:"How it works"}),(0,Re.jsx)(Qn,{to:"/pricing",className:"px-3 py-2 rounded-md nav-link",children:"Pricing"}),(0,Re.jsx)(Qn,{to:"/login",className:"px-3 py-2 rounded-md button-outline",children:"Log in"}),(0,Re.jsx)(Qn,{to:"/register",className:"button-brand",children:"Get started"}),(0,Re.jsx)(z0,{})]})]}),(0,Re.jsxs)("main",{className:"relative z-10 max-w-6xl mx-auto px-6 py-28",children:[(0,Re.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 items-start",children:[(0,Re.jsxs)("div",{className:"lg:col-span-7",children:[(0,Re.jsxs)(F0.h1,{initial:n?{opacity:1,y:0}:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:70,damping:15},className:"text-5xl md:text-6xl font-extrabold leading-tight tracking-tight",children:[a,!n&&(0,Re.jsx)("span",{className:"inline-block ml-1 align-middle w-[2px] h-[1.2em] bg-slate-900 dark:bg-slate-100 animate-pulse","aria-hidden":"true"})]}),(0,Re.jsx)(F0.p,{initial:n?{opacity:1}:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.08,type:"spring",stiffness:60,damping:16},className:"mt-6 text-lg md:text-xl text-slate-600 dark:text-slate-300 dark:text-slate-300 max-w-2xl",children:"Simple workflows, clear approvals, and transparent reporting for NGOs, corporate social responsibility teams, and small organizations. Built for collaboration and accountability."}),(0,Re.jsxs)(F0.div,{initial:n?{opacity:1,y:0}:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.16,type:"spring",stiffness:70,damping:15},className:"mt-8 flex items-center gap-4",children:[(0,Re.jsx)(F0.div,{whileHover:{scale:1.03},whileTap:{scale:.98},children:(0,Re.jsx)(Qn,{to:"/register",className:"inline-flex items-center gap-2 px-6 py-4 rounded-full button-brand shadow-lg",children:"Get started free"})}),(0,Re.jsx)(F0.div,{whileHover:{scale:1.03},whileTap:{scale:.98},children:(0,Re.jsx)(Qn,{to:"#",className:"inline-flex items-center gap-2 px-5 py-4 rounded-full button-outline shadow-sm",children:"\u25b6 Watch demo"})})]})]}),(0,Re.jsx)("div",{className:"lg:col-span-5 relative",children:(0,Re.jsxs)(F0.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.45},className:"bg-card-modern border rounded-3xl shadow-2xl p-6 dark:bg-slate-900/80 relative z-10",children:[(0,Re.jsx)("div",{className:"text-xs text-slate-500",children:"Overview"}),(0,Re.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 dark:border dark:border-slate-700",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("img",{src:"/income.png",alt:"Income",className:"w-5 h-5 opacity-80"}),(0,Re.jsx)("div",{className:"text-xs text-slate-500",children:"Funds"})]}),(0,Re.jsx)("div",{className:"text-xl font-semibold mt-1",children:"KES 12,400"})]}),(0,Re.jsxs)("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 dark:border dark:border-slate-700",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("img",{src:"/expences.png",alt:"Expenses",className:"w-5 h-5 opacity-80"}),(0,Re.jsx)("div",{className:"text-xs text-slate-500",children:"Expenses"})]}),(0,Re.jsx)("div",{className:"text-xl font-semibold mt-1",children:"KES 3,100"})]}),(0,Re.jsxs)("div",{className:"col-span-2 mt-2 p-4 rounded-xl bg-white border border-slate-100 dark:bg-gradient-to-b dark:from-slate-800/60 dark:to-slate-900/60",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Re.jsx)("div",{className:"font-semibold",children:"Last 30 days"}),(0,Re.jsx)("div",{className:"text-xs text-slate-500",children:"KSh"})]}),(0,Re.jsx)("div",{className:"mt-3 h-44 rounded-lg overflow-hidden",children:(0,Re.jsx)("img",{src:"/reports.png",alt:"Financial Reports",className:"w-full h-full object-cover"})})]})]})]})})]}),(0,Re.jsx)("div",{className:"-mx-6 sm:-mx-8 lg:-mx-10",children:(0,Re.jsxs)("div",{className:"relative overflow-hidden w-full max-w-none rounded-2xl border border-slate-200/70 bg-white/60 dark:bg-slate-800/40 dark:border-slate-700/60 py-1.5 md:py-2 px-3 sm:px-4",children:[(0,Re.jsx)("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs uppercase tracking-wide text-slate-500",children:(0,Re.jsx)("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:"Trusted by"})}),n?(0,Re.jsx)("div",{className:"mt-1.5 flex flex-wrap gap-3",children:["NGO","Community Org","CSR","Health Fund","Education Trust"].map(e=>(0,Re.jsx)("div",{className:"px-3 md:px-4 py-1 rounded-none bg-white/70 shadow-sm backdrop-blur-sm dark:bg-slate-900/40 text-slate-700 dark:text-slate-200",children:e},e))}):(0,Re.jsxs)("div",{className:"mt-1.5 relative",children:[(0,Re.jsx)(F0.div,{className:"flex gap-4 md:gap-6",animate:{x:["0%","-50%"]},transition:{duration:22,repeat:1/0,ease:"linear"},children:["NGO","Community Org","CSR","Health Fund","Education Trust","Relief Network","Climate Alliance","Local Council"].concat(["NGO","Community Org","CSR","Health Fund","Education Trust","Relief Network","Climate Alliance","Local Council"]).map((e,t)=>(0,Re.jsx)("div",{className:"px-3 md:px-4 py-1 rounded-none bg-white/70 shadow-sm backdrop-blur-sm dark:bg-slate-900/40 text-slate-700 dark:text-slate-200",children:e},e+t))}),(0,Re.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-24 bg-gradient-to-r from-white/80 to-transparent dark:from-slate-800/60"}),(0,Re.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-24 bg-gradient-to-l from-white/80 to-transparent dark:from-slate-800/60"})]})]})}),(0,Re.jsx)("section",{id:"features",className:"mt-8 md:mt-16",children:[{tag:"Feature 01",title:"Stay in control of your income streams.",text:"From donor grants to internal projects, Fundify helps you record, categorize, and monitor every shilling that comes in so you always know where your funds stand.",mock:"Income dashboard"},{tag:"Feature 02",title:"See where every coin goes.",text:"Track expenses across categories like salaries, rent, transport, and field operations  complete with real-time breakdowns and smart spending insights.",mock:"Expense breakdown"},{tag:"Feature 03",title:"Handle multiple projects effortlessly.",text:"Each donor or project gets its own workspace. Fundify keeps all their transactions, budgets, and reports separate but easy to access in one platform.",mock:"Projects & donors"},{tag:"Feature 04",title:"Visualize impact instantly.",text:"Interactive dashboards and auto-generated reports help you share clear, credible data with your team and funders \u2014 without spending hours in Excel.",mock:"Analytics & reports"},{tag:"Feature 05",title:"Your financial data always safe.",text:"Built with Firebase security and encrypted access, Fundify ensures your organization\u2019s finances are protected yet accessible anytime, anywhere.",mock:"Secure platform"}].map((e,t)=>(0,Re.jsx)(F0.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.6},className:"py-24",children:(0,Re.jsxs)("div",{className:"mx-auto max-w-6xl grid md:grid-cols-2 gap-10 items-center ".concat(t%2===1?"md:[&>div:first-child]:order-2":""),children:[(0,Re.jsxs)(F0.div,{variants:h,initial:"hidden",whileInView:"show",viewport:{once:!0,margin:"-80px"},children:[(0,Re.jsx)(F0.div,{variants:f,className:"uppercase tracking-wider text-xs font-semibold text-sky-600 dark:text-sky-400",children:e.tag}),(0,Re.jsx)(F0.h3,{variants:f,className:"mt-2 text-4xl md:text-5xl font-semibold text-gray-900 dark:text-slate-100",children:e.title}),(0,Re.jsx)(F0.p,{variants:f,className:"mt-4 text-lg text-gray-600 dark:text-slate-300 leading-relaxed max-w-xl",children:e.text})]}),(0,Re.jsxs)(F0.div,{className:"relative",variants:p,initial:"initial",whileInView:"in",animate:n?void 0:"float",viewport:{once:!0},style:{y:t%2===1?u:d},children:[t%2===1&&(0,Re.jsx)("div",{className:"pointer-events-none absolute -inset-6 -z-10 rounded-3xl bg-gradient-to-br from-sky-300/30 to-indigo-300/20 blur-2xl dark:from-sky-500/10 dark:to-indigo-500/10"}),(0,Re.jsxs)(F0.div,{whileHover:{scale:1.02,rotate:.2},className:"rounded-2xl shadow-lg overflow-hidden bg-gradient-to-br from-gray-50 to-white dark:from-slate-800/40 dark:to-slate-900/40 border border-slate-100/80 dark:border-slate-700/50",children:[(0,Re.jsxs)("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex items-center gap-2",children:[(0,Re.jsx)("div",{className:"h-3 w-3 rounded-full bg-rose-400"}),(0,Re.jsx)("div",{className:"h-3 w-3 rounded-full bg-amber-400"}),(0,Re.jsx)("div",{className:"h-3 w-3 rounded-full bg-emerald-400"}),(0,Re.jsx)("div",{className:"ml-3 text-xs text-slate-500 dark:text-slate-400",children:e.mock})]}),(0,Re.jsxs)("div",{className:"p-6",children:[(0,Re.jsxs)("div",{className:"relative h-40 rounded-lg overflow-hidden",children:[0===t&&(0,Re.jsx)("img",{src:"/dashbord.png",alt:"Income Dashboard",className:"w-full h-full object-cover"}),1===t&&(0,Re.jsx)("img",{src:"/expences.png",alt:"Expense Tracking",className:"w-full h-full object-contain"}),2===t&&(0,Re.jsx)("img",{src:"/reports.png",alt:"Project Management",className:"w-full h-full object-cover"}),3===t&&(0,Re.jsx)("img",{src:"/dashbord2.png",alt:"Analytics Dashboard",className:"w-full h-full object-cover"}),4===t&&(0,Re.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900",children:(0,Re.jsxs)("div",{className:"text-center p-4",children:[(0,Re.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udd12"}),(0,Re.jsx)("div",{className:"text-sm font-medium",children:"Bank-Grade Security"})]})}),(0,Re.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),(0,Re.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-3",children:[(0,Re.jsx)("div",{className:"h-16 rounded-md bg-slate-50 dark:bg-slate-800/60 flex items-center justify-center",children:(0,Re.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:0===t?"Grants":1===t?"Expenses":2===t?"Projects":3===t?"Charts":"99.9%"})}),(0,Re.jsx)("div",{className:"h-16 rounded-md bg-slate-50 dark:bg-slate-800/60 flex items-center justify-center",children:(0,Re.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:0===t?"Donations":1===t?"Categories":2===t?"Donors":3===t?"Reports":"Uptime"})}),(0,Re.jsx)("div",{className:"h-16 rounded-md bg-slate-50 dark:bg-slate-800/60 flex items-center justify-center",children:(0,Re.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:0===t?"Projects":1===t?"Trends":2===t?"Budgets":3===t?"Export":"Secure"})})]})]})]})]})]})},e.tag))}),(0,Re.jsx)("section",{id:"screenshots",className:"mt-20",children:(0,Re.jsx)("div",{className:"max-w-7xl mx-auto px-6",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[(0,Re.jsx)("div",{className:"lg:col-span-9",children:(0,Re.jsx)("div",{role:"img","aria-label":"Dashboard screenshot",className:"rounded-3xl overflow-hidden shadow-2xl border border-slate-100 dark:border-0 dark:shadow-none dark:bg-transparent bg-card-modern",children:(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("img",{src:"/dashbord.png",alt:"Dashboard overview showing financial metrics and charts",className:"w-full h-[420px] md:h-[520px] lg:h-[680px] object-cover rounded-2xl opacity-95 dark:opacity-90 dark:brightness-75 transition-all duration-300 hover:opacity-100"}),(0,Re.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none"})]})})}),(0,Re.jsxs)("div",{className:"lg:col-span-3 lg:self-start lg:sticky lg:top-24",children:[(0,Re.jsx)("h3",{className:"text-2xl font-semibold",children:"What you'll see"}),(0,Re.jsx)("p",{className:"mt-3 text-slate-600 dark:text-slate-300",children:"A unified dashboard showing funds, expenses, approvals and quick insights. Use this view to monitor cash flow, spot anomalies, and export reports for stakeholders."}),(0,Re.jsxs)("div",{className:"mt-6 space-y-3 text-sm text-slate-600 dark:text-slate-400",children:[(0,Re.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Re.jsx)("div",{className:"mt-1 text-emerald-500",children:"\u25cf"}),(0,Re.jsx)("div",{children:"Live dashboards & CSV exports"})]}),(0,Re.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Re.jsx)("div",{className:"mt-1 text-amber-500",children:"\u25cf"}),(0,Re.jsx)("div",{children:"Approval workflow preview"})]}),(0,Re.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Re.jsx)("div",{className:"mt-1 text-sky-500",children:"\u25cf"}),(0,Re.jsx)("div",{children:"Project-level budget view"})]})]}),(0,Re.jsxs)("div",{className:"mt-6 flex items-center gap-4",children:[(0,Re.jsx)(Qn,{to:"/register",className:"px-5 py-3 rounded-md button-brand",children:"Get started"}),(0,Re.jsx)(Qn,{to:"#",className:"px-4 py-3 rounded-md button-outline",children:"Watch demo"})]})]})]})})}),(0,Re.jsx)("section",{className:"mt-12 py-12 rounded-2xl bg-gradient-to-r from-sky-600 to-indigo-600 text-white",children:(0,Re.jsxs)("div",{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-lg font-semibold",children:"Ready to start managing funds with clarity?"}),(0,Re.jsx)("div",{className:"mt-1 text-sm opacity-90",children:"Start for free  onboard your team and import your first project in minutes."})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Re.jsx)(Qn,{to:"/register",className:"px-5 py-3 rounded-md bg-white text-sky-700 font-semibold hover:opacity-95",children:"Get started free"}),(0,Re.jsx)(Qn,{to:"#",className:"px-4 py-3 rounded-md border border-white/30 hover:bg-white/10",children:"Watch demo"})]})]})}),(0,Re.jsx)("footer",{className:"mt-20 pt-12 pb-6 text-sm text-slate-700 dark:text-slate-300",children:(0,Re.jsxs)("div",{className:"max-w-7xl mx-auto px-6",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 pb-8 border-b border-slate-100 dark:border-slate-800",children:[(0,Re.jsxs)("div",{className:"md:col-span-4",children:[(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsx)("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-sky-500 to-indigo-600 shadow-sm","aria-hidden":"true"}),(0,Re.jsx)("div",{className:"font-semibold text-lg brand-logo dark:text-slate-100",children:"Fundify"})]}),(0,Re.jsx)("p",{className:"mt-4 text-slate-600 dark:text-slate-400 max-w-sm",children:"Manage grants, donors, and projects with clarity. Secure, collaborative, and built for accountability."})]}),(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Product"}),(0,Re.jsxs)("ul",{className:"mt-3 space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)(Qn,{to:"/how",className:"footer-link",children:"How it works"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)(Qn,{to:"/pricing",className:"footer-link",children:"Pricing"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)(Qn,{to:"/register",className:"footer-link",children:"Get started"})})]})]}),(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Company"}),(0,Re.jsxs)("ul",{className:"mt-3 space-y-2",children:[(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#",className:"footer-link",children:"About"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#",className:"footer-link",children:"Careers"})}),(0,Re.jsx)("li",{children:(0,Re.jsx)("a",{href:"#",className:"footer-link",children:"Contact"})})]})]}),(0,Re.jsxs)("div",{className:"md:col-span-4",children:[(0,Re.jsx)("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Stay updated"}),(0,Re.jsx)("p",{className:"mt-2 text-slate-600 dark:text-slate-400",children:"Get product updates and tips to run your programs better."}),(0,Re.jsxs)("form",{className:"mt-4 flex gap-2 max-w-md",onSubmit:e=>e.preventDefault(),children:[(0,Re.jsx)("input",{"aria-label":"Email",type:"email",placeholder:"Your email",className:"w-full px-3 py-2 rounded-md border border-slate-200 bg-white dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100"}),(0,Re.jsx)("button",{className:"px-4 py-2 rounded-md button-brand",children:"Subscribe"})]}),(0,Re.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,Re.jsx)("a",{href:"#","aria-label":"Twitter",className:"p-2 rounded-md bg-white/80 dark:bg-slate-800/60 footer-social",children:"T"}),(0,Re.jsx)("a",{href:"#","aria-label":"LinkedIn",className:"p-2 rounded-md bg-white/80 dark:bg-slate-800/60 footer-social",children:"in"}),(0,Re.jsx)("a",{href:"#","aria-label":"GitHub",className:"p-2 rounded-md bg-white/80 dark:bg-slate-800/60 footer-social",children:"GH"})]})]})]}),(0,Re.jsxs)("div",{className:"mt-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,Re.jsxs)("div",{className:"text-xs text-slate-500",children:["\xa9 ",(new Date).getFullYear()," Fundify  Simple fund management for organizations."]}),(0,Re.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Re.jsx)(Qn,{to:"/login",className:"footer-link",children:"Log in"}),(0,Re.jsx)(Qn,{to:"/privacy",className:"footer-link",children:"Privacy"}),(0,Re.jsx)(Qn,{to:"/terms",className:"footer-link",children:"Terms"})]})]})]})})]})]})}const B0=()=>{const e=Bt(),t=new URLSearchParams(e.search),n=t.get("name")||"",r=t.get("email")||"",a=t.get("redirect")||null,[s,l]=(0,i.useState)({name:n,email:r,password:"",confirmPassword:""}),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),{register:f,login:p}=yl(),{switchOrg:m}=wl(),g=Ht(),v=e=>{const{name:t,value:n}=e.target;l(e=>(0,o.A)((0,o.A)({},e),{},{[t]:n}))};return(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-neutral-base bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-50 via-white to-blue-100 py-12 px-4 sm:px-6 lg:px-8 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:(0,Re.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-slate-100",children:"Create a new account"}),(0,Re.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-slate-300",children:["Or"," ",(0,Re.jsx)(Qn,{to:"/login",className:"font-medium brand-text hover:underline",children:"sign in to your existing account"})]})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Create account"})}),(0,Re.jsxs)(HK,{children:[c&&(0,Re.jsx)("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4 dark:bg-rose-900/20 dark:border-rose-700",children:(0,Re.jsxs)("div",{className:"flex",children:[(0,Re.jsx)("div",{className:"flex-shrink-0",children:(0,Re.jsx)("svg",{className:"h-5 w-5 text-amber-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Re.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Re.jsx)("div",{className:"ml-3",children:(0,Re.jsx)("p",{className:"text-sm text-red-700 dark:text-rose-300",children:c})})]})}),(0,Re.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault(),u("");const{name:n,email:r,password:i,confirmPassword:l}=s;if(n&&r&&i&&l)if(i===l)if(i.length<8)u("Password must be at least 8 characters long");else try{h(!0);const{success:s,error:l,user:d}=await f({name:n,email:r,password:i},new URLSearchParams(e.search).get("orgId")?{profile:{hasCompletedSetup:!0,isUserProfile:!0},createProfile:!0}:{});if(s){try{await p(r,i)}catch(c){console.warn("Auto-login after registration failed:",(null===c||void 0===c?void 0:c.message)||c)}try{const t=new URLSearchParams(e.search),n=t.get("orgId"),r=t.get("token");if(n&&r&&d){const e=(0,ol.H9)(fl,"orgs",n),t=await(0,ol.getDoc)(e);if(t.exists()){const i=t.data(),s=Array.isArray(i.invites)?i.invites:[],l=s.find(e=>e.token===r);if(l){const t=d.id;if(l.email&&l.email.toLowerCase()!==(d.email||"").toLowerCase())return u("Your account email does not match the invited email. Please sign in with the invited email to accept."),void g("/login");const c=Array.isArray(i.memberships)?i.memberships:[],h=c.some(e=>e.userId===t),f="finance"===l.role?"financial_officer":l.role||"viewer",p={userId:t,email:d.email||"",role:f,addedAt:(new Date).toISOString()},v=h?c.map(e=>e.userId===t?(0,o.A)((0,o.A)({},e),{},{role:f||e.role}):e):[...c,p],y=Array.isArray(i.members)?h?i.members:Array.from(new Set([...i.members||[],t])):[t],x=s.filter(e=>e.token!==r);console.log("Register: Accepting invitation for user:",t,"org:",n),console.log("Register: New membership:",p),console.log("Register: Next memberships:",v),console.log("Register: Next members:",y);const b={id:t,name:(null===l||void 0===l?void 0:l.name)||(d.email||"").split("@")[0]||"Funder",email:d.email||(null===l||void 0===l?void 0:l.email)||"",status:"active",createdAt:(new Date).toISOString()},w=[...(Array.isArray(i.funders)?i.funders:[]).filter(e=>e&&e.id!==b.id),b];return await(0,ol.mZ)(e,{memberships:v,members:y,invites:x,funders:w}),console.log("Register: Successfully updated organization with new member and funder"),m(n),console.log("Register: Switched to organization:",n),void g(a||"/app/funders/portal/".concat(t))}}}}catch(t){console.error("Accept invite after signup failed",t)}if(a)g(a);else{const t=new URLSearchParams(e.search).get("orgId");g(t?"/setup?orgId=".concat(t):"/setup")}}else u(l||"Failed to register. Please try again.")}catch(d){u("An error occurred. Please try again."),console.error("Registration error:",d)}finally{h(!1)}else u("Passwords do not match");else u("Please fill in all fields")},children:[(0,Re.jsx)(VK,{id:"name",name:"name",type:"text",required:!0,label:"Organization Name",value:s.name,onChange:v}),(0,Re.jsx)(VK,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,label:"Email address",value:s.email,onChange:v}),(0,Re.jsx)(VK,{id:"password",name:"password",type:"password",required:!0,label:"Password",value:s.password,onChange:v,minLength:"8"}),(0,Re.jsx)(VK,{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,label:"Confirm Password",value:s.confirmPassword,onChange:v,minLength:"8"}),(0,Re.jsx)("div",{children:(0,Re.jsx)(GK,{type:"submit",disabled:d,className:"w-full justify-center",variant:"primary",children:d?"Creating account...":"Create Account"})})]}),(0,Re.jsxs)("div",{className:"mt-6",children:[(0,Re.jsxs)("div",{className:"relative",children:[(0,Re.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Re.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-slate-700"})}),(0,Re.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Re.jsx)("span",{className:"px-2 bg-white text-gray-500 dark:bg-slate-900 dark:text-slate-400",children:"Already have an account?"})})]}),(0,Re.jsx)("div",{className:"mt-6",children:(0,Re.jsx)(Qn,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-slate-300 rounded-md shadow-sm text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 focus:outline-none dark:border-slate-700 dark:text-slate-100 dark:bg-slate-800 dark:hover:bg-slate-700",children:"Sign in"})})]})]})]})]})})};function U0(){return(0,Re.jsx)("main",{className:"min-h-screen bg-neutral-base dark:bg-[#071022] py-20",children:(0,Re.jsxs)("div",{className:"max-w-6xl mx-auto px-6",children:[(0,Re.jsx)("h1",{className:"text-4xl font-extrabold mb-6 text-slate-900 dark:text-slate-100",children:"Pricing"}),(0,Re.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-3xl",children:"Choose a plan that fits your team's size and needs. Upgrade anytime."}),(0,Re.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Re.jsxs)("div",{className:"p-6 bg-card-modern rounded-xl shadow-sm dark:bg-slate-800/60",children:[(0,Re.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Starter"}),(0,Re.jsx)("div",{className:"mt-4 text-3xl font-bold",children:"Free"}),(0,Re.jsx)("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:"Basic fund tracking for small teams"}),(0,Re.jsx)("div",{className:"mt-6",children:(0,Re.jsx)(Qn,{to:"/register",className:"px-4 py-2 rounded-full bg-primary text-white",children:"Get started"})})]}),(0,Re.jsxs)("div",{className:"p-6 bg-white rounded-xl shadow-sm border-2 border-primary dark:bg-slate-800/60 dark:border-slate-700",children:[(0,Re.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Pro"}),(0,Re.jsx)("div",{className:"mt-4 text-3xl font-bold",children:"KES 2,499/mo"}),(0,Re.jsx)("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:"Advanced features for organizations"}),(0,Re.jsx)("div",{className:"mt-6",children:(0,Re.jsx)(Qn,{to:"/register",className:"px-4 py-2 rounded-full bg-primary text-white",children:"Start Pro"})})]}),(0,Re.jsxs)("div",{className:"p-6 bg-card-modern rounded-xl shadow-sm dark:bg-slate-800/60",children:[(0,Re.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Enterprise"}),(0,Re.jsx)("div",{className:"mt-4 text-3xl font-bold",children:"Custom"}),(0,Re.jsx)("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:"Custom plans and integrations"}),(0,Re.jsx)("div",{className:"mt-6",children:(0,Re.jsx)(Qn,{to:"/register",className:"px-4 py-2 rounded-full border border-slate-200 dark:border-slate-600",children:"Contact Sales"})})]})]})]})})}function W0(){return(0,Re.jsx)("main",{className:"min-h-screen bg-neutral-base dark:bg-[#071022] py-20",children:(0,Re.jsxs)("div",{className:"max-w-6xl mx-auto px-6",children:[(0,Re.jsx)("h1",{className:"text-4xl font-extrabold mb-6 text-slate-900 dark:text-slate-100",children:"How it works"}),(0,Re.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-3xl",children:"A clear four-step flow to get your projects funded, tracked, and reported with confidence."}),(0,Re.jsxs)("div",{className:"mt-10 grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Re.jsxs)("div",{className:"p-6 rounded-xl bg-card-modern dark:bg-slate-800/60 shadow-sm",children:[(0,Re.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"1. Create projects"}),(0,Re.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Define budgets, assign funders and teams."})]}),(0,Re.jsxs)("div",{className:"p-6 rounded-xl bg-card-modern dark:bg-slate-800/60 shadow-sm",children:[(0,Re.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"2. Record income"}),(0,Re.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Record and allocate incoming funds."})]}),(0,Re.jsxs)("div",{className:"p-6 rounded-xl bg-card-modern dark:bg-slate-800/60 shadow-sm",children:[(0,Re.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"3. Approve expenses"}),(0,Re.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Use approval flows for governance."})]}),(0,Re.jsxs)("div",{className:"p-6 rounded-xl bg-card-modern dark:bg-slate-800/60 shadow-sm",children:[(0,Re.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"4. Share reports"}),(0,Re.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Export CSVs or share clean dashboards."})]})]}),(0,Re.jsx)("div",{className:"mt-12",children:(0,Re.jsx)(Qn,{to:"/register",className:"inline-block bg-primary text-white px-6 py-3 rounded-full",children:"Get started"})})]})})}function H0(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),{resetPassword:c}=yl();return(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-neutral-base bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-50 via-white to-blue-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,Re.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-gray-900",children:"Reset your password"}),(0,Re.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Remembered it?"," ",(0,Re.jsx)(Qn,{to:"/login",className:"font-medium brand-text hover:underline",children:"Back to sign in"})]})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Forgot password"})}),(0,Re.jsxs)(HK,{children:[n&&(0,Re.jsx)("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:(0,Re.jsx)("p",{className:"text-sm text-red-700",children:n})}),a&&(0,Re.jsx)("div",{className:"mb-4 bg-emerald-50 border-l-4 border-emerald-400 p-4",children:(0,Re.jsx)("p",{className:"text-sm text-emerald-700",children:a})}),(0,Re.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),r(""),s(""),e)try{l(!0);const t=await c(e);null!==t&&void 0!==t&&t.success?s("If an account exists for this email, a password reset link has been sent."):r((null===t||void 0===t?void 0:t.error)||"Failed to send reset email")}catch(n){r("Failed to send reset email"),console.error(n)}finally{l(!1)}else r("Please enter your email address")},children:[(0,Re.jsx)(VK,{id:"email",name:"email",type:"email",label:"Email address",value:e,onChange:e=>t(e.target.value),required:!0}),(0,Re.jsx)("div",{children:(0,Re.jsx)(GK,{type:"submit",disabled:o,className:"w-full justify-center",children:o?"Sending...":"Send reset link"})})]})]})]})]})})}const K0=["NGO","Nonprofit","SME","Social Enterprise","Other"],q0=["Grant","Donation","Internal Project","Other"],G0=["Salaries","Office Rent","Utilities","Transport"];function Y0(){return Math.random().toString(36).slice(2,10)}function Q0(){var e;const{user:t,updateUser:n}=yl(),r=Ht(),[a,s]=(0,i.useState)(1),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)({}),[h,f]=(0,i.useState)({name:(null===t||void 0===t?void 0:t.name)||"",sector:K0[0],country:"",currency:(null===t||void 0===t||null===(e=t.orgSettings)||void 0===e?void 0:e.currency)||"USD"}),[p,m]=(0,i.useState)([{id:Y0(),name:"",type:q0[0],initialBalance:""}]),[g,v]=(0,i.useState)([]),[y,x]=(0,i.useState)([...G0]),b=(0,i.useMemo)(()=>Math.round((a-1)/4*100),[a]),w=e=>{const t={};if(1===e&&(h.name.trim()||(t.name="Organization name is required"),h.country.trim()||(t.country="Country is required"),h.currency.trim()||(t.currency="Currency is required")),2===e){p.some(e=>e.name.trim())||(t.funders="Add at least one funder/donor")}return d(t),0===Object.keys(t).length},k=()=>s(e=>Math.min(5,e+1)),_=()=>m(e=>[...e,{id:Y0(),name:"",type:q0[0],initialBalance:""}]);return(0,Re.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-[#F9FAFB] relative overflow-hidden py-10 px-4 dark:bg-slate-950",children:[(0,Re.jsxs)("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[(0,Re.jsx)("div",{className:"absolute -left-32 -top-24 w-96 h-96 bg-gradient-to-tr from-gray-100 to-gray-200 opacity-60 rounded-full filter blur-3xl transform rotate-12 animate-pulse"}),(0,Re.jsx)("div",{className:"absolute -right-24 -bottom-20 w-80 h-80 bg-gradient-to-br from-gray-100 to-gray-200 opacity-50 rounded-full filter blur-2xl transform -rotate-12"}),(0,Re.jsx)("svg",{className:"absolute right-0 top-0 -mt-20 -mr-20 w-[600px] opacity-10",viewBox:"0 0 600 600",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Re.jsx)("g",{transform:"translate(300,300)",children:(0,Re.jsx)("path",{d:"M120,-160C150,-120,170,-80,180,-40C190,0,190,40,170,80C150,120,120,160,80,180C40,200,0,200,-40,190C-80,180,-120,160,-150,120C-180,80,-200,40,-200,0C-200,-40,-180,-80,-150,-120C-120,-160,-80,-190,-40,-200C0,-210,40,-200,80,-180C120,-160,120,-160,120,-160Z",fill:"#1E3A8A"})})}),(0,Re.jsx)("div",{className:"absolute left-10 top-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-pink-100 via-purple-100 to-indigo-100 opacity-30 rounded-full filter blur-2xl animate-pulse"})]}),(0,Re.jsxs)("div",{className:"w-full max-w-3xl bg-white/80 supports-[backdrop-filter]:bg-white/60 backdrop-blur-sm rounded-2xl shadow-xl ring-1 ring-black/5 dark:bg-slate-900/80 dark:supports-[backdrop-filter]:bg-slate-900/60 dark:ring-slate-700 dark:text-slate-100 dark:shadow-none",children:[(0,Re.jsxs)("div",{className:"px-6 sm:px-8 pt-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Step ",a," of ",5]}),(0,Re.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-1 dark:text-slate-100",children:"Organization Setup"})]})}),(0,Re.jsx)("div",{className:"mt-4 h-2 w-full bg-gray-100 rounded-full overflow-hidden dark:bg-slate-800",children:(0,Re.jsx)("div",{className:"h-full brand-accent transition-all",style:{width:"".concat(b,"%")}})})]}),(0,Re.jsxs)("div",{className:"px-6 sm:px-8 py-6",children:[1===a&&(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Organization Name"}),(0,Re.jsx)("input",{className:"w-full border ".concat(u.name?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:focus:ring-slate-700"),value:h.name,onChange:e=>f((0,o.A)((0,o.A)({},h),{},{name:e.target.value}))}),u.name&&(0,Re.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-rose-300",children:u.name})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Sector"}),(0,Re.jsx)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:h.sector,onChange:e=>f((0,o.A)((0,o.A)({},h),{},{sector:e.target.value})),children:K0.map(e=>(0,Re.jsx)("option",{value:e,children:e},e))})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Country"}),(0,Re.jsx)("input",{className:"w-full border ".concat(u.country?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:focus:ring-slate-700"),value:h.country,onChange:e=>f((0,o.A)((0,o.A)({},h),{},{country:e.target.value}))}),u.country&&(0,Re.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-rose-300",children:u.country})]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Currency"}),(0,Re.jsxs)("select",{className:"w-full border ".concat(u.currency?"border-red-500":"border-gray-300"," rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:focus:ring-slate-700"),value:h.currency,onChange:e=>f((0,o.A)((0,o.A)({},h),{},{currency:e.target.value})),children:[(0,Re.jsx)("option",{value:"USD",children:"USD ($)"}),(0,Re.jsx)("option",{value:"EUR",children:"EUR (\u20ac)"}),(0,Re.jsx)("option",{value:"GBP",children:"GBP (\xa3)"}),(0,Re.jsx)("option",{value:"KES",children:"KES (KSh)"}),(0,Re.jsx)("option",{value:"NGN",children:"NGN (\u20a6)"})]}),u.currency&&(0,Re.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-rose-300",children:u.currency})]})]}),2===a&&(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Funding Sources"}),(0,Re.jsx)(GK,{size:"sm",onClick:_,children:"Add Funder"})]}),u.funders&&(0,Re.jsx)("p",{className:"mb-3 text-sm text-red-600 dark:text-rose-300",children:u.funders}),(0,Re.jsx)("div",{className:"space-y-4",children:p.map((e,t)=>(0,Re.jsxs)("div",{className:"rounded-lg border border-gray-200 p-4 bg-white dark:border-slate-700 dark:bg-slate-900/70 dark:text-slate-100",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-3",children:[(0,Re.jsxs)("div",{className:"sm:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Funder/Donor Name"}),(0,Re.jsx)("input",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:e.name,onChange:t=>m(n=>n.map(n=>n.id===e.id?(0,o.A)((0,o.A)({},n),{},{name:t.target.value}):n))})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Funding Type"}),(0,Re.jsx)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:e.type,onChange:t=>m(n=>n.map(n=>n.id===e.id?(0,o.A)((0,o.A)({},n),{},{type:t.target.value}):n)),children:q0.map(e=>(0,Re.jsx)("option",{value:e,children:e},e))})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Initial Balance (optional)"}),(0,Re.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:e.initialBalance,onChange:t=>m(n=>n.map(n=>n.id===e.id?(0,o.A)((0,o.A)({},n),{},{initialBalance:t.target.value}):n))})]}),(0,Re.jsx)("div",{className:"flex items-end justify-end",children:p.length>1&&(0,Re.jsx)(GK,{variant:"outline",size:"sm",onClick:()=>(e=>m(t=>t.filter(t=>t.id!==e)))(e.id),children:"Remove"})})]}),t===p.length-1&&(0,Re.jsx)("div",{className:"mt-3",children:(0,Re.jsx)("button",{onClick:_,className:"text-sm text-sky-700 hover:underline",children:"+ Add another funder"})})]},e.id))})]}),3===a&&(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Projects Setup (optional)"}),(0,Re.jsxs)("div",{className:"space-x-2",children:[(0,Re.jsx)(GK,{onClick:()=>v(e=>{var t;return[...e,{id:Y0(),name:"",funderId:(null===(t=p[0])||void 0===t?void 0:t.id)||"",budget:"",startDate:"",endDate:""}]}),disabled:0===p.filter(e=>e.name.trim()).length,size:"sm",children:"Add Project"}),(0,Re.jsx)(GK,{variant:"secondary",size:"sm",onClick:k,children:"Skip for now"})]})]}),0===p.filter(e=>e.name.trim()).length&&(0,Re.jsx)("p",{className:"text-sm text-gray-600 mb-3 dark:text-slate-400",children:"Add at least one funder in the previous step to tie projects."}),(0,Re.jsxs)("div",{className:"space-y-4",children:[g.map(e=>(0,Re.jsx)("div",{className:"rounded-lg border border-gray-200 p-4 bg-white dark:border-slate-700 dark:bg-slate-900/70 dark:text-slate-100",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-6 gap-3",children:[(0,Re.jsxs)("div",{className:"sm:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project Name"}),(0,Re.jsx)("input",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:e.name,onChange:t=>v(n=>n.map(n=>n.id===e.id?(0,o.A)((0,o.A)({},n),{},{name:t.target.value}):n))})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Funder"}),(0,Re.jsxs)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:e.funderId,onChange:t=>v(n=>n.map(n=>n.id===e.id?(0,o.A)((0,o.A)({},n),{},{funderId:t.target.value}):n)),children:[(0,Re.jsx)("option",{value:"",children:"Select funder"}),p.filter(e=>e.name.trim()).map(e=>(0,Re.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Budget"}),(0,Re.jsx)("input",{type:"number",min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:e.budget,onChange:t=>v(n=>n.map(n=>n.id===e.id?(0,o.A)((0,o.A)({},n),{},{budget:t.target.value}):n))})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Start"}),(0,Re.jsx)("input",{type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:e.startDate,onChange:t=>v(n=>n.map(n=>n.id===e.id?(0,o.A)((0,o.A)({},n),{},{startDate:t.target.value}):n))})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"End"}),(0,Re.jsx)("input",{type:"date",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:e.endDate,onChange:t=>v(n=>n.map(n=>n.id===e.id?(0,o.A)((0,o.A)({},n),{},{endDate:t.target.value}):n))})]}),(0,Re.jsx)("div",{className:"flex items-end justify-end",children:(0,Re.jsx)(GK,{variant:"outline",size:"sm",onClick:()=>(e=>v(t=>t.filter(t=>t.id!==e)))(e.id),children:"Remove"})})]})},e.id)),0===g.length&&(0,Re.jsx)("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"No projects added yet."})]})]}),4===a&&(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Internal Operations (optional)"}),(0,Re.jsxs)("div",{className:"space-x-2",children:[(0,Re.jsx)(GK,{size:"sm",onClick:()=>x(e=>[...e,""]),children:"Add Category"}),(0,Re.jsx)(GK,{variant:"secondary",size:"sm",onClick:k,children:"Skip for now"})]})]}),(0,Re.jsxs)("div",{className:"space-y-3",children:[y.map((e,t)=>(0,Re.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Re.jsx)("input",{className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700 dark:focus:ring-slate-700",value:e,onChange:e=>x(n=>n.map((n,r)=>r===t?e.target.value:n))}),(0,Re.jsx)(GK,{variant:"outline",size:"sm",onClick:()=>(e=>x(t=>t.filter((t,n)=>n!==e)))(t),children:"Remove"})]},t)),0===y.length&&(0,Re.jsx)("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"No categories added yet."})]})]}),5===a&&(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Review & Finish"}),(0,Re.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-slate-700 dark:bg-slate-900/70",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-0",children:[(0,Re.jsxs)("div",{className:"p-4 border-b sm:border-b-0 sm:border-r border-gray-200 dark:border-slate-700",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Organization"}),(0,Re.jsxs)("div",{className:"mt-2 text-gray-900 dark:text-slate-100",children:[(0,Re.jsx)("div",{className:"font-medium",children:h.name}),(0,Re.jsxs)("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:[h.sector," \u2022 ",h.country]}),(0,Re.jsxs)("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:["Currency: ",h.currency]})]})]}),(0,Re.jsxs)("div",{className:"p-4",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Internal Operations"}),(0,Re.jsx)("div",{className:"mt-2 text-gray-900 text-sm dark:text-slate-100",children:y.length?y.join(", "):"None"})]})]}),(0,Re.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-500 mb-2 dark:text-slate-400",children:"Funders"}),p.filter(e=>e.name.trim()).length?(0,Re.jsx)("div",{className:"space-y-1",children:p.filter(e=>e.name.trim()).map(e=>(0,Re.jsxs)("div",{className:"text-sm text-gray-900 dark:text-slate-100",children:[e.name," \u2014 ",e.type," ",e.initialBalance?"\u2022 ".concat(Al(Number(e.initialBalance||0))):""]},e.id))}):(0,Re.jsx)("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"None"})]}),(0,Re.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-500 mb-2 dark:text-slate-400",children:"Projects"}),g.filter(e=>e.name.trim()).length?(0,Re.jsx)("div",{className:"space-y-1",children:g.filter(e=>e.name.trim()).map(e=>{var t;return(0,Re.jsxs)("div",{className:"text-sm text-gray-900 dark:text-slate-100",children:[e.name," \u2014 ",(null===(t=p.find(t=>t.id===e.funderId))||void 0===t?void 0:t.name)||"No funder"," ",e.budget?"\u2022 ".concat(Al(Number(e.budget||0))):""]},e.id)})}):(0,Re.jsx)("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"None"})]})]})]})]}),(0,Re.jsxs)("div",{className:"px-6 sm:px-8 pb-6 flex items-center justify-between",children:[(0,Re.jsx)("div",{children:a>1&&(0,Re.jsx)(GK,{variant:"outline",onClick:()=>s(e=>Math.max(1,e-1)),children:"Back"})}),(0,Re.jsxs)("div",{className:"space-x-2",children:[a<5&&(0,Re.jsxs)(Re.Fragment,{children:[3===a&&(0,Re.jsx)(GK,{variant:"secondary",onClick:k,children:"Skip for now"}),4===a&&(0,Re.jsx)(GK,{variant:"secondary",onClick:k,children:"Skip for now"}),(0,Re.jsx)(GK,{onClick:()=>{w(a)&&s(e=>Math.min(5,e+1))},children:"Next"})]}),5===a&&(0,Re.jsx)(GK,{variant:"success",onClick:async()=>{if(w(1)&&w(2)){c(!0);try{const e=p.filter(e=>e.name.trim()).map(e=>({id:e.id,name:e.name.trim(),type:e.type,initialBalance:Number(e.initialBalance||0)})),t=new Set(e.map(e=>e.id)),i=g.filter(e=>e.name.trim()&&(!e.funderId||t.has(e.funderId))).map(e=>({id:e.id,name:e.name.trim(),funderId:e.funderId||"",budget:Number(e.budget||0),startDate:e.startDate||"",endDate:e.endDate||""})),a=y.map(e=>e.trim()).filter(Boolean);await n({name:h.name.trim(),sector:h.sector,country:h.country.trim(),orgSettings:{currency:h.currency},funders:e,projects:i,internalCategories:a,hasCompletedSetup:!0,updatedAt:(new Date).toISOString()}),c(!1),r("/")}catch(s5){c(!1),alert("Failed to save. Please try again.")}}else s(1)},disabled:l,children:l?"Saving...":"Confirm & Go to Dashboard"})]})]})]})]})}async function X0(e){if(!e)throw new Error("No file provided");const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_CLOUDINARY_CLOUD_NAME,n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_CLOUDINARY_UPLOAD_PRESET;if(!t||!n)throw new Error("Cloudinary not configured. Set REACT_APP_CLOUDINARY_CLOUD_NAME and REACT_APP_CLOUDINARY_UPLOAD_PRESET");const r="https://api.cloudinary.com/v1_1/".concat(t,"/upload"),i=new FormData;i.append("file",e),i.append("upload_preset",n);const a=await fetch(r,{method:"POST",body:i});if(!a.ok){const e=await a.text();throw new Error("Cloudinary upload failed: ".concat(a.status," ").concat(e))}const s=await a.json();return{url:s.secure_url,public_id:s.public_id,raw:s}}async function $0(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=Array.from(e||[]),n=[];for(const r of t)if(r&&"object"===typeof r&&"size"in r){const e=await X0(r);n.push(e)}return n}const J0=(e,t)=>{if(!Array.isArray(e))return[];try{return e.filter(t)}catch(o5){return console.error("Error filtering array:",o5),[]}};function Z0(){const[e,t]=(0,i.useState)({name:"",contact:"",notes:""}),[n,r]=(0,i.useState)(!0),[a,s]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),{addFunder:u,addIncome:d,byFunder:h=[],projects:f=[],wallets:p=[],funders:m=[],removeItem:g}=Ol(),{currency:v="USD",role:y="user"}=wl();(0,i.useEffect)(()=>{try{r(!1),s(null)}catch(e){s("Failed to load funders. Please try again later."),r(!1)}},[m]);const x=Array.isArray(m)?m:[],b=Array.isArray(h)?h:[],w=Array.isArray(f)?f:[],[k,_]=(0,i.useState)(!1),[S,A]=(0,i.useState)(null),[E,j]=(0,i.useState)({projectId:"",amount:"",date:"",description:""}),[C,N]=(0,i.useState)([]),[P,T]=(0,i.useState)(!1),I=(0,i.useMemo)(()=>{try{return((e,t)=>{if(!Array.isArray(e))return[];try{return e.map(t)}catch(a){return console.error("Error mapping array:",a),[]}})(x,e=>{if(!e||"object"!==typeof e)return null;const t=J0(w,t=>(null===t||void 0===t?void 0:t.funderId)===(null===e||void 0===e?void 0:e.id)),n=J0(b,t=>{var n;return(null===t||void 0===t||null===(n=t.funder)||void 0===n?void 0:n.id)===(null===e||void 0===e?void 0:e.id)}).reduce((e,t)=>({allocation:(e.allocation||0)+(t.allocation||0),income:(e.income||0)+(t.income||0),expenses:(e.expenses||0)+(t.expenses||0),available:(e.available||0)+(t.available||0)}),{allocation:0,income:0,expenses:0,available:0});return{id:e.id,name:e.name||"",projects:t.length,allocation:n.allocation||0,income:n.income||0,expenses:n.expenses||0,available:n.available||0}}).filter(Boolean)}catch(e){return console.error("Error calculating rows:",e),[]}},[x,b,w]);return n?(0,Re.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Re.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a?(0,Re.jsxs)("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg",children:[(0,Re.jsx)("h2",{className:"font-bold",children:"Error Loading Funders"}),(0,Re.jsx)("p",{children:a}),(0,Re.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-red-100 hover:bg-red-200 rounded",children:"Retry"})]}):(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-slate-100",children:"Funders"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Manage funder profiles, their wallets, and contributions."})]}),(0,Re.jsx)(Qn,{to:"/app/funders/add",className:"px-4 py-2 rounded-md bg-sky-700 hover:bg-sky-800 text-white font-medium shadow-sm",children:"Add Funder"})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Funder summary"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Name"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Projects"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Allocation"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Income"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Expenses"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Available"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[I.map(e=>(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900 dark:text-slate-100",children:e.name}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:e.projects}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-gray-900 dark:text-slate-100",children:Al(e.allocation,v)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-gray-700 dark:text-slate-300",children:Al(e.income,v)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-red-600",children:Al(e.expenses,v)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right font-medium dark:text-slate-100",children:Al(e.available,v)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)(Qn,{to:"/app/reports/funder/".concat(e.id),className:"px-2 py-1 rounded-md bg-sky-700 text-white text-sm",children:"Report"}),(0,Re.jsx)(Qn,{to:"/app/funders/portal/".concat(e.id),className:"px-2 py-1 rounded-md bg-indigo-600 text-white text-sm",children:"View Details"}),"admin"===y?(0,Re.jsx)("button",{onClick:()=>{window.confirm("Delete this funder and all associated data? This cannot be undone.")&&g("funders",e.id)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Delete"}):(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"\u2014"})]})})]},e.id)),0===I.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:7,children:"No funders yet."})})]})]})})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Wallets"})}),(0,Re.jsx)(HK,{children:(0,Re.jsxs)("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.map(e=>(0,Re.jsxs)("div",{className:"rounded-xl ring-1 ring-gray-100 p-4 flex items-center justify-between bg-white dark:bg-slate-900/70 dark:ring-slate-800 dark:text-slate-100",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-slate-100",children:e.name}),(0,Re.jsxs)("div",{className:"text-xs text-gray-500 dark:text-slate-300",children:["Type: ",e.type]})]}),(0,Re.jsxs)("div",{className:"text-right",children:[(0,Re.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:Al(e.balance||0,v)}),(0,Re.jsx)("div",{className:"mt-2 flex items-center gap-2",children:(0,Re.jsx)("button",{onClick:()=>{A(e),j({projectId:"",amount:"",date:"",description:""}),N([]),_(!0)},className:"px-3 py-1 rounded-md bg-sky-700 hover:bg-sky-800 text-white text-sm shadow-sm",children:"Add income"})})]})]},e.id)),0===p.length&&(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No wallets yet."})]})})]}),k&&(0,Re.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>_(!1)}),(0,Re.jsxs)("div",{className:"relative w-full max-w-md bg-white/95 backdrop-blur rounded-2xl border border-slate-200 shadow-xl p-6 dark:bg-slate-900/90 dark:border-slate-700 dark:text-slate-100",children:[(0,Re.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:["Add income to ",null===S||void 0===S?void 0:S.name]}),(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!E.amount)return alert("Amount is required");T(!0);try{let e=[];if(C&&C.length){e=(await $0(C)).map(e=>({url:e.url,id:e.public_id}))}const t={walletId:null===S||void 0===S?void 0:S.id,projectId:E.projectId||null,amount:Number(E.amount),date:E.date||(new Date).toISOString(),description:E.description||"",attachments:e};d(t),_(!1),alert("Income added")}catch(t){console.error(t),alert(t.message||"Failed to upload attachments")}finally{T(!1)}},className:"mt-4 space-y-3",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project (optional)"}),(0,Re.jsxs)("select",{value:E.projectId,onChange:e=>j((0,o.A)((0,o.A)({},E),{},{projectId:e.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[(0,Re.jsx)("option",{value:"",children:"-- None --"}),f.filter(e=>e.funderId===(null===S||void 0===S?void 0:S.id)||"igp"===e.type).map(e=>(0,Re.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"i-amount",name:"i-amount",type:"number",label:"Amount",value:E.amount,onChange:e=>j((0,o.A)((0,o.A)({},E),{},{amount:e.target.value})),required:!0})}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"i-date",name:"i-date",type:"date",label:"Date",value:E.date,onChange:e=>j((0,o.A)((0,o.A)({},E),{},{date:e.target.value}))})}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"i-desc",name:"i-desc",label:"Description",value:E.description,onChange:e=>j((0,o.A)((0,o.A)({},E),{},{description:e.target.value}))})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),(0,Re.jsx)("input",{type:"file",multiple:!0,onChange:e=>N(e.target.files),className:"w-full"})]}),(0,Re.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,Re.jsx)("button",{type:"button",onClick:()=>_(!1),className:"px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-100",children:"Cancel"}),(0,Re.jsx)("button",{type:"submit",disabled:P,className:"px-3 py-2 rounded-md bg-sky-700 hover:bg-sky-800 text-white shadow-sm",children:P?"Saving...":"Add income"})]})]})]})]})]})}function e1(){const{projects:e=[],addIncome:t,incomes:n=[],wallets:r=[],removeItem:a}=Ol(),{currency:s,role:l}=wl(),[c,u]=(0,i.useState)({projectId:"",amount:"",date:"",description:""}),[d,h]=(0,i.useState)({walletId:"ORG",amount:"",date:"",description:""}),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)([]),[v,y]=(0,i.useState)(!1),[x,b]=(0,i.useState)(!1),w="admin"===l||"financial_officer"===l,k=(0,i.useMemo)(()=>Array.isArray(n)?n.slice(0,50):[],[n]);return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Income"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Record new income for projects or organization wallets and view recent activity."})]})}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Record project income"})}),(0,Re.jsx)(HK,{children:w?(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.projectId&&c.amount){y(!0);try{let e=[];if(f&&f.length){e=(await $0(f)).map(e=>({url:e.url,id:e.public_id}))}const n=t({projectId:c.projectId,amount:Number(c.amount),date:c.date||(new Date).toISOString(),description:c.description,attachments:e});!1===(null===n||void 0===n?void 0:n.success)?alert((null===n||void 0===n?void 0:n.error)||"You do not have permission to add income."):(u({projectId:"",amount:"",date:"",description:""}),p([]))}catch(n){console.error("Upload error",n),alert(n.message||"Upload failed")}finally{setTimeout(()=>y(!1),200)}}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project"}),(0,Re.jsxs)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:c.projectId,onChange:e=>u((0,o.A)((0,o.A)({},c),{},{projectId:e.target.value})),required:!0,children:[(0,Re.jsx)("option",{value:"",children:"Select project"}),(e||[]).map(e=>(0,Re.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"pi-amount",name:"pi-amount",type:"number",min:"0",step:"0.01",label:"Amount",value:c.amount,onChange:e=>u((0,o.A)((0,o.A)({},c),{},{amount:e.target.value})),required:!0})}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"pi-date",name:"pi-date",type:"date",label:"Date",value:c.date,onChange:e=>u((0,o.A)((0,o.A)({},c),{},{date:e.target.value}))})}),(0,Re.jsx)("div",{className:"md:col-span-2",children:(0,Re.jsx)(VK,{id:"pi-desc",name:"pi-desc",label:"Description",value:c.description,onChange:e=>u((0,o.A)((0,o.A)({},c),{},{description:e.target.value}))})}),(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),(0,Re.jsx)("input",{type:"file",multiple:!0,onChange:e=>p(e.target.files),className:"w-full"})]}),(0,Re.jsx)("div",{className:"md:col-span-2",children:(0,Re.jsx)("button",{type:"submit",disabled:v,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:v?"Saving...":"Add Income"})})]}):(0,Re.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"You don\u2019t have permission to add income. Contact an admin."})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Record wallet income"})}),(0,Re.jsx)(HK,{children:w?(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d.amount){b(!0);try{let e=[];if(m&&m.length){e=(await $0(m)).map(e=>({url:e.url,id:e.public_id}))}const n=t({walletId:"ORG"===d.walletId?null:d.walletId,amount:Number(d.amount),date:d.date||(new Date).toISOString(),description:d.description,attachments:e});!1===(null===n||void 0===n?void 0:n.success)?alert((null===n||void 0===n?void 0:n.error)||"You do not have permission to add income."):(h({walletId:"ORG",amount:"",date:"",description:""}),g([]))}catch(n){console.error("Upload error",n),alert(n.message||"Upload failed")}finally{setTimeout(()=>b(!1),200)}}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Wallet"}),(0,Re.jsxs)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:d.walletId,onChange:e=>h((0,o.A)((0,o.A)({},d),{},{walletId:e.target.value})),children:[(0,Re.jsx)("option",{value:"ORG",children:"Organization"}),(r||[]).map(e=>"ORG"!==e.id?(0,Re.jsx)("option",{value:e.id,children:e.name},e.id):null)]})]}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"oi-amount",name:"oi-amount",type:"number",min:"0",step:"0.01",label:"Amount",value:d.amount,onChange:e=>h((0,o.A)((0,o.A)({},d),{},{amount:e.target.value})),required:!0})}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"oi-date",name:"oi-date",type:"date",label:"Date",value:d.date,onChange:e=>h((0,o.A)((0,o.A)({},d),{},{date:e.target.value}))})}),(0,Re.jsx)("div",{className:"md:col-span-2",children:(0,Re.jsx)(VK,{id:"oi-desc",name:"oi-desc",label:"Description",value:d.description,onChange:e=>h((0,o.A)((0,o.A)({},d),{},{description:e.target.value}))})}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),(0,Re.jsx)("input",{type:"file",multiple:!0,onChange:e=>g(e.target.files),className:"w-full"})]}),(0,Re.jsx)("div",{className:"md:col-span-2",children:(0,Re.jsx)("button",{type:"submit",disabled:x,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:x?"Saving...":"Add Income"})})]}):(0,Re.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-300",children:"You don\u2019t have permission to add income. Contact an admin."})})]})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Recent incomes"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project / Wallet"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Date"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Amount"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Attachments"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Description"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[k.map(t=>{var n,i;return(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:t.projectId?(null===(n=e.find(e=>e.id===t.projectId))||void 0===n?void 0:n.name)||"-":t.walletId&&(null===(i=r.find(e=>e.id===t.walletId))||void 0===i?void 0:i.name)||"Organization"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:new Date(t.date).toLocaleDateString()}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right font-medium",children:Al(t.amount,s)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:Array.isArray(t.attachments)&&t.attachments.length?(0,Re.jsx)("div",{className:"flex items-center gap-2",children:t.attachments.map((e,t)=>(0,Re.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-sm text-sky-600 underline",children:"View"},t))}):(0,Re.jsx)("div",{className:"text-sm text-gray-400 dark:text-slate-500",children:"\u2014"})}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:t.description}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:"admin"===l?(0,Re.jsx)("button",{onClick:()=>{window.confirm("Delete this income? This cannot be undone.")&&a("incomes",t.id)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Delete"}):(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"\u2014"})})]},t.id)}),0===k.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:6,children:"No incomes yet."})})]})]})})})]})]})}function t1(){const{funders:e,addProject:t,byProject:n,removeItem:r}=Ol(),{role:a}=wl(),[s,l]=(0,i.useState)({name:"",type:"igp",funderId:"",allocation:"",startDate:"",endDate:"",notes:""}),[c,u]=(0,i.useState)(!1),d=(0,i.useMemo)(()=>n,[n]);return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Projects"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Create IGP or funder-funded projects and track their budgets."})]})}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Create project"})}),(0,Re.jsx)(HK,{children:(0,Re.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),s.name.trim()){if("donor"===s.type&&!s.funderId)return alert("Please select a funder for funder-funded project");u(!0),t((0,o.A)((0,o.A)({},s),{},{allocation:Number(s.allocation||0)})),l({name:"",type:"igp",funderId:"",allocation:"",startDate:"",endDate:"",notes:""}),setTimeout(()=>u(!1),200)}},className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[(0,Re.jsx)("div",{className:"md:col-span-2",children:(0,Re.jsx)(VK,{id:"name",name:"name",label:"Name",value:s.name,onChange:e=>l((0,o.A)((0,o.A)({},s),{},{name:e.target.value})),required:!0})}),(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project type"}),(0,Re.jsxs)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:s.type,onChange:e=>l((0,o.A)((0,o.A)({},s),{},{type:e.target.value})),children:[(0,Re.jsx)("option",{value:"igp",children:"IGP (Org income project)"}),(0,Re.jsx)("option",{value:"donor",children:"Funder-funded project"})]})]}),(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Funder"}),(0,Re.jsxs)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:s.funderId,onChange:e=>l((0,o.A)((0,o.A)({},s),{},{funderId:e.target.value})),disabled:"igp"===s.type,children:[(0,Re.jsx)("option",{value:"",children:"Select funder"}),e.map(e=>(0,Re.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"allocation",name:"allocation",label:"Allocation",type:"number",min:"0",value:s.allocation,onChange:e=>l((0,o.A)((0,o.A)({},s),{},{allocation:e.target.value}))})}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"startDate",name:"startDate",type:"date",label:"Start date",value:s.startDate,onChange:e=>l((0,o.A)((0,o.A)({},s),{},{startDate:e.target.value}))})}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"endDate",name:"endDate",type:"date",label:"End date",value:s.endDate,onChange:e=>l((0,o.A)((0,o.A)({},s),{},{endDate:e.target.value}))})}),(0,Re.jsx)("div",{className:"md:col-span-6",children:(0,Re.jsx)(VK,{id:"notes",name:"notes",label:"Notes",value:s.notes,onChange:e=>l((0,o.A)((0,o.A)({},s),{},{notes:e.target.value}))})}),(0,Re.jsx)("div",{className:"md:col-span-6",children:(0,Re.jsx)("button",{type:"submit",disabled:c,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:c?"Saving...":"Create Project"})})]})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Projects overview"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Funder"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Budget"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Income"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Expenses"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Available"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[d.map(t=>{var n;let{project:i,income:s,expenses:o,available:l}=t;const c=Number(i.allocation||0),u=o>c&&c>0;return(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900 dark:text-slate-100",children:i.name}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:(null===(n=e.find(e=>e.id===i.funderId))||void 0===n?void 0:n.name)||"-"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-gray-900 dark:text-slate-100",children:Al(c)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-gray-700 dark:text-slate-300",children:Al(s)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right ".concat(u?"text-rose-700 font-semibold":"text-red-600"),children:Al(o)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right font-medium dark:text-slate-100",children:Al(l)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:"admin"===a?(0,Re.jsx)("button",{onClick:()=>{window.confirm("Delete this project? This action will remove the project and its references.")&&r("projects",i.id)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Delete"}):(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"\u2014"})})]},i.id)}),0===d.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:7,children:"No projects yet."})})]})]})})})]})]})}const n1=["Salaries","Operations","Transport","Utilities","Training","Supplies","Other"];function r1(){const{projects:e,addExpense:t,expenses:n,approveExpense:r,rejectExpense:a,wallets:s,removeItem:l}=Ol(),c=e||[],u=s||[],d=Array.isArray(n)?n:[],{currency:h,role:f}=wl(),[p,m]=(0,i.useState)({projectId:"",category:"Operations",amount:"",date:"",description:""}),[g,v]=(0,i.useState)({walletId:"ORG",category:"Operations",amount:"",date:"",description:""}),[y,x]=(0,i.useState)([]),[b,w]=(0,i.useState)([]),[k,_]=(0,i.useState)(!1),[S,A]=(0,i.useState)(!1),E=(0,i.useMemo)(()=>d.slice(0,50),[d]);return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Expenses"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Log new expenses for projects or the organization and manage approvals."})]})}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Log project expense"})}),(0,Re.jsx)(HK,{children:(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p.projectId&&p.amount){_(!0);try{let e=[];if(y&&y.length){e=(await $0(y)).map(e=>({url:e.url,id:e.public_id}))}const n=t((0,o.A)((0,o.A)({scope:"project"},p),{},{amount:Number(p.amount||0),attachments:e}));n&&!1===n.success?alert(n.error||"Failed to add expense"):(m({projectId:"",category:"Operations",amount:"",date:"",description:""}),x([]))}catch(n){console.error("Upload error",n),alert(n.message||"Upload failed")}finally{setTimeout(()=>_(!1),200)}}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Project"}),(0,Re.jsxs)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:p.projectId,onChange:e=>m((0,o.A)((0,o.A)({},p),{},{projectId:e.target.value})),required:!0,children:[(0,Re.jsx)("option",{value:"",children:"Select project"}),c.map(e=>(0,Re.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Category"}),(0,Re.jsx)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:p.category,onChange:e=>m((0,o.A)((0,o.A)({},p),{},{category:e.target.value})),children:n1.map(e=>(0,Re.jsx)("option",{value:e,children:e},e))})]}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"p-amount",name:"p-amount",type:"number",min:"0",step:"0.01",label:"Amount",value:p.amount,onChange:e=>m((0,o.A)((0,o.A)({},p),{},{amount:e.target.value})),required:!0})}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"p-date",name:"p-date",type:"date",label:"Date",value:p.date,onChange:e=>m((0,o.A)((0,o.A)({},p),{},{date:e.target.value}))})}),(0,Re.jsx)("div",{className:"md:col-span-2",children:(0,Re.jsx)(VK,{id:"p-desc",name:"p-desc",label:"Description",value:p.description,onChange:e=>m((0,o.A)((0,o.A)({},p),{},{description:e.target.value}))})}),(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),(0,Re.jsx)("input",{type:"file",multiple:!0,onChange:e=>x(e.target.files),className:"w-full"})]}),(0,Re.jsx)("div",{className:"md:col-span-2",children:(0,Re.jsx)("button",{type:"submit",disabled:k,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:k?"Saving...":"Add Expense"})})]})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Record wallet expense"})}),(0,Re.jsx)(HK,{children:(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g.amount){A(!0);try{let e=[];if(b&&b.length){e=(await $0(b)).map(e=>({url:e.url,id:e.public_id}))}const n=t({scope:"wallet",walletId:"ORG"===g.walletId?null:g.walletId,projectId:null,category:g.category,amount:Number(g.amount||0),date:g.date||(new Date).toISOString(),description:g.description,attachments:e});n&&!1===n.success?alert(n.error||"Failed to add expense"):(v({walletId:"ORG",category:"Operations",amount:"",date:"",description:""}),w([]))}catch(n){console.error("Upload error",n),alert(n.message||"Upload failed")}finally{setTimeout(()=>A(!1),200)}}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Wallet"}),(0,Re.jsxs)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:g.walletId,onChange:e=>v((0,o.A)((0,o.A)({},g),{},{walletId:e.target.value})),children:[(0,Re.jsx)("option",{value:"ORG",children:"Organization"}),u.map(e=>"ORG"!==e.id?(0,Re.jsx)("option",{value:e.id,children:e.name},e.id):null)]})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Category"}),(0,Re.jsx)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",value:g.category,onChange:e=>v((0,o.A)((0,o.A)({},g),{},{category:e.target.value})),children:n1.map(e=>(0,Re.jsx)("option",{value:e,children:e},e))})]}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"w-amount",name:"w-amount",type:"number",min:"0",step:"0.01",label:"Amount",value:g.amount,onChange:e=>v((0,o.A)((0,o.A)({},g),{},{amount:e.target.value})),required:!0})}),(0,Re.jsx)("div",{children:(0,Re.jsx)(VK,{id:"w-date",name:"w-date",type:"date",label:"Date",value:g.date,onChange:e=>v((0,o.A)((0,o.A)({},g),{},{date:e.target.value}))})}),(0,Re.jsx)("div",{className:"md:col-span-2",children:(0,Re.jsx)(VK,{id:"w-desc",name:"w-desc",label:"Description",value:g.description,onChange:e=>v((0,o.A)((0,o.A)({},g),{},{description:e.target.value}))})}),(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Attachments"}),(0,Re.jsx)("input",{type:"file",multiple:!0,onChange:e=>w(e.target.files),className:"w-full"})]}),(0,Re.jsx)("div",{className:"md:col-span-2",children:(0,Re.jsx)("button",{type:"submit",disabled:S,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:S?"Saving...":"Add Expense"})})]})})]})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Recent expenses"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Scope"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Wallet"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Category"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Amount"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Date"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Status"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Attachments"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Description"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[E.map(e=>{var t,n;return(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:e.projectId?"Project":e.walletId&&"ORG"!==e.walletId?"Funder":"Organization"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:e.walletId?(null===(t=u.find(t=>t.id===e.walletId))||void 0===t?void 0:t.name)||e.walletId:e.projectId?(t=>{const n=c.find(t=>t.id===e.projectId),r=(null===n||void 0===n?void 0:n.funderId)||"ORG";return(null===(t=u.find(e=>e.id===r))||void 0===t?void 0:t.name)||("ORG"===r?"Organization":r)})():"Organization"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:e.projectId&&(null===(n=c.find(t=>t.id===e.projectId))||void 0===n?void 0:n.name)||"-"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:e.category}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-red-600",children:Al(e.amount,h)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:new Date(e.date).toLocaleDateString()}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:e.status}),(0,Re.jsxs)("td",{className:"px-3 py-2 text-sm",children:["pending"===e.status?(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("button",{onClick:()=>r(e.id),className:"px-2 py-1 rounded-md bg-green-600 text-white text-sm",children:"Approve"}),(0,Re.jsx)("button",{onClick:()=>{const t=window.prompt("Rejection reason (optional)");a(e.id,t)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Reject"})]}):(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-300",children:e.status}),"admin"===f&&(0,Re.jsx)("div",{className:"mt-2",children:(0,Re.jsx)("button",{onClick:()=>{window.confirm("Delete this expense? This cannot be undone.")&&l("expenses",e.id)},className:"px-2 py-1 rounded-md bg-rose-600 text-white text-sm",children:"Delete"})})]}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:Array.isArray(e.attachments)&&e.attachments.length?(0,Re.jsx)("div",{className:"flex items-center gap-2",children:e.attachments.map((e,t)=>(0,Re.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-sm text-sky-600 underline",children:"View"},t))}):(0,Re.jsx)("div",{className:"text-sm text-gray-400 dark:text-slate-500",children:"\u2014"})}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:e.description})]},e.id)}),0===E.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:10,children:"No expenses yet."})})]})]})})})]})]})}const i1=()=>{const[e,t]=(0,i.useState)("Testing..."),[n,r]=(0,i.useState)(null),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{const e=(0,ol.H9)(fl,"_test","connection"),n=await(0,ol.getDoc)(e),i=hl.currentUser;s(n.exists()?n.data():"No test data found"),r(i),t("\u2705 Connected to Firebase")}catch(e){console.error("Firebase test failed:",e),t("\u274c Connection failed"),u(e.message||String(e))}finally{l(!1)}})()},[]),o?(0,Re.jsx)("div",{children:"Testing Firebase connection..."}):(0,Re.jsxs)("div",{style:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px",maxWidth:"600px",margin:"20px auto",fontFamily:"Arial, sans-serif"},children:[(0,Re.jsx)("h2",{children:"Firebase Connection Test"}),(0,Re.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Re.jsx)("strong",{children:"Status:"})," ",e]}),(0,Re.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Re.jsx)("strong",{children:"Firestore Test:"}),(0,Re.jsx)("pre",{style:{background:"#f5f5f5",padding:"10px",borderRadius:"4px",overflowX:"auto"},children:JSON.stringify(a,null,2)})]}),(0,Re.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Re.jsx)("strong",{children:"Auth Status:"}),(0,Re.jsx)("pre",{style:{background:"#f5f5f5",padding:"10px",borderRadius:"4px",overflowX:"auto"},children:n?"Logged in as: ".concat(n.email||n.uid):"Not logged in"})]}),c&&(0,Re.jsxs)("div",{style:{color:"red",padding:"10px",background:"#ffebee",borderRadius:"4px",marginTop:"10px"},children:[(0,Re.jsx)("strong",{children:"Error:"})," ",c]}),(0,Re.jsxs)("div",{style:{marginTop:"20px",fontSize:"0.9em",color:"#666"},children:[(0,Re.jsx)("p",{children:"If you see a green checkmark (\u2705) above, Firebase is connected successfully!"}),(0,Re.jsx)("p",{children:"If you see a red X (\u274c), please check your console for detailed error messages."})]})]})};function a1(){const{expenses:e,incomes:t,approveExpense:n,rejectExpense:r,approveIncome:a,rejectIncome:s,projects:o}=Ol(),{currency:l,role:c}=wl(),u=(0,i.useMemo)(()=>e.filter(e=>"pending"===e.status),[e]),d=(0,i.useMemo)(()=>t.filter(e=>"pending"===e.status),[t]);return"admin"===c?(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Approvals"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Review and approve or reject pending incomes and expenses."})]})}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Pending expenses"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Expense"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Wallet"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Amount"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Attachments"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[u.map(e=>{var t;return(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:e.description||"\u2014"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:e.projectId&&(null===(t=o.find(t=>t.id===e.projectId))||void 0===t?void 0:t.name)||"-"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:e.walletId||"ORG"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-red-600",children:Al(e.amount,l)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:Array.isArray(e.attachments)&&e.attachments.length?e.attachments.map((e,t)=>(0,Re.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-sky-600 underline mr-2",children:"View"},t)):(0,Re.jsx)("span",{className:"text-sm text-gray-400 dark:text-slate-500",children:"\u2014"})}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("button",{onClick:()=>n(e.id),className:"px-3 py-1 rounded-md bg-emerald-600 hover:bg-emerald-700 text-white text-sm shadow-sm",children:"Approve"}),(0,Re.jsx)("button",{onClick:()=>{const t=window.prompt("Rejection reason (optional)");r(e.id,t)},className:"px-3 py-1 rounded-md bg-rose-600 hover:bg-rose-700 text-white text-sm shadow-sm",children:"Reject"})]})})]},e.id)}),0===u.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:6,children:"No pending expenses."})})]})]})})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Pending incomes"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Income"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Project"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Wallet"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Amount"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Attachments"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[d.map(e=>{var t;return(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:e.description||"\u2014"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:e.projectId&&(null===(t=o.find(t=>t.id===e.projectId))||void 0===t?void 0:t.name)||"-"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:e.walletId||"ORG"}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-emerald-700",children:Al(e.amount,l)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:Array.isArray(e.attachments)&&e.attachments.length?e.attachments.map((e,t)=>(0,Re.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-sky-600 underline mr-2",children:"View"},t)):(0,Re.jsx)("span",{className:"text-sm text-gray-400 dark:text-slate-500",children:"\u2014"})}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("button",{onClick:()=>a(e.id),className:"px-3 py-1 rounded-md bg-emerald-600 hover:bg-emerald-700 text-white text-sm shadow-sm",children:"Approve"}),(0,Re.jsx)("button",{onClick:()=>{const t=window.prompt("Rejection reason (optional)");s(e.id,t)},className:"px-3 py-1 rounded-md bg-rose-600 hover:bg-rose-700 text-white text-sm shadow-sm",children:"Reject"})]})})]},e.id)}),0===d.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:6,children:"No pending incomes."})})]})]})})})]})]}):(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Approvals"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Only organization admins can approve or reject items."})]})}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Access denied"})}),(0,Re.jsx)(HK,{children:(0,Re.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Ask an admin to grant you access or to review pending items."})})]})]})}function s1(){const{logs:e,removeItem:t,softRemoveLog:n,finalizeRemoveLog:r,restoreLog:a}=Ol(),{activeOrg:s,role:l}=wl(),c=(0,i.useMemo)(()=>(e||[]).filter(e=>!e.deleted),[e]),[u,d]=(0,i.useState)({}),[h,f]=(0,i.useState)({open:!1,id:null,title:"",message:""}),[p,m]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let e=!0;const t=(c||[]).filter(e=>!e.byEmail&&e.by&&!e.deleted).map(e=>e.by).filter(Boolean),n=Array.from(new Set(t)).filter(e=>!u[e]);return 0===n.length||(async()=>{const t={};await Promise.all(n.map(async e=>{try{let n=null;if(s&&Array.isArray(s.memberships)){const t=s.memberships.find(t=>t.userId===e||t.userId===(e||""));t&&t.email&&(n=t.email)}if(n)return void(t[e]=n);try{const n=(0,ol.H9)(fl,"users",e),r=await(0,ol.getDoc)(n);if(r.exists()){const n=r.data();return void(t[e]=(null===n||void 0===n?void 0:n.email)||(null===n||void 0===n?void 0:n.name)||null)}}catch(s5){}t[e]=null}catch(s5){t[e]=null}})),e&&d(e=>(0,o.A)((0,o.A)({},e),t))})(),()=>{e=!1}},[e,s]),(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Audit Trail"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500",children:"System activity logs for transparency and traceability."})]})}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Recent actions"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"When"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Who"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Action"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[c.map(e=>{const t=e.byEmail||u[e.by]||e.byName||e.by||"Unknown",n=e.byRole||e.role||"";return(0,Re.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800",children:[(0,Re.jsx)("td",{className:"px-3 py-3 text-sm text-gray-600 dark:text-slate-300 w-48",children:new Date(e.at).toLocaleString()}),(0,Re.jsx)("td",{className:"px-3 py-3 text-sm text-gray-700 dark:text-slate-100",children:(0,Re.jsxs)("div",{className:"flex flex-col",children:[(0,Re.jsx)("span",{className:"font-medium text-gray-900 dark:text-slate-100 truncate",title:t,children:t}),(0,Re.jsx)("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:n||"\u2014"})]})}),(0,Re.jsx)("td",{className:"px-3 py-3 text-sm text-gray-900",children:(e.action||"").replace(/_/g," ")}),(0,Re.jsxs)("td",{className:"px-3 py-3 text-sm text-gray-700",children:[(0,Re.jsx)(OK,{children:(0,Re.jsxs)("button",{onClick:()=>f({open:!0,id:e.id,title:"Delete audit log",message:"Remove this audit log? You can undo for 6 seconds."}),className:"px-2 py-1 rounded-md bg-white border border-gray-200 text-rose-600 text-sm hover:bg-rose-50 dark:bg-slate-800 dark:text-rose-400",children:[(0,Re.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 inline-block mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,Re.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18M8 6v12a2 2 0 002 2h4a2 2 0 002-2V6m-5 2v8"})}),"Delete"]})}),"admin"!==n&&(0,Re.jsx)("span",{className:"text-sm text-gray-400",children:"\u2014"})]})]},e.id)}),0===c.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",colSpan:4,children:"No audit logs yet."})})]})]})})})]}),h.open&&(0,Re.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>f({open:!1,id:null,title:"",message:""})}),(0,Re.jsxs)("div",{className:"relative bg-white dark:bg-slate-900 rounded-xl shadow-lg max-w-md w-full p-6",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:h.title}),(0,Re.jsx)("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-2",children:h.message}),(0,Re.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,Re.jsx)("button",{className:"px-3 py-2 rounded-md bg-white border border-gray-200 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>f({open:!1,id:null,title:"",message:""}),children:"Cancel"}),(0,Re.jsx)("button",{className:"px-3 py-2 rounded-md bg-rose-600 text-sm text-white",onClick:()=>{try{n(h.id);const e=Number({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_URL:"http://localhost:3001",REACT_APP_DEBUG:"true",REACT_APP_EMAILJS_PUBLIC_KEY:"10LCU7GMZF8wmux-4",REACT_APP_EMAILJS_SERVICE_ID:"service_rgxjcwe",REACT_APP_EMAILJS_TEMPLATE_ID:"template_o0n5bqj",REACT_APP_ENV:"development",REACT_APP_FIREBASE_API_KEY:"AIzaSyA3uF3oPuc_Qrre0IniQtf6dRoZ37dMD-k",REACT_APP_FIREBASE_APP_ID:"1:1054216239783:web:4565883992118c89e57982",REACT_APP_FIREBASE_AUTH_DOMAIN:"fundify-3df97.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QRC1F8QF22",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1054216239783",REACT_APP_FIREBASE_PROJECT_ID:"fundify-3df97",REACT_APP_FIREBASE_STORAGE_BUCKET:"fundify-3df97.appspot.com"}.REACT_APP_UNDO_WINDOW_MS)||6e3,t=setTimeout(()=>{try{r(h.id)}catch(s5){console.error(s5)}m(e=>e.filter(e=>e.id!==h.id))},e);m(e=>[...e,{id:h.id,timer:t}])}catch(s5){console.error("audit delete failed",s5)}f({open:!1,id:null,title:"",message:""})},children:"Delete"})]})]})]}),p.length>0&&(0,Re.jsx)("div",{className:"fixed right-4 bottom-4 z-50 space-y-2",children:p.map(e=>(0,Re.jsxs)("div",{className:"flex items-center gap-3 bg-white rounded-md px-3 py-2 shadow ring-1 ring-slate-200 dark:bg-slate-800 dark:ring-slate-700",children:[(0,Re.jsx)("div",{className:"text-sm text-slate-700 dark:text-slate-100",children:"Audit log removed"}),(0,Re.jsx)("button",{onClick:()=>{clearTimeout(e.timer),a(e.id),m(t=>t.filter(t=>t.id!==e.id))},className:"text-sm text-sky-700 hover:underline",children:"Undo"})]},e.id))})]})}function o1(e){if(!e.length)return"";const t=Object.keys(e[0]),n=e.map(e=>t.map(t=>{return n=e[t],'"'+String(null!==n&&void 0!==n?n:"").replace(/"/g,'""')+'"';var n}).join(","));return[t.join(","),...n].join("\n")}function l1(e,t){const n=o1(t),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.setAttribute("download",e),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}function c1(){const{totals:e,byFunder:t,byProject:n}=Ol(),r=e||{totalIncome:0,totalExpenses:0,totalAvailable:0},a=Array.isArray(t)?t:[],s=Array.isArray(n)?n:[],o=(0,i.useMemo)(()=>a.map(e=>{var t;return{funder:(null===(t=e.funder)||void 0===t?void 0:t.name)||"-",allocation:e.allocation||0,income:e.income||0,expenses:e.expenses||0,available:e.available||0}}),[a]),l=(0,i.useMemo)(()=>s.map(e=>{var t;return{project:(null===(t=e.project)||void 0===t?void 0:t.name)||"-",income:e.income||0,expenses:e.expenses||0,available:e.available||0}}),[s]);return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight",children:"Reports"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500",children:"Key totals and downloadable summaries by funder and project."})]})}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,Re.jsx)(BK,{children:(0,Re.jsxs)(HK,{className:"p-4",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-500",children:"Total income"}),(0,Re.jsx)("div",{className:"text-2xl font-semibold text-gray-700",children:Al(r.totalIncome||0)})]})}),(0,Re.jsx)(BK,{children:(0,Re.jsxs)(HK,{className:"p-4",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-500",children:"Total expenses"}),(0,Re.jsx)("div",{className:"text-2xl font-semibold text-red-600",children:Al(r.totalExpenses||0)})]})}),(0,Re.jsx)(BK,{children:(0,Re.jsxs)(HK,{className:"p-4",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-500",children:"Funds available"}),(0,Re.jsx)("div",{className:"text-2xl font-semibold",children:Al(r.totalAvailable||0)})]})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,Re.jsx)(WK,{children:"By funder"}),(0,Re.jsx)("button",{onClick:()=>l1("by_funder.csv",o),className:"text-sm font-medium text-slate-700 hover:underline",children:"Export CSV"})]})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Funder"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Allocation"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Income"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Expenses"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Available"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[o.map(e=>(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:e.funder}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right",children:Al(e.allocation)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:Al(e.income)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-red-600",children:Al(e.expenses)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right font-medium",children:Al(e.available)})]},e.funder)),0===o.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",colSpan:5,children:"No data."})})]})]})})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,Re.jsx)(WK,{children:"By project"}),(0,Re.jsx)("button",{onClick:()=>l1("by_project.csv",l),className:"text-sm font-medium text-slate-700 hover:underline",children:"Export CSV"})]})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900",children:"Project"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Income"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Expenses"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-right text-sm font-semibold text-gray-900",children:"Available"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[l.map(e=>(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:e.project}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:Al(e.income)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right text-red-600",children:Al(e.expenses)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-right font-medium",children:Al(e.available)})]},e.project)),0===l.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",colSpan:4,children:"No data."})})]})]})})})]})]})}function u1(){const{id:e}=qt(),{incomes:t,expenses:n,projects:r,funders:a}=Ol(),{currency:s}=wl(),o=a.find(t=>t.id===e),l=(0,i.useMemo)(()=>{const i=(t||[]).filter(t=>{const n=r.find(e=>e.id===t.projectId);return(t.walletId||(null===n||void 0===n?void 0:n.funderId)||"ORG")===e}),a=(n||[]).filter(t=>{const n=r.find(e=>e.id===t.projectId);return(t.walletId||t.projectId&&(null===n||void 0===n?void 0:n.funderId)||"ORG")===e}),s=i.reduce((e,t)=>e+(t.amount||0),0),o=a.reduce((e,t)=>e+(t.amount||0),0);return{inc:i,exp:a,totalInc:s,totalExp:o,balance:s-o}},[e,t,n,r]);return e?(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-slate-100",children:["Funder report \u2014 ",(null===o||void 0===o?void 0:o.name)||e]}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Summary of posted transactions for this funder."})]}),(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)(Qn,{to:"/app/funders",className:"px-3 py-2 rounded-md bg-white ring-1 ring-gray-200 dark:bg-slate-800 dark:text-slate-100",children:"Back"}),(0,Re.jsx)("button",{onClick:()=>function(e,t){if(!t||!t.length)return;const n=Object.keys(t[0]),r=[n.join(",")].concat(t.map(e=>n.map(t=>{var n;return JSON.stringify(null!==(n=e[t])&&void 0!==n?n:"")}).join(","))).join("\n"),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(i);a.setAttribute("href",s),a.setAttribute("download",e),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}("funder-report-".concat(e,".csv"),[{metric:"Total income",value:l.totalInc,currency:s},{metric:"Total expenses",value:l.totalExp,currency:s},{metric:"Balance",value:l.balance,currency:s}]),className:"px-3 py-2 rounded-md bg-sky-700 text-white",children:"Download summary CSV"}),(0,Re.jsx)("button",{onClick:()=>{try{const t="Funder report \u2014 ".concat((null===o||void 0===o?void 0:o.name)||e),n=(new Date).toLocaleString(),r='\n        <h2 style="margin:0 0 8px;">'.concat(t,'</h2>\n        <div style="margin-bottom:12px;color:#6b7280;">Generated: ').concat(n,'</div>\n        <table style="width:100%;border-collapse:collapse;margin-bottom:16px;">\n          <tr>\n            <td style="padding:8px;border:1px solid #e5e7eb;">Total income</td>\n            <td style="padding:8px;border:1px solid #e5e7eb;">').concat(l.totalInc," ").concat(s,'</td>\n          </tr>\n          <tr>\n            <td style="padding:8px;border:1px solid #e5e7eb;">Total expenses</td>\n            <td style="padding:8px;border:1px solid #e5e7eb;">').concat(l.totalExp," ").concat(s,'</td>\n          </tr>\n          <tr>\n            <td style="padding:8px;border:1px solid #e5e7eb;">Available</td>\n            <td style="padding:8px;border:1px solid #e5e7eb;">').concat(l.balance," ").concat(s,"</td>\n          </tr>\n        </table>\n      "),i=l.inc.map(e=>'\n        <tr>\n          <td style="padding:8px;border:1px solid #e5e7eb">'.concat(e.date?new Date(e.date).toLocaleDateString():"",'</td>\n          <td style="padding:8px;border:1px solid #e5e7eb">').concat((e.description||"Income").replace(/</g,"&lt;"),'</td>\n          <td style="padding:8px;border:1px solid #e5e7eb;text-align:right">').concat(e.amount," ").concat(e.currency||s,"</td>\n        </tr>\n      ")).join(""),a=l.exp.map(e=>'\n        <tr>\n          <td style="padding:8px;border:1px solid #e5e7eb">'.concat(e.date?new Date(e.date).toLocaleDateString():"",'</td>\n          <td style="padding:8px;border:1px solid #e5e7eb">').concat((e.category||"").replace(/</g,"&lt;"),'</td>\n          <td style="padding:8px;border:1px solid #e5e7eb">').concat((e.description||"Expense").replace(/</g,"&lt;"),'</td>\n          <td style="padding:8px;border:1px solid #e5e7eb;text-align:right">').concat(e.amount," ").concat(e.currency||s,"</td>\n        </tr>\n      ")).join(""),c='<!doctype html>\n        <html>\n        <head>\n          <meta charset="utf-8" />\n          <title>'.concat(t,"</title>\n          <style>\n            body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#0f172a;padding:20px}\n            h2{font-size:18px;margin:0 0 4px}\n            table{width:100%;border-collapse:collapse}\n            th,td{padding:8px;border:1px solid #e5e7eb}\n            th{background:#f8fafc;text-align:left}\n          </style>\n        </head>\n        <body>\n          ").concat(r,'\n\n          <h3 style="margin-top:8px;">Incomes</h3>\n          <table>\n            <thead>\n              <tr><th style="padding:8px;border:1px solid #e5e7eb">Date</th><th style="padding:8px;border:1px solid #e5e7eb">Description</th><th style="padding:8px;border:1px solid #e5e7eb">Amount</th></tr>\n            </thead>\n            <tbody>\n              ').concat(i||'<tr><td colspan="3" style="padding:8px">No income transactions.</td></tr>','\n            </tbody>\n          </table>\n\n          <h3 style="margin-top:12px;">Expenses</h3>\n          <table>\n            <thead>\n              <tr><th style="padding:8px;border:1px solid #e5e7eb">Date</th><th style="padding:8px;border:1px solid #e5e7eb">Category</th><th style="padding:8px;border:1px solid #e5e7eb">Description</th><th style="padding:8px;border:1px solid #e5e7eb">Amount</th></tr>\n            </thead>\n            <tbody>\n              ').concat(a||'<tr><td colspan="4" style="padding:8px">No expense transactions.</td></tr>',"\n            </tbody>\n          </table>\n\n        </body>\n        </html>"),u=window.open("","_blank");if(!u)return alert("Unable to open print window \u2014 please allow popups.");u.document.write(c),u.document.close(),setTimeout(()=>{try{u.focus(),u.print()}catch(s5){console.error(s5)}},500)}catch(s5){console.error("Export PDF failed",s5),alert("Failed to generate PDF: "+((null===s5||void 0===s5?void 0:s5.message)||s5))}},className:"px-3 py-2 rounded-md bg-gray-800 text-white",children:"Export PDF"})]})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Summary"})}),(0,Re.jsx)(HK,{children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Re.jsxs)("div",{className:"rounded-xl ring-1 ring-gray-100 p-4 bg-white dark:bg-slate-900/70",children:[(0,Re.jsx)("div",{className:"text-sm text-slate-500",children:"Total income"}),(0,Re.jsxs)("div",{className:"text-xl font-semibold",children:[l.totalInc," ",s]})]}),(0,Re.jsxs)("div",{className:"rounded-xl ring-1 ring-gray-100 p-4 bg-white dark:bg-slate-900/70",children:[(0,Re.jsx)("div",{className:"text-sm text-slate-500",children:"Total expenses"}),(0,Re.jsxs)("div",{className:"text-xl font-semibold text-rose-600",children:[l.totalExp," ",s]})]}),(0,Re.jsxs)("div",{className:"rounded-xl ring-1 ring-gray-100 p-4 bg-white dark:bg-slate-900/70",children:[(0,Re.jsx)("div",{className:"text-sm text-slate-500",children:"Available"}),(0,Re.jsxs)("div",{className:"text-xl font-semibold",children:[l.balance," ",s]})]})]})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Transactions"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsxs)("div",{className:"mt-4",children:[(0,Re.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Incomes"}),(0,Re.jsxs)("div",{className:"mt-2 space-y-2",children:[l.inc.map(e=>(0,Re.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md ring-1 ring-gray-100 bg-white dark:ring-slate-700 dark:bg-slate-800/80 dark:text-slate-100",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-700 dark:text-slate-300",children:e.description||"Income"}),(0,Re.jsxs)("div",{className:"text-sm font-medium",children:[e.amount," ",e.currency||s]})]},e.id)),0===l.inc.length&&(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No income transactions."})]}),(0,Re.jsx)("h4",{className:"mt-4 text-sm font-medium text-gray-700 dark:text-slate-300",children:"Expenses"}),(0,Re.jsxs)("div",{className:"mt-2 space-y-2",children:[l.exp.map(e=>(0,Re.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md ring-1 ring-gray-100 bg-white dark:ring-slate-700 dark:bg-slate-800/80 dark:text-slate-100",children:[(0,Re.jsx)("div",{className:"text-sm text-gray-700 dark:text-slate-300",children:e.description||"Expense"}),(0,Re.jsxs)("div",{className:"text-sm font-medium text-rose-600",children:[e.amount," ",e.currency||s]})]},e.id)),0===l.exp.length&&(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No expense transactions."})]})]})})]})]}):(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No funder specified."})}const d1=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],i=t.nextPart.get(r),a=i?d1(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(s)}))||void 0===n?void 0:n.classGroupId},h1=/^\[(.+)\]$/,f1=e=>{if(h1.test(e)){const t=h1.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},p1=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)m1(n[i],r,i,t);return r},m1=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:g1(t,e)).classGroupId=n)}if("function"===typeof e)return v1(e)?void m1(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[i,a]=e;m1(a,g1(t,i),n,r)})})},g1=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},v1=e=>e.isThemeGetter,y1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},x1=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;for(let l=0;l<e.length;l++){let s=e[l];if(0===r&&0===i){if(":"===s){t.push(e.slice(a,l)),a=l+1;continue}if("/"===s){n=l;continue}}"["===s?r++:"]"===s?r--:"("===s?i++:")"===s&&i--}const s=0===t.length?e:e.substring(a),o=b1(s);return{modifiers:t,hasImportantModifier:o!==s,baseClassName:o,maybePostfixModifierPosition:n&&n>a?n-a:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},b1=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,w1=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},k1=e=>(0,o.A)({cache:y1(e.cacheSize),parseClassName:x1(e),sortModifiers:w1(e)},(e=>{const t=p1(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),d1(n,t)||f1(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}})(e)),_1=/\s+/;function S1(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=A1(e))&&(r&&(r+=" "),r+=t);return r}const A1=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=A1(e[r]))&&(n&&(n+=" "),n+=t);return n};function E1(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,a,s,o=function(t){const r=n.reduce((e,t)=>t(e),e());return i=k1(r),a=i.cache.get,s=i.cache.set,o=l,l(t)};function l(e){const t=a(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(_1);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!f,m=r(p?h.substring(0,f):h);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=a(u).join(":"),v=d?g+"!":g,y=v+m;if(s.includes(y))continue;s.push(y);const x=i(m,p);for(let n=0;n<x.length;++n){const e=x[n];s.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,i);return s(e,n),n}return function(){return o(S1.apply(null,arguments))}}const j1=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},C1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,N1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,P1=/^\d+\/\d+$/,T1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,I1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,M1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,R1=e=>P1.test(e),L1=e=>!!e&&!Number.isNaN(Number(e)),F1=e=>!!e&&Number.isInteger(Number(e)),z1=e=>e.endsWith("%")&&L1(e.slice(0,-1)),V1=e=>T1.test(e),B1=()=>!0,U1=e=>I1.test(e)&&!O1.test(e),W1=()=>!1,H1=e=>M1.test(e),K1=e=>D1.test(e),q1=e=>!Y1(e)&&!e2(e),G1=e=>o2(e,d2,W1),Y1=e=>C1.test(e),Q1=e=>o2(e,h2,U1),X1=e=>o2(e,f2,L1),$1=e=>o2(e,c2,W1),J1=e=>o2(e,u2,K1),Z1=e=>o2(e,m2,H1),e2=e=>N1.test(e),t2=e=>l2(e,h2),n2=e=>l2(e,p2),r2=e=>l2(e,c2),i2=e=>l2(e,d2),a2=e=>l2(e,u2),s2=e=>l2(e,m2,!0),o2=(e,t,n)=>{const r=C1.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},l2=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=N1.exec(e);return!!r&&(r[1]?t(r[1]):n)},c2=e=>"position"===e||"percentage"===e,u2=e=>"image"===e||"url"===e,d2=e=>"length"===e||"size"===e||"bg-size"===e,h2=e=>"length"===e,f2=e=>"number"===e,p2=e=>"family-name"===e,m2=e=>"shadow"===e,g2=(Symbol.toStringTag,()=>{const e=j1("color"),t=j1("font"),n=j1("text"),r=j1("font-weight"),i=j1("tracking"),a=j1("leading"),s=j1("breakpoint"),o=j1("container"),l=j1("spacing"),c=j1("radius"),u=j1("shadow"),d=j1("inset-shadow"),h=j1("text-shadow"),f=j1("drop-shadow"),p=j1("blur"),m=j1("perspective"),g=j1("aspect"),v=j1("ease"),y=j1("animate"),x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",e2,Y1],b=()=>[e2,Y1,l],w=()=>[R1,"full","auto",...b()],k=()=>[F1,"none","subgrid",e2,Y1],_=()=>["auto",{span:["full",F1,e2,Y1]},F1,e2,Y1],S=()=>[F1,"auto",e2,Y1],A=()=>["auto","min","max","fr",e2,Y1],E=()=>["auto",...b()],j=()=>[R1,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],C=()=>[e,e2,Y1],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",r2,$1,{position:[e2,Y1]}],P=()=>["auto","cover","contain",i2,G1,{size:[e2,Y1]}],T=()=>[z1,t2,Q1],I=()=>["","none","full",c,e2,Y1],O=()=>["",L1,t2,Q1],M=()=>[L1,z1,r2,$1],D=()=>["","none",p,e2,Y1],R=()=>["none",L1,e2,Y1],L=()=>["none",L1,e2,Y1],F=()=>[L1,e2,Y1],z=()=>[R1,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[V1],breakpoint:[V1],color:[B1],container:[V1],"drop-shadow":[V1],ease:["in","out","in-out"],font:[q1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[V1],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[V1],shadow:[V1],spacing:["px",L1],text:[V1],"text-shadow":[V1],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",R1,Y1,e2,g]}],container:["container"],columns:[{columns:[L1,Y1,e2,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[F1,"auto",e2,Y1]}],basis:[{basis:[R1,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[L1,R1,"auto","initial","none",Y1]}],grow:[{grow:["",L1,e2,Y1]}],shrink:[{shrink:["",L1,e2,Y1]}],order:[{order:[F1,"first","last","none",e2,Y1]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:_()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:_()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[o,"screen",...j()]}],"min-w":[{"min-w":[o,"screen","none",...j()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...j()]}],h:[{h:["screen","lh",...j()]}],"min-h":[{"min-h":["screen","lh","none",...j()]}],"max-h":[{"max-h":["screen","lh",...j()]}],"font-size":[{text:["base",n,t2,Q1]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,e2,X1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",z1,Y1]}],"font-family":[{font:[n2,Y1,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,e2,Y1]}],"line-clamp":[{"line-clamp":[L1,"none",e2,X1]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",e2,Y1]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",e2,Y1]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[L1,"from-font","auto",e2,Q1]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[L1,"auto",e2,Y1]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",e2,Y1]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",e2,Y1]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:N()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},F1,e2,Y1],radial:["",e2,Y1],conic:[F1,e2,Y1]},a2,J1]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[L1,e2,Y1]}],"outline-w":[{outline:["",L1,t2,Q1]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,s2,Z1]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",d,s2,Z1]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[L1,Q1]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",h,s2,Z1]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[L1,e2,Y1]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[L1]}],"mask-image-linear-from-pos":[{"mask-linear-from":M()}],"mask-image-linear-to-pos":[{"mask-linear-to":M()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":M()}],"mask-image-t-to-pos":[{"mask-t-to":M()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":M()}],"mask-image-r-to-pos":[{"mask-r-to":M()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":M()}],"mask-image-b-to-pos":[{"mask-b-to":M()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":M()}],"mask-image-l-to-pos":[{"mask-l-to":M()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":M()}],"mask-image-x-to-pos":[{"mask-x-to":M()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":M()}],"mask-image-y-to-pos":[{"mask-y-to":M()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[e2,Y1]}],"mask-image-radial-from-pos":[{"mask-radial-from":M()}],"mask-image-radial-to-pos":[{"mask-radial-to":M()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[L1]}],"mask-image-conic-from-pos":[{"mask-conic-from":M()}],"mask-image-conic-to-pos":[{"mask-conic-to":M()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:N()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",e2,Y1]}],filter:[{filter:["","none",e2,Y1]}],blur:[{blur:D()}],brightness:[{brightness:[L1,e2,Y1]}],contrast:[{contrast:[L1,e2,Y1]}],"drop-shadow":[{"drop-shadow":["","none",f,s2,Z1]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",L1,e2,Y1]}],"hue-rotate":[{"hue-rotate":[L1,e2,Y1]}],invert:[{invert:["",L1,e2,Y1]}],saturate:[{saturate:[L1,e2,Y1]}],sepia:[{sepia:["",L1,e2,Y1]}],"backdrop-filter":[{"backdrop-filter":["","none",e2,Y1]}],"backdrop-blur":[{"backdrop-blur":D()}],"backdrop-brightness":[{"backdrop-brightness":[L1,e2,Y1]}],"backdrop-contrast":[{"backdrop-contrast":[L1,e2,Y1]}],"backdrop-grayscale":[{"backdrop-grayscale":["",L1,e2,Y1]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[L1,e2,Y1]}],"backdrop-invert":[{"backdrop-invert":["",L1,e2,Y1]}],"backdrop-opacity":[{"backdrop-opacity":[L1,e2,Y1]}],"backdrop-saturate":[{"backdrop-saturate":[L1,e2,Y1]}],"backdrop-sepia":[{"backdrop-sepia":["",L1,e2,Y1]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",e2,Y1]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[L1,"initial",e2,Y1]}],ease:[{ease:["linear","initial",v,e2,Y1]}],delay:[{delay:[L1,e2,Y1]}],animate:[{animate:["none",y,e2,Y1]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,e2,Y1]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:R()}],"rotate-x":[{"rotate-x":R()}],"rotate-y":[{"rotate-y":R()}],"rotate-z":[{"rotate-z":R()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[e2,Y1,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",e2,Y1]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",e2,Y1]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[L1,t2,Q1,X1]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),v2=E1(g2);function y2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v2(cu(t))}const x2=["className","type"],b2=i.forwardRef((e,t)=>{let{className:n,type:r}=e,i=ze(e,x2);return(0,Re.jsx)("input",(0,o.A)({type:r,className:y2("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},i))});function w2(e){let{funderId:t,funderName:n,onSuccess:r}=e;const[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)("viewer"),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),{sendInvitation:f}=Ol();return(0,Re.jsxs)("div",{className:"p-4 max-w-md mx-auto",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Invite Funder"}),(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a&&o){u(!0),h("");try{await f({email:a,role:o,funderId:t,funderName:n})?(s(""),null===r||void 0===r||r()):h("Failed to send invitation. Please try again.")}catch(i){console.error("Error sending invitation:",i),h("An error occurred while sending the invitation.")}finally{u(!1)}}else h("Please fill in all fields")},children:[(0,Re.jsxs)("div",{className:"form-group",children:[(0,Re.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Re.jsx)(b2,{id:"email",type:"email",value:a,onChange:e=>s(e.target.value),placeholder:"funder@example.com",required:!0,className:"w-full"})]}),(0,Re.jsxs)("div",{className:"form-group",children:[(0,Re.jsx)("label",{htmlFor:"role",children:"Role"}),(0,Re.jsxs)("select",{id:"role",value:o,onChange:e=>l(e.target.value),className:"w-full",required:!0,children:[(0,Re.jsx)("option",{value:"viewer",children:"Viewer"}),(0,Re.jsx)("option",{value:"editor",children:"Editor"}),(0,Re.jsx)("option",{value:"admin",children:"Admin"})]})]}),d&&(0,Re.jsx)("div",{className:"error-message",children:d}),(0,Re.jsx)("div",{className:"mt-6",children:(0,Re.jsx)("button",{type:"submit",className:"button button-primary w-full",disabled:c,children:c?"Sending...":"Send Invitation"})})]})]})}function k2(){const{addFunder:e,byFunder:t}=Ol(),n=Ht(),[r,a]=(0,i.useState)({name:"",contact:"",notes:""}),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),f=(t||[]).slice().sort((e,t)=>{const n=e.funder.createdAt?new Date(e.funder.createdAt).getTime():0;return(t.funder.createdAt?new Date(t.funder.createdAt).getTime():0)-n}).slice(0,5),p=e=>{let{isOpen:t,onClose:n,children:r,title:i}=e;return t?(0,Re.jsx)("div",{className:"modal-overlay",children:(0,Re.jsxs)("div",{className:"modal",children:[(0,Re.jsxs)("div",{className:"modal-header",children:[(0,Re.jsx)("h3",{children:i}),(0,Re.jsx)("button",{onClick:n,className:"close-button",children:"\xd7"})]}),(0,Re.jsx)("div",{className:"modal-content",children:r})]})}):null};return(0,Re.jsxs)("div",{className:"page-container",children:[(0,Re.jsxs)("div",{className:"page-header",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{children:"Add Funder"}),(0,Re.jsx)("p",{children:"Create a new funder profile to track their contributions and allocations."})]}),(0,Re.jsx)(Qn,{to:"/app/funders",className:"back-button",children:"Back to Funders"})]}),(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-slate-100",children:"Add New Funder"})}),(0,Re.jsx)(HK,{children:(0,Re.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r.name.trim()){l(!0);try{const t=await e(r);h(t),u(!0),a({name:"",contact:"",notes:""})}catch(o5){console.error("Error adding funder:",o5)}finally{l(!1)}}},className:"space-y-4",children:[(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsx)(VK,{id:"name",name:"name",label:"Funder Name",value:r.name,onChange:e=>a((0,o.A)((0,o.A)({},r),{},{name:e.target.value})),required:!0,placeholder:"Enter funder name",className:"w-full"}),(0,Re.jsx)(VK,{id:"contact",name:"contact",label:"Contact (email/phone)",value:r.contact,onChange:e=>a((0,o.A)((0,o.A)({},r),{},{contact:e.target.value})),placeholder:"example@email.com or +1234567890",className:"w-full"}),(0,Re.jsx)(VK,{id:"notes",name:"notes",label:"Notes",type:"textarea",rows:3,value:r.notes,onChange:e=>a((0,o.A)((0,o.A)({},r),{},{notes:e.target.value})),placeholder:"Additional information about the funder",className:"w-full"})]}),(0,Re.jsx)("div",{className:"flex justify-end pt-2",children:(0,Re.jsx)("button",{type:"submit",disabled:s,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-sky-700 hover:bg-sky-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:opacity-50",children:s?"Saving...":"Add Funder"})})]})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-slate-100",children:"Recently Created Funders"})}),(0,Re.jsx)(HK,{children:0===f.length?(0,Re.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:"No funders have been added yet."}):(0,Re.jsx)("ul",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:f.map(e=>(0,Re.jsx)("li",{className:"py-3 px-1 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-md transition-colors",children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",children:e.funder.name}),e.funder.contact&&(0,Re.jsx)("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400 truncate",children:e.funder.contact})]}),e.funder.createdAt&&(0,Re.jsx)("div",{className:"ml-2 flex-shrink-0 flex",children:(0,Re.jsx)("p",{className:"text-xs text-slate-400",children:new Date(e.funder.createdAt).toLocaleDateString()})})]})},e.funder.id))})})]})]}),(0,Re.jsx)(p,{isOpen:c,onClose:()=>u(!1),title:"Invite Funder",children:d?(0,Re.jsx)(w2,{funderId:d,funderName:r.name,onSuccess:()=>{u(!1),n("/app/funders")}}):(0,Re.jsx)("div",{children:"Loading funder information..."})})]})}function _2(e){let{onClose:t}=e;const{login:n}=yl(),r=Ht(),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1);return(0,Re.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:t}),(0,Re.jsx)("div",{className:"relative z-10 w-full max-w-md mx-4",children:(0,Re.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-lg ring-1 ring-black/5 dark:bg-slate-900 dark:ring-slate-700 dark:text-slate-100",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Sign in"}),(0,Re.jsx)("p",{className:"text-sm text-gray-500 mt-1 dark:text-slate-400",children:"Enter your credentials to continue"}),c&&(0,Re.jsx)("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-3 text-sm text-red-700 dark:bg-rose-900/20 dark:border-rose-700 dark:text-rose-300",children:c}),(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u(""),!a||!o)return u("Please fill in both fields");try{h(!0);const{success:e,error:i}=await n(a,o);e?(null===t||void 0===t||t(),r("/app/dashboard/overview")):u(i||"Login failed")}catch(e){u("An error occurred")}finally{h(!1)}},className:"mt-4 space-y-3",children:[(0,Re.jsx)(VK,{id:"modal-email",label:"Email address",type:"email",value:a,onChange:e=>s(e.target.value)}),(0,Re.jsx)(VK,{id:"modal-password",label:"Password",type:"password",value:o,onChange:e=>l(e.target.value)}),(0,Re.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Re.jsx)("button",{type:"button",onClick:t,className:"px-3 py-2 rounded-md bg-gray-100 text-gray-700 dark:bg-slate-700 dark:text-slate-100",children:"Cancel"}),(0,Re.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-md button-brand disabled:opacity-50",children:d?"Signing in...":"Sign in"})]})]})]})})]})}function S2(){const{activeOrg:e,role:t,inviteMember:n,revokeInvite:r,updateMemberRole:a,restoreMemberRole:s,removeMember:o}=wl(),{user:l}=yl(),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)("financial_officer"),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(""),[v,y]=(0,i.useState)(!1),[x,b]=(0,i.useState)(null),w=(0,i.useMemo)(()=>Array.isArray(null===e||void 0===e?void 0:e.invites)?e.invites:[],[null===e||void 0===e?void 0:e.invites]),k=(0,i.useMemo)(()=>Array.isArray(null===e||void 0===e?void 0:e.memberships)?e.memberships:[],[null===e||void 0===e?void 0:e.memberships]),_="admin"===t,S=e=>"admin"===e?"Admin":"finance"===e||"financial_officer"===e?"Finance":"Viewer";return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Accounts"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Invite accounts and manage access for your organization."})]})}),_&&(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Invite accounts"})}),(0,Re.jsxs)(HK,{children:[(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!c)return;p(!0);const t=await n(c,d);p(!1),null!==t&&void 0!==t&&t.success?(g(t.link||""),u("")):alert((null===t||void 0===t?void 0:t.error)||"Failed to send invite")},className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Re.jsxs)("div",{className:"md:col-span-2",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Email"}),(0,Re.jsx)("input",{type:"email",value:c,onChange:e=>u(e.target.value),required:!0,className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",placeholder:"person@example.com"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Role"}),(0,Re.jsxs)("select",{value:d,onChange:e=>h(e.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-sky-600 dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[(0,Re.jsx)("option",{value:"admin",children:"Admin"}),(0,Re.jsx)("option",{value:"financial_officer",children:"Finance"}),(0,Re.jsx)("option",{value:"viewer",children:"Viewer"})]})]}),(0,Re.jsx)("div",{className:"md:self-end",children:(0,Re.jsx)("button",{type:"submit",disabled:f,className:"inline-flex items-center px-4 py-2 rounded-md text-white bg-sky-700 hover:bg-sky-800 disabled:opacity-50 shadow-sm",children:f?"Sending\u2026":"Send invite"})})]}),m&&(0,Re.jsxs)("div",{className:"mt-3 text-sm",children:[(0,Re.jsx)("span",{className:"text-slate-500 dark:text-slate-400",children:"Share invite link:"})," ",(0,Re.jsx)("a",{href:m,className:"text-sky-600 underline",target:"_blank",rel:"noreferrer",children:m})]})]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Pending invites"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Email"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Role"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[w.map(e=>(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:e.email}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-500 dark:text-slate-300",children:S(e.role)}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:_?(0,Re.jsx)("button",{onClick:()=>(async e=>{const t=await r(e);null!==t&&void 0!==t&&t.success||alert((null===t||void 0===t?void 0:t.error)||"Failed to revoke invite")})(e.id),className:"px-3 py-1 rounded-md bg-rose-600 hover:bg-rose-700 text-white text-sm shadow-sm",children:"Revoke"}):(0,Re.jsx)("span",{className:"text-slate-400",children:"\u2014"})})]},e.id)),0===w.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:3,children:"No pending invites."})})]})]})})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Accounts"})}),(0,Re.jsx)(HK,{className:"pt-0",children:(0,Re.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-800",children:[(0,Re.jsx)("thead",{children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"User"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Role"}),(0,Re.jsx)("th",{className:"px-3 py-2 text-left text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Actions"})]})}),(0,Re.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-800",children:[k.map(e=>(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("td",{className:"px-3 py-2 text-sm text-gray-700 dark:text-slate-200",children:e.email||e.userId}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:_?(0,Re.jsxs)("select",{value:"finance"===e.role?"financial_officer":e.role,onChange:t=>(async(e,t)=>{if(!_)return;if(e===(null===l||void 0===l?void 0:l.id)&&"admin"!==t)return void alert("You cannot change your own admin role. Ask another admin to modify your role.");const n=await a(e,t);null!==n&&void 0!==n&&n.success||alert((null===n||void 0===n?void 0:n.error)||"Failed to update role")})(e.userId,t.target.value),className:"border border-gray-200 rounded px-2 py-1 bg-white dark:bg-slate-800 dark:text-slate-100 dark:border-slate-700",children:[(0,Re.jsx)("option",{value:"admin",children:"Admin"}),(0,Re.jsx)("option",{value:"financial_officer",children:"Finance"}),(0,Re.jsx)("option",{value:"viewer",children:"Viewer"})]}):(0,Re.jsx)("span",{className:"text-gray-500 dark:text-slate-300",children:S(e.role)})}),(0,Re.jsx)("td",{className:"px-3 py-2 text-sm",children:_&&(0,Re.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Re.jsx)("button",{onClick:()=>{b(e.userId),y(!0)},className:"px-2 py-1 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-sm",children:"History"}),e.userId!==(null===l||void 0===l?void 0:l.id)?(0,Re.jsx)("button",{onClick:()=>(async e=>{if(!_)return;if(!window.confirm("Remove this member from the organization?"))return;const t=await o(e);null!==t&&void 0!==t&&t.success||alert((null===t||void 0===t?void 0:t.error)||"Failed to remove member")})(e.userId),className:"px-3 py-1 rounded-md bg-rose-600 hover:bg-rose-700 text-white text-sm shadow-sm",children:"Remove"}):(0,Re.jsx)("span",{className:"text-slate-400",children:"\u2014"})]})})]},e.userId)),0===k.length&&(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400",colSpan:3,children:"No members yet."})})]})]})})})]})]}),v&&(0,Re.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>y(!1)}),(0,Re.jsxs)("div",{className:"relative w-full max-w-2xl bg-white/95 backdrop-blur rounded-2xl border border-slate-200 shadow-xl p-6 dark:bg-slate-900/90 dark:border-slate-700 dark:text-slate-100",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold",children:"Role history"}),(0,Re.jsx)("div",{className:"mt-4",children:Array.isArray(null===e||void 0===e?void 0:e.roleHistory)?(0,Re.jsxs)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[e.roleHistory.filter(e=>e.userId===x).map(e=>(0,Re.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md ring-1 ring-gray-100 bg-white dark:ring-slate-700 dark:bg-slate-800/80",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsxs)("div",{className:"text-sm",children:[(0,Re.jsx)("strong",{children:e.previousRole||"none"})," \u2192 ",(0,Re.jsx)("strong",{children:e.newRole})]}),(0,Re.jsxs)("div",{className:"text-xs text-slate-500",children:["Changed by: ",e.byEmail||e.by," \u2014 ",new Date(e.at).toLocaleString()]})]}),(0,Re.jsx)("div",{children:(0,Re.jsx)("button",{onClick:async()=>{const t=await s(x,e.id);null!==t&&void 0!==t&&t.success?(alert("Role restored"),y(!1)):alert((null===t||void 0===t?void 0:t.error)||"Failed to restore role")},className:"px-3 py-1 rounded-md bg-sky-700 hover:bg-sky-800 text-white text-sm",children:"Restore"})})]},e.id)),0===e.roleHistory.filter(e=>e.userId===x).length&&(0,Re.jsx)("div",{className:"text-sm text-slate-500",children:"No role history for this user."})]}):(0,Re.jsx)("div",{className:"text-sm text-slate-500",children:"No role history available."})}),(0,Re.jsx)("div",{className:"mt-4 text-right",children:(0,Re.jsx)("button",{onClick:()=>y(!1),className:"px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600",children:"Close"})})]})]})]})}function A2(){const{orgId:e,token:t}=qt(),n=Ht(),{user:r,logout:a}=yl(),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)(e),x=e=>"string"===typeof e&&e.includes("@"),b=e=>"string"===typeof e&&/^[A-Za-z0-9_-]{8,}$/.test(e)&&e.length>8,w=(e,t)=>e&&"string"===typeof e&&!x(e)&&!b(e)&&e.trim().length?e:t&&"string"===typeof t&&!x(t)&&!b(t)&&t.trim().length?t:"Organization";(0,i.useEffect)(()=>{(async()=>{try{l(!0);let r=e;try{const e=(0,ol.H9)(fl,"invites",t),n=await(0,ol.getDoc)(e);if(n.exists()){r=n.data().orgId||r,y(r)}}catch(s5){}const i=(0,ol.H9)(fl,"orgs",r),a=await(0,ol.getDoc)(i);if(!a.exists()){try{const e=(0,ol.H9)(fl,"invites",t),n=await(0,ol.getDoc)(e);if(n.exists()){const e=n.data();return p(w(null===e||void 0===e?void 0:e.organization,r)),h(e),void l(!1)}}catch(l5){}return u("Organization not found"),void l(!1)}const s=a.data();p(w(null===s||void 0===s?void 0:s.name,r));const o=(Array.isArray(s.invites)?s.invites:[]).find(e=>e.token===t)||null;if(!o){try{const e=(0,ol.H9)(fl,"invites",t),n=await(0,ol.getDoc)(e);if(n.exists()){const e=n.data();return h(e),void l(!1)}}catch(n){}return u("Invalid or expired invite link"),void l(!1)}h(o)}catch(s5){const t="permission-denied"===(null===s5||void 0===s5?void 0:s5.code)||((null===s5||void 0===s5?void 0:s5.message)||"").toLowerCase().includes("permission")?"Please sign in with the invited email to view and accept this invite.":(null===s5||void 0===s5?void 0:s5.message)||"Failed to load invite";u(t)}finally{l(!1)}})()},[e,t,r]);return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Accept invitation"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Join the organization and start collaborating."})]})}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Invitation details"})}),(0,Re.jsxs)(HK,{children:[s&&(0,Re.jsx)("div",{className:"text-sm text-slate-600",children:"Loading\u2026"}),!s&&c&&(0,Re.jsx)("div",{className:"text-sm text-rose-600",children:c}),!s&&!c&&(d?(0,Re.jsxs)("div",{className:"space-y-3",children:[(0,Re.jsxs)("div",{className:"text-sm text-slate-700 dark:text-slate-200",children:["You're invited to join ",(0,Re.jsx)("span",{className:"font-medium",children:f})," as ",(0,Re.jsx)("span",{className:"font-semibold",children:(e=>"financial_officer"===e||"finance"===e?"Finance":"admin"===e?"Admin":"Viewer")(d.role)}),"."]}),!r&&(0,Re.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-slate-200 dark:bg-slate-900 dark:border-slate-700",children:[(0,Re.jsxs)("h3",{className:"text-xl font-semibold",children:["You're invited to join ",f||"this organization"]}),(0,Re.jsx)("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Create an account with the invited email to accept this invitation. You will be added to the existing organization and won't need to complete the organization setup."}),(null===d||void 0===d?void 0:d.email)&&(0,Re.jsxs)("div",{className:"mt-3 text-sm",children:["Invited email: ",(0,Re.jsx)("strong",{children:d.email})]}),(0,Re.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,Re.jsx)(Qn,{to:"/register?orgId=".concat(e,"&token=").concat(t).concat(null!==d&&void 0!==d&&d.email?"&email=".concat(encodeURIComponent(d.email)):"").concat(null!==d&&void 0!==d&&d.name?"&name=".concat(encodeURIComponent(d.name)):"","&redirect=").concat(encodeURIComponent("/invite/".concat(e,"/").concat(t))),className:"inline-block px-4 py-2 bg-sky-600 text-white rounded-md",children:"Create account"}),(0,Re.jsx)(Qn,{to:"/login?redirect=".concat(encodeURIComponent("/invite/".concat(e,"/").concat(t))),className:"inline-block px-4 py-2 bg-slate-100 rounded-md",children:"Already have an account? Sign in"}),(0,Re.jsx)("button",{onClick:()=>{var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(window.location.href)},className:"inline-block px-3 py-2 bg-slate-50 border rounded-md",children:"Copy link"})]}),(0,Re.jsx)("div",{className:"mt-3 text-xs text-slate-500",children:"If this invite was unexpected, contact the inviter or ignore this email."})]}),r&&(null===d||void 0===d?void 0:d.email)&&r.email&&d.email.toLowerCase()!==r.email.toLowerCase()&&(0,Re.jsxs)("div",{className:"space-y-2",children:[(0,Re.jsxs)("div",{className:"text-sm text-slate-600",children:["You're signed in as ",(0,Re.jsx)("strong",{children:r.email}),", but this invite was sent to ",(0,Re.jsx)("strong",{children:d.email}),"."]}),(0,Re.jsxs)("div",{className:"flex gap-2",children:[(0,Re.jsx)("button",{onClick:async()=>{try{await a(),n("/register?orgId=".concat(e,"&token=").concat(t).concat(null!==d&&void 0!==d&&d.email?"&email=".concat(encodeURIComponent(d.email)):"").concat(null!==d&&void 0!==d&&d.name?"&name=".concat(encodeURIComponent(d.name)):"","&redirect=").concat(encodeURIComponent("/app/funders/portal/me")))}catch(s5){u("Failed to sign out.")}},className:"px-4 py-2 rounded-md bg-rose-600 hover:bg-rose-700 text-white text-sm shadow-sm",children:"Sign out and sign in as invited user"}),(0,Re.jsx)(Qn,{to:"/login",className:"px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-sm",children:"Switch account"})]})]}),r&&(!(null!==d&&void 0!==d&&d.email)||d.email.toLowerCase()===(r.email||"").toLowerCase())&&!m&&(0,Re.jsx)("button",{onClick:async()=>{if(r)if(null!==d&&void 0!==d&&d.email&&r.email&&d.email.toLowerCase()!==r.email.toLowerCase())u("You must be signed in as the invited email to accept this invitation. Please sign out and sign in with the invited email.");else try{l(!0);const i=(0,ol.H9)(fl,"orgs",v);let a=await(0,ol.getDoc)(i),s=a.exists()&&a.data()||{};if(!a.exists()){const e={name:w(null===d||void 0===d?void 0:d.organization,v),createdAt:(new Date).toISOString(),members:[],memberships:[],invites:d?[d]:[]};await(0,ol.BN)(i,e),a=await(0,ol.getDoc)(i),s=a.exists()?a.data()||{}:e}const c=Array.isArray(s.invites)?s.invites:[],u=c.find(e=>e.token===t)||d;if(!u)throw new Error("Invalid or expired invite");const h=Array.isArray(s.memberships)?s.memberships:[],p=h.some(e=>e.userId===r.id),m="finance"===u.role?"financial_officer":u.role||"viewer",y={userId:r.id,email:r.email||"",role:m,addedAt:(new Date).toISOString()},x=p?h.map(e=>e.userId===r.id?(0,o.A)((0,o.A)({},e),{},{role:m||e.role}):e):[...h,y],b=Array.isArray(s.members)?p?s.members:Array.from(new Set([...s.members||[],r.id])):[r.id],k=c.filter(e=>e.token!==t);try{const a={id:(null===r||void 0===r?void 0:r.id)||"funder-".concat(Date.now()),name:(null===d||void 0===d?void 0:d.name)||(null===r||void 0===r?void 0:r.displayName)||((null===r||void 0===r?void 0:r.email)||"").split("@")[0]||"Funder",email:(null===r||void 0===r?void 0:r.email)||(null===d||void 0===d?void 0:d.email)||"",status:"active",createdAt:(new Date).toISOString()},o=[...(Array.isArray(s.funders)?s.funders:[]).filter(e=>e&&e.id!==a.id),a];await(0,ol.mZ)(i,{memberships:x,members:b,invites:k,funders:o});try{await(0,ol.kd)((0,ol.H9)(fl,"invites",t))}catch(s5){}try{const e="".concat(window.location.origin,"/app/funders/portal/").concat(a.id),t="".concat(f,": your funder portal is ready"),n={to:[a.email||(null===d||void 0===d?void 0:d.email)].filter(Boolean),message:{subject:t,text:"Your funder portal is ready. Open: ".concat(e),html:'<div style="font-family: system-ui, -apple-system, \'Segoe UI\', Roboto, Helvetica, Arial, sans-serif;">\n                <h3 style="color:#0f172a">Welcome to '.concat(f,'</h3>\n                <p>Your funder portal has been created. Click the button below to open your portal and view contributions, projects, and invoices.</p>\n                <p style="margin:18px 0"><a href="').concat(e,'" style="background:#0ea5e9;color:#fff;padding:10px 14px;border-radius:8px;text-decoration:none;">Open your funder portal</a></p>\n                <p style="font-size:13px;color:#6b7280">If the button doesn\'t work, copy and paste this link into your browser: <br/><a href="').concat(e,'" style="color:#0ea5e9">').concat(e,"</a></p>\n              </div>")}};(n.to||[]).length&&await(0,ol.gS)((0,ol.rJ)(fl,"mail"),n)}catch(e){console.warn("Failed to enqueue funder portal email",e)}return g(!0),void setTimeout(()=>n("/app/funders/portal/".concat(a.id)),800)}catch(s5){try{await(0,ol.mZ)(i,{memberships:x,members:b,invites:k});try{await(0,ol.kd)((0,ol.H9)(fl,"invites",t))}catch(Xm){}}catch(Xm){console.error("Failed to finalize invite acceptance",Xm)}return g(!0),void setTimeout(()=>n("/app/dashboard/overview"),1200)}}catch(s5){u((null===s5||void 0===s5?void 0:s5.message)||"Failed to accept invite")}finally{l(!1)}},className:"px-4 py-2 rounded-md bg-sky-700 hover:bg-sky-800 text-white text-sm shadow-sm",children:"Accept invite"}),m&&(0,Re.jsx)("div",{className:"text-sm text-emerald-700",children:"Invitation accepted! Redirecting\u2026"})]}):(0,Re.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-slate-200 dark:bg-slate-900 dark:border-slate-700",children:[(0,Re.jsx)("h3",{className:"text-xl font-semibold",children:"Invitation"}),(0,Re.jsx)("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"We could not load the full invite details, but you can still create an account or sign in to accept your invitation."}),(0,Re.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,Re.jsx)(Qn,{to:"/register?orgId=".concat(e,"&token=").concat(t,"&redirect=").concat(encodeURIComponent("/invite/".concat(e,"/").concat(t))),className:"inline-block px-4 py-2 bg-sky-600 text-white rounded-md",children:"Create account"}),(0,Re.jsx)(Qn,{to:"/login?redirect=".concat(encodeURIComponent("/invite/".concat(e,"/").concat(t))),className:"inline-block px-4 py-2 bg-slate-100 rounded-md",children:"Already have an account? Sign in"}),(0,Re.jsx)("button",{onClick:()=>{var e;null===(e=navigator.clipboard)||void 0===e||e.writeText(window.location.href)},className:"inline-block px-3 py-2 bg-slate-50 border rounded-md",children:"Copy link"})]})]}))]})]})]})}function E2(){var e;const{user:t,updateUser:n}=yl(),{orgs:r,activeOrg:a,switchOrg:s}=wl(),{isDark:l,toggleTheme:c}=Sl(),[u,d]=(0,i.useState)({name:(null===t||void 0===t?void 0:t.name)||"",email:(null===t||void 0===t?void 0:t.email)||""}),[h,f]=(0,i.useState)({currency:(null===t||void 0===t||null===(e=t.orgSettings)||void 0===e?void 0:e.currency)||"USD"}),[p,m]=(0,i.useState)(!1);return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsx)("div",{className:"flex items-center justify-between",children:(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 dark:text-slate-100",children:"Settings"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Manage your profile, organization settings and preferences."})]})}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Profile"})}),(0,Re.jsxs)(HK,{children:[(0,Re.jsx)(VK,{label:"Name",id:"settings-name",value:u.name,onChange:e=>d((0,o.A)((0,o.A)({},u),{},{name:e.target.value}))}),(0,Re.jsx)(VK,{label:"Email",id:"settings-email",value:u.email,disabled:!0}),(0,Re.jsx)("div",{className:"flex items-center justify-end",children:(0,Re.jsx)("button",{onClick:async()=>{m(!0);try{await n({name:u.name}),alert("Profile saved")}catch(s5){console.error(s5),alert("Failed to save profile")}finally{m(!1)}},disabled:p,className:"px-4 py-2 rounded-md bg-sky-700 text-white",children:p?"Saving...":"Save"})})]})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Organization"})}),(0,Re.jsxs)(HK,{children:[(0,Re.jsxs)("div",{className:"mb-4",children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Active organization"}),(0,Re.jsx)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white dark:bg-slate-800 dark:text-slate-100",value:(null===a||void 0===a?void 0:a.id)||"",onChange:e=>s(e.target.value),children:r&&r.map(e=>(0,Re.jsx)("option",{value:e.id,children:e.name||e.id},e.id))})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-slate-300",children:"Currency"}),(0,Re.jsxs)("select",{className:"w-full border border-gray-200 rounded-lg px-3 py-2 bg-white dark:bg-slate-800 dark:text-slate-100",value:h.currency,onChange:e=>f((0,o.A)((0,o.A)({},h),{},{currency:e.target.value})),children:[(0,Re.jsx)("option",{value:"USD",children:"USD ($)"}),(0,Re.jsx)("option",{value:"EUR",children:"EUR (\u20ac)"}),(0,Re.jsx)("option",{value:"GBP",children:"GBP (\xa3)"}),(0,Re.jsx)("option",{value:"KES",children:"KES (KSh)"}),(0,Re.jsx)("option",{value:"NGN",children:"NGN (\u20a6)"})]})]}),(0,Re.jsx)("div",{className:"mt-4 flex items-center justify-end",children:(0,Re.jsx)("button",{onClick:async()=>{m(!0);try{await n({orgSettings:h}),alert("Organization settings updated")}catch(s5){console.error(s5),alert("Failed to save organization settings")}finally{m(!1)}},disabled:p,className:"px-4 py-2 rounded-md bg-sky-700 text-white",children:p?"Saving...":"Save"})})]})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Preferences"})}),(0,Re.jsx)(HK,{children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-slate-100",children:"Theme"}),(0,Re.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Choose light or dark appearance"})]}),(0,Re.jsx)("div",{children:(0,Re.jsx)("button",{onClick:c,className:"px-3 py-2 rounded-md bg-white border border-gray-200 dark:bg-slate-800 dark:text-slate-100",children:l?"Switch to light":"Switch to dark"})})]})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Security"})}),(0,Re.jsx)(HK,{children:(0,Re.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Manage authentication settings from your identity provider (password reset, 2FA). For password reset, use the forgot password flow on the login page."})})]})]})]})}b2.displayName="Input";const j2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C2=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},N2=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var P2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const T2=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],I2=(0,i.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:u}=e,d=ze(e,T2);return(0,i.createElement)("svg",(0,o.A)((0,o.A)((0,o.A)({ref:t},P2),{},{width:r,height:r,stroke:n,strokeWidth:s?24*Number(a)/Number(r):a,className:N2("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...u.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(c)?c:[c]])}),O2=["className"],M2=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{className:a}=n,s=ze(n,O2);return(0,i.createElement)(I2,(0,o.A)({ref:r,iconNode:t,className:N2("lucide-".concat(j2(C2(e))),"lucide-".concat(e),a)},s))});return n.displayName=C2(e),n},D2=M2("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),R2=M2("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),L2=M2("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),F2=M2("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),z2=M2("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),V2=M2("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),B2=M2("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),U2=M2("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),W2=M2("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),H2=M2("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),K2=M2("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);function q2(){const{id:e}=qt(),t=Ht(),n=Bt(),{byFunder:r,funders:a,projects:s,inviteFunder:l,incomes:c}=Ol(),{currency:u}=wl(),{user:d}=yl(),h=new URLSearchParams(n.search),f=h.get("orgId"),p=h.get("token"),m=h.get("email"),g=h.get("name");let v="/app/funders/portal/me";const y=new URLSearchParams;f&&y.set("orgId",f),p&&y.set("token",p),[...y].length&&(v+="?".concat(y.toString()));const x="/register?redirect=".concat(encodeURIComponent(v)).concat(f?"&orgId=".concat(encodeURIComponent(f)):"").concat(p?"&token=".concat(encodeURIComponent(p)):"").concat(m?"&email=".concat(encodeURIComponent(m)):"").concat(g?"&name=".concat(encodeURIComponent(g)):""),b="/login?redirect=".concat(encodeURIComponent(v)),[w,k]=(0,i.useState)(!1),[_,S]=(0,i.useState)(""),[A,E]=(0,i.useState)("all"),[j,C]=(0,i.useState)(1),[N,P]=(0,i.useState)(null),T=[{label:"Total Funders",value:a.length,icon:(0,Re.jsx)(D2,{className:"h-5 w-5 text-blue-500"})},{label:"Active Funders",value:a.filter(e=>"active"===e.status).length,icon:(0,Re.jsx)(R2,{className:"h-5 w-5 text-green-500"})},{label:"Linked Projects",value:new Set(s.map(e=>e.funderId)).size,icon:(0,Re.jsx)(L2,{className:"h-5 w-5 text-purple-500"})},{label:"Pending Invites",value:0,icon:(0,Re.jsx)(F2,{className:"h-5 w-5 text-amber-500"})}],[I,O]=(0,i.useState)({name:"",email:"",projectId:"",role:"viewer",message:""}),M=e=>{const{name:t,value:n}=e.target;O(e=>(0,o.A)((0,o.A)({},e),{},{[t]:n}))},D=(0,i.useMemo)(()=>{const e=_.toLowerCase();return a.filter(t=>{const n=(t.name||"").toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e),r="all"===A||(t.status||"pending")===A;return n&&r})},[a,_,A]),R=D.length,L=Math.max(1,Math.ceil(R/10)),F=(0,i.useMemo)(()=>{const e=10*(j-1);return D.slice(e,e+10)},[D,j]);if(e){var z,V,B;let n;if("me"===e){if(n=a.find(e=>e.id===(null===d||void 0===d?void 0:d.id))||a.find(e=>(e.email||"").toLowerCase()===((null===d||void 0===d?void 0:d.email)||"").toLowerCase()),!d)return(0,Re.jsxs)("div",{className:"p-6",children:[(0,Re.jsx)("h3",{className:"text-lg font-medium",children:"Please sign in to view your funder portal"}),(0,Re.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in or create an account to access your portal and join your organization's funder portal."}),(0,Re.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,Re.jsx)(GK,{onClick:()=>t(b),children:"Sign in"}),(0,Re.jsx)(GK,{variant:"outline",onClick:()=>t(x),children:"Create account"})]})]})}else n=a.find(t=>t.id===e);return n?(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Funder Details"}),(0,Re.jsxs)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["View and manage ",n.name,"'s information"]})]}),(0,Re.jsx)(GK,{onClick:()=>t("/app/funders/portal"),variant:"outline",children:"Back to Funders"})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Re.jsx)("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold",children:n.name.charAt(0).toUpperCase()}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.name}),(0,Re.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.email}),(0,Re.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1 ".concat("active"===n.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"),children:n.status})]})]}),(0,Re.jsxs)("div",{className:"flex space-x-2",children:[(0,Re.jsxs)(GK,{variant:"outline",children:[(0,Re.jsx)(z2,{className:"h-4 w-4 mr-2"}),"Message"]}),(0,Re.jsxs)(GK,{children:[(0,Re.jsx)(V2,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})}),(0,Re.jsxs)(HK,{children:[(0,Re.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,Re.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Re.jsx)("button",{className:"border-b-2 border-indigo-500 text-indigo-600 dark:text-indigo-400 dark:border-indigo-400 whitespace-nowrap py-4 px-1 text-sm font-medium",children:"Overview"}),(0,Re.jsx)("button",{className:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",children:"Transactions"}),(0,Re.jsx)("button",{className:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",children:"Reports"})]})}),(0,Re.jsxs)("div",{className:"mt-6",children:[(0,Re.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Funder Information"}),(0,Re.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:(0,Re.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:n.email||"Not provided"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-gray-900 dark:text-white capitalize",children:n.status||"N/A"})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Joined Date"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date((null===(z=n.createdAt)||void 0===z||null===(V=z.toDate)||void 0===V?void 0:V.call(z))||new Date).toLocaleDateString()})]}),(0,Re.jsxs)("div",{children:[(0,Re.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Contributed"}),(0,Re.jsx)("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:Al((null===(B=r.find(e=>e.funder.id===n.id))||void 0===B?void 0:B.income)||0,u)})]})]})})]})]})]})]}):(0,Re.jsx)("div",{children:"Funder not found"})}return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-white",children:"Funders Portal"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage and monitor your organization\u2019s funders. Invite new funders and view their contribution activity."})]}),(0,Re.jsxs)(GK,{onClick:()=>k(!w),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[(0,Re.jsx)(B2,{className:"h-4 w-4 mr-2"}),"Invite Funder"]})]}),(0,Re.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:T.map(e=>(0,Re.jsx)(BK,{className:"hover:shadow-lg transition-shadow duration-200 hover:-translate-y-1",children:(0,Re.jsx)(HK,{className:"p-6",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800",children:e.icon}),(0,Re.jsxs)("div",{className:"ml-4",children:[(0,Re.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e.label}),(0,Re.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:e.value})]})]})})},e.label))}),w&&(0,Re.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Re.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>k(!1)}),(0,Re.jsxs)("div",{className:"relative w-full max-w-2xl bg-white/95 backdrop-blur rounded-2xl border border-slate-200 shadow-xl p-6 dark:bg-slate-900/90 dark:border-slate-700 dark:text-slate-100",children:[(0,Re.jsxs)("div",{className:"mb-4",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Invite New Funder"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Send an invitation to a new funder to join your organization."})]}),(0,Re.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!I.name.trim()||!I.email.trim())return P({type:"error",text:"Name and email are required"}),void setTimeout(()=>P(null),2500);if(a.some(e=>(e.email||"").toLowerCase()===I.email.trim().toLowerCase()))return P({type:"warning",text:"Email already invited"}),void setTimeout(()=>P(null),2500);try{await l({name:I.name.trim(),email:I.email.trim(),projectId:I.projectId||null,role:I.role||"funder",message:I.message||""});P({type:"success",text:"Invite sent to ".concat(I.email)}),setTimeout(()=>P(null),2500),k(!1),O({name:"",email:"",projectId:"",role:"viewer",message:""})}catch(t){console.error("Invite failed",t),P({type:"error",text:(null===t||void 0===t?void 0:t.message)||"Failed to send invitation"}),setTimeout(()=>P(null),2500)}},className:"space-y-4",children:[(0,Re.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,Re.jsxs)("div",{className:"space-y-2",children:[(0,Re.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Funder Name ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)(b2,{id:"name",name:"name",type:"text",required:!0,value:I.name,onChange:M,placeholder:"John Doe"})]}),(0,Re.jsxs)("div",{className:"space-y-2",children:[(0,Re.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Email Address ",(0,Re.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Re.jsx)(b2,{id:"email",name:"email",type:"email",required:!0,value:I.email,onChange:M,placeholder:"john@example.com"})]}),(0,Re.jsxs)("div",{className:"space-y-2",children:[(0,Re.jsx)("label",{htmlFor:"projectId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Assign Project"}),(0,Re.jsxs)("select",{id:"projectId",name:"projectId",value:I.projectId,onChange:M,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[(0,Re.jsx)("option",{value:"",children:"Select a project (optional)"}),s.map(e=>(0,Re.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Re.jsxs)("div",{className:"space-y-2",children:[(0,Re.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),(0,Re.jsxs)("select",{id:"role",name:"role",value:I.role,onChange:M,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[(0,Re.jsx)("option",{value:"viewer",children:"Viewer"}),(0,Re.jsx)("option",{value:"contributor",children:"Contributor"})]})]}),(0,Re.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,Re.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Custom Message (optional)"}),(0,Re.jsx)("textarea",{id:"message",name:"message",rows:3,value:I.message,onChange:M,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white",placeholder:"Add a personal message to include in the invitation email."})]})]}),(0,Re.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-2",children:[(0,Re.jsx)(GK,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancel"}),(0,Re.jsxs)(GK,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,Re.jsx)(U2,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]})]})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Re.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[(0,Re.jsxs)("div",{className:"relative w-full md:max-w-xs",children:[(0,Re.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,Re.jsx)(W2,{className:"h-4 w-4 text-gray-400"})}),(0,Re.jsx)(b2,{type:"text",placeholder:"Search funders...",className:"pl-10",value:_,onChange:e=>S(e.target.value)})]}),(0,Re.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Re.jsxs)("select",{value:A,onChange:e=>{C(1),E(e.target.value)},className:"rounded-md border-gray-300 text-sm dark:bg-gray-800 dark:border-gray-700 dark:text-white",children:[(0,Re.jsx)("option",{value:"all",children:"All statuses"}),(0,Re.jsx)("option",{value:"active",children:"Active"}),(0,Re.jsx)("option",{value:"pending",children:"Pending"}),(0,Re.jsx)("option",{value:"suspended",children:"Suspended"})]}),(0,Re.jsxs)(GK,{variant:"outline",size:"sm",children:[(0,Re.jsx)(V2,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),(0,Re.jsx)("div",{className:"overflow-x-auto",children:(0,Re.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Re.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,Re.jsxs)("tr",{children:[(0,Re.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Re.jsx)("span",{children:"Funder"}),(0,Re.jsx)(H2,{className:"h-3.5 w-3.5 text-gray-400"})]})}),(0,Re.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),(0,Re.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Organization"}),(0,Re.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Projects"}),(0,Re.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:(0,Re.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Re.jsx)("span",{children:"Total Funded"}),(0,Re.jsx)(H2,{className:"h-3.5 w-3.5 text-gray-400"})]})}),(0,Re.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,Re.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Activity"}),(0,Re.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,Re.jsx)("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800",children:F.length>0?F.map(e=>{var n;return(0,Re.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,Re.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Re.jsxs)("div",{className:"flex items-center",children:[(0,Re.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-medium flex-shrink-0",children:e.name?e.name.charAt(0).toUpperCase():"F"}),(0,Re.jsx)("div",{className:"ml-4",children:(0,Re.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})})]})}),(0,Re.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email||"N/A"})}),(0,Re.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.organization||"\u2014"})}),(0,Re.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.filter(t=>t.funderId===e.id).length})}),(0,Re.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Re.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Al((null===(n=r.find(t=>t.funder.id===e.id))||void 0===n?void 0:n.income)||0,u)})}),(0,Re.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Re.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"),children:e.status||"pending"})}),(0,Re.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Re.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:(()=>{try{const t=(c||[]).filter(t=>{const n=s.find(e=>e.id===t.projectId);return(t.walletId||(n?n.funderId:null))===e.id}).map(e=>new Date(e.date).getTime());return t.length?new Date(Math.max(...t)).toLocaleDateString():"\u2014"}catch(l5){return"\u2014"}})()})}),(0,Re.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Re.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Re.jsx)(GK,{variant:"ghost",size:"sm",onClick:()=>t("/app/funders/portal/".concat(e.id)),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",children:"View"}),(0,Re.jsx)(GK,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,Re.jsx)(z2,{className:"h-4 w-4"})}),(0,Re.jsx)(GK,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,Re.jsx)(K2,{className:"h-4 w-4"})})]})})]},e.id)}):(0,Re.jsx)("tr",{children:(0,Re.jsx)("td",{colSpan:"6",className:"px-6 py-8 text-center",children:(0,Re.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,Re.jsx)(D2,{className:"h-12 w-12 text-gray-300 dark:text-gray-600"}),(0,Re.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"No funders found"}),(0,Re.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Get started by inviting a new funder."}),(0,Re.jsxs)(GK,{onClick:()=>k(!0),className:"mt-2",children:[(0,Re.jsx)(B2,{className:"h-4 w-4 mr-2"}),"Invite Funder"]})]})})})})]})}),R>0&&(0,Re.jsxs)("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700",children:[(0,Re.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",(0,Re.jsx)("span",{className:"font-medium",children:10*(j-1)+1})," to ",(0,Re.jsx)("span",{className:"font-medium",children:Math.min(10*j,R)})," of"," ",(0,Re.jsx)("span",{className:"font-medium",children:R})," results"]}),(0,Re.jsxs)("div",{className:"flex space-x-2",children:[(0,Re.jsx)(GK,{variant:"outline",size:"sm",disabled:j<=1,onClick:()=>C(e=>Math.max(1,e-1)),children:"Previous"}),(0,Re.jsx)(GK,{variant:"outline",size:"sm",disabled:j>=L,onClick:()=>C(e=>Math.min(L,e+1)),children:"Next"})]})]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Funders by Status"})}),(0,Re.jsx)(HK,{style:{height:240},children:(0,Re.jsx)(Tu,{width:"100%",height:"100%",children:(0,Re.jsxs)(RH,{children:[(0,Re.jsx)(kK,{dataKey:"value",data:[{name:"Active",value:a.filter(e=>"active"===(e.status||"pending")).length,color:"#10B981"},{name:"Pending",value:a.filter(e=>"pending"===(e.status||"pending")).length,color:"#F59E0B"},{name:"Suspended",value:a.filter(e=>"suspended"===(e.status||"pending")).length,color:"#EF4444"}],cx:"50%",cy:"50%",outerRadius:70,label:!0,children:null}),(0,Re.jsx)(AP,{})]})})})]}),(0,Re.jsxs)(BK,{children:[(0,Re.jsx)(UK,{children:(0,Re.jsx)(WK,{children:"Monthly Funds Received"})}),(0,Re.jsx)(HK,{style:{height:240},children:(0,Re.jsx)(Tu,{width:"100%",height:"100%",children:(0,Re.jsxs)(vB,{data:(c||[]).filter(e=>"posted"===e.status).reduce((e,t)=>{const n=new Date(t.date),r="".concat(n.getFullYear(),"-").concat(n.getMonth()+1),i=n.toLocaleString(void 0,{month:"short",year:"2-digit"}),a=e.find(e=>e.k===r);return a?a.amount+=t.amount:e.push({k:r,label:i,amount:t.amount}),e},[]).sort((e,t)=>e.k.localeCompare(t.k)),children:[(0,Re.jsx)(xU,{dataKey:"label"}),(0,Re.jsx)(TU,{}),(0,Re.jsx)(AP,{}),(0,Re.jsx)(SH,{dataKey:"amount",fill:"#14B8A6"})]})})})]})]}),N&&(0,Re.jsx)("div",{className:"fixed right-4 bottom-4 z-50 px-4 py-3 rounded-lg shadow-lg text-white ".concat("success"===N.type?"bg-emerald-600":"warning"===N.type?"bg-amber-600":"bg-rose-600"),children:N.text})]})}const G2=["title","titleId"];function Y2(e,t){let{title:n,titleId:r}=e,a=ze(e,G2);return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const Q2=i.forwardRef(Y2),X2=()=>{var e;const[t,n]=(0,i.useState)("6M"),{currency:r}=wl(),{stats:a=[],fundingRows:s={rows:[]},byFunder:o=[],byProject:l=[],seriesMap:c={}}=Ol();return(0,Re.jsxs)("div",{className:"space-y-6",children:[(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsxs)("div",{children:[(0,Re.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight dark:text-slate-100",children:"Admin Dashboard"}),(0,Re.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Comprehensive overview of your organization's financial health and donor relationships."})]}),(0,Re.jsx)("div",{className:"flex items-center gap-3",children:(0,Re.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"px-3 py-2 rounded-lg bg-white ring-1 ring-gray-200 text-sm focus:outline-none dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:[(0,Re.jsx)("option",{value:"1M",children:"Last Month"}),(0,Re.jsx)("option",{value:"3M",children:"Last 3 Months"}),(0,Re.jsx)("option",{value:"6M",children:"Last 6 Months"}),(0,Re.jsx)("option",{value:"1Y",children:"Last Year"})]})})]}),(0,Re.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:1,title:"Funding Gap Alert",description:"Project Alpha is 15% over budget. Consider reallocating from Project Beta.",type:"warning",impact:"high"},{id:2,title:"Donor Retention Opportunity",description:"Top donors show 23% engagement increase. Schedule follow-up calls.",type:"opportunity",impact:"medium"},{id:3,title:"Expense Optimization",description:"Administrative costs can be reduced by 8% through vendor negotiation.",type:"savings",impact:"low"}].map(e=>(0,Re.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-700 rounded-xl p-4 ring-1 ring-blue-100 dark:ring-slate-600",children:(0,Re.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Re.jsx)("div",{className:"flex-shrink-0",children:(0,Re.jsx)(Q2,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,Re.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Re.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100",children:e.title}),(0,Re.jsx)("p",{className:"text-sm text-gray-600 dark:text-slate-300 mt-1",children:e.description}),(0,Re.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,Re.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ".concat("high"===e.impact?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"medium"===e.impact?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"),children:[e.impact," impact"]})})]})]})},e.id))}),(0,Re.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 min-w-0",children:a.map(e=>(0,Re.jsx)(FO,{title:e.name,value:e.value,rawValue:e.raw,variant:e.variant,series:c[e.name]},e.name))}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-3 min-w-0",children:[(0,Re.jsx)("div",{className:"lg:col-span-2 min-w-0",children:mB?(0,Re.jsx)(mB,{}):(0,Re.jsx)("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-slate-700",children:"FundsChart component"})}),(0,Re.jsxs)("div",{className:"space-y-4",children:[(0,Re.jsxs)("div",{className:"rounded-xl bg-white dark:bg-slate-800 p-4 ring-1 ring-gray-200 dark:ring-slate-700",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100 mb-3",children:"Quick Actions"}),(0,Re.jsxs)("div",{className:"space-y-2",children:[(0,Re.jsxs)(Qn,{to:"/app/income",className:"flex items-center gap-3 p-3 rounded-lg bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[(0,Re.jsx)(tu,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),(0,Re.jsx)("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Add Income"})]}),(0,Re.jsxs)(Qn,{to:"/app/expenses",className:"flex items-center gap-3 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[(0,Re.jsx)(Yl,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),(0,Re.jsx)("span",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Add Expense"})]}),(0,Re.jsxs)(Qn,{to:"/app/funders",className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[(0,Re.jsx)(ec,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),(0,Re.jsx)("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Manage Donors"})]})]})]}),(0,Re.jsxs)("div",{className:"rounded-xl bg-white dark:bg-slate-800 p-4 ring-1 ring-gray-200 dark:ring-slate-700",children:[(0,Re.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100 mb-3",children:"Funding Overview"}),(0,Re.jsx)("div",{className:"space-y-3",children:null===(e=s.rows)||void 0===e?void 0:e.slice(0,3).map(e=>(0,Re.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Re.jsx)("div",{className:"flex-1 min-w-0",children:(0,Re.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-slate-100 truncate",children:e.funder.name})}),(0,Re.jsx)("div",{className:"text-sm font-semibold text-gray-700 dark:text-slate-200",children:Al(e.available||0,r)})]},e.funder.id))})]})]})]}),(0,Re.jsxs)("div",{className:"grid grid-cols-1 gap-5 lg:grid-cols-3 mt-6 min-w-0",children:[(0,Re.jsx)("div",{className:"lg:col-span-2 min-w-0",children:CH?(0,Re.jsx)(CH,{timeRange:t,compact:!0}):(0,Re.jsx)("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-slate-700",children:"ProjectExpensesStackedBar component"})}),(0,Re.jsx)("div",{children:CK?(0,Re.jsx)(CK,{compact:!0}):(0,Re.jsx)("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-slate-700",children:"PieCharts component"})})]}),(0,Re.jsx)("div",{className:"mt-8",children:DK?(0,Re.jsx)(DK,{full:!0}):(0,Re.jsx)("div",{className:"p-4 rounded-xl bg-white dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-slate-700",children:"RecentActivities component"})})]})},$2=e=>{let{children:t}=e;const{user:n,loading:r}=yl();return r?(0,Re.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Re.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):n?t:(0,Re.jsx)(un,{to:"/login",replace:!0})},J2=e=>{let{children:t}=e;const{user:n}=yl();return n?(0,Re.jsx)(un,{to:"/app/dashboard/overview",replace:!0}):t},Z2=e=>{let{children:t}=e;return t},e5=e=>{let{children:t}=e;const{user:n}=yl();return n&&!1===n.hasCompletedSetup?(0,Re.jsx)(un,{to:"/setup",replace:!0}):t},t5=e=>{let{children:t}=e;const{role:n}=wl();return"admin"!==n?(0,Re.jsx)(un,{to:"/app/dashboard/overview",replace:!0}):t};function n5(){const[e,t]=(0,i.useState)(!1),n=Ht();return(0,Re.jsxs)(Re.Fragment,{children:[e&&(0,Re.jsx)(_2,{onClose:()=>{t(!1),"/login"===window.location.pathname&&n(-1)}}),(0,Re.jsxs)(pn,{children:[(0,Re.jsx)(hn,{path:"/firebase-test",element:(0,Re.jsx)(i1,{})}),(0,Re.jsx)(hn,{path:"/",element:(0,Re.jsx)(J2,{children:(0,Re.jsxs)(Re.Fragment,{children:[(0,Re.jsx)(i1,{}),(0,Re.jsx)(V0,{})]})})}),(0,Re.jsx)(hn,{path:"/home",element:(0,Re.jsx)(un,{to:"/",replace:!0})}),(0,Re.jsx)(hn,{path:"/invite/:orgId/:token",element:(0,Re.jsx)(Z2,{children:(0,Re.jsx)(A2,{})})}),(0,Re.jsx)(hn,{path:"/login",element:(0,Re.jsx)(J2,{children:(0,Re.jsx)(YK,{})})}),(0,Re.jsx)(hn,{path:"/forgot",element:(0,Re.jsx)(J2,{children:(0,Re.jsx)(H0,{})})}),(0,Re.jsx)(hn,{path:"/register",element:(0,Re.jsx)(J2,{children:(0,Re.jsx)(B0,{})})}),(0,Re.jsx)(hn,{path:"/how",element:(0,Re.jsx)(J2,{children:(0,Re.jsx)(W0,{})})}),(0,Re.jsx)(hn,{path:"/pricing",element:(0,Re.jsx)(J2,{children:(0,Re.jsx)(U0,{})})}),(0,Re.jsx)(hn,{path:"/setup",element:(0,Re.jsx)($2,{children:(0,Re.jsx)(Q0,{})})}),(0,Re.jsxs)(hn,{path:"/app/*",element:(0,Re.jsx)($2,{children:(0,Re.jsx)(e5,{children:(0,Re.jsx)(Jc,{})})}),children:[(0,Re.jsx)(hn,{index:!0,element:(0,Re.jsx)(un,{to:"/app/dashboard/overview",replace:!0})}),(0,Re.jsx)(hn,{path:"dashboard/*",element:(0,Re.jsx)(LK,{})}),(0,Re.jsx)(hn,{path:"income",element:(0,Re.jsx)(e1,{})}),(0,Re.jsxs)(hn,{path:"funders",children:[(0,Re.jsx)(hn,{index:!0,element:(0,Re.jsx)(Z0,{})}),(0,Re.jsx)(hn,{path:"add",element:(0,Re.jsx)(k2,{})})]}),(0,Re.jsx)(hn,{path:"projects",element:(0,Re.jsx)(t1,{})}),(0,Re.jsx)(hn,{path:"expenses",element:(0,Re.jsx)(r1,{})}),(0,Re.jsx)(hn,{path:"approvals",element:(0,Re.jsx)(a1,{})}),(0,Re.jsx)(hn,{path:"accounts",element:(0,Re.jsx)(t5,{children:(0,Re.jsx)(S2,{})})}),(0,Re.jsx)(hn,{path:"members",element:(0,Re.jsx)(un,{to:"/app/accounts",replace:!0})}),(0,Re.jsx)(hn,{path:"audit",element:(0,Re.jsx)(s1,{})}),(0,Re.jsx)(hn,{path:"reports",element:(0,Re.jsx)(c1,{})}),(0,Re.jsx)(hn,{path:"reports/funder/:id",element:(0,Re.jsx)(u1,{})}),(0,Re.jsx)(hn,{path:"settings",element:(0,Re.jsx)(E2,{})}),(0,Re.jsx)(hn,{path:"donor-portal",element:(0,Re.jsx)(t5,{children:(0,Re.jsx)(X2,{})})}),(0,Re.jsx)(hn,{path:"funders/portal",element:(0,Re.jsx)(q2,{})}),(0,Re.jsx)(hn,{path:"funders/portal/:id",element:(0,Re.jsx)(q2,{})}),(0,Re.jsx)(hn,{path:"donor-portal/:id",element:(0,Re.jsx)(q2,{})}),(0,Re.jsx)(hn,{path:"*",element:(0,Re.jsx)(un,{to:"/app/dashboard/overview",replace:!0})})]})]})]})}const r5=function(){return(0,Re.jsx)(_l,{children:(0,Re.jsx)(Gn,{children:(0,Re.jsx)(vl,{children:(0,Re.jsx)(bl,{children:(0,Re.jsx)(Il,{children:(0,Re.jsx)(n5,{})})})})})})},i5=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)})},a5=new De({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});s.createRoot(document.getElementById("root")).render((0,Re.jsx)(i.StrictMode,{children:(0,Re.jsx)(Fe,{client:a5,children:(0,Re.jsx)(r5,{})})})),i5()})()})();
//# sourceMappingURL=main.40e6869a.js.map